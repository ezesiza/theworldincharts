<div class="compliance-dashboard">
    <div class="filter-controls">
        <div class="chart-type-selector">
            <label for="chartType">Chart Type:</label>
            <select id="chartType" [(ngModel)]="selectedChartType" (change)="onChartTypeChange()" class="filter-select">
                <option *ngFor="let type of chartTypes" [value]="type.value">
                    {{ type.label }}
                </option>
            </select>
        </div>

        <div class="filter-selector" *ngIf="selectedChartType === 'location'">
            <label for="countryFilter">Number of Countries to Display:</label>
            <select id="countryFilter" [(ngModel)]="selectedFilter" (change)="onFilterChange()" class="filter-select">
                <option *ngFor="let option of filterOptions" [value]="option.value">
                    {{ option.label }}
                </option>
            </select>
        </div>

        <div class="filter-selector" *ngIf="selectedChartType === 'diversity'">
            <label for="diversityFilter">Number of Advertisers to Display:</label>
            <select id="diversityFilter" [(ngModel)]="selectedDiversityFilter" (change)="onDiversityFilterChange()"
                class="filter-select">
                <option *ngFor="let option of diversityFilterOptions" [value]="option.value">
                    {{ option.label }}
                </option>
            </select>
        </div>
    </div>

    <div class="chart-container" #chartContainer *ngIf="selectedChartType === 'location'"></div>
    <div class="chart-container" #diversityChartContainer *ngIf="selectedChartType === 'diversity'"></div>
</div>



<div class="container">
    <div class="title">{{ title }}</div>
    <div class="subtitle">{{ subtitle }}</div>

    <!-- <div class="chart-container"> -->
    <div class="chart-container" #scatterChartContainer></div>
    <div #scatterTooltipContainer class="tooltip"></div>
    <!-- </div> -->

    <div class="controls">
        <button class="btn" (click)="resetZoom()">Reset Zoom</button>
    </div>

    <div class="info-panel">
        <div>Click and drag to select an area to zoom into.
            <span class="selected-count">{{ selectedCount }} advertiser{{ selectedCount !== 1 ? 's' : '' }}
                visible</span>
        </div>
    </div>
</div>