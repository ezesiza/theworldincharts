var GY=Object.create;var Kf=Object.defineProperty,YY=Object.defineProperties,ZY=Object.getOwnPropertyDescriptor,XY=Object.getOwnPropertyDescriptors,QY=Object.getOwnPropertyNames,GS=Object.getOwnPropertySymbols,KY=Object.getPrototypeOf,ZS=Object.prototype.hasOwnProperty,JY=Object.prototype.propertyIsEnumerable;var gb=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")};var YS=(e,t,r)=>t in e?Kf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ne=(e,t)=>{for(var r in t||={})ZS.call(t,r)&&YS(e,r,t[r]);if(GS)for(var r of GS(t))JY.call(t,r)&&YS(e,r,t[r]);return e},Ee=(e,t)=>YY(e,XY(t));var XS=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var ve=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ti=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),iu=(e,t)=>{for(var r in t)Kf(e,r,{get:t[r],enumerable:!0})},QS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of QY(t))!ZS.call(e,i)&&i!==r&&Kf(e,i,{get:()=>t[i],enumerable:!(n=ZY(t,i))||n.enumerable});return e};var Sg=(e,t,r)=>(r=e!=null?GY(KY(e)):{},QS(t||!e||!e.__esModule?Kf(r,"default",{value:e,enumerable:!0}):r,e)),Jf=e=>QS(Kf({},"__esModule",{value:!0}),e);var gr=(e,t,r)=>new Promise((n,i)=>{var o=l=>{try{a(r.next(l))}catch(c){i(c)}},s=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((r=r.apply(e,t)).next())}),eZ=function(e,t){this[0]=e,this[1]=t};var KS=e=>{var t=e[gb("asyncIterator")],r=!1,n,i={};return t==null?(t=e[gb("iterator")](),n=o=>i[o]=s=>t[o](s)):(t=t.call(e),n=o=>i[o]=s=>{if(r){if(r=!1,o==="throw")throw s;return s}return r=!0,{done:!1,value:new eZ(new Promise(a=>{var l=t[o](s);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),i[gb("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i};function Qe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var po=ve(()=>{"use strict"});function $a(e){let t=e,r=e;e.length===1&&(t=(s,a)=>e(s)-a,r=Uae(e));function n(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){let u=l+c>>>1;r(s[u],a)<0?l=u+1:c=u}return l}function i(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){let u=l+c>>>1;r(s[u],a)>0?c=u:l=u+1}return l}function o(s,a,l,c){l==null&&(l=0),c==null&&(c=s.length);let u=n(s,a,l,c-1);return u>l&&t(s[u-1],a)>-t(s[u],a)?u-1:u}return{left:n,center:o,right:i}}function Uae(e){return(t,r)=>Qe(e(t),r)}var xC=ve(()=>{"use strict";po()});function Sy(e){return e===null?NaN:+e}function*kO(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var bC=ve(()=>{"use strict"});var IO,Ey,_C,wC,Rr,CC=ve(()=>{"use strict";po();xC();bC();IO=$a(Qe),Ey=IO.right,_C=IO.left,wC=$a(Sy).center,Rr=Ey});function qo(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&++r}return r}var wp=ve(()=>{"use strict"});function $ae(e){return e.length|0}function zae(e){return!(e>0)}function Bae(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Hae(e){return t=>e(...t)}function Ty(...e){let t=typeof e[e.length-1]=="function"&&Hae(e.pop());e=e.map(Bae);let r=e.map($ae),n=e.length-1,i=new Array(n+1).fill(0),o=[];if(n<0||r.some(zae))return o;for(;;){o.push(i.map((a,l)=>e[l][a]));let s=n;for(;++i[s]===r[s];){if(s===0)return t?o.map(t):o;i[s--]=0}}}var AO=ve(()=>{"use strict"});function ky(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?i=>r+=+i||0:i=>r+=+t(i,n++,e)||0)}var OO=ve(()=>{"use strict"});function Vs(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var PO=ve(()=>{"use strict"});function pd(e,t){let r=0,n,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}var DC=ve(()=>{"use strict"});function md(e,t){let r=pd(e,t);return r&&Math.sqrt(r)}var MC=ve(()=>{"use strict";DC()});function yn(e,t){let r,n;if(t===void 0)for(let i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}var SC=ve(()=>{"use strict"});function EC(e,t){let r=new jt;if(t===void 0)for(let n of e)(n=+n)&&r.add(n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&r.add(i)}return+r}function TC(e,t){let r=new jt,n=-1;return Float64Array.from(e,t===void 0?i=>r.add(+i||0):i=>r.add(+t(i,++n,e)||0))}var jt,NO=ve(()=>{"use strict";jt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,n=0;for(let i=0;i<this._n&&i<32;i++){let o=r[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(r[n++]=a),t=s}return r[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,r=this._n,n,i,o,s=0;if(r>0){for(s=t[--r];r>0&&(n=s,i=t[--r],s=n+i,o=i-(s-n),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(i=o*2,n=s+i,i==n-s&&(s=n))}return s}}});function kC({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function RO({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FO({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(r),e.delete(n)),r}function LO(e){return e!==null&&typeof e=="object"?e.valueOf():e}var rc,Cp,IC=ve(()=>{"use strict";rc=class extends Map{constructor(t,r=LO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(kC(this,t))}has(t){return super.has(kC(this,t))}set(t,r){return super.set(RO(this,t),r)}delete(t){return super.delete(FO(this,t))}},Cp=class extends Set{constructor(t,r=LO){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let n of t)this.add(n)}has(t){return super.has(kC(this,t))}add(t){return super.add(RO(this,t))}delete(t){return super.delete(FO(this,t))}}});function za(e){return e}var AC=ve(()=>{"use strict"});function Dn(e,...t){return gd(e,za,za,t)}function OC(e,...t){return gd(e,Array.from,za,t)}function oi(e,t,...r){return gd(e,za,t,r)}function PC(e,t,...r){return gd(e,Array.from,t,r)}function Dp(e,...t){return gd(e,za,jO,t)}function NC(e,...t){return gd(e,Array.from,jO,t)}function jO(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function gd(e,t,r,n){return function i(o,s){if(s>=n.length)return r(o);let a=new rc,l=n[s++],c=-1;for(let u of o){let d=l(u,++c,o),f=a.get(d);f?f.push(u):a.set(d,[u])}for(let[u,d]of a)a.set(u,i(d,s));return t(a)}(e,0)}var RC=ve(()=>{"use strict";IC();AC()});function Mp(e,t){return Array.from(t,r=>e[r])}var FC=ve(()=>{"use strict"});function Us(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r=Qe]=t;if(r.length===1||t.length>1){let n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(let s of t){let a=Qe(s[i],s[o]);if(a)return a}})):(r=e.map(r),n.sort((i,o)=>Qe(r[i],r[o]))),Mp(e,n)}return e.sort(r)}var LC=ve(()=>{"use strict";po();FC()});function Iy(e,t,r){return(t.length===1?Us(oi(e,t,r),([n,i],[o,s])=>Qe(i,s)||Qe(n,o)):Us(Dn(e,r),([n,i],[o,s])=>t(i,s)||Qe(n,o))).map(([n])=>n)}var VO=ve(()=>{"use strict";po();RC();LC()});var UO,$O,CCe,zO=ve(()=>{"use strict";UO=Array.prototype,$O=UO.slice,CCe=UO.map});function Sp(e){return function(){return e}}var BO=ve(()=>{"use strict"});function br(e,t,r){var n,i=-1,o,s,a;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(a=Go(e,t,r))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),c=Math.round(t/a);for(l*a<e&&++l,c*a>t&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)*a}else{a=-a;let l=Math.round(e*a),c=Math.round(t*a);for(l/a<e&&++l,c/a>t&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)/a}return n&&s.reverse(),s}function Go(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=jC?10:o>=VC?5:o>=UC?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=jC?10:o>=VC?5:o>=UC?2:1)}function Ni(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/i;return o>=jC?i*=10:o>=VC?i*=5:o>=UC&&(i*=2),t<e?-i:i}var jC,VC,UC,Ay=ve(()=>{"use strict";jC=Math.sqrt(50),VC=Math.sqrt(10),UC=Math.sqrt(2)});function yd(e,t,r){let n;for(;;){let i=Go(e,t,r);if(i===n||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),n=i}}var $C=ve(()=>{"use strict";Ay()});function ic(e){return Math.ceil(Math.log(qo(e))/Math.LN2)+1}var zC=ve(()=>{"use strict";wp()});function Oy(){var e=za,t=yn,r=ic;function n(i){Array.isArray(i)||(i=Array.from(i));var o,s=i.length,a,l=new Array(s);for(o=0;o<s;++o)l[o]=e(i[o],o,i);var c=t(l),u=c[0],d=c[1],f=r(l,u,d);if(!Array.isArray(f)){let g=d,x=+f;if(t===yn&&([u,d]=yd(u,d,x)),f=br(u,d,x),f[f.length-1]>=d)if(g>=d&&t===yn){let _=Go(u,d,x);isFinite(_)&&(_>0?d=(Math.floor(d/_)+1)*_:_<0&&(d=(Math.ceil(d*-_)+1)/-_))}else f.pop()}for(var p=f.length;f[0]<=u;)f.shift(),--p;for(;f[p-1]>d;)f.pop(),--p;var m=new Array(p+1),v;for(o=0;o<=p;++o)v=m[o]=[],v.x0=o>0?f[o-1]:u,v.x1=o<p?f[o]:d;for(o=0;o<s;++o)a=l[o],u<=a&&a<=d&&m[Rr(f,a,0,p)].push(i[o]);return m}return n.value=function(i){return arguments.length?(e=typeof i=="function"?i:Sp(i),n):e},n.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Sp([i[0],i[1]]),n):t},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Array.isArray(i)?Sp($O.call(i)):Sp(i),n):r},n}var HO=ve(()=>{"use strict";zO();CC();BO();SC();AC();$C();Ay();zC()});function ct(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var BC=ve(()=>{"use strict"});function cr(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var Py=ve(()=>{"use strict"});function oc(e,t,r=0,n=e.length-1,i=Qe){for(;n>r;){if(n-r>600){let l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*d/l+f)),m=Math.min(n,Math.floor(t+(l-c)*d/l+f));oc(e,t,p,m,i)}let o=e[t],s=r,a=n;for(Ep(e,r,t),i(e[n],o)>0&&Ep(e,r,n);s<a;){for(Ep(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[r],o)===0?Ep(e,r,a):(++a,Ep(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function Ep(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}var HC=ve(()=>{"use strict";po()});function mo(e,t,r){if(e=Float64Array.from(kO(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return cr(e);if(t>=1)return ct(e);var n,i=(n-1)*t,o=Math.floor(i),s=ct(oc(e,o).subarray(0,o+1)),a=cr(e.subarray(o+1));return s+(a-s)*(i-o)}}function Tp(e,t,r=Sy){if(n=e.length){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}var Ny=ve(()=>{"use strict";BC();Py();HC();bC()});function WC(e,t,r){return Math.ceil((r-t)/(2*(mo(e,.75)-mo(e,.25))*Math.pow(qo(e),-1/3)))}var WO=ve(()=>{"use strict";wp();Ny()});function qC(e,t,r){return Math.ceil((r-t)/(3.5*md(e)*Math.pow(qo(e),-1/3)))}var qO=ve(()=>{"use strict";wp();MC()});function vd(e,t){let r,n=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);return n}var GC=ve(()=>{"use strict"});function xd(e,t){let r=0,n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}var GO=ve(()=>{"use strict"});function YC(e,t){return mo(e,.5,t)}var YO=ve(()=>{"use strict";Ny()});function*Wae(e){for(let t of e)yield*KS(t)}function Ba(e){return Array.from(Wae(e))}var ZO=ve(()=>{"use strict"});function bd(e,t){let r,n=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);return n}var ZC=ve(()=>{"use strict"});function Hn(e,t=qae){let r=[],n,i=!1;for(let o of e)i&&r.push(t(n,o)),n=o,i=!0;return r}function qae(e,t){return[e,t]}var XO=ve(()=>{"use strict"});function Vt(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}var QO=ve(()=>{"use strict"});function Ry(e,t=Qe){let r,n=!1;if(t.length===1){let i;for(let o of e){let s=t(o);(n?Qe(s,i)<0:Qe(s,s)===0)&&(r=o,i=s,n=!0)}}else for(let i of e)(n?t(i,r)<0:t(i,i)===0)&&(r=i,n=!0);return r}var KO=ve(()=>{"use strict";po()});function _d(e,t=Qe){if(t.length===1)return bd(e,t);let r,n=-1,i=-1;for(let o of e)++i,(n<0?t(o,o)===0:t(o,r)<0)&&(r=o,n=i);return n}var XC=ve(()=>{"use strict";po();ZC()});function Fy(e,t=Qe){let r,n=!1;if(t.length===1){let i;for(let o of e){let s=t(o);(n?Qe(s,i)>0:Qe(s,s)===0)&&(r=o,i=s,n=!0)}}else for(let i of e)(n?t(i,r)>0:t(i,i)===0)&&(r=i,n=!0);return r}var JO=ve(()=>{"use strict";po()});function Ly(e,t=Qe){if(t.length===1)return vd(e,t);let r,n=-1,i=-1;for(let o of e)++i,(n<0?t(o,o)===0:t(o,r)>0)&&(r=o,n=i);return n}var eP=ve(()=>{"use strict";po();GC()});function jy(e,t){let r=_d(e,t);return r<0?void 0:r}var tP=ve(()=>{"use strict";XC()});function Vy(e){return function(r,n=0,i=r.length){let o=i-(n=+n);for(;o;){let s=e()*o--|0,a=r[o+n];r[o+n]=r[s+n],r[s+n]=a}return r}}var QC,nP=ve(()=>{"use strict";QC=Vy(Math.random)});function Ha(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}var rP=ve(()=>{"use strict"});function kp(e){if(!(o=e.length))return[];for(var t=-1,r=cr(e,Gae),n=new Array(r);++t<r;)for(var i=-1,o,s=n[t]=new Array(o);++i<o;)s[i]=e[i][t];return n}function Gae(e){return e.length}var KC=ve(()=>{"use strict";Py()});function JC(){return kp(arguments)}var iP=ve(()=>{"use strict";KC()});function Uy(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(!t(n,++r,e))return!1;return!0}var oP=ve(()=>{"use strict"});function $y(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(t(n,++r,e))return!0;return!1}var sP=ve(()=>{"use strict"});function zy(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=[],n=-1;for(let i of e)t(i,++n,e)&&r.push(i);return r}var aP=ve(()=>{"use strict"});function By(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,n)=>t(r,n,e))}var lP=ve(()=>{"use strict"});function Hy(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");let n=e[Symbol.iterator](),i,o,s=-1;if(arguments.length<3){if({done:i,value:r}=n.next(),i)return;++s}for(;{done:i,value:o}=n.next(),!i;)r=t(r,o,++s,e);return r}var cP=ve(()=>{"use strict"});function Wy(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var uP=ve(()=>{"use strict"});function qy(e,...t){e=new Set(e);for(let r of t)for(let n of r)e.delete(n);return e}var dP=ve(()=>{"use strict"});function Gy(e,t){let r=t[Symbol.iterator](),n=new Set;for(let i of e){if(n.has(i))return!1;let o,s;for(;({value:o,done:s}=r.next())&&!s;){if(Object.is(i,o))return!1;n.add(o)}}return!0}var fP=ve(()=>{"use strict"});function e6(e){return e instanceof Set?e:new Set(e)}var hP=ve(()=>{"use strict"});function Yy(e,...t){e=new Set(e),t=t.map(e6);e:for(let r of e)for(let n of t)if(!n.has(r)){e.delete(r);continue e}return e}var pP=ve(()=>{"use strict";hP()});function wd(e,t){let r=e[Symbol.iterator](),n=new Set;for(let i of t){if(n.has(i))continue;let o,s;for(;{value:o,done:s}=r.next();){if(s)return!1;if(n.add(o),Object.is(i,o))break}}return!0}var t6=ve(()=>{"use strict"});function Zy(e,t){return wd(t,e)}var mP=ve(()=>{"use strict";t6()});function Cd(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var gP=ve(()=>{"use strict"});var yP={};iu(yP,{Adder:()=>jt,InternMap:()=>rc,InternSet:()=>Cp,ascending:()=>Qe,bin:()=>Oy,bisect:()=>Rr,bisectCenter:()=>wC,bisectLeft:()=>_C,bisectRight:()=>Ey,bisector:()=>$a,count:()=>qo,cross:()=>Ty,cumsum:()=>ky,descending:()=>Vs,deviation:()=>md,difference:()=>qy,disjoint:()=>Gy,every:()=>Uy,extent:()=>yn,fcumsum:()=>TC,filter:()=>zy,fsum:()=>EC,greatest:()=>Fy,greatestIndex:()=>Ly,group:()=>Dn,groupSort:()=>Iy,groups:()=>OC,histogram:()=>Oy,index:()=>Dp,indexes:()=>NC,intersection:()=>Yy,least:()=>Ry,leastIndex:()=>_d,map:()=>By,max:()=>ct,maxIndex:()=>vd,mean:()=>xd,median:()=>YC,merge:()=>Ba,min:()=>cr,minIndex:()=>bd,nice:()=>yd,pairs:()=>Hn,permute:()=>Mp,quantile:()=>mo,quantileSorted:()=>Tp,quickselect:()=>oc,range:()=>Vt,reduce:()=>Hy,reverse:()=>Wy,rollup:()=>oi,rollups:()=>PC,scan:()=>jy,shuffle:()=>QC,shuffler:()=>Vy,some:()=>$y,sort:()=>Us,subset:()=>Zy,sum:()=>Ha,superset:()=>wd,thresholdFreedmanDiaconis:()=>WC,thresholdScott:()=>qC,thresholdSturges:()=>ic,tickIncrement:()=>Go,tickStep:()=>Ni,ticks:()=>br,transpose:()=>kp,union:()=>Cd,variance:()=>pd,zip:()=>JC});var on=ve(()=>{"use strict";CC();po();xC();wp();AO();OO();PO();MC();SC();NO();RC();VO();HO();WO();qO();zC();BC();GC();GO();YO();ZO();Py();ZC();$C();XO();FC();Ny();HC();QO();KO();XC();JO();eP();tP();nP();rP();Ay();KC();DC();iP();oP();sP();aP();lP();cP();uP();LC();dP();fP();pP();mP();t6();gP();IC()});function _P(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new t2(r)}function t2(e){this._=e}function ele(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function tle(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function bP(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Jae,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Jae,Ci,wP=ve(()=>{"use strict";Jae={value:()=>{}};t2.prototype=_P.prototype={constructor:t2,on:function(e,t){var r=this._,n=ele(e+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(e=n[o]).type)&&(i=tle(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=n[o]).type)r[i]=bP(r[i],e.name,t);else if(t==null)for(i in r)r[i]=bP(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new t2(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};Ci=_P});var CP={};iu(CP,{dispatch:()=>Ci});var Wa=ve(()=>{"use strict";wP()});function Hs(){return dc||(rR(vce),dc=Bp.now()+E2)}function vce(){dc=0}function fc(){this._call=this._time=this._next=null}function Ws(e,t,r){var n=new fc;return n.restart(e,t,r),n}function T2(){Hs(),++Rd;for(var e=M2,t;e;)(t=dc-e._time)>=0&&e._call.call(null,t),e=e._next;--Rd}function tR(){dc=(S2=Bp.now())+E2,Rd=$p=0;try{T2()}finally{Rd=0,bce(),dc=0}}function xce(){var e=Bp.now(),t=e-S2;t>nR&&(E2-=t,S2=e)}function bce(){for(var e,t=M2,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:M2=r);zp=e,x6(n)}function x6(e){if(!Rd){$p&&($p=clearTimeout($p));var t=e-dc;t>24?(e<1/0&&($p=setTimeout(tR,e-Bp.now()-E2)),Up&&(Up=clearInterval(Up))):(Up||(S2=Bp.now(),Up=setInterval(xce,nR)),Rd=1,rR(tR))}}var Rd,$p,Up,nR,M2,zp,S2,dc,E2,Bp,rR,k2=ve(()=>{"use strict";Rd=0,$p=0,Up=0,nR=1e3,S2=0,dc=0,E2=0,Bp=typeof performance=="object"&&performance.now?performance:Date,rR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};fc.prototype=Ws.prototype={constructor:fc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Hs():+r)+(t==null?0:+t),!this._next&&zp!==this&&(zp?zp._next=this:M2=this,zp=this),this._call=e,this._time=r,x6()},stop:function(){this._call&&(this._call=null,this._time=1/0,x6())}}});function Fd(e,t,r){var n=new fc;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var iR=ve(()=>{"use strict";k2()});function Hp(e,t,r){var n=new fc,i=t;return t==null?(n.restart(e,t,r),n):(n._restart=n.restart,n.restart=function(o,s,a){s=+s,a=a==null?Hs():+a,n._restart(function l(c){c+=i,n._restart(l,i+=s,a),o(c)},s,a)},n.restart(e,t,r),n)}var oR=ve(()=>{"use strict";k2()});var sR={};iu(sR,{interval:()=>Hp,now:()=>Hs,timeout:()=>Fd,timer:()=>Ws,timerFlush:()=>T2});var Ld=ve(()=>{"use strict";k2();iR();oR()});function YD(e){for(var t=-1,r=e.length,n,i=e[r-1],o=0;++t<r;)n=i,i=e[t],o+=n[1]*i[0]-n[0]*i[1];return o/2}var wV=ve(()=>{"use strict"});function Dm(e){for(var t=-1,r=e.length,n=0,i=0,o,s=e[r-1],a,l=0;++t<r;)o=s,s=e[t],l+=a=o[0]*s[1]-s[0]*o[1],n+=(o[0]+s[0])*a,i+=(o[1]+s[1])*a;return l*=3,[n/l,i/l]}var CV=ve(()=>{"use strict"});function DV(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}var MV=ve(()=>{"use strict"});function wfe(e,t){return e[0]-t[0]||e[1]-t[1]}function SV(e){let t=e.length,r=[0,1],n=2,i;for(i=2;i<t;++i){for(;n>1&&DV(e[r[n-2]],e[r[n-1]],e[i])<=0;)--n;r[n++]=i}return r.slice(0,n)}function ZD(e){if((r=e.length)<3)return null;var t,r,n=new Array(r),i=new Array(r);for(t=0;t<r;++t)n[t]=[+e[t][0],+e[t][1],t];for(n.sort(wfe),t=0;t<r;++t)i[t]=[n[t][0],-n[t][1]];var o=SV(n),s=SV(i),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[n[o[t]][2]]);for(t=+a;t<s.length-l;++t)c.push(e[n[s[t]][2]]);return c}var EV=ve(()=>{"use strict";MV()});function XD(e,t){for(var r=e.length,n=e[r-1],i=t[0],o=t[1],s=n[0],a=n[1],l,c,u=!1,d=0;d<r;++d)n=e[d],l=n[0],c=n[1],c>o!=a>o&&i<(s-l)*(o-c)/(a-c)+l&&(u=!u),s=l,a=c;return u}var TV=ve(()=>{"use strict"});function QD(e){for(var t=-1,r=e.length,n=e[r-1],i,o,s=n[0],a=n[1],l=0;++t<r;)i=s,o=a,n=e[t],s=n[0],a=n[1],i-=s,o-=a,l+=Math.hypot(i,o);return l}var kV=ve(()=>{"use strict"});var KD={};iu(KD,{polygonArea:()=>YD,polygonCentroid:()=>Dm,polygonContains:()=>XD,polygonHull:()=>ZD,polygonLength:()=>QD});var r3=ve(()=>{"use strict";wV();CV();EV();TV();kV()});var Iz=Ti((mM,kf)=>{"use strict";(function(e,t){typeof mM=="object"&&typeof kf<"u"?kf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(mM,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(h){e=h}function n(h){return h instanceof Array||Object.prototype.toString.call(h)==="[object Array]"}function i(h){return h!=null&&Object.prototype.toString.call(h)==="[object Object]"}function o(h,y){return Object.prototype.hasOwnProperty.call(h,y)}function s(h){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(h).length===0;var y;for(y in h)if(o(h,y))return!1;return!0}function a(h){return h===void 0}function l(h){return typeof h=="number"||Object.prototype.toString.call(h)==="[object Number]"}function c(h){return h instanceof Date||Object.prototype.toString.call(h)==="[object Date]"}function u(h,y){var C=[],M,A=h.length;for(M=0;M<A;++M)C.push(y(h[M],M));return C}function d(h,y){for(var C in y)o(y,C)&&(h[C]=y[C]);return o(y,"toString")&&(h.toString=y.toString),o(y,"valueOf")&&(h.valueOf=y.valueOf),h}function f(h,y,C,M){return DS(h,y,C,M,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(h){return h._pf==null&&(h._pf=p()),h._pf}var v;Array.prototype.some?v=Array.prototype.some:v=function(h){var y=Object(this),C=y.length>>>0,M;for(M=0;M<C;M++)if(M in y&&h.call(this,y[M],M,y))return!0;return!1};function g(h){var y=null,C=!1,M=h._d&&!isNaN(h._d.getTime());if(M&&(y=m(h),C=v.call(y.parsedDateParts,function(A){return A!=null}),M=y.overflow<0&&!y.empty&&!y.invalidEra&&!y.invalidMonth&&!y.invalidWeekday&&!y.weekdayMismatch&&!y.nullInput&&!y.invalidFormat&&!y.userInvalidated&&(!y.meridiem||y.meridiem&&C),h._strict&&(M=M&&y.charsLeftOver===0&&y.unusedTokens.length===0&&y.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(h))h._isValid=M;else return M;return h._isValid}function x(h){var y=f(NaN);return h!=null?d(m(y),h):m(y).userInvalidated=!0,y}var _=t.momentProperties=[],w=!1;function b(h,y){var C,M,A,W=_.length;if(a(y._isAMomentObject)||(h._isAMomentObject=y._isAMomentObject),a(y._i)||(h._i=y._i),a(y._f)||(h._f=y._f),a(y._l)||(h._l=y._l),a(y._strict)||(h._strict=y._strict),a(y._tzm)||(h._tzm=y._tzm),a(y._isUTC)||(h._isUTC=y._isUTC),a(y._offset)||(h._offset=y._offset),a(y._pf)||(h._pf=m(y)),a(y._locale)||(h._locale=y._locale),W>0)for(C=0;C<W;C++)M=_[C],A=y[M],a(A)||(h[M]=A);return h}function k(h){b(this,h),this._d=new Date(h._d!=null?h._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),w===!1&&(w=!0,t.updateOffset(this),w=!1)}function E(h){return h instanceof k||h!=null&&h._isAMomentObject!=null}function V(h){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+h)}function z(h,y){var C=!0;return d(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,h),C){var M=[],A,W,K,we=arguments.length;for(W=0;W<we;W++){if(A="",typeof arguments[W]=="object"){A+=`
[`+W+"] ";for(K in arguments[0])o(arguments[0],K)&&(A+=K+": "+arguments[0][K]+", ");A=A.slice(0,-2)}else A=arguments[W];M.push(A)}V(h+`
Arguments: `+Array.prototype.slice.call(M).join("")+`
`+new Error().stack),C=!1}return y.apply(this,arguments)},y)}var B={};function $(h,y){t.deprecationHandler!=null&&t.deprecationHandler(h,y),B[h]||(V(y),B[h]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function D(h){return typeof Function<"u"&&h instanceof Function||Object.prototype.toString.call(h)==="[object Function]"}function I(h){var y,C;for(C in h)o(h,C)&&(y=h[C],D(y)?this[C]=y:this["_"+C]=y);this._config=h,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function L(h,y){var C=d({},h),M;for(M in y)o(y,M)&&(i(h[M])&&i(y[M])?(C[M]={},d(C[M],h[M]),d(C[M],y[M])):y[M]!=null?C[M]=y[M]:delete C[M]);for(M in h)o(h,M)&&!o(y,M)&&i(h[M])&&(C[M]=d({},C[M]));return C}function O(h){h!=null&&this.set(h)}var S;Object.keys?S=Object.keys:S=function(h){var y,C=[];for(y in h)o(h,y)&&C.push(y);return C};var T={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(h,y,C){var M=this._calendar[h]||this._calendar.sameElse;return D(M)?M.call(y,C):M}function U(h,y,C){var M=""+Math.abs(h),A=y-M.length,W=h>=0;return(W?C?"+":"":"-")+Math.pow(10,Math.max(0,A)).toString().substr(1)+M}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},J={};function X(h,y,C,M){var A=M;typeof M=="string"&&(A=function(){return this[M]()}),h&&(J[h]=A),y&&(J[y[0]]=function(){return U(A.apply(this,arguments),y[1],y[2])}),C&&(J[C]=function(){return this.localeData().ordinal(A.apply(this,arguments),h)})}function se(h){return h.match(/\[[\s\S]/)?h.replace(/^\[|\]$/g,""):h.replace(/\\/g,"")}function Me(h){var y=h.match(F),C,M;for(C=0,M=y.length;C<M;C++)J[y[C]]?y[C]=J[y[C]]:y[C]=se(y[C]);return function(A){var W="",K;for(K=0;K<M;K++)W+=D(y[K])?y[K].call(A,h):y[K];return W}}function _e(h,y){return h.isValid()?(y=pe(y,h.localeData()),G[y]=G[y]||Me(y),G[y](h)):h.localeData().invalidDate()}function pe(h,y){var C=5;function M(A){return y.longDateFormat(A)||A}for(j.lastIndex=0;C>=0&&j.test(h);)h=h.replace(j,M),j.lastIndex=0,C-=1;return h}var Fe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function te(h){var y=this._longDateFormat[h],C=this._longDateFormat[h.toUpperCase()];return y||!C?y:(this._longDateFormat[h]=C.match(F).map(function(M){return M==="MMMM"||M==="MM"||M==="DD"||M==="dddd"?M.slice(1):M}).join(""),this._longDateFormat[h])}var be="Invalid date";function ke(){return this._invalidDate}var oe="%d",st=/\d{1,2}/;function Je(h){return this._ordinal.replace("%d",h)}var Kt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function bn(h,y,C,M){var A=this._relativeTime[C];return D(A)?A(h,y,C,M):A.replace(/%d/i,h)}function je(h,y){var C=this._relativeTime[h>0?"future":"past"];return D(C)?C(y):C.replace(/%s/i,y)}var Jt={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Pn(h){return typeof h=="string"?Jt[h]||Jt[h.toLowerCase()]:void 0}function Br(h){var y={},C,M;for(M in h)o(h,M)&&(C=Pn(M),C&&(y[C]=h[M]));return y}var Zx={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ug(h){var y=[],C;for(C in h)o(h,C)&&y.push({unit:C,priority:Zx[C]});return y.sort(function(M,A){return M.priority-A.priority}),y}var dg=/\d/,kr=/\d\d/,fg=/\d{3}/,Ie=/\d{4}/,It=/[+-]?\d{6}/,Pe=/\d\d?/,ut=/\d\d\d\d?/,at=/\d\d\d\d\d\d?/,mt=/\d{1,3}/,wt=/\d{1,4}/,Wt=/[+-]?\d{1,6}/,qt=/\d+/,mn=/[+-]?\d+/,or=/Z|[+-]\d\d:?\d\d/gi,da=/Z|[+-]\d\d(?::?\d\d)?/gi,hW=/[+-]?\d+(\.\d{1,3})?/,Bf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Qc=/^[1-9]\d?/,Xx=/^([1-9]\d|\d)/,hg;hg={};function De(h,y,C){hg[h]=D(y)?y:function(M,A){return M&&C?C:y}}function pW(h,y){return o(hg,h)?hg[h](y._strict,y._locale):new RegExp(mW(h))}function mW(h){return xs(h.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(y,C,M,A,W){return C||M||A||W}))}function xs(h){return h.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ei(h){return h<0?Math.ceil(h)||0:Math.floor(h)}function lt(h){var y=+h,C=0;return y!==0&&isFinite(y)&&(C=Ei(y)),C}var Qx={};function Gt(h,y){var C,M=y,A;for(typeof h=="string"&&(h=[h]),l(y)&&(M=function(W,K){K[y]=lt(W)}),A=h.length,C=0;C<A;C++)Qx[h[C]]=M}function Hf(h,y){Gt(h,function(C,M,A,W){A._w=A._w||{},y(C,A._w,A,W)})}function gW(h,y,C){y!=null&&o(Qx,h)&&Qx[h](y,C._a,C,h)}function pg(h){return h%4===0&&h%100!==0||h%400===0}var mr=0,bs=1,Eo=2,jn=3,Yi=4,_s=5,Dl=6,yW=7,vW=8;X("Y",0,0,function(){var h=this.year();return h<=9999?U(h,4):"+"+h}),X(0,["YY",2],0,function(){return this.year()%100}),X(0,["YYYY",4],0,"year"),X(0,["YYYYY",5],0,"year"),X(0,["YYYYYY",6,!0],0,"year"),De("Y",mn),De("YY",Pe,kr),De("YYYY",wt,Ie),De("YYYYY",Wt,It),De("YYYYYY",Wt,It),Gt(["YYYYY","YYYYYY"],mr),Gt("YYYY",function(h,y){y[mr]=h.length===2?t.parseTwoDigitYear(h):lt(h)}),Gt("YY",function(h,y){y[mr]=t.parseTwoDigitYear(h)}),Gt("Y",function(h,y){y[mr]=parseInt(h,10)});function Wf(h){return pg(h)?366:365}t.parseTwoDigitYear=function(h){return lt(h)+(lt(h)>68?1900:2e3)};var lS=Kc("FullYear",!0);function xW(){return pg(this.year())}function Kc(h,y){return function(C){return C!=null?(cS(this,h,C),t.updateOffset(this,y),this):qf(this,h)}}function qf(h,y){if(!h.isValid())return NaN;var C=h._d,M=h._isUTC;switch(y){case"Milliseconds":return M?C.getUTCMilliseconds():C.getMilliseconds();case"Seconds":return M?C.getUTCSeconds():C.getSeconds();case"Minutes":return M?C.getUTCMinutes():C.getMinutes();case"Hours":return M?C.getUTCHours():C.getHours();case"Date":return M?C.getUTCDate():C.getDate();case"Day":return M?C.getUTCDay():C.getDay();case"Month":return M?C.getUTCMonth():C.getMonth();case"FullYear":return M?C.getUTCFullYear():C.getFullYear();default:return NaN}}function cS(h,y,C){var M,A,W,K,we;if(!(!h.isValid()||isNaN(C))){switch(M=h._d,A=h._isUTC,y){case"Milliseconds":return void(A?M.setUTCMilliseconds(C):M.setMilliseconds(C));case"Seconds":return void(A?M.setUTCSeconds(C):M.setSeconds(C));case"Minutes":return void(A?M.setUTCMinutes(C):M.setMinutes(C));case"Hours":return void(A?M.setUTCHours(C):M.setHours(C));case"Date":return void(A?M.setUTCDate(C):M.setDate(C));case"FullYear":break;default:return}W=C,K=h.month(),we=h.date(),we=we===29&&K===1&&!pg(W)?28:we,A?M.setUTCFullYear(W,K,we):M.setFullYear(W,K,we)}}function bW(h){return h=Pn(h),D(this[h])?this[h]():this}function _W(h,y){if(typeof h=="object"){h=Br(h);var C=ug(h),M,A=C.length;for(M=0;M<A;M++)this[C[M].unit](h[C[M].unit])}else if(h=Pn(h),D(this[h]))return this[h](y);return this}function wW(h,y){return(h%y+y)%y}var En;Array.prototype.indexOf?En=Array.prototype.indexOf:En=function(h){var y;for(y=0;y<this.length;++y)if(this[y]===h)return y;return-1};function Kx(h,y){if(isNaN(h)||isNaN(y))return NaN;var C=wW(y,12);return h+=(y-C)/12,C===1?pg(h)?29:28:31-C%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1}),X("MMM",0,0,function(h){return this.localeData().monthsShort(this,h)}),X("MMMM",0,0,function(h){return this.localeData().months(this,h)}),De("M",Pe,Qc),De("MM",Pe,kr),De("MMM",function(h,y){return y.monthsShortRegex(h)}),De("MMMM",function(h,y){return y.monthsRegex(h)}),Gt(["M","MM"],function(h,y){y[bs]=lt(h)-1}),Gt(["MMM","MMMM"],function(h,y,C,M){var A=C._locale.monthsParse(h,M,C._strict);A!=null?y[bs]=A:m(C).invalidMonth=h});var CW="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),uS="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dS=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,DW=Bf,MW=Bf;function SW(h,y){return h?n(this._months)?this._months[h.month()]:this._months[(this._months.isFormat||dS).test(y)?"format":"standalone"][h.month()]:n(this._months)?this._months:this._months.standalone}function EW(h,y){return h?n(this._monthsShort)?this._monthsShort[h.month()]:this._monthsShort[dS.test(y)?"format":"standalone"][h.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function TW(h,y,C){var M,A,W,K=h.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],M=0;M<12;++M)W=f([2e3,M]),this._shortMonthsParse[M]=this.monthsShort(W,"").toLocaleLowerCase(),this._longMonthsParse[M]=this.months(W,"").toLocaleLowerCase();return C?y==="MMM"?(A=En.call(this._shortMonthsParse,K),A!==-1?A:null):(A=En.call(this._longMonthsParse,K),A!==-1?A:null):y==="MMM"?(A=En.call(this._shortMonthsParse,K),A!==-1?A:(A=En.call(this._longMonthsParse,K),A!==-1?A:null)):(A=En.call(this._longMonthsParse,K),A!==-1?A:(A=En.call(this._shortMonthsParse,K),A!==-1?A:null))}function kW(h,y,C){var M,A,W;if(this._monthsParseExact)return TW.call(this,h,y,C);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),M=0;M<12;M++){if(A=f([2e3,M]),C&&!this._longMonthsParse[M]&&(this._longMonthsParse[M]=new RegExp("^"+this.months(A,"").replace(".","")+"$","i"),this._shortMonthsParse[M]=new RegExp("^"+this.monthsShort(A,"").replace(".","")+"$","i")),!C&&!this._monthsParse[M]&&(W="^"+this.months(A,"")+"|^"+this.monthsShort(A,""),this._monthsParse[M]=new RegExp(W.replace(".",""),"i")),C&&y==="MMMM"&&this._longMonthsParse[M].test(h))return M;if(C&&y==="MMM"&&this._shortMonthsParse[M].test(h))return M;if(!C&&this._monthsParse[M].test(h))return M}}function fS(h,y){if(!h.isValid())return h;if(typeof y=="string"){if(/^\d+$/.test(y))y=lt(y);else if(y=h.localeData().monthsParse(y),!l(y))return h}var C=y,M=h.date();return M=M<29?M:Math.min(M,Kx(h.year(),C)),h._isUTC?h._d.setUTCMonth(C,M):h._d.setMonth(C,M),h}function hS(h){return h!=null?(fS(this,h),t.updateOffset(this,!0),this):qf(this,"Month")}function IW(){return Kx(this.year(),this.month())}function AW(h){return this._monthsParseExact?(o(this,"_monthsRegex")||pS.call(this),h?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=DW),this._monthsShortStrictRegex&&h?this._monthsShortStrictRegex:this._monthsShortRegex)}function OW(h){return this._monthsParseExact?(o(this,"_monthsRegex")||pS.call(this),h?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=MW),this._monthsStrictRegex&&h?this._monthsStrictRegex:this._monthsRegex)}function pS(){function h(qe,dt){return dt.length-qe.length}var y=[],C=[],M=[],A,W,K,we;for(A=0;A<12;A++)W=f([2e3,A]),K=xs(this.monthsShort(W,"")),we=xs(this.months(W,"")),y.push(K),C.push(we),M.push(we),M.push(K);y.sort(h),C.sort(h),M.sort(h),this._monthsRegex=new RegExp("^("+M.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+C.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+y.join("|")+")","i")}function PW(h,y,C,M,A,W,K){var we;return h<100&&h>=0?(we=new Date(h+400,y,C,M,A,W,K),isFinite(we.getFullYear())&&we.setFullYear(h)):we=new Date(h,y,C,M,A,W,K),we}function Gf(h){var y,C;return h<100&&h>=0?(C=Array.prototype.slice.call(arguments),C[0]=h+400,y=new Date(Date.UTC.apply(null,C)),isFinite(y.getUTCFullYear())&&y.setUTCFullYear(h)):y=new Date(Date.UTC.apply(null,arguments)),y}function mg(h,y,C){var M=7+y-C,A=(7+Gf(h,0,M).getUTCDay()-y)%7;return-A+M-1}function mS(h,y,C,M,A){var W=(7+C-M)%7,K=mg(h,M,A),we=1+7*(y-1)+W+K,qe,dt;return we<=0?(qe=h-1,dt=Wf(qe)+we):we>Wf(h)?(qe=h+1,dt=we-Wf(h)):(qe=h,dt=we),{year:qe,dayOfYear:dt}}function Yf(h,y,C){var M=mg(h.year(),y,C),A=Math.floor((h.dayOfYear()-M-1)/7)+1,W,K;return A<1?(K=h.year()-1,W=A+ws(K,y,C)):A>ws(h.year(),y,C)?(W=A-ws(h.year(),y,C),K=h.year()+1):(K=h.year(),W=A),{week:W,year:K}}function ws(h,y,C){var M=mg(h,y,C),A=mg(h+1,y,C);return(Wf(h)-M+A)/7}X("w",["ww",2],"wo","week"),X("W",["WW",2],"Wo","isoWeek"),De("w",Pe,Qc),De("ww",Pe,kr),De("W",Pe,Qc),De("WW",Pe,kr),Hf(["w","ww","W","WW"],function(h,y,C,M){y[M.substr(0,1)]=lt(h)});function NW(h){return Yf(h,this._week.dow,this._week.doy).week}var RW={dow:0,doy:6};function FW(){return this._week.dow}function LW(){return this._week.doy}function jW(h){var y=this.localeData().week(this);return h==null?y:this.add((h-y)*7,"d")}function VW(h){var y=Yf(this,1,4).week;return h==null?y:this.add((h-y)*7,"d")}X("d",0,"do","day"),X("dd",0,0,function(h){return this.localeData().weekdaysMin(this,h)}),X("ddd",0,0,function(h){return this.localeData().weekdaysShort(this,h)}),X("dddd",0,0,function(h){return this.localeData().weekdays(this,h)}),X("e",0,0,"weekday"),X("E",0,0,"isoWeekday"),De("d",Pe),De("e",Pe),De("E",Pe),De("dd",function(h,y){return y.weekdaysMinRegex(h)}),De("ddd",function(h,y){return y.weekdaysShortRegex(h)}),De("dddd",function(h,y){return y.weekdaysRegex(h)}),Hf(["dd","ddd","dddd"],function(h,y,C,M){var A=C._locale.weekdaysParse(h,M,C._strict);A!=null?y.d=A:m(C).invalidWeekday=h}),Hf(["d","e","E"],function(h,y,C,M){y[M]=lt(h)});function UW(h,y){return typeof h!="string"?h:isNaN(h)?(h=y.weekdaysParse(h),typeof h=="number"?h:null):parseInt(h,10)}function $W(h,y){return typeof h=="string"?y.weekdaysParse(h)%7||7:isNaN(h)?null:h}function Jx(h,y){return h.slice(y,7).concat(h.slice(0,y))}var zW="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),gS="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),BW="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),HW=Bf,WW=Bf,qW=Bf;function GW(h,y){var C=n(this._weekdays)?this._weekdays:this._weekdays[h&&h!==!0&&this._weekdays.isFormat.test(y)?"format":"standalone"];return h===!0?Jx(C,this._week.dow):h?C[h.day()]:C}function YW(h){return h===!0?Jx(this._weekdaysShort,this._week.dow):h?this._weekdaysShort[h.day()]:this._weekdaysShort}function ZW(h){return h===!0?Jx(this._weekdaysMin,this._week.dow):h?this._weekdaysMin[h.day()]:this._weekdaysMin}function XW(h,y,C){var M,A,W,K=h.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],M=0;M<7;++M)W=f([2e3,1]).day(M),this._minWeekdaysParse[M]=this.weekdaysMin(W,"").toLocaleLowerCase(),this._shortWeekdaysParse[M]=this.weekdaysShort(W,"").toLocaleLowerCase(),this._weekdaysParse[M]=this.weekdays(W,"").toLocaleLowerCase();return C?y==="dddd"?(A=En.call(this._weekdaysParse,K),A!==-1?A:null):y==="ddd"?(A=En.call(this._shortWeekdaysParse,K),A!==-1?A:null):(A=En.call(this._minWeekdaysParse,K),A!==-1?A:null):y==="dddd"?(A=En.call(this._weekdaysParse,K),A!==-1||(A=En.call(this._shortWeekdaysParse,K),A!==-1)?A:(A=En.call(this._minWeekdaysParse,K),A!==-1?A:null)):y==="ddd"?(A=En.call(this._shortWeekdaysParse,K),A!==-1||(A=En.call(this._weekdaysParse,K),A!==-1)?A:(A=En.call(this._minWeekdaysParse,K),A!==-1?A:null)):(A=En.call(this._minWeekdaysParse,K),A!==-1||(A=En.call(this._weekdaysParse,K),A!==-1)?A:(A=En.call(this._shortWeekdaysParse,K),A!==-1?A:null))}function QW(h,y,C){var M,A,W;if(this._weekdaysParseExact)return XW.call(this,h,y,C);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),M=0;M<7;M++){if(A=f([2e3,1]).day(M),C&&!this._fullWeekdaysParse[M]&&(this._fullWeekdaysParse[M]=new RegExp("^"+this.weekdays(A,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[M]=new RegExp("^"+this.weekdaysShort(A,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[M]=new RegExp("^"+this.weekdaysMin(A,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[M]||(W="^"+this.weekdays(A,"")+"|^"+this.weekdaysShort(A,"")+"|^"+this.weekdaysMin(A,""),this._weekdaysParse[M]=new RegExp(W.replace(".",""),"i")),C&&y==="dddd"&&this._fullWeekdaysParse[M].test(h))return M;if(C&&y==="ddd"&&this._shortWeekdaysParse[M].test(h))return M;if(C&&y==="dd"&&this._minWeekdaysParse[M].test(h))return M;if(!C&&this._weekdaysParse[M].test(h))return M}}function KW(h){if(!this.isValid())return h!=null?this:NaN;var y=qf(this,"Day");return h!=null?(h=UW(h,this.localeData()),this.add(h-y,"d")):y}function JW(h){if(!this.isValid())return h!=null?this:NaN;var y=(this.day()+7-this.localeData()._week.dow)%7;return h==null?y:this.add(h-y,"d")}function eq(h){if(!this.isValid())return h!=null?this:NaN;if(h!=null){var y=$W(h,this.localeData());return this.day(this.day()%7?y:y-7)}else return this.day()||7}function tq(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||eb.call(this),h?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=HW),this._weekdaysStrictRegex&&h?this._weekdaysStrictRegex:this._weekdaysRegex)}function nq(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||eb.call(this),h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=WW),this._weekdaysShortStrictRegex&&h?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function rq(h){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||eb.call(this),h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qW),this._weekdaysMinStrictRegex&&h?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function eb(){function h(Ir,Es){return Es.length-Ir.length}var y=[],C=[],M=[],A=[],W,K,we,qe,dt;for(W=0;W<7;W++)K=f([2e3,1]).day(W),we=xs(this.weekdaysMin(K,"")),qe=xs(this.weekdaysShort(K,"")),dt=xs(this.weekdays(K,"")),y.push(we),C.push(qe),M.push(dt),A.push(we),A.push(qe),A.push(dt);y.sort(h),C.sort(h),M.sort(h),A.sort(h),this._weekdaysRegex=new RegExp("^("+A.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+M.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+y.join("|")+")","i")}function tb(){return this.hours()%12||12}function iq(){return this.hours()||24}X("H",["HH",2],0,"hour"),X("h",["hh",2],0,tb),X("k",["kk",2],0,iq),X("hmm",0,0,function(){return""+tb.apply(this)+U(this.minutes(),2)}),X("hmmss",0,0,function(){return""+tb.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),X("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),X("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)});function yS(h,y){X(h,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),y)})}yS("a",!0),yS("A",!1);function vS(h,y){return y._meridiemParse}De("a",vS),De("A",vS),De("H",Pe,Xx),De("h",Pe,Qc),De("k",Pe,Qc),De("HH",Pe,kr),De("hh",Pe,kr),De("kk",Pe,kr),De("hmm",ut),De("hmmss",at),De("Hmm",ut),De("Hmmss",at),Gt(["H","HH"],jn),Gt(["k","kk"],function(h,y,C){var M=lt(h);y[jn]=M===24?0:M}),Gt(["a","A"],function(h,y,C){C._isPm=C._locale.isPM(h),C._meridiem=h}),Gt(["h","hh"],function(h,y,C){y[jn]=lt(h),m(C).bigHour=!0}),Gt("hmm",function(h,y,C){var M=h.length-2;y[jn]=lt(h.substr(0,M)),y[Yi]=lt(h.substr(M)),m(C).bigHour=!0}),Gt("hmmss",function(h,y,C){var M=h.length-4,A=h.length-2;y[jn]=lt(h.substr(0,M)),y[Yi]=lt(h.substr(M,2)),y[_s]=lt(h.substr(A)),m(C).bigHour=!0}),Gt("Hmm",function(h,y,C){var M=h.length-2;y[jn]=lt(h.substr(0,M)),y[Yi]=lt(h.substr(M))}),Gt("Hmmss",function(h,y,C){var M=h.length-4,A=h.length-2;y[jn]=lt(h.substr(0,M)),y[Yi]=lt(h.substr(M,2)),y[_s]=lt(h.substr(A))});function oq(h){return(h+"").toLowerCase().charAt(0)==="p"}var sq=/[ap]\.?m?\.?/i,aq=Kc("Hours",!0);function lq(h,y,C){return h>11?C?"pm":"PM":C?"am":"AM"}var xS={calendar:T,longDateFormat:Fe,invalidDate:be,ordinal:oe,dayOfMonthOrdinalParse:st,relativeTime:Kt,months:CW,monthsShort:uS,week:RW,weekdays:zW,weekdaysMin:BW,weekdaysShort:gS,meridiemParse:sq},un={},Zf={},Xf;function cq(h,y){var C,M=Math.min(h.length,y.length);for(C=0;C<M;C+=1)if(h[C]!==y[C])return C;return M}function bS(h){return h&&h.toLowerCase().replace("_","-")}function uq(h){for(var y=0,C,M,A,W;y<h.length;){for(W=bS(h[y]).split("-"),C=W.length,M=bS(h[y+1]),M=M?M.split("-"):null;C>0;){if(A=gg(W.slice(0,C).join("-")),A)return A;if(M&&M.length>=C&&cq(W,M)>=C-1)break;C--}y++}return Xf}function dq(h){return!!(h&&h.match("^[^/\\\\]*$"))}function gg(h){var y=null,C;if(un[h]===void 0&&typeof kf<"u"&&kf&&kf.exports&&dq(h))try{y=Xf._abbr,C=XS,C("./locale/"+h),fa(y)}catch{un[h]=null}return un[h]}function fa(h,y){var C;return h&&(a(y)?C=Cs(h):C=nb(h,y),C?Xf=C:typeof console<"u"&&console.warn&&console.warn("Locale "+h+" not found. Did you forget to load it?")),Xf._abbr}function nb(h,y){if(y!==null){var C,M=xS;if(y.abbr=h,un[h]!=null)$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),M=un[h]._config;else if(y.parentLocale!=null)if(un[y.parentLocale]!=null)M=un[y.parentLocale]._config;else if(C=gg(y.parentLocale),C!=null)M=C._config;else return Zf[y.parentLocale]||(Zf[y.parentLocale]=[]),Zf[y.parentLocale].push({name:h,config:y}),null;return un[h]=new O(L(M,y)),Zf[h]&&Zf[h].forEach(function(A){nb(A.name,A.config)}),fa(h),un[h]}else return delete un[h],null}function fq(h,y){if(y!=null){var C,M,A=xS;un[h]!=null&&un[h].parentLocale!=null?un[h].set(L(un[h]._config,y)):(M=gg(h),M!=null&&(A=M._config),y=L(A,y),M==null&&(y.abbr=h),C=new O(y),C.parentLocale=un[h],un[h]=C),fa(h)}else un[h]!=null&&(un[h].parentLocale!=null?(un[h]=un[h].parentLocale,h===fa()&&fa(h)):un[h]!=null&&delete un[h]);return un[h]}function Cs(h){var y;if(h&&h._locale&&h._locale._abbr&&(h=h._locale._abbr),!h)return Xf;if(!n(h)){if(y=gg(h),y)return y;h=[h]}return uq(h)}function hq(){return S(un)}function rb(h){var y,C=h._a;return C&&m(h).overflow===-2&&(y=C[bs]<0||C[bs]>11?bs:C[Eo]<1||C[Eo]>Kx(C[mr],C[bs])?Eo:C[jn]<0||C[jn]>24||C[jn]===24&&(C[Yi]!==0||C[_s]!==0||C[Dl]!==0)?jn:C[Yi]<0||C[Yi]>59?Yi:C[_s]<0||C[_s]>59?_s:C[Dl]<0||C[Dl]>999?Dl:-1,m(h)._overflowDayOfYear&&(y<mr||y>Eo)&&(y=Eo),m(h)._overflowWeeks&&y===-1&&(y=yW),m(h)._overflowWeekday&&y===-1&&(y=vW),m(h).overflow=y),h}var pq=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mq=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gq=/Z|[+-]\d\d(?::?\d\d)?/,yg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ib=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yq=/^\/?Date\((-?\d+)/i,vq=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xq={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _S(h){var y,C,M=h._i,A=pq.exec(M)||mq.exec(M),W,K,we,qe,dt=yg.length,Ir=ib.length;if(A){for(m(h).iso=!0,y=0,C=dt;y<C;y++)if(yg[y][1].exec(A[1])){K=yg[y][0],W=yg[y][2]!==!1;break}if(K==null){h._isValid=!1;return}if(A[3]){for(y=0,C=Ir;y<C;y++)if(ib[y][1].exec(A[3])){we=(A[2]||" ")+ib[y][0];break}if(we==null){h._isValid=!1;return}}if(!W&&we!=null){h._isValid=!1;return}if(A[4])if(gq.exec(A[4]))qe="Z";else{h._isValid=!1;return}h._f=K+(we||"")+(qe||""),sb(h)}else h._isValid=!1}function bq(h,y,C,M,A,W){var K=[_q(h),uS.indexOf(y),parseInt(C,10),parseInt(M,10),parseInt(A,10)];return W&&K.push(parseInt(W,10)),K}function _q(h){var y=parseInt(h,10);return y<=49?2e3+y:y<=999?1900+y:y}function wq(h){return h.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cq(h,y,C){if(h){var M=gS.indexOf(h),A=new Date(y[0],y[1],y[2]).getDay();if(M!==A)return m(C).weekdayMismatch=!0,C._isValid=!1,!1}return!0}function Dq(h,y,C){if(h)return xq[h];if(y)return 0;var M=parseInt(C,10),A=M%100,W=(M-A)/100;return W*60+A}function wS(h){var y=vq.exec(wq(h._i)),C;if(y){if(C=bq(y[4],y[3],y[2],y[5],y[6],y[7]),!Cq(y[1],C,h))return;h._a=C,h._tzm=Dq(y[8],y[9],y[10]),h._d=Gf.apply(null,h._a),h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),m(h).rfc2822=!0}else h._isValid=!1}function Mq(h){var y=yq.exec(h._i);if(y!==null){h._d=new Date(+y[1]);return}if(_S(h),h._isValid===!1)delete h._isValid;else return;if(wS(h),h._isValid===!1)delete h._isValid;else return;h._strict?h._isValid=!1:t.createFromInputFallback(h)}t.createFromInputFallback=z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(h){h._d=new Date(h._i+(h._useUTC?" UTC":""))});function Jc(h,y,C){return h??y??C}function Sq(h){var y=new Date(t.now());return h._useUTC?[y.getUTCFullYear(),y.getUTCMonth(),y.getUTCDate()]:[y.getFullYear(),y.getMonth(),y.getDate()]}function ob(h){var y,C,M=[],A,W,K;if(!h._d){for(A=Sq(h),h._w&&h._a[Eo]==null&&h._a[bs]==null&&Eq(h),h._dayOfYear!=null&&(K=Jc(h._a[mr],A[mr]),(h._dayOfYear>Wf(K)||h._dayOfYear===0)&&(m(h)._overflowDayOfYear=!0),C=Gf(K,0,h._dayOfYear),h._a[bs]=C.getUTCMonth(),h._a[Eo]=C.getUTCDate()),y=0;y<3&&h._a[y]==null;++y)h._a[y]=M[y]=A[y];for(;y<7;y++)h._a[y]=M[y]=h._a[y]==null?y===2?1:0:h._a[y];h._a[jn]===24&&h._a[Yi]===0&&h._a[_s]===0&&h._a[Dl]===0&&(h._nextDay=!0,h._a[jn]=0),h._d=(h._useUTC?Gf:PW).apply(null,M),W=h._useUTC?h._d.getUTCDay():h._d.getDay(),h._tzm!=null&&h._d.setUTCMinutes(h._d.getUTCMinutes()-h._tzm),h._nextDay&&(h._a[jn]=24),h._w&&typeof h._w.d<"u"&&h._w.d!==W&&(m(h).weekdayMismatch=!0)}}function Eq(h){var y,C,M,A,W,K,we,qe,dt;y=h._w,y.GG!=null||y.W!=null||y.E!=null?(W=1,K=4,C=Jc(y.GG,h._a[mr],Yf(an(),1,4).year),M=Jc(y.W,1),A=Jc(y.E,1),(A<1||A>7)&&(qe=!0)):(W=h._locale._week.dow,K=h._locale._week.doy,dt=Yf(an(),W,K),C=Jc(y.gg,h._a[mr],dt.year),M=Jc(y.w,dt.week),y.d!=null?(A=y.d,(A<0||A>6)&&(qe=!0)):y.e!=null?(A=y.e+W,(y.e<0||y.e>6)&&(qe=!0)):A=W),M<1||M>ws(C,W,K)?m(h)._overflowWeeks=!0:qe!=null?m(h)._overflowWeekday=!0:(we=mS(C,M,A,W,K),h._a[mr]=we.year,h._dayOfYear=we.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function sb(h){if(h._f===t.ISO_8601){_S(h);return}if(h._f===t.RFC_2822){wS(h);return}h._a=[],m(h).empty=!0;var y=""+h._i,C,M,A,W,K,we=y.length,qe=0,dt,Ir;for(A=pe(h._f,h._locale).match(F)||[],Ir=A.length,C=0;C<Ir;C++)W=A[C],M=(y.match(pW(W,h))||[])[0],M&&(K=y.substr(0,y.indexOf(M)),K.length>0&&m(h).unusedInput.push(K),y=y.slice(y.indexOf(M)+M.length),qe+=M.length),J[W]?(M?m(h).empty=!1:m(h).unusedTokens.push(W),gW(W,M,h)):h._strict&&!M&&m(h).unusedTokens.push(W);m(h).charsLeftOver=we-qe,y.length>0&&m(h).unusedInput.push(y),h._a[jn]<=12&&m(h).bigHour===!0&&h._a[jn]>0&&(m(h).bigHour=void 0),m(h).parsedDateParts=h._a.slice(0),m(h).meridiem=h._meridiem,h._a[jn]=Tq(h._locale,h._a[jn],h._meridiem),dt=m(h).era,dt!==null&&(h._a[mr]=h._locale.erasConvertYear(dt,h._a[mr])),ob(h),rb(h)}function Tq(h,y,C){var M;return C==null?y:h.meridiemHour!=null?h.meridiemHour(y,C):(h.isPM!=null&&(M=h.isPM(C),M&&y<12&&(y+=12),!M&&y===12&&(y=0)),y)}function kq(h){var y,C,M,A,W,K,we=!1,qe=h._f.length;if(qe===0){m(h).invalidFormat=!0,h._d=new Date(NaN);return}for(A=0;A<qe;A++)W=0,K=!1,y=b({},h),h._useUTC!=null&&(y._useUTC=h._useUTC),y._f=h._f[A],sb(y),g(y)&&(K=!0),W+=m(y).charsLeftOver,W+=m(y).unusedTokens.length*10,m(y).score=W,we?W<M&&(M=W,C=y):(M==null||W<M||K)&&(M=W,C=y,K&&(we=!0));d(h,C||y)}function Iq(h){if(!h._d){var y=Br(h._i),C=y.day===void 0?y.date:y.day;h._a=u([y.year,y.month,C,y.hour,y.minute,y.second,y.millisecond],function(M){return M&&parseInt(M,10)}),ob(h)}}function Aq(h){var y=new k(rb(CS(h)));return y._nextDay&&(y.add(1,"d"),y._nextDay=void 0),y}function CS(h){var y=h._i,C=h._f;return h._locale=h._locale||Cs(h._l),y===null||C===void 0&&y===""?x({nullInput:!0}):(typeof y=="string"&&(h._i=y=h._locale.preparse(y)),E(y)?new k(rb(y)):(c(y)?h._d=y:n(C)?kq(h):C?sb(h):Oq(h),g(h)||(h._d=null),h))}function Oq(h){var y=h._i;a(y)?h._d=new Date(t.now()):c(y)?h._d=new Date(y.valueOf()):typeof y=="string"?Mq(h):n(y)?(h._a=u(y.slice(0),function(C){return parseInt(C,10)}),ob(h)):i(y)?Iq(h):l(y)?h._d=new Date(y):t.createFromInputFallback(h)}function DS(h,y,C,M,A){var W={};return(y===!0||y===!1)&&(M=y,y=void 0),(C===!0||C===!1)&&(M=C,C=void 0),(i(h)&&s(h)||n(h)&&h.length===0)&&(h=void 0),W._isAMomentObject=!0,W._useUTC=W._isUTC=A,W._l=C,W._i=h,W._f=y,W._strict=M,Aq(W)}function an(h,y,C,M){return DS(h,y,C,M,!1)}var Pq=z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=an.apply(null,arguments);return this.isValid()&&h.isValid()?h<this?this:h:x()}),Nq=z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var h=an.apply(null,arguments);return this.isValid()&&h.isValid()?h>this?this:h:x()});function MS(h,y){var C,M;if(y.length===1&&n(y[0])&&(y=y[0]),!y.length)return an();for(C=y[0],M=1;M<y.length;++M)(!y[M].isValid()||y[M][h](C))&&(C=y[M]);return C}function Rq(){var h=[].slice.call(arguments,0);return MS("isBefore",h)}function Fq(){var h=[].slice.call(arguments,0);return MS("isAfter",h)}var Lq=function(){return Date.now?Date.now():+new Date},Qf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jq(h){var y,C=!1,M,A=Qf.length;for(y in h)if(o(h,y)&&!(En.call(Qf,y)!==-1&&(h[y]==null||!isNaN(h[y]))))return!1;for(M=0;M<A;++M)if(h[Qf[M]]){if(C)return!1;parseFloat(h[Qf[M]])!==lt(h[Qf[M]])&&(C=!0)}return!0}function Vq(){return this._isValid}function Uq(){return Zi(NaN)}function vg(h){var y=Br(h),C=y.year||0,M=y.quarter||0,A=y.month||0,W=y.week||y.isoWeek||0,K=y.day||0,we=y.hour||0,qe=y.minute||0,dt=y.second||0,Ir=y.millisecond||0;this._isValid=jq(y),this._milliseconds=+Ir+dt*1e3+qe*6e4+we*1e3*60*60,this._days=+K+W*7,this._months=+A+M*3+C*12,this._data={},this._locale=Cs(),this._bubble()}function xg(h){return h instanceof vg}function ab(h){return h<0?Math.round(-1*h)*-1:Math.round(h)}function $q(h,y,C){var M=Math.min(h.length,y.length),A=Math.abs(h.length-y.length),W=0,K;for(K=0;K<M;K++)(C&&h[K]!==y[K]||!C&&lt(h[K])!==lt(y[K]))&&W++;return W+A}function SS(h,y){X(h,0,0,function(){var C=this.utcOffset(),M="+";return C<0&&(C=-C,M="-"),M+U(~~(C/60),2)+y+U(~~C%60,2)})}SS("Z",":"),SS("ZZ",""),De("Z",da),De("ZZ",da),Gt(["Z","ZZ"],function(h,y,C){C._useUTC=!0,C._tzm=lb(da,h)});var zq=/([\+\-]|\d\d)/gi;function lb(h,y){var C=(y||"").match(h),M,A,W;return C===null?null:(M=C[C.length-1]||[],A=(M+"").match(zq)||["-",0,0],W=+(A[1]*60)+lt(A[2]),W===0?0:A[0]==="+"?W:-W)}function cb(h,y){var C,M;return y._isUTC?(C=y.clone(),M=(E(h)||c(h)?h.valueOf():an(h).valueOf())-C.valueOf(),C._d.setTime(C._d.valueOf()+M),t.updateOffset(C,!1),C):an(h).local()}function ub(h){return-Math.round(h._d.getTimezoneOffset())}t.updateOffset=function(){};function Bq(h,y,C){var M=this._offset||0,A;if(!this.isValid())return h!=null?this:NaN;if(h!=null){if(typeof h=="string"){if(h=lb(da,h),h===null)return this}else Math.abs(h)<16&&!C&&(h=h*60);return!this._isUTC&&y&&(A=ub(this)),this._offset=h,this._isUTC=!0,A!=null&&this.add(A,"m"),M!==h&&(!y||this._changeInProgress?IS(this,Zi(h-M,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?M:ub(this)}function Hq(h,y){return h!=null?(typeof h!="string"&&(h=-h),this.utcOffset(h,y),this):-this.utcOffset()}function Wq(h){return this.utcOffset(0,h)}function qq(h){return this._isUTC&&(this.utcOffset(0,h),this._isUTC=!1,h&&this.subtract(ub(this),"m")),this}function Gq(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var h=lb(or,this._i);h!=null?this.utcOffset(h):this.utcOffset(0,!0)}return this}function Yq(h){return this.isValid()?(h=h?an(h).utcOffset():0,(this.utcOffset()-h)%60===0):!1}function Zq(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Xq(){if(!a(this._isDSTShifted))return this._isDSTShifted;var h={},y;return b(h,this),h=CS(h),h._a?(y=h._isUTC?f(h._a):an(h._a),this._isDSTShifted=this.isValid()&&$q(h._a,y.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Qq(){return this.isValid()?!this._isUTC:!1}function Kq(){return this.isValid()?this._isUTC:!1}function ES(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Jq=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,eG=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zi(h,y){var C=h,M=null,A,W,K;return xg(h)?C={ms:h._milliseconds,d:h._days,M:h._months}:l(h)||!isNaN(+h)?(C={},y?C[y]=+h:C.milliseconds=+h):(M=Jq.exec(h))?(A=M[1]==="-"?-1:1,C={y:0,d:lt(M[Eo])*A,h:lt(M[jn])*A,m:lt(M[Yi])*A,s:lt(M[_s])*A,ms:lt(ab(M[Dl]*1e3))*A}):(M=eG.exec(h))?(A=M[1]==="-"?-1:1,C={y:Ml(M[2],A),M:Ml(M[3],A),w:Ml(M[4],A),d:Ml(M[5],A),h:Ml(M[6],A),m:Ml(M[7],A),s:Ml(M[8],A)}):C==null?C={}:typeof C=="object"&&("from"in C||"to"in C)&&(K=tG(an(C.from),an(C.to)),C={},C.ms=K.milliseconds,C.M=K.months),W=new vg(C),xg(h)&&o(h,"_locale")&&(W._locale=h._locale),xg(h)&&o(h,"_isValid")&&(W._isValid=h._isValid),W}Zi.fn=vg.prototype,Zi.invalid=Uq;function Ml(h,y){var C=h&&parseFloat(h.replace(",","."));return(isNaN(C)?0:C)*y}function TS(h,y){var C={};return C.months=y.month()-h.month()+(y.year()-h.year())*12,h.clone().add(C.months,"M").isAfter(y)&&--C.months,C.milliseconds=+y-+h.clone().add(C.months,"M"),C}function tG(h,y){var C;return h.isValid()&&y.isValid()?(y=cb(y,h),h.isBefore(y)?C=TS(h,y):(C=TS(y,h),C.milliseconds=-C.milliseconds,C.months=-C.months),C):{milliseconds:0,months:0}}function kS(h,y){return function(C,M){var A,W;return M!==null&&!isNaN(+M)&&($(y,"moment()."+y+"(period, number) is deprecated. Please use moment()."+y+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),W=C,C=M,M=W),A=Zi(C,M),IS(this,A,h),this}}function IS(h,y,C,M){var A=y._milliseconds,W=ab(y._days),K=ab(y._months);h.isValid()&&(M=M??!0,K&&fS(h,qf(h,"Month")+K*C),W&&cS(h,"Date",qf(h,"Date")+W*C),A&&h._d.setTime(h._d.valueOf()+A*C),M&&t.updateOffset(h,W||K))}var nG=kS(1,"add"),rG=kS(-1,"subtract");function AS(h){return typeof h=="string"||h instanceof String}function iG(h){return E(h)||c(h)||AS(h)||l(h)||sG(h)||oG(h)||h===null||h===void 0}function oG(h){var y=i(h)&&!s(h),C=!1,M=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],A,W,K=M.length;for(A=0;A<K;A+=1)W=M[A],C=C||o(h,W);return y&&C}function sG(h){var y=n(h),C=!1;return y&&(C=h.filter(function(M){return!l(M)&&AS(h)}).length===0),y&&C}function aG(h){var y=i(h)&&!s(h),C=!1,M=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],A,W;for(A=0;A<M.length;A+=1)W=M[A],C=C||o(h,W);return y&&C}function lG(h,y){var C=h.diff(y,"days",!0);return C<-6?"sameElse":C<-1?"lastWeek":C<0?"lastDay":C<1?"sameDay":C<2?"nextDay":C<7?"nextWeek":"sameElse"}function cG(h,y){arguments.length===1&&(arguments[0]?iG(arguments[0])?(h=arguments[0],y=void 0):aG(arguments[0])&&(y=arguments[0],h=void 0):(h=void 0,y=void 0));var C=h||an(),M=cb(C,this).startOf("day"),A=t.calendarFormat(this,M)||"sameElse",W=y&&(D(y[A])?y[A].call(this,C):y[A]);return this.format(W||this.localeData().calendar(A,this,an(C)))}function uG(){return new k(this)}function dG(h,y){var C=E(h)?h:an(h);return this.isValid()&&C.isValid()?(y=Pn(y)||"millisecond",y==="millisecond"?this.valueOf()>C.valueOf():C.valueOf()<this.clone().startOf(y).valueOf()):!1}function fG(h,y){var C=E(h)?h:an(h);return this.isValid()&&C.isValid()?(y=Pn(y)||"millisecond",y==="millisecond"?this.valueOf()<C.valueOf():this.clone().endOf(y).valueOf()<C.valueOf()):!1}function hG(h,y,C,M){var A=E(h)?h:an(h),W=E(y)?y:an(y);return this.isValid()&&A.isValid()&&W.isValid()?(M=M||"()",(M[0]==="("?this.isAfter(A,C):!this.isBefore(A,C))&&(M[1]===")"?this.isBefore(W,C):!this.isAfter(W,C))):!1}function pG(h,y){var C=E(h)?h:an(h),M;return this.isValid()&&C.isValid()?(y=Pn(y)||"millisecond",y==="millisecond"?this.valueOf()===C.valueOf():(M=C.valueOf(),this.clone().startOf(y).valueOf()<=M&&M<=this.clone().endOf(y).valueOf())):!1}function mG(h,y){return this.isSame(h,y)||this.isAfter(h,y)}function gG(h,y){return this.isSame(h,y)||this.isBefore(h,y)}function yG(h,y,C){var M,A,W;if(!this.isValid())return NaN;if(M=cb(h,this),!M.isValid())return NaN;switch(A=(M.utcOffset()-this.utcOffset())*6e4,y=Pn(y),y){case"year":W=bg(this,M)/12;break;case"month":W=bg(this,M);break;case"quarter":W=bg(this,M)/3;break;case"second":W=(this-M)/1e3;break;case"minute":W=(this-M)/6e4;break;case"hour":W=(this-M)/36e5;break;case"day":W=(this-M-A)/864e5;break;case"week":W=(this-M-A)/6048e5;break;default:W=this-M}return C?W:Ei(W)}function bg(h,y){if(h.date()<y.date())return-bg(y,h);var C=(y.year()-h.year())*12+(y.month()-h.month()),M=h.clone().add(C,"months"),A,W;return y-M<0?(A=h.clone().add(C-1,"months"),W=(y-M)/(M-A)):(A=h.clone().add(C+1,"months"),W=(y-M)/(A-M)),-(C+W)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function vG(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function xG(h){if(!this.isValid())return null;var y=h!==!0,C=y?this.clone().utc():this;return C.year()<0||C.year()>9999?_e(C,y?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?y?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_e(C,"Z")):_e(C,y?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function bG(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var h="moment",y="",C,M,A,W;return this.isLocal()||(h=this.utcOffset()===0?"moment.utc":"moment.parseZone",y="Z"),C="["+h+'("]',M=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",A="-MM-DD[T]HH:mm:ss.SSS",W=y+'[")]',this.format(C+M+A+W)}function _G(h){h||(h=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var y=_e(this,h);return this.localeData().postformat(y)}function wG(h,y){return this.isValid()&&(E(h)&&h.isValid()||an(h).isValid())?Zi({to:this,from:h}).locale(this.locale()).humanize(!y):this.localeData().invalidDate()}function CG(h){return this.from(an(),h)}function DG(h,y){return this.isValid()&&(E(h)&&h.isValid()||an(h).isValid())?Zi({from:this,to:h}).locale(this.locale()).humanize(!y):this.localeData().invalidDate()}function MG(h){return this.to(an(),h)}function OS(h){var y;return h===void 0?this._locale._abbr:(y=Cs(h),y!=null&&(this._locale=y),this)}var PS=z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(h){return h===void 0?this.localeData():this.locale(h)});function NS(){return this._locale}var _g=1e3,eu=60*_g,wg=60*eu,RS=(365*400+97)*24*wg;function tu(h,y){return(h%y+y)%y}function FS(h,y,C){return h<100&&h>=0?new Date(h+400,y,C)-RS:new Date(h,y,C).valueOf()}function LS(h,y,C){return h<100&&h>=0?Date.UTC(h+400,y,C)-RS:Date.UTC(h,y,C)}function SG(h){var y,C;if(h=Pn(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(C=this._isUTC?LS:FS,h){case"year":y=C(this.year(),0,1);break;case"quarter":y=C(this.year(),this.month()-this.month()%3,1);break;case"month":y=C(this.year(),this.month(),1);break;case"week":y=C(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":y=C(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":y=C(this.year(),this.month(),this.date());break;case"hour":y=this._d.valueOf(),y-=tu(y+(this._isUTC?0:this.utcOffset()*eu),wg);break;case"minute":y=this._d.valueOf(),y-=tu(y,eu);break;case"second":y=this._d.valueOf(),y-=tu(y,_g);break}return this._d.setTime(y),t.updateOffset(this,!0),this}function EG(h){var y,C;if(h=Pn(h),h===void 0||h==="millisecond"||!this.isValid())return this;switch(C=this._isUTC?LS:FS,h){case"year":y=C(this.year()+1,0,1)-1;break;case"quarter":y=C(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":y=C(this.year(),this.month()+1,1)-1;break;case"week":y=C(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":y=C(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":y=C(this.year(),this.month(),this.date()+1)-1;break;case"hour":y=this._d.valueOf(),y+=wg-tu(y+(this._isUTC?0:this.utcOffset()*eu),wg)-1;break;case"minute":y=this._d.valueOf(),y+=eu-tu(y,eu)-1;break;case"second":y=this._d.valueOf(),y+=_g-tu(y,_g)-1;break}return this._d.setTime(y),t.updateOffset(this,!0),this}function TG(){return this._d.valueOf()-(this._offset||0)*6e4}function kG(){return Math.floor(this.valueOf()/1e3)}function IG(){return new Date(this.valueOf())}function AG(){var h=this;return[h.year(),h.month(),h.date(),h.hour(),h.minute(),h.second(),h.millisecond()]}function OG(){var h=this;return{years:h.year(),months:h.month(),date:h.date(),hours:h.hours(),minutes:h.minutes(),seconds:h.seconds(),milliseconds:h.milliseconds()}}function PG(){return this.isValid()?this.toISOString():null}function NG(){return g(this)}function RG(){return d({},m(this))}function FG(){return m(this).overflow}function LG(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr"),X("NN",0,0,"eraAbbr"),X("NNN",0,0,"eraAbbr"),X("NNNN",0,0,"eraName"),X("NNNNN",0,0,"eraNarrow"),X("y",["y",1],"yo","eraYear"),X("y",["yy",2],0,"eraYear"),X("y",["yyy",3],0,"eraYear"),X("y",["yyyy",4],0,"eraYear"),De("N",db),De("NN",db),De("NNN",db),De("NNNN",YG),De("NNNNN",ZG),Gt(["N","NN","NNN","NNNN","NNNNN"],function(h,y,C,M){var A=C._locale.erasParse(h,M,C._strict);A?m(C).era=A:m(C).invalidEra=h}),De("y",qt),De("yy",qt),De("yyy",qt),De("yyyy",qt),De("yo",XG),Gt(["y","yy","yyy","yyyy"],mr),Gt(["yo"],function(h,y,C,M){var A;C._locale._eraYearOrdinalRegex&&(A=h.match(C._locale._eraYearOrdinalRegex)),C._locale.eraYearOrdinalParse?y[mr]=C._locale.eraYearOrdinalParse(h,A):y[mr]=parseInt(h,10)});function jG(h,y){var C,M,A,W=this._eras||Cs("en")._eras;for(C=0,M=W.length;C<M;++C){switch(typeof W[C].since){case"string":A=t(W[C].since).startOf("day"),W[C].since=A.valueOf();break}switch(typeof W[C].until){case"undefined":W[C].until=1/0;break;case"string":A=t(W[C].until).startOf("day").valueOf(),W[C].until=A.valueOf();break}}return W}function VG(h,y,C){var M,A,W=this.eras(),K,we,qe;for(h=h.toUpperCase(),M=0,A=W.length;M<A;++M)if(K=W[M].name.toUpperCase(),we=W[M].abbr.toUpperCase(),qe=W[M].narrow.toUpperCase(),C)switch(y){case"N":case"NN":case"NNN":if(we===h)return W[M];break;case"NNNN":if(K===h)return W[M];break;case"NNNNN":if(qe===h)return W[M];break}else if([K,we,qe].indexOf(h)>=0)return W[M]}function UG(h,y){var C=h.since<=h.until?1:-1;return y===void 0?t(h.since).year():t(h.since).year()+(y-h.offset)*C}function $G(){var h,y,C,M=this.localeData().eras();for(h=0,y=M.length;h<y;++h)if(C=this.clone().startOf("day").valueOf(),M[h].since<=C&&C<=M[h].until||M[h].until<=C&&C<=M[h].since)return M[h].name;return""}function zG(){var h,y,C,M=this.localeData().eras();for(h=0,y=M.length;h<y;++h)if(C=this.clone().startOf("day").valueOf(),M[h].since<=C&&C<=M[h].until||M[h].until<=C&&C<=M[h].since)return M[h].narrow;return""}function BG(){var h,y,C,M=this.localeData().eras();for(h=0,y=M.length;h<y;++h)if(C=this.clone().startOf("day").valueOf(),M[h].since<=C&&C<=M[h].until||M[h].until<=C&&C<=M[h].since)return M[h].abbr;return""}function HG(){var h,y,C,M,A=this.localeData().eras();for(h=0,y=A.length;h<y;++h)if(C=A[h].since<=A[h].until?1:-1,M=this.clone().startOf("day").valueOf(),A[h].since<=M&&M<=A[h].until||A[h].until<=M&&M<=A[h].since)return(this.year()-t(A[h].since).year())*C+A[h].offset;return this.year()}function WG(h){return o(this,"_erasNameRegex")||fb.call(this),h?this._erasNameRegex:this._erasRegex}function qG(h){return o(this,"_erasAbbrRegex")||fb.call(this),h?this._erasAbbrRegex:this._erasRegex}function GG(h){return o(this,"_erasNarrowRegex")||fb.call(this),h?this._erasNarrowRegex:this._erasRegex}function db(h,y){return y.erasAbbrRegex(h)}function YG(h,y){return y.erasNameRegex(h)}function ZG(h,y){return y.erasNarrowRegex(h)}function XG(h,y){return y._eraYearOrdinalRegex||qt}function fb(){var h=[],y=[],C=[],M=[],A,W,K,we,qe,dt=this.eras();for(A=0,W=dt.length;A<W;++A)K=xs(dt[A].name),we=xs(dt[A].abbr),qe=xs(dt[A].narrow),y.push(K),h.push(we),C.push(qe),M.push(K),M.push(we),M.push(qe);this._erasRegex=new RegExp("^("+M.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+y.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+h.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+C.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100}),X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Cg(h,y){X(0,[h,h.length],0,y)}Cg("gggg","weekYear"),Cg("ggggg","weekYear"),Cg("GGGG","isoWeekYear"),Cg("GGGGG","isoWeekYear"),De("G",mn),De("g",mn),De("GG",Pe,kr),De("gg",Pe,kr),De("GGGG",wt,Ie),De("gggg",wt,Ie),De("GGGGG",Wt,It),De("ggggg",Wt,It),Hf(["gggg","ggggg","GGGG","GGGGG"],function(h,y,C,M){y[M.substr(0,2)]=lt(h)}),Hf(["gg","GG"],function(h,y,C,M){y[M]=t.parseTwoDigitYear(h)});function QG(h){return jS.call(this,h,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function KG(h){return jS.call(this,h,this.isoWeek(),this.isoWeekday(),1,4)}function JG(){return ws(this.year(),1,4)}function eY(){return ws(this.isoWeekYear(),1,4)}function tY(){var h=this.localeData()._week;return ws(this.year(),h.dow,h.doy)}function nY(){var h=this.localeData()._week;return ws(this.weekYear(),h.dow,h.doy)}function jS(h,y,C,M,A){var W;return h==null?Yf(this,M,A).year:(W=ws(h,M,A),y>W&&(y=W),rY.call(this,h,y,C,M,A))}function rY(h,y,C,M,A){var W=mS(h,y,C,M,A),K=Gf(W.year,0,W.dayOfYear);return this.year(K.getUTCFullYear()),this.month(K.getUTCMonth()),this.date(K.getUTCDate()),this}X("Q",0,"Qo","quarter"),De("Q",dg),Gt("Q",function(h,y){y[bs]=(lt(h)-1)*3});function iY(h){return h==null?Math.ceil((this.month()+1)/3):this.month((h-1)*3+this.month()%3)}X("D",["DD",2],"Do","date"),De("D",Pe,Qc),De("DD",Pe,kr),De("Do",function(h,y){return h?y._dayOfMonthOrdinalParse||y._ordinalParse:y._dayOfMonthOrdinalParseLenient}),Gt(["D","DD"],Eo),Gt("Do",function(h,y){y[Eo]=lt(h.match(Pe)[0])});var VS=Kc("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear"),De("DDD",mt),De("DDDD",fg),Gt(["DDD","DDDD"],function(h,y,C){C._dayOfYear=lt(h)});function oY(h){var y=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return h==null?y:this.add(h-y,"d")}X("m",["mm",2],0,"minute"),De("m",Pe,Xx),De("mm",Pe,kr),Gt(["m","mm"],Yi);var sY=Kc("Minutes",!1);X("s",["ss",2],0,"second"),De("s",Pe,Xx),De("ss",Pe,kr),Gt(["s","ss"],_s);var aY=Kc("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)}),X(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),X(0,["SSS",3],0,"millisecond"),X(0,["SSSS",4],0,function(){return this.millisecond()*10}),X(0,["SSSSS",5],0,function(){return this.millisecond()*100}),X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),De("S",mt,dg),De("SS",mt,kr),De("SSS",mt,fg);var ha,US;for(ha="SSSS";ha.length<=9;ha+="S")De(ha,qt);function lY(h,y){y[Dl]=lt(("0."+h)*1e3)}for(ha="S";ha.length<=9;ha+="S")Gt(ha,lY);US=Kc("Milliseconds",!1),X("z",0,0,"zoneAbbr"),X("zz",0,0,"zoneName");function cY(){return this._isUTC?"UTC":""}function uY(){return this._isUTC?"Coordinated Universal Time":""}var ue=k.prototype;ue.add=nG,ue.calendar=cG,ue.clone=uG,ue.diff=yG,ue.endOf=EG,ue.format=_G,ue.from=wG,ue.fromNow=CG,ue.to=DG,ue.toNow=MG,ue.get=bW,ue.invalidAt=FG,ue.isAfter=dG,ue.isBefore=fG,ue.isBetween=hG,ue.isSame=pG,ue.isSameOrAfter=mG,ue.isSameOrBefore=gG,ue.isValid=NG,ue.lang=PS,ue.locale=OS,ue.localeData=NS,ue.max=Nq,ue.min=Pq,ue.parsingFlags=RG,ue.set=_W,ue.startOf=SG,ue.subtract=rG,ue.toArray=AG,ue.toObject=OG,ue.toDate=IG,ue.toISOString=xG,ue.inspect=bG,typeof Symbol<"u"&&Symbol.for!=null&&(ue[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ue.toJSON=PG,ue.toString=vG,ue.unix=kG,ue.valueOf=TG,ue.creationData=LG,ue.eraName=$G,ue.eraNarrow=zG,ue.eraAbbr=BG,ue.eraYear=HG,ue.year=lS,ue.isLeapYear=xW,ue.weekYear=QG,ue.isoWeekYear=KG,ue.quarter=ue.quarters=iY,ue.month=hS,ue.daysInMonth=IW,ue.week=ue.weeks=jW,ue.isoWeek=ue.isoWeeks=VW,ue.weeksInYear=tY,ue.weeksInWeekYear=nY,ue.isoWeeksInYear=JG,ue.isoWeeksInISOWeekYear=eY,ue.date=VS,ue.day=ue.days=KW,ue.weekday=JW,ue.isoWeekday=eq,ue.dayOfYear=oY,ue.hour=ue.hours=aq,ue.minute=ue.minutes=sY,ue.second=ue.seconds=aY,ue.millisecond=ue.milliseconds=US,ue.utcOffset=Bq,ue.utc=Wq,ue.local=qq,ue.parseZone=Gq,ue.hasAlignedHourOffset=Yq,ue.isDST=Zq,ue.isLocal=Qq,ue.isUtcOffset=Kq,ue.isUtc=ES,ue.isUTC=ES,ue.zoneAbbr=cY,ue.zoneName=uY,ue.dates=z("dates accessor is deprecated. Use date instead.",VS),ue.months=z("months accessor is deprecated. Use month instead",hS),ue.years=z("years accessor is deprecated. Use year instead",lS),ue.zone=z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Hq),ue.isDSTShifted=z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Xq);function dY(h){return an(h*1e3)}function fY(){return an.apply(null,arguments).parseZone()}function $S(h){return h}var St=O.prototype;St.calendar=P,St.longDateFormat=te,St.invalidDate=ke,St.ordinal=Je,St.preparse=$S,St.postformat=$S,St.relativeTime=bn,St.pastFuture=je,St.set=I,St.eras=jG,St.erasParse=VG,St.erasConvertYear=UG,St.erasAbbrRegex=qG,St.erasNameRegex=WG,St.erasNarrowRegex=GG,St.months=SW,St.monthsShort=EW,St.monthsParse=kW,St.monthsRegex=OW,St.monthsShortRegex=AW,St.week=NW,St.firstDayOfYear=LW,St.firstDayOfWeek=FW,St.weekdays=GW,St.weekdaysMin=ZW,St.weekdaysShort=YW,St.weekdaysParse=QW,St.weekdaysRegex=tq,St.weekdaysShortRegex=nq,St.weekdaysMinRegex=rq,St.isPM=oq,St.meridiem=lq;function Dg(h,y,C,M){var A=Cs(),W=f().set(M,y);return A[C](W,h)}function zS(h,y,C){if(l(h)&&(y=h,h=void 0),h=h||"",y!=null)return Dg(h,y,C,"month");var M,A=[];for(M=0;M<12;M++)A[M]=Dg(h,M,C,"month");return A}function hb(h,y,C,M){typeof h=="boolean"?(l(y)&&(C=y,y=void 0),y=y||""):(y=h,C=y,h=!1,l(y)&&(C=y,y=void 0),y=y||"");var A=Cs(),W=h?A._week.dow:0,K,we=[];if(C!=null)return Dg(y,(C+W)%7,M,"day");for(K=0;K<7;K++)we[K]=Dg(y,(K+W)%7,M,"day");return we}function hY(h,y){return zS(h,y,"months")}function pY(h,y){return zS(h,y,"monthsShort")}function mY(h,y,C){return hb(h,y,C,"weekdays")}function gY(h,y,C){return hb(h,y,C,"weekdaysShort")}function yY(h,y,C){return hb(h,y,C,"weekdaysMin")}fa("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(h){var y=h%10,C=lt(h%100/10)===1?"th":y===1?"st":y===2?"nd":y===3?"rd":"th";return h+C}}),t.lang=z("moment.lang is deprecated. Use moment.locale instead.",fa),t.langData=z("moment.langData is deprecated. Use moment.localeData instead.",Cs);var Ds=Math.abs;function vY(){var h=this._data;return this._milliseconds=Ds(this._milliseconds),this._days=Ds(this._days),this._months=Ds(this._months),h.milliseconds=Ds(h.milliseconds),h.seconds=Ds(h.seconds),h.minutes=Ds(h.minutes),h.hours=Ds(h.hours),h.months=Ds(h.months),h.years=Ds(h.years),this}function BS(h,y,C,M){var A=Zi(y,C);return h._milliseconds+=M*A._milliseconds,h._days+=M*A._days,h._months+=M*A._months,h._bubble()}function xY(h,y){return BS(this,h,y,1)}function bY(h,y){return BS(this,h,y,-1)}function HS(h){return h<0?Math.floor(h):Math.ceil(h)}function _Y(){var h=this._milliseconds,y=this._days,C=this._months,M=this._data,A,W,K,we,qe;return h>=0&&y>=0&&C>=0||h<=0&&y<=0&&C<=0||(h+=HS(pb(C)+y)*864e5,y=0,C=0),M.milliseconds=h%1e3,A=Ei(h/1e3),M.seconds=A%60,W=Ei(A/60),M.minutes=W%60,K=Ei(W/60),M.hours=K%24,y+=Ei(K/24),qe=Ei(WS(y)),C+=qe,y-=HS(pb(qe)),we=Ei(C/12),C%=12,M.days=y,M.months=C,M.years=we,this}function WS(h){return h*4800/146097}function pb(h){return h*146097/4800}function wY(h){if(!this.isValid())return NaN;var y,C,M=this._milliseconds;if(h=Pn(h),h==="month"||h==="quarter"||h==="year")switch(y=this._days+M/864e5,C=this._months+WS(y),h){case"month":return C;case"quarter":return C/3;case"year":return C/12}else switch(y=this._days+Math.round(pb(this._months)),h){case"week":return y/7+M/6048e5;case"day":return y+M/864e5;case"hour":return y*24+M/36e5;case"minute":return y*1440+M/6e4;case"second":return y*86400+M/1e3;case"millisecond":return Math.floor(y*864e5)+M;default:throw new Error("Unknown unit "+h)}}function Ms(h){return function(){return this.as(h)}}var qS=Ms("ms"),CY=Ms("s"),DY=Ms("m"),MY=Ms("h"),SY=Ms("d"),EY=Ms("w"),TY=Ms("M"),kY=Ms("Q"),IY=Ms("y"),AY=qS;function OY(){return Zi(this)}function PY(h){return h=Pn(h),this.isValid()?this[h+"s"]():NaN}function Sl(h){return function(){return this.isValid()?this._data[h]:NaN}}var NY=Sl("milliseconds"),RY=Sl("seconds"),FY=Sl("minutes"),LY=Sl("hours"),jY=Sl("days"),VY=Sl("months"),UY=Sl("years");function $Y(){return Ei(this.days()/7)}var Ss=Math.round,nu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function zY(h,y,C,M,A){return A.relativeTime(y||1,!!C,h,M)}function BY(h,y,C,M){var A=Zi(h).abs(),W=Ss(A.as("s")),K=Ss(A.as("m")),we=Ss(A.as("h")),qe=Ss(A.as("d")),dt=Ss(A.as("M")),Ir=Ss(A.as("w")),Es=Ss(A.as("y")),pa=W<=C.ss&&["s",W]||W<C.s&&["ss",W]||K<=1&&["m"]||K<C.m&&["mm",K]||we<=1&&["h"]||we<C.h&&["hh",we]||qe<=1&&["d"]||qe<C.d&&["dd",qe];return C.w!=null&&(pa=pa||Ir<=1&&["w"]||Ir<C.w&&["ww",Ir]),pa=pa||dt<=1&&["M"]||dt<C.M&&["MM",dt]||Es<=1&&["y"]||["yy",Es],pa[2]=y,pa[3]=+h>0,pa[4]=M,zY.apply(null,pa)}function HY(h){return h===void 0?Ss:typeof h=="function"?(Ss=h,!0):!1}function WY(h,y){return nu[h]===void 0?!1:y===void 0?nu[h]:(nu[h]=y,h==="s"&&(nu.ss=y-1),!0)}function qY(h,y){if(!this.isValid())return this.localeData().invalidDate();var C=!1,M=nu,A,W;return typeof h=="object"&&(y=h,h=!1),typeof h=="boolean"&&(C=h),typeof y=="object"&&(M=Object.assign({},nu,y),y.s!=null&&y.ss==null&&(M.ss=y.s-1)),A=this.localeData(),W=BY(this,!C,M,A),C&&(W=A.pastFuture(+this,W)),A.postformat(W)}var mb=Math.abs;function ru(h){return(h>0)-(h<0)||+h}function Mg(){if(!this.isValid())return this.localeData().invalidDate();var h=mb(this._milliseconds)/1e3,y=mb(this._days),C=mb(this._months),M,A,W,K,we=this.asSeconds(),qe,dt,Ir,Es;return we?(M=Ei(h/60),A=Ei(M/60),h%=60,M%=60,W=Ei(C/12),C%=12,K=h?h.toFixed(3).replace(/\.?0+$/,""):"",qe=we<0?"-":"",dt=ru(this._months)!==ru(we)?"-":"",Ir=ru(this._days)!==ru(we)?"-":"",Es=ru(this._milliseconds)!==ru(we)?"-":"",qe+"P"+(W?dt+W+"Y":"")+(C?dt+C+"M":"")+(y?Ir+y+"D":"")+(A||M||h?"T":"")+(A?Es+A+"H":"")+(M?Es+M+"M":"")+(h?Es+K+"S":"")):"P0D"}var gt=vg.prototype;gt.isValid=Vq,gt.abs=vY,gt.add=xY,gt.subtract=bY,gt.as=wY,gt.asMilliseconds=qS,gt.asSeconds=CY,gt.asMinutes=DY,gt.asHours=MY,gt.asDays=SY,gt.asWeeks=EY,gt.asMonths=TY,gt.asQuarters=kY,gt.asYears=IY,gt.valueOf=AY,gt._bubble=_Y,gt.clone=OY,gt.get=PY,gt.milliseconds=NY,gt.seconds=RY,gt.minutes=FY,gt.hours=LY,gt.days=jY,gt.weeks=$Y,gt.months=VY,gt.years=UY,gt.humanize=qY,gt.toISOString=Mg,gt.toString=Mg,gt.toJSON=Mg,gt.locale=OS,gt.localeData=NS,gt.toIsoString=z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mg),gt.lang=PS,X("X",0,0,"unix"),X("x",0,0,"valueOf"),De("x",mn),De("X",hW),Gt("X",function(h,y,C){C._d=new Date(parseFloat(h)*1e3)}),Gt("x",function(h,y,C){C._d=new Date(lt(h))});return t.version="2.30.1",r(an),t.fn=ue,t.min=Rq,t.max=Fq,t.now=Lq,t.utc=f,t.unix=dY,t.months=hY,t.isDate=c,t.locale=fa,t.invalid=x,t.duration=Zi,t.isMoment=E,t.weekdays=mY,t.parseZone=fY,t.localeData=Cs,t.isDuration=xg,t.monthsShort=pY,t.weekdaysMin=yY,t.defineLocale=nb,t.updateLocale=fq,t.locales=hq,t.weekdaysShort=gY,t.normalizeUnits=Pn,t.relativeTimeRounding=HY,t.relativeTimeThreshold=WY,t.calendarFormat=lG,t.prototype=ue,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var Fz=Ti((Rz,vM)=>{"use strict";(function(e,t,r){function n(a){var l=this,c=s();l.next=function(){var u=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=u-(l.c=u|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(a),l.s0<0&&(l.s0+=1),l.s1-=c(a),l.s1<0&&(l.s1+=1),l.s2-=c(a),l.s2<0&&(l.s2+=1),c=null}function i(a,l){return l.c=a.c,l.s0=a.s0,l.s1=a.s1,l.s2=a.s2,l}function o(a,l){var c=new n(a),u=l&&l.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&i(u,c),d.state=function(){return i(c,{})}),d}function s(){var a=4022871197,l=function(c){c=String(c);for(var u=0;u<c.length;u++){a+=c.charCodeAt(u);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=d*4294967296}return(a>>>0)*23283064365386963e-26};return l}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(Rz,typeof vM=="object"&&vM,typeof define=="function"&&define)});var jz=Ti((Lz,xM)=>{"use strict";(function(e,t,r){function n(s){var a=this,l="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var u=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^u^u>>>8},s===(s|0)?a.x=s:l+=s;for(var c=0;c<l.length+64;c++)a.x^=l.charCodeAt(c)|0,a.next()}function i(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a}function o(s,a){var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,p=(d+f)/(1<<21);while(p===0);return p},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(Lz,typeof xM=="object"&&xM,typeof define=="function"&&define)});var Uz=Ti((Vz,bM)=>{"use strict";(function(e,t,r){function n(s){var a=this,l="";a.next=function(){var u=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(u^u<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,s===(s|0)?a.x=s:l+=s;for(var c=0;c<l.length+64;c++)a.x^=l.charCodeAt(c)|0,c==l.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function i(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a.v=s.v,a.d=s.d,a}function o(s,a){var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,p=(d+f)/(1<<21);while(p===0);return p},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(Vz,typeof bM=="object"&&bM,typeof define=="function"&&define)});var zz=Ti(($z,_M)=>{"use strict";(function(e,t,r){function n(s){var a=this;a.next=function(){var c=a.x,u=a.i,d,f,p;return d=c[u],d^=d>>>7,f=d^d<<24,d=c[u+1&7],f^=d^d>>>10,d=c[u+3&7],f^=d^d>>>3,d=c[u+4&7],f^=d^d<<7,d=c[u+7&7],d=d^d<<13,f^=d^d<<9,c[u]=f,a.i=u+1&7,f};function l(c,u){var d,f,p=[];if(u===(u|0))f=p[0]=u;else for(u=""+u,d=0;d<u.length;++d)p[d&7]=p[d&7]<<15^u.charCodeAt(d)+p[d+1&7]<<13;for(;p.length<8;)p.push(0);for(d=0;d<8&&p[d]===0;++d);for(d==8?f=p[7]=-1:f=p[d],c.x=p,c.i=0,d=256;d>0;--d)c.next()}l(a,s)}function i(s,a){return a.x=s.x.slice(),a.i=s.i,a}function o(s,a){s==null&&(s=+new Date);var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,p=(d+f)/(1<<21);while(p===0);return p},u.int32=l.next,u.quick=u,c&&(c.x&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})($z,typeof _M=="object"&&_M,typeof define=="function"&&define)});var Hz=Ti((Bz,wM)=>{"use strict";(function(e,t,r){function n(s){var a=this;a.next=function(){var c=a.w,u=a.X,d=a.i,f,p;return a.w=c=c+1640531527|0,p=u[d+34&127],f=u[d=d+1&127],p^=p<<13,f^=f<<17,p^=p>>>15,f^=f>>>12,p=u[d]=p^f,a.i=d,p+(c^c>>>16)|0};function l(c,u){var d,f,p,m,v,g=[],x=128;for(u===(u|0)?(f=u,u=null):(u=u+"\0",f=0,x=Math.max(x,u.length)),p=0,m=-32;m<x;++m)u&&(f^=u.charCodeAt((m+32)%u.length)),m===0&&(v=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,m>=0&&(v=v+1640531527|0,d=g[m&127]^=f+v,p=d==0?p+1:0);for(p>=128&&(g[(u&&u.length||0)&127]=-1),p=127,m=4*128;m>0;--m)f=g[p+34&127],d=g[p=p+1&127],f^=f<<13,d^=d<<17,f^=f>>>15,d^=d>>>12,g[p]=f^d;c.w=v,c.X=g,c.i=p}l(a,s)}function i(s,a){return a.i=s.i,a.w=s.w,a.X=s.X.slice(),a}function o(s,a){s==null&&(s=+new Date);var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,p=(d+f)/(1<<21);while(p===0);return p},u.int32=l.next,u.quick=u,c&&(c.X&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(Bz,typeof wM=="object"&&wM,typeof define=="function"&&define)});var qz=Ti((Wz,CM)=>{"use strict";(function(e,t,r){function n(s){var a=this,l="";a.next=function(){var u=a.b,d=a.c,f=a.d,p=a.a;return u=u<<25^u>>>7^d,d=d-f|0,f=f<<24^f>>>8^p,p=p-u|0,a.b=u=u<<20^u>>>12^d,a.c=d=d-f|0,a.d=f<<16^d>>>16^p,a.a=p-u|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,s===Math.floor(s)?(a.a=s/4294967296|0,a.b=s|0):l+=s;for(var c=0;c<l.length+20;c++)a.b^=l.charCodeAt(c)|0,a.next()}function i(s,a){return a.a=s.a,a.b=s.b,a.c=s.c,a.d=s.d,a}function o(s,a){var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,p=(d+f)/(1<<21);while(p===0);return p},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(Wz,typeof CM=="object"&&CM,typeof define=="function"&&define)});var Gz=Ti(()=>{"use strict"});var Zz=Ti((Yz,cx)=>{"use strict";(function(e,t,r){var n=256,i=6,o=52,s="random",a=r.pow(n,i),l=r.pow(2,o),c=l*2,u=n-1,d;function f(w,b,k){var E=[];b=b==!0?{entropy:!0}:b||{};var V=g(v(b.entropy?[w,_(t)]:w??x(),3),E),z=new p(E),B=function(){for(var $=z.g(i),D=a,I=0;$<l;)$=($+I)*n,D*=n,I=z.g(1);for(;$>=c;)$/=2,D/=2,I>>>=1;return($+I)/D};return B.int32=function(){return z.g(4)|0},B.quick=function(){return z.g(4)/4294967296},B.double=B,g(_(z.S),t),(b.pass||k||function($,D,I,L){return L&&(L.S&&m(L,z),$.state=function(){return m(z,{})}),I?(r[s]=$,D):$})(B,V,"global"in b?b.global:this==r,b.state)}function p(w){var b,k=w.length,E=this,V=0,z=E.i=E.j=0,B=E.S=[];for(k||(w=[k++]);V<n;)B[V]=V++;for(V=0;V<n;V++)B[V]=B[z=u&z+w[V%k]+(b=B[V])],B[z]=b;(E.g=function($){for(var D,I=0,L=E.i,O=E.j,S=E.S;$--;)D=S[L=u&L+1],I=I*n+S[u&(S[L]=S[O=u&O+D])+(S[O]=D)];return E.i=L,E.j=O,I})(n)}function m(w,b){return b.i=w.i,b.j=w.j,b.S=w.S.slice(),b}function v(w,b){var k=[],E=typeof w,V;if(b&&E=="object")for(V in w)try{k.push(v(w[V],b-1))}catch{}return k.length?k:E=="string"?w:w+"\0"}function g(w,b){for(var k=w+"",E,V=0;V<k.length;)b[u&V]=u&(E^=b[u&V]*19)+k.charCodeAt(V++);return _(b)}function x(){try{var w;return d&&(w=d.randomBytes)?w=w(n):(w=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(w)),_(w)}catch{var b=e.navigator,k=b&&b.plugins;return[+new Date,e,k,e.screen,_(t)]}}function _(w){return String.fromCharCode.apply(0,w)}if(g(r.random(),t),typeof cx=="object"&&cx.exports){cx.exports=f;try{d=Gz()}catch{}}else typeof define=="function"&&define.amd?define(function(){return f}):r["seed"+s]=f})(typeof self<"u"?self:Yz,[],Math)});var DM=Ti(($Qe,Xz)=>{"use strict";var Vpe=Fz(),Upe=jz(),$pe=Uz(),zpe=zz(),Bpe=Hz(),Hpe=qz(),Wc=Zz();Wc.alea=Vpe;Wc.xor128=Upe;Wc.xorwow=$pe;Wc.xorshift7=zpe;Wc.xor4096=Bpe;Wc.tychei=Hpe;Xz.exports=Wc});var Kz=Ti((ux,Qz)=>{"use strict";(function(e,t){typeof ux=="object"&&typeof Qz<"u"?t(ux,(on(),Jf(yP)),(r3(),Jf(KD))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-polygon"],t):t(e.d3=e.d3||{},e.d3,e.d3)})(ux,function(e,t,r){"use strict";var n=1e-10;function i(D){return D<=n&&D>=-n}function o(D,I){return D.x*I.x+D.y*I.y+D.z*I.z}function s(D,I){return i(D.x*I.y-D.y*I.x)&&i(D.y*I.z-D.z*I.y)&&i(D.z*I.x-D.x*I.z)}function a(D){var I,L,O,S,T,P,U,F;if(O=D[D.length-2],S=D[D.length-1],T=D[0],P=l(O,S),U=l(S,T),L=c(P,U),I=Math.sign(L),O=S,S=T,T=D[1],P=U,U=l(S,T),L=c(P,U),Math.sign(L)===I){for(F=2;F<D.length-1;F++)if(O=S,S=T,T=D[F],P=U,U=l(S,T),L=c(P,U),Math.sign(L)!==I)return;return I}}function l(D,I){return[I[0]-D[0],I[1]-D[1]]}function c(D,I){return D[0]*I[1]-D[1]*I[0]}function u(D,I){this.face=D,this.vert=I,this.nextf=null,this.prevf=null,this.nextv=null,this.prevv=null}function d(D){this.forFace=D,this.head=null}d.prototype.add=function(D){this.head===null?this.head=D:this.forFace?(this.head.prevv=D,D.nextv=this.head,this.head=D):(this.head.prevf=D,D.nextf=this.head,this.head=D)},d.prototype.isEmpty=function(){return this.head===null},d.prototype.fill=function(D){if(!this.forFace){var I=this.head;do D.push(I.face),I.face.marked=!0,I=I.nextf;while(I!==null)}},d.prototype.removeAll=function(){if(this.forFace){var D=this.head;do D.prevf===null?D.nextf===null?D.vert.conflicts.head=null:(D.nextf.prevf=null,D.vert.conflicts.head=D.nextf):(D.nextf!=null&&(D.nextf.prevf=D.prevf),D.prevf.nextf=D.nextf),D=D.nextv,D!=null&&(D.prevv=null);while(D!=null)}else{var D=this.head;do D.prevv==null?D.nextv==null?D.face.conflicts.head=null:(D.nextv.prevv=null,D.face.conflicts.head=D.nextv):(D.nextv!=null&&(D.nextv.prevv=D.prevv),D.prevv.nextv=D.nextv),D=D.nextf,D!=null&&(D.prevf=null);while(D!=null)}},d.prototype.getVertices=function(){for(var D=[],I=this.head;I!==null;)D.push(I.vert),I=I.nextv;return D};function f(D,I,L,O,S,T){this.x=D,this.y=I,this.weight=n,this.index=0,this.conflicts=new d(!1),this.neighbours=null,this.nonClippedPolygon=null,this.polygon=null,this.originalObject=null,this.isDummy=!1,S!==void 0&&(this.originalObject=S),T!=null&&(this.isDummy=T),O!=null&&(this.weight=O),L!=null?this.z=L:this.z=this.projectZ(this.x,this.y,this.weight)}f.prototype.projectZ=function(D,I,L){return D*D+I*I-L},f.prototype.setWeight=function(D){this.weight=D,this.z=this.projectZ(this.x,this.y,this.weight)},f.prototype.subtract=function(D){return new f(D.x-this.x,D.y-this.y,D.z-this.z)},f.prototype.crossproduct=function(D){return new f(this.y*D.z-this.z*D.y,this.z*D.x-this.x*D.z,this.x*D.y-this.y*D.x)},f.prototype.equals=function(D){return this.x===D.x&&this.y===D.y&&this.z===D.z};function p(D){var I=D.verts[0],L=D.verts[1],O=D.verts[2];this.a=I.y*(L.z-O.z)+L.y*(O.z-I.z)+O.y*(I.z-L.z),this.b=I.z*(L.x-O.x)+L.z*(O.x-I.x)+O.z*(I.x-L.x),this.c=I.x*(L.y-O.y)+L.x*(O.y-I.y)+O.x*(I.y-L.y),this.d=-1*(I.x*(L.y*O.z-O.y*L.z)+L.x*(O.y*I.z-I.y*O.z)+O.x*(I.y*L.z-L.y*I.z))}p.prototype.getNormZPlane=function(){return[-1*(this.a/this.c),-1*(this.b/this.c),-1*(this.d/this.c)]},p.prototype.getDualPointMappedToPlane=function(){var D=this.getNormZPlane(),I=new m(D[0]/2,D[1]/2);return I};function m(D,I){this.x=D,this.y=I}function v(D,I,L){this.x=D,this.y=I,this.z=L}v.prototype.negate=function(){this.x*=-1,this.y*=-1,this.z*=-1},v.prototype.normalize=function(){var D=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);D>0&&(this.x/=D,this.y/=D,this.z/=D)};function g(D,I,L){this.next=null,this.prev=null,this.twin=null,this.orig=D,this.dest=I,this.iFace=L}g.prototype.isHorizon=function(){return this.twin!==null&&!this.iFace.marked&&this.twin.iFace.marked},g.prototype.findHorizon=function(D){if(this.isHorizon()){if(D.length>0&&this===D[0])return;D.push(this),this.next.findHorizon(D)}else this.twin!==null&&this.twin.next.findHorizon(D)},g.prototype.isEqual=function(D,I){return this.orig.equals(D)&&this.dest.equals(I)||this.orig.equals(I)&&this.dest.equals(D)};function x(D){this.message=D,this.stack=new Error().stack}x.prototype.name="d3WeightedVoronoiError",x.prototype=new Error;function _(D,I,L,O){this.conflicts=new d(!0),this.verts=[D,I,L],this.marked=!1;var S=D.subtract(I).crossproduct(I.subtract(L));this.normal=new v(-S.x,-S.y,-S.z),this.normal.normalize(),this.createEdges(),this.dualPoint=null,O!=null&&this.orient(O)}_.prototype.getDualPoint=function(){if(this.dualPoint==null){var D=new p(this);this.dualPoint=D.getDualPointMappedToPlane()}return this.dualPoint},_.prototype.isVisibleFromBelow=function(){return this.normal.z<-14259414393190911e-25},_.prototype.createEdges=function(){this.edges=[],this.edges[0]=new g(this.verts[0],this.verts[1],this),this.edges[1]=new g(this.verts[1],this.verts[2],this),this.edges[2]=new g(this.verts[2],this.verts[0],this),this.edges[0].next=this.edges[1],this.edges[0].prev=this.edges[2],this.edges[1].next=this.edges[2],this.edges[1].prev=this.edges[0],this.edges[2].next=this.edges[0],this.edges[2].prev=this.edges[1]},_.prototype.orient=function(D){if(!(o(this.normal,D)<o(this.normal,this.verts[0]))){var I=this.verts[1];this.verts[1]=this.verts[2],this.verts[2]=I,this.normal.negate(),this.createEdges()}},_.prototype.getEdge=function(D,I){for(var L=0;L<3;L++)if(this.edges[L].isEqual(D,I))return this.edges[L];return null},_.prototype.link=function(D,I,L){if(D instanceof _){var O=D.getEdge(I,L);if(O===null)throw new x("when linking, twin is null");var S=this.getEdge(I,L);if(S===null)throw new x("when linking, twin is null");O.twin=S,S.twin=O}else{var O=D,S=this.getEdge(O.orig,O.dest);O.twin=S,S.twin=O}},_.prototype.conflict=function(D){return o(this.normal,D)>o(this.normal,this.verts[0])+n},_.prototype.getHorizon=function(){for(var D=0;D<3;D++)if(this.edges[D].twin!==null&&this.edges[D].twin.isHorizon())return this.edges[D];return null},_.prototype.removeConflict=function(){this.conflicts.removeAll()};function w(){this.points=[],this.facets=[],this.created=[],this.horizon=[],this.visible=[],this.current=0}w.prototype.init=function(D,I){this.points=[];for(var L=0;L<I.length;L++)this.points[L]=new f(I[L].x,I[L].y,I[L].z,null,I[L],!1);this.points=this.points.concat(D)},w.prototype.permutate=function(){for(var D=this.points.length,I=D-1;I>0;I--){var L=Math.floor(Math.random()*I),O=this.points[L];O.index=I;var S=this.points[I];S.index=L,this.points.splice(L,1,S),this.points.splice(I,1,O)}},w.prototype.prep=function(){if(this.points.length<=3)throw new x("Less than 4 points");for(var D=0;D<this.points.length;D++)this.points[D].index=D;var I,L,O,S,T,P,U,F;I=this.points[0],L=this.points[1],O=S=null;for(var D=2;D<this.points.length;D++)if(!(s(I,this.points[D])&&s(L,this.points[D]))){O=this.points[D],O.index=2,this.points[2].index=D,this.points.splice(D,1,this.points[2]),this.points.splice(2,1,O);break}if(O===null)throw new x("Not enough non-planar Points (v2 is null)");F=new _(I,L,O);for(var D=3;D<this.points.length;D++)if(!i(o(F.normal,F.verts[0])-o(F.normal,this.points[D]))){S=this.points[D],S.index=3,this.points[3].index=D,this.points.splice(D,1,this.points[3]),this.points.splice(3,1,S);break}if(S===null)throw new x("Not enough non-planar Points (v3 is null)");F.orient(S),T=new _(I,O,S,L),P=new _(I,L,S,O),U=new _(L,O,S,I),this.addFacet(F),this.addFacet(T),this.addFacet(P),this.addFacet(U),F.link(T,I,O),F.link(P,I,L),F.link(U,L,O),T.link(P,I,S),T.link(U,O,S),P.link(U,S,L),this.current=4;for(var j,D=this.current;D<this.points.length;D++)j=this.points[D],F.conflict(j)&&this.addConflict(F,j),T.conflict(j)&&this.addConflict(T,j),P.conflict(j)&&this.addConflict(P,j),U.conflict(j)&&this.addConflict(U,j)},w.prototype.addConflicts=function(D,I,L){var O=D.conflicts.getVertices(),S=I.conflicts.getVertices(),T=[],P,U,F,j;for(F=j=0;F<O.length||j<S.length;)F<O.length&&j<S.length?(P=O[F],U=S[j],P.index===U.index?(T.push(P),F++,j++):P.index>U.index?(T.push(P),F++):(T.push(U),j++)):F<O.length?T.push(O[F++]):T.push(S[j++]);for(var F=T.length-1;F>=0;F--)P=T[F],L.conflict(P)&&this.addConflict(L,P)},w.prototype.addConflict=function(D,I){var L=new u(D,I);D.conflicts.add(L),I.conflicts.add(L)},w.prototype.removeConflict=function(D){D.removeConflict();var I=D.index;if(D.index=-1,I===this.facets.length-1){this.facets.splice(this.facets.length-1,1);return}if(!(I>=this.facets.length||I<0)){var L=this.facets.splice(this.facets.length-1,1);L[0].index=I,this.facets.splice(I,1,L[0])}},w.prototype.addFacet=function(D){D.index=this.facets.length,this.facets.push(D)},w.prototype.compute=function(){for(this.prep();this.current<this.points.length;){var D=this.points[this.current];if(D.conflicts.isEmpty()){this.current++;continue}this.created=[],this.horizon=[],this.visible=[],D.conflicts.fill(this.visible);for(var I,L=0;L<this.visible.length;L++)if(I=this.visible[L].getHorizon(),I!==null){I.findHorizon(this.horizon);break}for(var O=null,S=null,T=0;T<this.horizon.length;T++){var P=this.horizon[T],U=new _(D,P.orig,P.dest,P.twin.next.dest);U.conflicts=new d(!0),this.addFacet(U),this.created.push(U),this.addConflicts(P.iFace,P.twin.iFace,U),U.link(P),O!==null&&U.link(O,D,P.orig),O=U,S===null&&(S=U)}if(S!==null&&O!==null&&O.link(S,D,this.horizon[0].orig),this.created.length!=0){for(var F=0;F<this.visible.length;F++)this.removeConflict(this.visible[F]);this.current++,this.created=[]}}return this.facets},w.prototype.clear=function(){this.points=[],this.facets=[],this.created=[],this.horizon=[],this.visible=[],this.current=0};function b(D,I){for(var L,O=V(I),S=-1,T=D.length-V(D),P,U,F=D[T-1],j,G,J,X;++S<T;){for(L=I.slice(),I.length=0,j=D[S],G=L[(U=L.length-O)-1],P=-1;++P<U;)J=L[P],k(J,F,j)?(k(G,F,j)||(X=E(G,J,F,j),isFinite(X[0])&&I.push(X)),I.push(J)):k(G,F,j)&&(X=E(G,J,F,j),isFinite(X[0])&&I.push(X)),G=J;O&&I.push(I[0]),F=j}return I}function k(D,I,L){return(L[0]-I[0])*(D[1]-I[1])<(L[1]-I[1])*(D[0]-I[0])}function E(D,I,L,O){var S=D[0],T=L[0],P=I[0]-S,U=O[0]-T,F=D[1],j=L[1],G=I[1]-F,J=O[1]-j,X=(U*(F-j)-J*(S-T))/(J*P-U*G);return[S+X*P,F+X*G]}function V(D){var I=D[0],L=D[D.length-1];return!(I[0]-L[0]||I[1]-L[1])}function z(D){var I=[],L=D,O=D.dest,S=O.originalObject,T=[];do{L=L.twin.prev;var P=L.orig.originalObject;P.isDummy||T.push(P);var U=L.iFace;U.isVisibleFromBelow()&&I.push(U)}while(L!==D);return S.neighbours=T,I}function B(D,I,L){var O=new w;O.clear(),O.init(I,D);for(var S=O.compute(D),T=[],P=[],U=S.length,F=0;F<U;F++){var j=S[F];if(j.isVisibleFromBelow())for(var G=0;G<3;G++){var J=j.edges[G],X=J.dest,se=X.originalObject;if(!P[X.index]){if(P[X.index]=!0,se.isDummy)continue;for(var Me=z(J),_e=[],pe=null,Fe=null,te=1,be=1,ke=0;ke<Me.length;ke++){var oe=Me[ke].getDualPoint(),st=oe.x,Je=oe.y;pe!==null&&(te=pe-st,be=Fe-Je,te<0&&(te=-te),be<0&&(be=-be)),(te>n||be>n)&&(_e.push([st,Je]),pe=st,Fe=Je)}if(se.nonClippedPolygon=_e.reverse(),!se.isDummy&&r.polygonLength(se.nonClippedPolygon)>0){var Kt=b(L,se.nonClippedPolygon);se.polygon=Kt,Kt.site=se,Kt.length>0&&T.push(Kt)}}}}return T}function $(){var D=function(F){return F.x},I=function(F){return F.y},L=function(F){return F.weight},O=[[0,0],[0,1],[1,1],[1,0]],S=[[0,0],[1,1]],T=[1,1];function P(F){var j;return j=F.map(function(G){return new f(D(G),I(G),null,L(G),G,!1)}),B(j,U(),O)}P.x=function(F){return arguments.length?(D=F,P):D},P.y=function(F){return arguments.length?(I=F,P):I},P.weight=function(F){return arguments.length?(L=F,P):L},P.clip=function(F){var j,G,J;return arguments.length?(G=t.extent(F.map(function(X){return X[0]})),J=t.extent(F.map(function(X){return X[1]})),j=a(F),j===void 0?O=r.polygonHull(F):j===1?O=F.reverse():O=F,S=[[G[0],J[0]],[G[1],J[1]]],T=[G[1]-G[0],J[1]-J[0]],P):O},P.extent=function(F){return arguments.length?(O=[F[0],[F[0][0],F[1][1]],F[1],[F[1][0],F[0][1]]],S=F,T=[F[1][0]-F[0][0],F[1][1]-F[0][1]],P):S},P.size=function(F){return arguments.length?(O=[[0,0],[0,F[1]],[F[0],F[1]],[F[0],0]],S=[[0,0],F],T=F,P):T};function U(){var F,j,G,J,X,se,Me,_e,pe,Fe,te=[],be=[];F=S[0][0],j=S[1][0],G=S[0][1],J=S[1][1],X=j-F,se=J-G,Me=F-X,_e=j+X,pe=G-se,Fe=J+se,te[0]=[Me,pe],te[1]=[Me,Fe],te[2]=[_e,Fe],te[3]=[_e,pe];for(var ke=0;ke<4;ke++)be.push(new f(te[ke][0],te[ke][1],null,n,new f(te[ke][0],te[ke][1],null,n,null,!0),!0));return be}return P}e.weightedVoronoi=$,e.d3WeightedVoronoiError=x,Object.defineProperty(e,"__esModule",{value:!0})})});var eB=Ti((dx,Jz)=>{"use strict";(function(e,t){typeof dx=="object"&&typeof Jz<"u"?t(dx,(r3(),Jf(KD)),(Ld(),Jf(sR)),(Wa(),Jf(CP)),Kz()):typeof define=="function"&&define.amd?define(["exports","d3-polygon","d3-timer","d3-dispatch","d3-weighted-voronoi"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)})(dx,function(e,t,r,n,i){"use strict";function o(){this.growthChangesLength=s,this.totalAvailableArea=NaN,this.lastAreaError=NaN,this.lastGrowth=NaN,this.growthChanges=[],this.growthChangeWeights=l(this.growthChangesLength),this.growthChangeWeightsSum=c(this.growthChangeWeights)}var s=10;function a(v,g){return v>=g?1:-1}function l(v){for(var g=3,x=1,_=1,w=g,b=[],k=0;k<v;k++)b.push(w),w-=x,w<_&&(w=_);return b}function c(v){for(var g=0,x=0;x<v.length;x++)g+=v[x];return g}o.prototype.reset=function(){return this.lastAreaError=NaN,this.lastGrowth=NaN,this.growthChanges=[],this.growthChangesLength=s,this.growthChangeWeights=l(this.growthChangesLength),this.growthChangeWeightsSum=c(this.growthChangeWeights),this.totalAvailableArea=NaN,this},o.prototype.clear=function(){return this.lastAreaError=NaN,this.lastGrowth=NaN,this.growthChanges=[],this},o.prototype.length=function(v){return arguments.length?(parseInt(v)>0?(this.growthChangesLength=Math.floor(parseInt(v)),this.growthChangeWeights=l(this.growthChangesLength),this.growthChangeWeightsSum=c(this.growthChangeWeights)):console.warn("FlickeringMitigation.length() accepts only positive integers; unable to handle "+v),this):this.growthChangesLength},o.prototype.totalArea=function(v){return arguments.length?(parseFloat(v)>0?this.totalAvailableArea=parseFloat(v):console.warn("FlickeringMitigation.totalArea() accepts only positive numbers; unable to handle "+v),this):this.totalAvailableArea},o.prototype.add=function(v){var g,x;return g=this.lastAreaError,this.lastAreaError=v,isNaN(g)||(x=this.lastGrowth,this.lastGrowth=a(this.lastAreaError,g)),isNaN(x)||this.growthChanges.unshift(this.lastGrowth!=x),this.growthChanges.length>this.growthChangesLength&&this.growthChanges.pop(),this},o.prototype.ratio=function(){var v=0,g;if(this.growthChanges.length<this.growthChangesLength||this.lastAreaError>this.totalAvailableArea/10)return 0;for(var x=0;x<this.growthChangesLength;x++)this.growthChanges[x]&&(v+=this.growthChangeWeights[x]);return g=v/this.growthChangeWeightsSum,g};function u(){var v,g,x,_,w,b,k,E;function V(B,$,D,I){var L=!1,O,S;for(v!==I.clip()&&(v=I.clip(),g=I.extent(),L=!0),L&&z(),O=x+k*I.prng()(),S=w+E*I.prng()();!t.polygonContains(v,[O,S]);)O=x+k*I.prng()(),S=w+E*I.prng()();return[O,S]}function z(){x=g[0][0],_=g[1][0],w=g[0][1],b=g[1][1],k=_-x,E=b-w}return V}function d(){var v=0,g,x,_,w,b,k;function E($,D,I,L){var O=!1;return g!==L.clip()&&(g=L.clip(),O|=!0),x!==I&&(x=I,O|=!0),O&&V(),[w[0]+Math.cos(v+D*k)*b+(L.prng()()-.5)*.001,w[1]+Math.sin(v+D*k)*b+(L.prng()()-.5)*.001]}E.startAngle=function($){return arguments.length?(v=$,E):v};function V(){w=t.polygonCentroid(g),b=z(w,g)/2,_=x.length,k=2*Math.PI/_}function z($,D){for(var I=1/0,L=0,O=D[D.length-1],S=D[L],T;L<D.length;)T=B($,O,S),T<I&&(I=T),L++,O=S,S=D[L];return I}function B($,D,I){var L=$[0],O=$[1],S=D[0],T=D[1],P=I[0],U=I[1],F=L-S,j=O-T,G=P-S,J=U-T,X=F*G+j*J,se=G*G+J*J,Me=-1;se!=0&&(Me=X/se);var _e,pe;Me<0?(_e=S,pe=T):Me>1?(_e=P,pe=U):(_e=S+Me*G,pe=T+Me*J);var Fe=L-_e,te=O-pe;return Math.sqrt(Fe*Fe+te*te)}return E}function f(){var v,g,x,_,w;function b(E,V,z,B){var $=!1;return v!==B.clip()&&(v=B.clip(),$|=!0),g!==z&&(g=z,$|=!0),$&&k(),w}function k(){x=g.length,_=t.polygonArea(v),w=_/x/2}return b}function p(v){this.message=v,this.stack=new Error().stack}p.prototype.name="d3VoronoiMapError",p.prototype=new Error;function m(v){var g=.01,x=50,_=.01,w=Math.random,b=u(),k=f(),E=u(),V=1e-10,z=function(Ie){return Ie.weight},B=g,$=x,D=_,I=w,L=b,O=k,S=i.weightedVoronoi(),T=new o,P=!0,U,F,j,G,J,X,se,Me,_e,pe=r.timer(Je),Fe=n.dispatch("tick","end");let te=1,be=1e3;var ke;function oe(Ie){return Math.pow(Ie,2)}function st(Ie,It){return oe(It.x-Ie.x)+oe(It.y-Ie.y)}_e={tick:Kt,restart:function(){return pe.restart(Je),_e},stop:function(){return pe.stop(),_e},weight:function(Ie){return arguments.length?(z=Ie,P=!0,_e):z},convergenceRatio:function(Ie){return arguments.length?(B=Ie,P=!0,_e):B},maxIterationCount:function(Ie){return arguments.length?($=Ie,_e):$},minWeightRatio:function(Ie){return arguments.length?(D=Ie,P=!0,_e):D},clip:function(Ie){return arguments.length?(S.clip(Ie),P=!0,_e):S.clip()},extent:function(Ie){return arguments.length?(S.extent(Ie),P=!0,_e):S.extent()},size:function(Ie){return arguments.length?(S.size(Ie),P=!0,_e):S.size()},prng:function(Ie){return arguments.length?(I=Ie,P=!0,_e):I},initialPosition:function(Ie){return arguments.length?(L=Ie,P=!0,_e):L},initialWeight:function(Ie){return arguments.length?(O=Ie,P=!0,_e):O},state:function(){return P&&bn(),{ended:Me,iterationCount:G,convergenceRatio:X/F,polygons:J}},on:function(Ie,It){return arguments.length===1?Fe.on(Ie):(Fe.on(Ie,It),_e)}};function Je(){Kt(),Fe.call("tick",_e),Me&&(pe.stop(),Fe.call("end",_e))}function Kt(){Me||(P&&bn(),J=Pn(J,T.ratio()),G++,X=kr(J),T.add(X),se=X<j,Me=se||G>=$)}function bn(){fg(),U=v.length,F=Math.abs(t.polygonArea(S.clip())),j=B*F,T.clear().totalArea(F),G=0,se=!1,J=je(v,_e),Me=!1,P=!1}function je(Ie,It){var Pe=Ie.reduce(function(wt,Wt){return Math.max(wt,z(Wt))},-1/0),ut=Pe*D,at,mt;return at=Ie.map(function(wt,Wt,qt){return{index:Wt,weight:Math.max(z(wt),ut),initialPosition:L(wt,Wt,qt,It),initialWeight:O(wt,Wt,qt,It),originalData:wt}}),mt=Jt(at,It),ke(mt),S(mt)}function Jt(Ie,It){var Pe=Ie.reduce(function(at,mt){return at+=mt.weight},0),ut;return Ie.map(function(at,mt,wt){return ut=at.initialPosition,t.polygonContains(S.clip(),ut)||(ut=b(at,mt,wt,It)),{index:at.index,targetedArea:F*at.weight/Pe,data:at,x:ut[0],y:ut[1],weight:at.initialWeight}})}function Pn(Ie,It){var Pe;if(Br(Ie,It),Pe=Ie.map(function(ut){return ut.site.originalObject}),Ie=S(Pe),Ie.length<U)throw new p("at least 1 site has no area, which is not supposed to arise");if(Zx(Ie,It),Pe=Ie.map(function(ut){return ut.site.originalObject}),Ie=S(Pe),Ie.length<U)throw new p("at least 1 site has no area, which is not supposed to arise");return Ie}function Br(Ie,It){var Pe=[],ut=.5,at,mt,wt,Wt,qt,mn,or;at=ut*It,mt=1-at;for(var da=0;da<U;da++)wt=Ie[da],Wt=wt.site.originalObject,qt=t.polygonCentroid(wt),mn=qt[0]-Wt.x,or=qt[1]-Wt.y,mn*=mt,or*=mt,Wt.x+=mn,Wt.y+=or,Pe.push(Wt);ke(Pe)}function Zx(Ie,It){var Pe=[],ut=.1,at,mt,wt,Wt,qt,mn;at=ut*It;for(var or=0;or<U;or++)mt=Ie[or],wt=mt.site.originalObject,Wt=t.polygonArea(mt),qt=wt.targetedArea/Wt,qt=Math.max(qt,1-ut+at),qt=Math.min(qt,1+ut-at),mn=wt.weight*qt,mn=Math.max(mn,V),wt.weight=mn,Pe.push(wt);ke(Pe)}function ug(Ie){var It=0,Pe,ut,at,mt,wt,Wt,qt;do{if(It>be)throw new p("handleOverweighted0 is looping too much");Pe=!1;for(var mn=0;mn<U;mn++){ut=Ie[mn];for(var or=mn+1;or<U;or++)if(at=Ie[or],ut.weight>at.weight?(mt=ut,wt=at):(mt=at,wt=ut),Wt=st(ut,at),Wt<mt.weight-wt.weight){qt=Wt+wt.weight/2,qt=Math.max(qt,V),mt.weight=qt,Pe=!0,It++;break}if(Pe)break}}while(Pe)}function dg(Ie){var It=0,Pe,ut,at,mt,wt,Wt,qt;do{if(It>be)throw new p("handleOverweighted1 is looping too much");Pe=!1;for(var mn=0;mn<U;mn++){ut=Ie[mn];for(var or=mn+1;or<U;or++)if(at=Ie[or],ut.weight>at.weight?(mt=ut,wt=at):(mt=at,wt=ut),Wt=st(ut,at),Wt<mt.weight-wt.weight){qt=mt.weight-wt.weight-Wt,wt.weight+=qt+V,Pe=!0,It++;break}if(Pe)break}}while(Pe)}function kr(Ie){for(var It=0,Pe,ut,at,mt=0;mt<U;mt++)Pe=Ie[mt],ut=Pe.site.originalObject,at=t.polygonArea(Pe),It+=Math.abs(ut.targetedArea-at);return It}function fg(){switch(te){case 0:ke=ug;break;case 1:ke=dg;break;default:console.error("unknown 'handleOverweighted' variant; using variant #1"),ke=ug}}return _e}e.voronoiMapSimulation=m,e.voronoiMapInitialPositionRandom=u,e.voronoiMapInitialPositionPie=d,e.d3VoronoiMapError=p,Object.defineProperty(e,"__esModule",{value:!0})})});function JS(e,t){return Object.is(e,t)}var Zn=null,Eg=!1,Tg=1,El=Symbol("SIGNAL");function pi(e){let t=Zn;return Zn=e,t}var Ig={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function e7(e){if(Eg)throw new Error("");if(Zn===null)return;Zn.consumerOnSignalRead(e);let t=Zn.nextProducerIndex++;if(ou(Zn),t<Zn.producerNode.length&&Zn.producerNode[t]!==e&&eh(Zn)){let r=Zn.producerNode[t];Ag(r,Zn.producerIndexOfThis[t])}Zn.producerNode[t]!==e&&(Zn.producerNode[t]=e,Zn.producerIndexOfThis[t]=eh(Zn)?o7(e,Zn,t):0),Zn.producerLastReadVersion[t]=e.version}function tZ(){Tg++}function t7(e){if(!(eh(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Tg)){if(!e.producerMustRecompute(e)&&!_b(e)){e.dirty=!1,e.lastCleanEpoch=Tg;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Tg}}function n7(e){if(e.liveConsumerNode===void 0)return;let t=Eg;Eg=!0;try{for(let r of e.liveConsumerNode)r.dirty||nZ(r)}finally{Eg=t}}function r7(){return Zn?.consumerAllowSignalWrites!==!1}function nZ(e){e.dirty=!0,n7(e),e.consumerMarkedDirty?.(e)}function xb(e){return e&&(e.nextProducerIndex=0),pi(e)}function bb(e,t){if(pi(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(eh(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Ag(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function _b(e){ou(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(t7(r),n!==r.version))return!0}return!1}function i7(e){if(ou(e),eh(e))for(let t=0;t<e.producerNode.length;t++)Ag(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function o7(e,t,r){if(s7(e),ou(e),e.liveConsumerNode.length===0)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=o7(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Ag(e,t){if(s7(e),ou(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)Ag(e.producerNode[n],e.producerIndexOfThis[n]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ou(i),i.producerIndexOfThis[n]=t}}function eh(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ou(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function s7(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function a7(e){let t=Object.create(rZ);t.computation=e;let r=()=>{if(t7(t),e7(t),t.value===kg)throw t.error;return t.value};return r[El]=t,r}var yb=Symbol("UNSET"),vb=Symbol("COMPUTING"),kg=Symbol("ERRORED"),rZ=(()=>Ee(ne({},Ig),{value:yb,dirty:!0,error:null,equal:JS,producerMustRecompute(e){return e.value===yb||e.value===vb},producerRecomputeValue(e){if(e.value===vb)throw new Error("Detected cycle in computations.");let t=e.value;e.value=vb;let r=xb(e),n;try{n=e.computation()}catch(i){n=kg,e.error=i}finally{bb(e,r)}if(t!==yb&&t!==kg&&n!==kg&&e.equal(t,n)){e.value=t;return}e.value=n,e.version++}}))();function iZ(){throw new Error}var l7=iZ;function c7(){l7()}function u7(e){l7=e}var oZ=null;function d7(e){let t=Object.create(sZ);t.value=e;let r=()=>(e7(t),t.value);return r[El]=t,r}function wb(e,t){r7()||c7();let r=e.value;Object.is(r,t)||e.equal(r,t)||(e.value=t,aZ(e))}function f7(e,t){r7()||c7(),wb(e,t(e.value))}var sZ=(()=>Ee(ne({},Ig),{equal:JS,value:void 0}))();function aZ(e){e.version++,tZ(),n7(e),oZ?.()}function Le(e){return typeof e=="function"}function su(e){let r=e(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Og=su(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Tl(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var Nn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(Le(n))try{n()}catch(o){t=o instanceof Og?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{h7(o)}catch(s){t=t??[],s instanceof Og?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Og(t)}}add(t){var r;if(t&&t!==this)if(this.closed)h7(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Tl(r,t)}remove(t){let{_finalizers:r}=this;r&&Tl(r,t),t instanceof e&&t._removeParent(this)}};Nn.EMPTY=(()=>{let e=new Nn;return e.closed=!0,e})();var Cb=Nn.EMPTY;function Pg(e){return e instanceof Nn||e&&"closed"in e&&Le(e.remove)&&Le(e.add)&&Le(e.unsubscribe)}function h7(e){Le(e)?e():e.unsubscribe()}var Xi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var au={setTimeout(e,t,...r){let{delegate:n}=au;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=au;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ng(e){au.setTimeout(()=>{let{onUnhandledError:t}=Xi;if(t)t(e);else throw e})}function Ts(){}var p7=(()=>Db("C",void 0,void 0))();function m7(e){return Db("E",void 0,e)}function g7(e){return Db("N",e,void 0)}function Db(e,t,r){return{kind:e,value:t,error:r}}var kl=null;function lu(e){if(Xi.useDeprecatedSynchronousErrorHandling){let t=!kl;if(t&&(kl={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:n}=kl;if(kl=null,r)throw n}}else e()}function y7(e){Xi.useDeprecatedSynchronousErrorHandling&&kl&&(kl.errorThrown=!0,kl.error=e)}var Il=class extends Nn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Pg(t)&&t.add(this)):this.destination=uZ}static create(t,r,n){return new Qi(t,r,n)}next(t){this.isStopped?Sb(g7(t),this):this._next(t)}error(t){this.isStopped?Sb(m7(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Sb(p7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lZ=Function.prototype.bind;function Mb(e,t){return lZ.call(e,t)}var Eb=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Rg(n)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Rg(n)}else Rg(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Rg(r)}}},Qi=class extends Il{constructor(t,r,n){super();let i;if(Le(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&Xi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Mb(t.next,o),error:t.error&&Mb(t.error,o),complete:t.complete&&Mb(t.complete,o)}):i=t}this.destination=new Eb(i)}};function Rg(e){Xi.useDeprecatedSynchronousErrorHandling?y7(e):Ng(e)}function cZ(e){throw e}function Sb(e,t){let{onStoppedNotification:r}=Xi;r&&au.setTimeout(()=>r(e,t))}var uZ={closed:!0,next:Ts,error:cZ,complete:Ts};var cu=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function sr(e){return e}function Tb(...e){return kb(e)}function kb(e){return e.length===0?sr:e.length===1?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}var He=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=fZ(r)?r:new Qi(r,n,i);return lu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=v7(n),new n((i,o)=>{let s=new Qi({next:a=>{try{r(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[cu](){return this}pipe(...r){return kb(r)(this)}toPromise(r){return r=v7(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=t=>new e(t),e})();function v7(e){var t;return(t=e??Xi.Promise)!==null&&t!==void 0?t:Promise}function dZ(e){return e&&Le(e.next)&&Le(e.error)&&Le(e.complete)}function fZ(e){return e&&e instanceof Il||dZ(e)&&Pg(e)}function Ib(e){return Le(e?.lift)}function Ve(e){return t=>{if(Ib(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(e,t,r,n,i){return new th(e,t,r,n,i)}var th=class extends Il{constructor(t,r,n,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function uu(){return Ve((e,t)=>{let r=null;e._refCount++;let n=Ne(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var du=class extends He{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Ib(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Nn;let r=this.getSubject();t.add(this.source.subscribe(Ne(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Nn.EMPTY)}return t}refCount(){return uu()(this)}};var x7=su(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class e extends He{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Fg(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new x7}next(r){lu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){lu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){lu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Cb:(this.currentObservers=null,o.push(r),new Nn(()=>{this.currentObservers=null,Tl(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new He;return r.source=this,r}}return e.create=(t,r)=>new Fg(t,r),e})(),Fg=class extends Et{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)}error(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:Cb}};var At=class extends Et{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var nh={now(){return(nh.delegate||Date).now()},delegate:void 0};var Lg=class extends Et{constructor(t=1/0,r=1/0,n=nh){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(t),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){let{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var jg=class extends Nn{constructor(t,r){super()}schedule(t,r=0){return this}};var rh={setInterval(e,t,...r){let{delegate:n}=rh;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){let{delegate:t}=rh;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var fu=class extends jg{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(t,r,n=0){return rh.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&rh.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let n=!1,i;try{this.work(t)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Tl(n,this),t!=null&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}};var hu=class e{constructor(t,r=e.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}};hu.now=nh.now;var pu=class extends hu{constructor(t,r=hu.now){super(t,r),this.actions=[],this._active=!1}flush(t){let{actions:r}=this;if(this._active){r.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}};var ih=new pu(fu),b7=ih;var Vg=class extends fu{constructor(t,r){super(t,r),this.scheduler=t,this.work=r}schedule(t,r=0){return r>0?super.schedule(t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)}execute(t,r){return r>0||this.closed?super.execute(t,r):this._execute(t,r)}requestAsyncId(t,r,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(t,r,n):(t.flush(this),0)}};var Ug=class extends pu{};var Ab=new Ug(Vg);var yr=new He(e=>e.complete());function $g(e){return e&&Le(e.schedule)}function Ob(e){return e[e.length-1]}function mu(e){return Le(Ob(e))?e.pop():void 0}function To(e){return $g(Ob(e))?e.pop():void 0}function _7(e,t){return typeof Ob(e)=="number"?e.pop():t}function C7(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function w7(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Al(e){return this instanceof Al?(this.v=e,this):new Al(e)}function D7(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(p){return new Promise(function(m,v){o.push([f,p,m,v])>1||a(f,p)})})}function a(f,p){try{l(n[f](p))}catch(m){d(o[0][3],m)}}function l(f){f.value instanceof Al?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,p){f(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function M7(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof w7=="function"?w7(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var gu=e=>e&&typeof e.length=="number"&&typeof e!="function";function zg(e){return Le(e?.then)}function Bg(e){return Le(e[cu])}function Hg(e){return Symbol.asyncIterator&&Le(e?.[Symbol.asyncIterator])}function Wg(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function hZ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qg=hZ();function Gg(e){return Le(e?.[qg])}function Yg(e){return D7(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:n,done:i}=yield Al(r.read());if(i)return yield Al(void 0);yield yield Al(n)}}finally{r.releaseLock()}})}function Zg(e){return Le(e?.getReader)}function yt(e){if(e instanceof He)return e;if(e!=null){if(Bg(e))return pZ(e);if(gu(e))return mZ(e);if(zg(e))return gZ(e);if(Hg(e))return S7(e);if(Gg(e))return yZ(e);if(Zg(e))return vZ(e)}throw Wg(e)}function pZ(e){return new He(t=>{let r=e[cu]();if(Le(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mZ(e){return new He(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function gZ(e){return new He(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,Ng)})}function yZ(e){return new He(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function S7(e){return new He(t=>{xZ(e,t).catch(r=>t.error(r))})}function vZ(e){return S7(Yg(e))}function xZ(e,t){var r,n,i,o;return C7(this,void 0,void 0,function*(){try{for(r=M7(e);n=yield r.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}t.complete()})}function Hr(e,t,r,n=0,i=!1){let o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function Ol(e,t=0){return Ve((r,n)=>{r.subscribe(Ne(n,i=>Hr(n,e,()=>n.next(i),t),()=>Hr(n,e,()=>n.complete(),t),i=>Hr(n,e,()=>n.error(i),t)))})}function Xg(e,t=0){return Ve((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function E7(e,t){return yt(e).pipe(Xg(t),Ol(t))}function T7(e,t){return yt(e).pipe(Xg(t),Ol(t))}function k7(e,t){return new He(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function I7(e,t){return new He(r=>{let n;return Hr(r,t,()=>{n=e[qg](),Hr(r,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>Le(n?.return)&&n.return()})}function Qg(e,t){if(!e)throw new Error("Iterable cannot be null");return new He(r=>{Hr(r,t,()=>{let n=e[Symbol.asyncIterator]();Hr(r,t,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function A7(e,t){return Qg(Yg(e),t)}function O7(e,t){if(e!=null){if(Bg(e))return E7(e,t);if(gu(e))return k7(e,t);if(zg(e))return T7(e,t);if(Hg(e))return Qg(e,t);if(Gg(e))return I7(e,t);if(Zg(e))return A7(e,t)}throw Wg(e)}function en(e,t){return t?O7(e,t):yt(e)}function Ae(...e){let t=To(e);return en(e,t)}function ma(e,t){let r=Le(e)?e:()=>e,n=i=>i.error(r());return new He(t?i=>t.schedule(n,0,i):n)}var ga=class e{constructor(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}observe(t){return Pb(this,t)}do(t,r,n){let{kind:i,value:o,error:s}=this;return i==="N"?t?.(o):i==="E"?r?.(s):n?.()}accept(t,r,n){var i;return Le((i=t)===null||i===void 0?void 0:i.next)?this.observe(t):this.do(t,r,n)}toObservable(){let{kind:t,value:r,error:n}=this,i=t==="N"?Ae(r):t==="E"?ma(()=>n):t==="C"?yr:0;if(!i)throw new TypeError(`Unexpected notification kind ${t}`);return i}static createNext(t){return new e("N",t)}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}};ga.completeNotification=new ga("C");function Pb(e,t){var r,n,i;let{kind:o,value:s,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(r=t.next)===null||r===void 0||r.call(t,s):o==="E"?(n=t.error)===null||n===void 0||n.call(t,a):(i=t.complete)===null||i===void 0||i.call(t)}function Nb(e){return!!e&&(e instanceof He||Le(e.lift)&&Le(e.subscribe))}var Ki=su(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Rb(e,t){let r=typeof t=="object";return new Promise((n,i)=>{let o=new Qi({next:s=>{n(s),o.unsubscribe()},error:i,complete:()=>{r?n(t.defaultValue):i(new Ki)}});e.subscribe(o)})}function P7(e){return e instanceof Date&&!isNaN(e)}function ye(e,t){return Ve((r,n)=>{let i=0;r.subscribe(Ne(n,o=>{n.next(e.call(t,o,i++))}))})}var{isArray:bZ}=Array;function _Z(e,t){return bZ(t)?e(...t):e(t)}function yu(e){return ye(t=>_Z(e,t))}var{isArray:wZ}=Array,{getPrototypeOf:CZ,prototype:DZ,keys:MZ}=Object;function Kg(e){if(e.length===1){let t=e[0];if(wZ(t))return{args:t,keys:null};if(SZ(t)){let r=MZ(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}function SZ(e){return e&&typeof e=="object"&&CZ(e)===DZ}function Jg(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}function oh(...e){let t=To(e),r=mu(e),{args:n,keys:i}=Kg(e);if(n.length===0)return en([],t);let o=new He(EZ(n,t,i?s=>Jg(i,s):sr));return r?o.pipe(yu(r)):o}function EZ(e,t,r=sr){return n=>{N7(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)N7(t,()=>{let c=en(e[l],t),u=!1;c.subscribe(Ne(n,d=>{o[l]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function N7(e,t,r){e?Hr(r,e,t):t()}function R7(e,t,r,n,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},p=v=>c<n?m(v):l.push(v),m=v=>{o&&t.next(v),c++;let g=!1;yt(r(v,u++)).subscribe(Ne(t,x=>{i?.(x),o?p(x):t.next(x)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<n;){let x=l.shift();s?Hr(t,s,()=>m(x)):m(x)}f()}catch(x){t.error(x)}}))};return e.subscribe(Ne(t,p,()=>{d=!0,f()})),()=>{a?.()}}function Nt(e,t,r=1/0){return Le(t)?Nt((n,i)=>ye((o,s)=>t(n,o,i,s))(yt(e(n,i))),r):(typeof t=="number"&&(r=t),Ve((n,i)=>R7(n,i,e,r)))}function ya(e=1/0){return Nt(sr,e)}function F7(){return ya(1)}function vu(...e){return F7()(en(e,To(e)))}function sh(e){return new He(t=>{yt(e()).subscribe(t)})}function Fb(...e){let t=mu(e),{args:r,keys:n}=Kg(e),i=new He(o=>{let{length:s}=r;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;yt(r[u]).subscribe(Ne(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(n?Jg(n,a):a),o.complete())}))}});return t?i.pipe(yu(t)):i}var TZ=["addListener","removeListener"],kZ=["addEventListener","removeEventListener"],IZ=["on","off"];function ks(e,t,r,n){if(Le(r)&&(n=r,r=void 0),n)return ks(e,t,r).pipe(yu(n));let[i,o]=PZ(e)?kZ.map(s=>a=>e[s](t,a,r)):AZ(e)?TZ.map(L7(e,t)):OZ(e)?IZ.map(L7(e,t)):[];if(!i&&gu(e))return Nt(s=>ks(s,t,r))(yt(e));if(!i)throw new TypeError("Invalid event target");return new He(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function L7(e,t){return r=>n=>e[r](t,n)}function AZ(e){return Le(e.addListener)&&Le(e.removeListener)}function OZ(e){return Le(e.on)&&Le(e.off)}function PZ(e){return Le(e.addEventListener)&&Le(e.removeEventListener)}function j7(e=0,t,r=b7){let n=-1;return t!=null&&($g(t)?r=t:n=t),new He(i=>{let o=P7(e)?+e-r.now():e;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Lb(e=0,t=ih){return e<0&&(e=0),j7(e,e,t)}function xu(...e){let t=To(e),r=_7(e,1/0),n=e;return n.length?n.length===1?yt(n[0]):ya(r)(en(n,t)):yr}function Tn(e,t){return Ve((r,n)=>{let i=0;r.subscribe(Ne(n,o=>e.call(t,o,i++)&&n.next(o)))})}function _n(e){return Ve((t,r)=>{let n=null,i=!1,o;n=t.subscribe(Ne(r,void 0,void 0,s=>{o=yt(e(s,_n(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function V7(e,t,r,n,i){return(o,s)=>{let a=r,l=t,c=0;o.subscribe(Ne(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function ko(e,t){return Le(t)?Nt(e,t,1):Nt(e,1)}function Is(e,t=ih){return Ve((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,n.next(c)}};function l(){let c=s+e,u=t.now();if(u<c){i=this.schedule(void 0,c-u),n.add(i);return}a()}r.subscribe(Ne(n,c=>{o=c,s=t.now(),i||(i=t.schedule(l,e),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function va(e){return Ve((t,r)=>{let n=!1;t.subscribe(Ne(r,i=>{n=!0,r.next(i)},()=>{n||r.next(e),r.complete()}))})}function Ji(e){return e<=0?()=>yr:Ve((t,r)=>{let n=0;t.subscribe(Ne(r,i=>{++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function jb(){return Ve((e,t)=>{e.subscribe(Ne(t,Ts))})}function Vb(e){return ye(()=>e)}function Ub(){return Ve((e,t)=>{e.subscribe(Ne(t,r=>Pb(r,t)))})}function eo(e,t=sr){return e=e??NZ,Ve((r,n)=>{let i,o=!0;r.subscribe(Ne(n,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,n.next(s))}))})}function NZ(e,t){return e===t}function e0(e=RZ){return Ve((t,r)=>{let n=!1;t.subscribe(Ne(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(e())))})}function RZ(){return new Ki}function t0(e,t){return t?r=>r.pipe(t0((n,i)=>yt(e(n,i)).pipe(ye((o,s)=>t(n,o,i,s))))):Ve((r,n)=>{let i=0,o=null,s=!1;r.subscribe(Ne(n,a=>{o||(o=Ne(n,void 0,()=>{o=null,s&&n.complete()}),yt(e(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function As(e){return Ve((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function Io(e,t){let r=arguments.length>=2;return n=>n.pipe(e?Tn((i,o)=>e(i,o,n)):sr,Ji(1),r?va(t):e0(()=>new Ki))}function n0(e,t,r,n){return Ve((i,o)=>{let s;!t||typeof t=="function"?s=t:{duration:r,element:s,connector:n}=t;let a=new Map,l=m=>{a.forEach(m),m(o)},c=m=>l(v=>v.error(m)),u=0,d=!1,f=new th(o,m=>{try{let v=e(m),g=a.get(v);if(!g){a.set(v,g=n?n():new Et);let x=p(v,g);if(o.next(x),r){let _=Ne(g,()=>{g.complete(),_?.unsubscribe()},void 0,void 0,()=>a.delete(v));f.add(yt(r(x)).subscribe(_))}}g.next(s?s(m):m)}catch(v){c(v)}},()=>l(m=>m.complete()),c,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(f);function p(m,v){let g=new He(x=>{u++;let _=v.subscribe(x);return()=>{_.unsubscribe(),--u===0&&d&&f.unsubscribe()}});return g.key=m,g}})}function bu(e){return e<=0?()=>yr:Ve((t,r)=>{let n=[];t.subscribe(Ne(r,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function $b(e,t){let r=arguments.length>=2;return n=>n.pipe(e?Tn((i,o)=>e(i,o,n)):sr,bu(1),r?va(t):e0(()=>new Ki))}function zb(){return Ve((e,t)=>{e.subscribe(Ne(t,r=>{t.next(ga.createNext(r))},()=>{t.next(ga.createComplete()),t.complete()},r=>{t.next(ga.createError(r)),t.complete()}))})}function Bb(...e){let t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return ye(r=>{let n=r;for(let i=0;i<t;i++){let o=n?.[e[i]];if(typeof o<"u")n=o;else return}return n})}function ah(e,t){return Ve(V7(e,t,arguments.length>=2,!0))}function _u(e={}){let{connector:t=()=>new Et,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},p=()=>{f(),s=l=void 0,u=d=!1},m=()=>{let v=s;p(),v?.unsubscribe()};return Ve((v,g)=>{c++,!d&&!u&&f();let x=l=l??t();g.add(()=>{c--,c===0&&!d&&!u&&(a=Hb(m,i))}),x.subscribe(g),!s&&c>0&&(s=new Qi({next:_=>x.next(_),error:_=>{d=!0,f(),a=Hb(p,r,_),x.error(_)},complete:()=>{u=!0,f(),a=Hb(p,n),x.complete()}}),yt(v).subscribe(s))})(o)}}function Hb(e,t,...r){if(t===!0){e();return}if(t===!1)return;let n=new Qi({next:()=>{n.unsubscribe(),e()}});return yt(t(...r)).subscribe(n)}function Wb(e,t,r){let n,i=!1;return e&&typeof e=="object"?{bufferSize:n=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:r}=e:n=e??1/0,_u({connector:()=>new Lg(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function qb(...e){let t=To(e);return Ve((r,n)=>{(t?vu(e,r,t):vu(e,r)).subscribe(n)})}function vr(e,t){return Ve((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(Ne(n,l=>{i?.unsubscribe();let c=0,u=o++;yt(e(l,u)).subscribe(i=Ne(n,d=>n.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function lh(e){return Ve((t,r)=>{yt(e).subscribe(Ne(r,()=>r.complete(),Ts)),!r.closed&&t.subscribe(r)})}function Vn(e,t,r){let n=Le(e)||t||r?{next:e,error:t,complete:r}:e;return n?Ve((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(Ne(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):sr}function Gb(...e){let t=mu(e);return Ve((r,n)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)yt(e[l]).subscribe(Ne(n,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(sr))&&(s=null))},Ts));r.subscribe(Ne(n,l=>{if(a){let c=[l,...o];n.next(t?t(...c):c)}}))})}function tn(e){for(let t in e)if(e[t]===tn)return t;throw Error("Could not find renamed property on target object.")}function r0(e,t){for(let r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function xr(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(xr).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function c_(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var FZ=tn({__forward_ref__:tn});function so(e){return e.__forward_ref__=so,e.toString=function(){return xr(this())},e}function Ar(e){return DE(e)?e():e}function DE(e){return typeof e=="function"&&e.hasOwnProperty(FZ)&&e.__forward_ref__===so}function ME(e){return e&&!!e.\u0275providers}var SE="https://g.co/ng/security#xss",le=class extends Error{constructor(t,r){super(L0(t,r)),this.code=t}};function L0(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var LZ=tn({\u0275cmp:tn}),jZ=tn({\u0275dir:tn}),VZ=tn({\u0275pipe:tn}),UZ=tn({\u0275mod:tn}),m0=tn({\u0275fac:tn}),ch=tn({__NG_ELEMENT_ID__:tn}),U7=tn({__NG_ENV_ID__:tn});function Tu(e){return typeof e=="string"?e:e==null?"":String(e)}function $Z(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Tu(e)}function zZ(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new le(-200,`Circular dependency in DI detected for ${e}${r}`)}function iw(e,t){let r=t?` in ${t}`:"";throw new le(-201,!1)}function BZ(e,t){e==null&&HZ(t,e,null,"!=")}function HZ(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(n==null?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Yt(e){return{providers:e.providers||[],imports:e.imports||[]}}function j0(e){return $7(e,TE)||$7(e,kE)}function EE(e){return j0(e)!==null}function $7(e,t){return e.hasOwnProperty(t)?e[t]:null}function WZ(e){let t=e&&(e[TE]||e[kE]);return t||null}function z7(e){return e&&(e.hasOwnProperty(B7)||e.hasOwnProperty(qZ))?e[B7]:null}var TE=tn({\u0275prov:tn}),B7=tn({\u0275inj:tn}),kE=tn({ngInjectableDef:tn}),qZ=tn({ngInjectorDef:tn}),it=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(it||{}),u_;function IE(){return u_}function Wr(e){let t=u_;return u_=e,t}function AE(e,t,r){let n=j0(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&it.Optional)return null;if(t!==void 0)return t;iw(xr(e),"Injector")}var Un=globalThis;var ae=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=ce({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var GZ={},dh=GZ,d_="__NG_DI_FLAG__",g0="ngTempTokenPath",YZ="ngTokenPath",ZZ=/\n/gm,XZ="\u0275",H7="__source",Su;function QZ(){return Su}function xa(e){let t=Su;return Su=e,t}function KZ(e,t=it.Default){if(Su===void 0)throw new le(-203,!1);return Su===null?AE(e,void 0,t):Su.get(e,t&it.Optional?null:void 0,t)}function ee(e,t=it.Default){return(IE()||KZ)(Ar(e),t)}function fe(e,t=it.Default){return ee(e,V0(t))}function V0(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function f_(e){let t=[];for(let r=0;r<e.length;r++){let n=Ar(e[r]);if(Array.isArray(n)){if(n.length===0)throw new le(900,!1);let i,o=it.Default;for(let s=0;s<n.length;s++){let a=n[s],l=JZ(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(ee(i,o))}else t.push(ee(n))}return t}function ow(e,t){return e[d_]=t,e.prototype[d_]=t,e}function JZ(e){return e[d_]}function eX(e,t,r,n){let i=e[g0];throw t[H7]&&i.unshift(t[H7]),e.message=tX(`
`+e.message,i,r,n),e[YZ]=i,e[g0]=null,e}function tX(e,t,r,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==XZ?e.slice(2):e;let i=xr(t);if(Array.isArray(t))i=t.map(xr).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xr(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(ZZ,`
  `)}`}function vh(e){return{toString:e}.toString()}var OE=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(OE||{}),No=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(No||{}),ku={},qr=[];function PE(e,t,r){let n=e.length;for(;;){let i=e.indexOf(t,r);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}r=i+1}}function h_(e,t,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,o)}else{let o=i,s=r[++n];nX(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),n++}}return n}function NE(e){return e===3||e===4||e===6}function nX(e){return e.charCodeAt(0)===64}function fh(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?W7(e,r,i,null,t[++n]):W7(e,r,i,null,null))}}return e}function W7(e,t,r,n,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(e[o+1]=i);return}else if(n===e[o+1]){e[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,r),n!==null&&e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}var RE="ng-template";function rX(e,t,r){let n=0,i=!0;for(;n<e.length;){let o=e[n++];if(typeof o=="string"&&i){let s=e[n++];if(r&&o==="class"&&PE(s.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;n<e.length&&typeof(o=e[n++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function FE(e){return e.type===4&&e.value!==RE}function iX(e,t,r){let n=e.type===4&&!r?RE:e.value;return t===n}function oX(e,t,r){let n=4,i=e.attrs||[],o=lX(i),s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!to(n)&&!to(l))return!1;if(s&&to(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!iX(e,l,r)||l===""&&t.length===1){if(to(n))return!1;s=!0}}else{let c=n&8?l:t[++a];if(n&8&&e.attrs!==null){if(!rX(e.attrs,c,r)){if(to(n))return!1;s=!0}continue}let u=n&8?"class":l,d=sX(u,i,FE(e),r);if(d===-1){if(to(n))return!1;s=!0;continue}if(c!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let p=n&8?f:null;if(p&&PE(p,c,0)!==-1||n&2&&c!==f){if(to(n))return!1;s=!0}}}}return to(n)||s}function to(e){return(e&1)===0}function sX(e,t,r,n){if(t===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return cX(t,e)}function LE(e,t,r=!1){for(let n=0;n<t.length;n++)if(oX(e,t[n],r))return!0;return!1}function aX(e){let t=e.attrs;if(t!=null){let r=t.indexOf(5);if(!(r&1))return t[r+1]}return null}function lX(e){for(let t=0;t<e.length;t++){let r=e[t];if(NE(r))return t}return e.length}function cX(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let n=e[r];if(typeof n=="number")return-1;if(n===t)return r;r++}return-1}function uX(e,t){e:for(let r=0;r<t.length;r++){let n=t[r];if(e.length===n.length){for(let i=0;i<e.length;i++)if(e[i]!==n[i])continue e;return!0}}return!1}function q7(e,t){return e?":not("+t.trim()+")":t}function dX(e){let t=e[0],r=1,n=2,i="",o=!1;for(;r<e.length;){let s=e[r];if(typeof s=="string")if(n&2){let a=e[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!to(s)&&(t+=q7(o,i),i=""),n=s,o=o||!to(n);r++}return i!==""&&(t+=q7(o,i)),t}function fX(e){return e.map(dX).join(",")}function hX(e){let t=[],r=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++n]):i===8&&r.push(o);else{if(!to(i))break;i=o}n++}return{attrs:t,classes:r}}function he(e){return vh(()=>{let t=zE(e),r=Ee(ne({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===OE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||No.Emulated,styles:e.styles||qr,_:null,schemas:e.schemas||null,tView:null,id:""});BE(r);let n=e.dependencies;return r.directiveDefs=Y7(n,!1),r.pipeDefs=Y7(n,!0),r.id=gX(r),r})}function pX(e){return wa(e)||jE(e)}function mX(e){return e!==null}function Zt(e){return vh(()=>({type:e.type,bootstrap:e.bootstrap||qr,declarations:e.declarations||qr,imports:e.imports||qr,exports:e.exports||qr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function G7(e,t){if(e==null)return ku;let r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,t&&(t[i]=o)}return r}function Xt(e){return vh(()=>{let t=zE(e);return BE(t),t})}function sw(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function wa(e){return e[LZ]||null}function jE(e){return e[jZ]||null}function VE(e){return e[VZ]||null}function UE(e){let t=wa(e)||jE(e)||VE(e);return t!==null?t.standalone:!1}function $E(e,t){let r=e[UZ]||null;if(!r&&t===!0)throw new Error(`Type ${xr(e)} does not have '\u0275mod' property.`);return r}function zE(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ku,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||qr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:G7(e.inputs,t),outputs:G7(e.outputs),debugInfo:null}}function BE(e){e.features?.forEach(t=>t(e))}function Y7(e,t){if(!e)return null;let r=t?VE:pX;return()=>(typeof e=="function"?e():e).map(n=>r(n)).filter(mX)}function gX(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483647+1,"c"+t}var Os=0,tt=1,Ge=2,Rn=3,ro=4,gi=5,y0=6,hh=7,ki=8,Iu=9,Au=10,wn=11,ph=12,Z7=13,ju=14,io=15,xh=16,wu=17,Po=18,U0=19,HE=20,ba=21,Yb=22,Rl=23,Gr=25,WE=1;var Fl=7,v0=8,Ou=9,mi=10,Pu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(Pu||{});function _a(e){return Array.isArray(e)&&typeof e[WE]=="object"}function oo(e){return Array.isArray(e)&&e[WE]===!0}function aw(e){return(e.flags&4)!==0}function $0(e){return e.componentOffset>-1}function z0(e){return(e.flags&1)===1}function Ca(e){return!!e.template}function yX(e){return(e[Ge]&512)!==0}function Ll(e,t){let r=e.hasOwnProperty(m0);return r?e[m0]:null}var p_=class{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Cn(){return qE}function qE(e){return e.type.prototype.ngOnChanges&&(e.setInput=xX),vX}Cn.ngInherit=!0;function vX(){let e=YE(this),t=e?.current;if(t){let r=e.previous;if(r===ku)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function xX(e,t,r,n){let i=this.declaredInputs[r],o=YE(e)||bX(e,{previous:ku,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new p_(l&&l.currentValue,t,a===ku),e[n]=t}var GE="__ngSimpleChanges__";function YE(e){return e[GE]||null}function bX(e,t){return e[GE]=t}var X7=null;var Ao=function(e,t,r){X7?.(e,t,r)},ZE="svg",_X="math";function Ro(e){for(;Array.isArray(e);)e=e[Os];return e}function XE(e,t){return Ro(t[e])}function Ai(e,t){return Ro(t[e.index])}function QE(e,t){return e.data[t]}function lw(e,t){return e[t]}function Ea(e,t){let r=t[e];return _a(r)?r:r[Os]}function wX(e){return(e[Ge]&4)===4}function cw(e){return(e[Ge]&128)===128}function CX(e){return oo(e[Rn])}function Nu(e,t){return t==null?null:e[t]}function KE(e){e[wu]=0}function DX(e){e[Ge]&1024||(e[Ge]|=1024,cw(e)&&B0(e))}function MX(e,t){for(;e>0;)t=t[ju],e--;return t}function JE(e){e[Ge]&9216&&B0(e)}function B0(e){let t=e[Rn];for(;t!==null&&!(oo(t)&&t[Ge]&Pu.HasChildViewsToRefresh||_a(t)&&t[Ge]&8192);){if(oo(t))t[Ge]|=Pu.HasChildViewsToRefresh;else if(t[Ge]|=8192,!cw(t))break;t=t[Rn]}}function e9(e,t){if((e[Ge]&256)===256)throw new le(911,!1);e[ba]===null&&(e[ba]=[]),e[ba].push(t)}function SX(e,t){if(e[ba]===null)return;let r=e[ba].indexOf(t);r!==-1&&e[ba].splice(r,1)}var Ke={lFrame:a9(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function EX(){return Ke.lFrame.elementDepthCount}function TX(){Ke.lFrame.elementDepthCount++}function kX(){Ke.lFrame.elementDepthCount--}function t9(){return Ke.bindingsEnabled}function n9(){return Ke.skipHydrationRootTNode!==null}function IX(e){return Ke.skipHydrationRootTNode===e}function AX(){Ke.skipHydrationRootTNode=null}function ot(){return Ke.lFrame.lView}function $n(){return Ke.lFrame.tView}function Ot(e){return Ke.lFrame.contextLView=e,e[ki]}function Pt(e){return Ke.lFrame.contextLView=null,e}function Yr(){let e=r9();for(;e!==null&&e.type===64;)e=e.parent;return e}function r9(){return Ke.lFrame.currentTNode}function OX(){let e=Ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ql(e,t){let r=Ke.lFrame;r.currentTNode=e,r.isParent=t}function uw(){return Ke.lFrame.isParent}function dw(){Ke.lFrame.isParent=!1}function PX(){return Ke.lFrame.contextLView}function H0(){let e=Ke.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function NX(){return Ke.lFrame.bindingIndex}function RX(e){return Ke.lFrame.bindingIndex=e}function fw(){return Ke.lFrame.bindingIndex++}function hw(e){let t=Ke.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function FX(){return Ke.lFrame.inI18n}function LX(e,t){let r=Ke.lFrame;r.bindingIndex=r.bindingRootIndex=e,m_(t)}function jX(){return Ke.lFrame.currentDirectiveIndex}function m_(e){Ke.lFrame.currentDirectiveIndex=e}function VX(e){let t=Ke.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function i9(){return Ke.lFrame.currentQueryIndex}function pw(e){Ke.lFrame.currentQueryIndex=e}function UX(e){let t=e[tt];return t.type===2?t.declTNode:t.type===1?e[gi]:null}function o9(e,t,r){if(r&it.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(r&it.Host);)if(i=UX(o),i===null||(o=o[ju],i.type&10))break;if(i===null)return!1;t=i,e=o}let n=Ke.lFrame=s9();return n.currentTNode=t,n.lView=e,!0}function mw(e){let t=s9(),r=e[tt];Ke.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function s9(){let e=Ke.lFrame,t=e===null?null:e.child;return t===null?a9(e):t}function a9(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function l9(){let e=Ke.lFrame;return Ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var c9=l9;function gw(){let e=l9();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $X(e){return(Ke.lFrame.contextLView=MX(e,Ke.lFrame.contextLView))[ki]}function Ta(){return Ke.lFrame.selectedIndex}function jl(e){Ke.lFrame.selectedIndex=e}function yw(){let e=Ke.lFrame;return QE(e.tView,e.selectedIndex)}function Ut(){Ke.lFrame.currentNamespace=ZE}function zn(){zX()}function zX(){Ke.lFrame.currentNamespace=null}function BX(){return Ke.lFrame.currentNamespace}var u9=!0;function W0(){return u9}function q0(e){u9=e}function HX(e,t,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){let s=qE(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}i&&(r.preOrderHooks??=[]).push(0-e,i),o&&((r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o))}function G0(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){let o=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),u!=null&&(e.destroyHooks??=[]).push(r,u)}}function c0(e,t,r){d9(e,t,3,r)}function u0(e,t,r,n){(e[Ge]&3)===r&&d9(e,t,r,n)}function Zb(e,t){let r=e[Ge];(r&3)===t&&(r&=16383,r+=1,e[Ge]=r)}function d9(e,t,r,n){let i=n!==void 0?e[wu]&65535:0,o=n??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(e[wu]+=65536),(a<o||o==-1)&&(WX(e,r,t,l),e[wu]=(e[wu]&4294901760)+l+2),l++}function Q7(e,t){Ao(4,e,t);let r=pi(null);try{t.call(e)}finally{pi(r),Ao(5,e,t)}}function WX(e,t,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=e[s];i?e[Ge]>>14<e[wu]>>16&&(e[Ge]&3)===t&&(e[Ge]+=16384,Q7(a,o)):Q7(a,o)}var Eu=-1,Vl=class{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function qX(e){return e instanceof Vl}function GX(e){return(e.flags&8)!==0}function YX(e){return(e.flags&16)!==0}function f9(e){return e!==Eu}function x0(e){let t=e&32767;return e&32767}function ZX(e){return e>>16}function b0(e,t){let r=ZX(e),n=t;for(;r>0;)n=n[ju],r--;return n}var g_=!0;function _0(e){let t=g_;return g_=e,t}var XX=256,h9=XX-1,p9=5,QX=0,Oo={};function KX(e,t,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(ch)&&(n=r[ch]),n==null&&(n=r[ch]=QX++);let i=n&h9,o=1<<i;t.data[e+(i>>p9)]|=o}function w0(e,t){let r=m9(e,t);if(r!==-1)return r;let n=t[tt];n.firstCreatePass&&(e.injectorIndex=t.length,Xb(n.data,e),Xb(t,null),Xb(n.blueprint,null));let i=vw(e,t),o=e.injectorIndex;if(f9(i)){let s=x0(i),a=b0(i,t),l=a[tt].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Xb(e,t){e.push(0,0,0,0,0,0,0,0,t)}function m9(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function vw(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;i!==null;){if(n=b9(i),n===null)return Eu;if(r++,i=i[ju],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Eu}function y_(e,t,r){KX(e,t,r)}function JX(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let r=e.attrs;if(r){let n=r.length,i=0;for(;i<n;){let o=r[i];if(NE(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof r[i]=="string";)i++;else{if(o===t)return r[i+1];i=i+2}}}return null}function g9(e,t,r){if(r&it.Optional||e!==void 0)return e;iw(t,"NodeInjector")}function y9(e,t,r,n){if(r&it.Optional&&n===void 0&&(n=null),!(r&(it.Self|it.Host))){let i=e[Iu],o=Wr(void 0);try{return i?i.get(t,n,r&it.Optional):AE(t,n,r&it.Optional)}finally{Wr(o)}}return g9(n,t,r)}function v9(e,t,r,n=it.Default,i){if(e!==null){if(t[Ge]&2048&&!(n&it.Self)){let s=rQ(e,t,r,n,Oo);if(s!==Oo)return s}let o=x9(e,t,r,n,Oo);if(o!==Oo)return o}return y9(t,r,n,i)}function x9(e,t,r,n,i){let o=tQ(r);if(typeof o=="function"){if(!o9(t,e,n))return n&it.Host?g9(i,r,n):y9(t,r,n,i);try{let s;if(s=o(n),s==null&&!(n&it.Optional))iw(r);else return s}finally{c9()}}else if(typeof o=="number"){let s=null,a=m9(e,t),l=Eu,c=n&it.Host?t[io][gi]:null;for((a===-1||n&it.SkipSelf)&&(l=a===-1?vw(e,t):t[a+8],l===Eu||!J7(n,!1)?a=-1:(s=t[tt],a=x0(l),t=b0(l,t)));a!==-1;){let u=t[tt];if(K7(o,a,u.data)){let d=eQ(a,t,r,s,n,c);if(d!==Oo)return d}l=t[a+8],l!==Eu&&J7(n,t[tt].data[a+8]===c)&&K7(o,a,t)?(s=u,a=x0(l),t=b0(l,t)):a=-1}}return i}function eQ(e,t,r,n,i,o){let s=t[tt],a=s.data[e+8],l=n==null?$0(a)&&g_:n!=s&&(a.type&3)!==0,c=i&it.Host&&o===a,u=d0(a,s,r,l,c);return u!==null?Ul(t,s,u,a):Oo}function d0(e,t,r,n,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=n?a:a+u,f=i?a+u:c;for(let p=d;p<f;p++){let m=s[p];if(p<l&&r===m||p>=l&&m.type===r)return p}if(i){let p=s[l];if(p&&Ca(p)&&p.type===r)return l}return null}function Ul(e,t,r,n){let i=e[r],o=t.data;if(qX(i)){let s=i;s.resolving&&zZ($Z(o[r]));let a=_0(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Wr(s.injectImpl):null,u=o9(e,n,it.Default);try{i=e[r]=s.factory(void 0,o,e,n),t.firstCreatePass&&r>=n.directiveStart&&HX(r,o[r],t)}finally{c!==null&&Wr(c),_0(a),s.resolving=!1,c9()}}return i}function tQ(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ch)?e[ch]:void 0;return typeof t=="number"?t>=0?t&h9:nQ:t}function K7(e,t,r){let n=1<<e;return!!(r[t+(e>>p9)]&n)}function J7(e,t){return!(e&it.Self)&&!(e&it.Host&&t)}var Nl=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return v9(this._tNode,this._lView,t,V0(n),r)}};function nQ(){return new Nl(Yr(),ot())}function ao(e){return vh(()=>{let t=e.prototype.constructor,r=t[m0]||v_(t),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[m0]||v_(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function v_(e){return DE(e)?()=>{let t=v_(Ar(e));return t&&t()}:Ll(e)}function rQ(e,t,r,n,i){let o=e,s=t;for(;o!==null&&s!==null&&s[Ge]&2048&&!(s[Ge]&512);){let a=x9(o,s,r,n|it.Self,Oo);if(a!==Oo)return a;let l=o.parent;if(!l){let c=s[HE];if(c){let u=c.get(r,Oo,n);if(u!==Oo)return u}l=b9(s),s=s[ju]}o=l}return i}function b9(e){let t=e[tt],r=t.type;return r===2?t.declTNode:r===1?e[gi]:null}function xw(e){return JX(Yr(),e)}var i0="__parameters__";function iQ(e){return function(...r){if(e){let n=e(...r);for(let i in n)this[i]=n[i]}}}function bw(e,t,r){return vh(()=>{let n=iQ(t);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(i0)?l[i0]:Object.defineProperty(l,i0,{value:[]})[i0];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function oQ(e){let t=Un.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function sQ(e){return typeof e=="function"}function aQ(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=t[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function lQ(e){return e.flat(Number.POSITIVE_INFINITY)}function _w(e,t){e.forEach(r=>Array.isArray(r)?_w(r,t):t(r))}function _9(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function C0(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function w9(e,t){let r=[];for(let n=0;n<e;n++)r.push(t);return r}function cQ(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(i===1)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=r,e[t+1]=n}}function ww(e,t,r){let n=bh(e,t);return n>=0?e[n|1]=r:(n=~n,cQ(e,n,t,r)),n}function Qb(e,t){let r=bh(e,t);if(r>=0)return e[r|1]}function bh(e,t){return uQ(e,t,1)}function uQ(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<r];if(t===s)return o<<r;s>t?i=o:n=o+1}return~(i<<r)}var Cw=ow(bw("Inject",e=>({token:e})),-1),_h=ow(bw("Optional"),8);var Y0=ow(bw("SkipSelf"),4);function dQ(e){let t=[],r=new Map;function n(i){let o=r.get(i);if(!o){let s=e(i);r.set(i,o=s.then(mQ))}return o}return D0.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(n(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(n(d).then(p=>{a[c+f]=p,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(n(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let l=Promise.all(s).then(()=>gQ(o));t.push(l)}),hQ(),Promise.all(t).then(()=>{})}var D0=new Map,fQ=new Set;function hQ(){let e=D0;return D0=new Map,e}function pQ(){return D0.size===0}function mQ(e){return typeof e=="string"?e:e.text()}function gQ(e){fQ.delete(e)}var Gl=new ae("ENVIRONMENT_INITIALIZER"),C9=new ae("INJECTOR",-1),D9=new ae("INJECTOR_DEF_TYPES"),M0=class{get(t,r=dh){if(r===dh){let n=new Error(`NullInjectorError: No provider for ${xr(t)}!`);throw n.name="NullInjectorError",n}return r}};function Vu(e){return{\u0275providers:e}}function yQ(...e){return{\u0275providers:M9(!0,e),\u0275fromNgModule:!0}}function M9(e,...t){let r=[],n=new Set,i,o=s=>{r.push(s)};return _w(t,s=>{let a=s;x_(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&S9(i,o),r}function S9(e,t){for(let r=0;r<e.length;r++){let{ngModule:n,providers:i}=e[r];Dw(i,o=>{t(o,n)})}}function x_(e,t,r,n){if(e=Ar(e),!e)return!1;let i=null,o=z7(e),s=!o&&wa(e);if(!o&&!s){let l=e.ngModule;if(o=z7(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)x_(c,t,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let c;try{_w(o.imports,u=>{x_(u,t,r,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&S9(c,t)}if(!a){let c=Ll(i)||(()=>new i);t({provide:i,useFactory:c,deps:qr},i),t({provide:D9,useValue:i,multi:!0},i),t({provide:Gl,useValue:()=>ee(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Dw(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Dw(e,t){for(let r of e)ME(r)&&(r=r.\u0275providers),Array.isArray(r)?Dw(r,t):t(r)}var vQ=tn({provide:String,useValue:tn});function E9(e){return e!==null&&typeof e=="object"&&vQ in e}function xQ(e){return!!(e&&e.useExisting)}function bQ(e){return!!(e&&e.useFactory)}function Ru(e){return typeof e=="function"}function _Q(e){return!!e.useClass}var Z0=new ae("Set Injector scope."),f0={},wQ={},Kb;function Mw(){return Kb===void 0&&(Kb=new M0),Kb}var Or=class{},mh=class extends Or{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,__(t,s=>this.processProvider(s)),this.records.set(C9,Cu(void 0,this)),i.has("environment")&&this.records.set(Or,Cu(void 0,this));let o=this.records.get(Z0);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(D9,qr,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=xa(this),n=Wr(void 0),i;try{return t()}finally{xa(r),Wr(n)}}get(t,r=dh,n=it.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(U7))return t[U7](this);n=V0(n);let i,o=xa(this),s=Wr(void 0);try{if(!(n&it.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=EQ(t)&&j0(t);c&&this.injectableDefInScope(c)?l=Cu(b_(t),f0):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&it.Self?Mw():this.parent;return r=n&it.Optional&&r===dh?null:r,a.get(t,r)}catch(a){if(a.name==="NullInjectorError"){if((a[g0]=a[g0]||[]).unshift(xr(t)),o)throw a;return eX(a,t,"R3InjectorError",this.source)}else throw a}finally{Wr(s),xa(o)}}resolveInjectorInitializers(){let t=xa(this),r=Wr(void 0),n;try{let i=this.get(Gl,qr,it.Self);for(let o of i)o()}finally{xa(t),Wr(r)}}toString(){let t=[],r=this.records;for(let n of r.keys())t.push(xr(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new le(205,!1)}processProvider(t){t=Ar(t);let r=Ru(t)?t:Ar(t&&t.provide),n=DQ(t);if(!Ru(t)&&t.multi===!0){let i=this.records.get(r);i||(i=Cu(void 0,f0,!0),i.factory=()=>f_(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}else{let i=this.records.get(r)}this.records.set(r,n)}hydrate(t,r){return r.value===f0&&(r.value=wQ,r.value=r.factory()),typeof r.value=="object"&&r.value&&SQ(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;let r=Ar(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function b_(e){let t=j0(e),r=t!==null?t.factory:Ll(e);if(r!==null)return r;if(e instanceof ae)throw new le(204,!1);if(e instanceof Function)return CQ(e);throw new le(204,!1)}function CQ(e){let t=e.length;if(t>0){let n=w9(t,"?");throw new le(204,!1)}let r=WZ(e);return r!==null?()=>r.factory(e):()=>new e}function DQ(e){if(E9(e))return Cu(void 0,e.useValue);{let t=T9(e);return Cu(t,f0)}}function T9(e,t,r){let n;if(Ru(e)){let i=Ar(e);return Ll(i)||b_(i)}else if(E9(e))n=()=>Ar(e.useValue);else if(bQ(e))n=()=>e.useFactory(...f_(e.deps||[]));else if(xQ(e))n=()=>ee(Ar(e.useExisting));else{let i=Ar(e&&(e.useClass||e.provide));if(MQ(e))n=()=>new i(...f_(e.deps));else return Ll(i)||b_(i)}return n}function Cu(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function MQ(e){return!!e.deps}function SQ(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function EQ(e){return typeof e=="function"||typeof e=="object"&&e instanceof ae}function __(e,t){for(let r of e)Array.isArray(r)?__(r,t):r&&ME(r)?__(r.\u0275providers,t):t(r)}function k9(e,t){e instanceof mh&&e.assertNotDestroyed();let r,n=xa(e),i=Wr(void 0);try{return t()}finally{xa(n),Wr(i)}}function Sw(e){if(!IE()&&!QZ())throw new le(-203,!1)}function eE(e,t=null,r=null,n){let i=I9(e,t,r,n);return i.resolveInjectorInitializers(),i}function I9(e,t=null,r=null,n,i=new Set){let o=[r||qr,yQ(e)];return n=n||(typeof e=="object"?void 0:xr(e)),new mh(o,t||Mw(),n||null,i)}var Zr=(()=>{let t=class t{static create(n,i){if(Array.isArray(n))return eE({name:""},i,n,"");{let o=n.name??"";return eE({name:o},n.parent,n.providers,o)}}};t.THROW_IF_NOT_FOUND=dh,t.NULL=new M0,t.\u0275prov=ce({token:t,providedIn:"any",factory:()=>ee(C9)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var w_;function A9(e){w_=e}function TQ(){if(w_!==void 0)return w_;if(typeof document<"u")return document;throw new le(210,!1)}var X0=new ae("AppId",{providedIn:"root",factory:()=>kQ}),kQ="ng",Ew=new ae("Platform Initializer"),Ps=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var Tw=new ae("AnimationModuleType"),kw=new ae("CSP nonce",{providedIn:"root",factory:()=>TQ().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function O9(e){return e.ownerDocument}function P9(e){return e instanceof Function?e():e}function IQ(e){return(e??fe(Zr)).get(Ps)==="browser"}function N9(e){return(e.flags&128)===128}var Fo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Fo||{}),AQ=/^>|^->|<!--|-->|--!>|<!-$/g,OQ=/(<|>)/g,PQ="\u200B$1\u200B";function NQ(e){return e.replace(AQ,t=>t.replace(OQ,PQ))}var R9=new Map,RQ=0;function FQ(){return RQ++}function LQ(e){R9.set(e[U0],e)}function jQ(e){R9.delete(e[U0])}var tE="__ngContext__";function Da(e,t){_a(t)?(e[tE]=t[U0],LQ(t)):e[tE]=t}var VQ;function Iw(e,t){return VQ(e,t)}function Aw(e){let t=e[Rn];return oo(t)?t[Rn]:t}function F9(e){return j9(e[ph])}function L9(e){return j9(e[ro])}function j9(e){for(;e!==null&&!oo(e);)e=e[ro];return e}function Du(e,t,r,n,i){if(n!=null){let o,s=!1;oo(n)?o=n:_a(n)&&(s=!0,n=n[Os]);let a=Ro(n);e===0&&r!==null?i==null?B9(t,r,a):S0(t,r,a,i||null,!0):e===1&&r!==null?S0(t,r,a,i||null,!0):e===2?nK(t,a,s):e===3&&t.destroyNode(a),o!=null&&iK(t,e,o,r,i)}}function UQ(e,t){return e.createText(t)}function $Q(e,t,r){e.setValue(t,r)}function zQ(e,t){return e.createComment(NQ(t))}function V9(e,t,r){return e.createElement(t,r)}function BQ(e,t){let r=t[wn];wh(e,t,r,2,null,null),t[Os]=null,t[gi]=null}function HQ(e,t,r,n,i,o){n[Os]=i,n[gi]=t,wh(e,n,r,1,i,o)}function WQ(e,t){wh(e,t,t[wn],2,null,null)}function qQ(e){let t=e[ph];if(!t)return Jb(e[tt],e);for(;t;){let r=null;if(_a(t))r=t[ph];else{let n=t[mi];n&&(r=n)}if(!r){for(;t&&!t[ro]&&t!==e;)_a(t)&&Jb(t[tt],t),t=t[Rn];t===null&&(t=e),_a(t)&&Jb(t[tt],t),r=t&&t[ro]}t=r}}function GQ(e,t,r,n){let i=mi+n,o=r.length;n>0&&(r[i-1][ro]=t),n<o-mi?(t[ro]=r[i],_9(r,mi+n,t)):(r.push(t),t[ro]=null),t[Rn]=r;let s=t[xh];s!==null&&r!==s&&YQ(s,t);let a=t[Po];a!==null&&a.insertView(e),JE(t),t[Ge]|=128}function YQ(e,t){let r=e[Ou],i=t[Rn][Rn][io];t[io]!==i&&(e[Ge]|=Pu.HasTransplantedViews),r===null?e[Ou]=[t]:r.push(t)}function U9(e,t){let r=e[Ou],n=r.indexOf(t),i=t[Rn];r.splice(n,1)}function C_(e,t){if(e.length<=mi)return;let r=mi+t,n=e[r];if(n){let i=n[xh];i!==null&&i!==e&&U9(i,n),t>0&&(e[r-1][ro]=n[ro]);let o=C0(e,mi+t);BQ(n[tt],n);let s=o[Po];s!==null&&s.detachView(o[tt]),n[Rn]=null,n[ro]=null,n[Ge]&=-129}return n}function $9(e,t){if(!(t[Ge]&256)){let r=t[wn];t[Rl]&&i7(t[Rl]),r.destroyNode&&wh(e,t,r,3,null,null),qQ(t)}}function Jb(e,t){if(!(t[Ge]&256)){t[Ge]&=-129,t[Ge]|=256,XQ(e,t),ZQ(e,t),t[tt].type===1&&t[wn].destroy();let r=t[xh];if(r!==null&&oo(t[Rn])){r!==t[Rn]&&U9(r,t);let n=t[Po];n!==null&&n.detachView(e)}jQ(t)}}function ZQ(e,t){let r=e.cleanup,n=t[hh];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(t[hh]=null);let i=t[ba];if(i!==null){t[ba]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function XQ(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=t[r[n]];if(!(i instanceof Vl)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Ao(4,a,l);try{l.call(a)}finally{Ao(5,a,l)}}else{Ao(4,i,o);try{o.call(i)}finally{Ao(5,i,o)}}}}}function z9(e,t,r){return QQ(e,t.parent,r)}function QQ(e,t,r){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return r[Os];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=e.data[n.directiveStart+i];if(o===No.None||o===No.Emulated)return null}return Ai(n,r)}}function S0(e,t,r,n,i){e.insertBefore(t,r,n,i)}function B9(e,t,r){e.appendChild(t,r)}function nE(e,t,r,n,i){n!==null?S0(e,t,r,n,i):B9(e,t,r)}function KQ(e,t,r,n){e.removeChild(t,r,n)}function Ow(e,t){return e.parentNode(t)}function JQ(e,t){return e.nextSibling(t)}function H9(e,t,r){return tK(e,t,r)}function eK(e,t,r){return e.type&40?Ai(e,r):null}var tK=eK,rE;function Q0(e,t,r,n){let i=z9(e,n,t),o=t[wn],s=n.parent||t[gi],a=H9(s,n,t);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)nE(o,i,r[l],a,!1);else nE(o,i,r,a,!1);rE!==void 0&&rE(o,n,t,r,i)}function h0(e,t){if(t!==null){let r=t.type;if(r&3)return Ai(t,e);if(r&4)return D_(-1,e[t.index]);if(r&8){let n=t.child;if(n!==null)return h0(e,n);{let i=e[t.index];return oo(i)?D_(-1,i):Ro(i)}}else{if(r&32)return Iw(t,e)()||Ro(e[t.index]);{let n=W9(e,t);if(n!==null){if(Array.isArray(n))return n[0];let i=Aw(e[io]);return h0(i,n)}else return h0(e,t.next)}}}return null}function W9(e,t){if(t!==null){let n=e[io][gi],i=t.projection;return n.projection[i]}return null}function D_(e,t){let r=mi+e+1;if(r<t.length){let n=t[r],i=n[tt].firstChild;if(i!==null)return h0(n,i)}return t[Fl]}function nK(e,t,r){let n=Ow(e,t);n&&KQ(e,n,t,r)}function Pw(e,t,r,n,i,o,s){for(;r!=null;){let a=n[r.index],l=r.type;if(s&&t===0&&(a&&Da(Ro(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)Pw(e,t,r.child,n,i,o,!1),Du(t,e,i,a,o);else if(l&32){let c=Iw(r,n),u;for(;u=c();)Du(t,e,i,u,o);Du(t,e,i,a,o)}else l&16?q9(e,t,n,r,i,o):Du(t,e,i,a,o);r=s?r.projectionNext:r.next}}function wh(e,t,r,n,i,o){Pw(r,n,e.firstChild,t,i,o,!1)}function rK(e,t,r){let n=t[wn],i=z9(e,r,t),o=r.parent||t[gi],s=H9(o,r,t);q9(n,0,t,r,i,s)}function q9(e,t,r,n,i,o){let s=r[io],l=s[gi].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Du(t,e,i,u,o)}else{let c=l,u=s[Rn];N9(n)&&(c.flags|=128),Pw(e,t,c,u,i,o,!0)}}function iK(e,t,r,n,i){let o=r[Fl],s=Ro(r);o!==s&&Du(t,e,n,o,i);for(let a=mi;a<r.length;a++){let l=r[a];wh(l[tt],l,e,t,n,o)}}function oK(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:Fo.DashCase;i==null?e.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Fo.Important),e.setStyle(r,n,i,o))}}function sK(e,t,r){e.setAttribute(t,"style",r)}function G9(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Y9(e,t,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&h_(e,t,n),i!==null&&G9(e,t,i),o!==null&&sK(e,t,o)}var o0;function aK(){if(o0===void 0&&(o0=null,Un.trustedTypes))try{o0=Un.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return o0}function iE(e){return aK()?.createScriptURL(e)||e}var E0=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SE})`}};function Uu(e){return e instanceof E0?e.changingThisBreaksApplicationSecurity:e}function Nw(e,t){let r=lK(e);if(r!=null&&r!==t){if(r==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${SE})`)}return r===t}function lK(e){return e instanceof E0&&e.getTypeName()||null}var cK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Z9(e){return e=String(e),e.match(cK)?e:"unsafe:"+e}var K0=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(K0||{});function uK(e){let t=Q9();return t?t.sanitize(K0.URL,e)||"":Nw(e,"URL")?Uu(e):Z9(Tu(e))}function dK(e){let t=Q9();if(t)return iE(t.sanitize(K0.RESOURCE_URL,e)||"");if(Nw(e,"ResourceURL"))return iE(Uu(e));throw new le(904,!1)}function fK(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?dK:uK}function X9(e,t,r){return fK(t,r)(e)}function Q9(){let e=ot();return e&&e[Au].sanitizer}var hK="h",pK="b";var mK=(e,t,r)=>null;function Rw(e,t,r=!1){return mK(e,t,r)}var M_=class{},T0=class{};function gK(e){let t=Error(`No component factory found for ${xr(e)}.`);return t[yK]=e,t}var yK="ngComponent";var S_=class{resolveComponentFactory(t){throw gK(t)}},$u=(()=>{let t=class t{};t.NULL=new S_;let e=t;return e})();function vK(){return zu(Yr(),ot())}function zu(e,t){return new ze(Ai(e,t))}var ze=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=vK;let e=t;return e})();function xK(e){return e instanceof ze?e.nativeElement:e}var $l=class{},Xr=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>bK();let e=t;return e})();function bK(){let e=ot(),t=Yr(),r=Ea(t.index,e);return(_a(r)?r:e)[wn]}var _K=(()=>{let t=class t{};t.\u0275prov=ce({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),zl=class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}},wK=new zl("17.0.4"),e_={};function J0(e,t){let r=a7(e);return t?.equal&&(r[El].equal=t.equal),r}function Fw(e,t){let r=d7(e),n=r[El];return t?.equal&&(n.equal=t.equal),r.set=i=>wb(n,i),r.update=i=>f7(n,i),r.asReadonly=CK.bind(r),r}function CK(){let e=this[El];if(e.readonlyFn===void 0){let t=()=>this();t[El]=e,e.readonlyFn=t}return e.readonlyFn}function K9(e){return Lw(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function DK(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{let r=e[Symbol.iterator](),n;for(;!(n=r.next()).done;)t(n.value)}}function Lw(e){return e!==null&&(typeof e=="function"||typeof e=="object")}var E_=class{constructor(){}supports(t){return K9(t)}create(t){return new T_(t)}},MK=(e,t)=>t,T_=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||MK}forEachItem(t){let r;for(r=this._itHead;r!==null;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){let s=!n||r&&r.currentIndex<oE(n,i,o)?r:n,a=oE(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(r=r._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let p=f<o.length?o[f]:o[f]=0,m=p+f;u<=m&&m<c&&(o[f]=p+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)t(r)}diff(t){if(t==null&&(t=[]),!K9(t))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._itHead,n=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,o,s,a),n=!0):(n&&(r=this._verifyReinsertion(r,o,s,a)),Object.is(r.item,o)||this._addIdentityChange(r,o)),r=r._next}else i=0,DK(t,a=>{s=this._trackByFn(i,a),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,a,s,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,s,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,i),t!==null?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,i)):t=this._addAfter(new k_(r,n),o,i)),t}_verifyReinsertion(t,r,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let r=t._next;this._addToRemovals(this._unlink(t)),t=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){let i=r===null?this._itHead:r._next;return t._next=i,t._prev=r,i===null?this._itTail=t:i._prev=t,r===null?this._itHead=t:r._next=t,this._linkedRecords===null&&(this._linkedRecords=new k0),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let r=t._prev,n=t._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new k0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},k_=class{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},I_=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let r=t._prevDup,n=t._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},k0=class{constructor(){this.map=new Map}put(t){let r=t.trackById,n=this.map.get(r);n||(n=new I_,this.map.set(r,n)),n.add(t)}get(t,r){let n=t,i=this.map.get(n);return i?i.get(t,r):null}remove(t){let r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oE(e,t,r){let n=e.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+t+i}var A_=class{constructor(){}supports(t){return t instanceof Map||Lw(t)}create(){return new O_}},O_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let r;for(r=this._mapHead;r!==null;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;r!==null;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;r!==null;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)t(r)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||Lw(t)))throw new le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{let o=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){let n=t._prev;return r._next=t,r._prev=n,t._prev=r,n&&(n._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,r);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new P_(t);return this._records.set(t,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(n=>r(t[n],n))}},P_=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function sE(){return new e1([new E_])}var e1=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||sE()),deps:[[t,new Y0,new _h]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new le(901,!1)}};t.\u0275prov=ce({token:t,providedIn:"root",factory:sE});let e=t;return e})();function aE(){return new Ch([new A_])}var Ch=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i){let o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||aE()),deps:[[t,new Y0,new _h]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i)return i;throw new le(901,!1)}};t.\u0275prov=ce({token:t,providedIn:"root",factory:aE});let e=t;return e})();function I0(e,t,r,n,i=!1){for(;r!==null;){let o=t[r.index];o!==null&&n.push(Ro(o)),oo(o)&&SK(o,n);let s=r.type;if(s&8)I0(e,t,r.child,n);else if(s&32){let a=Iw(r,t),l;for(;l=a();)n.push(l)}else if(s&16){let a=W9(t,r);if(Array.isArray(a))n.push(...a);else{let l=Aw(t[io]);I0(l[tt],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function SK(e,t){for(let r=mi;r<e.length;r++){let n=e[r],i=n[tt].firstChild;i!==null&&I0(n[tt],n,i,t)}e[Fl]!==e[Os]&&t.push(e[Fl])}var J9=[];function EK(e){return e[Rl]??TK(e)}function TK(e){let t=J9.pop()??Object.create(IK);return t.lView=e,t}function kK(e){e.lView[Rl]!==e&&(e.lView=null,J9.push(e))}var IK=Ee(ne({},Ig),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{B0(e.lView)},consumerOnSignalRead(){this.lView[Rl]=this}}),AK="ngOriginalError";function t_(e){return e[AK]}var Ii=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&t_(t);for(;r&&t_(r);)r=t_(r);return r||null}};var eT=!1,OK=new ae("",{providedIn:"root",factory:()=>eT});var yi={};function q(e){tT($n(),ot(),Ta()+e,!1)}function tT(e,t,r,n){if(!n)if((t[Ge]&3)===3){let o=e.preOrderCheckHooks;o!==null&&c0(t,o,r)}else{let o=e.preOrderHooks;o!==null&&u0(t,o,0,r)}jl(r)}function Z(e,t=it.Default){let r=ot();if(r===null)return ee(e,t);let n=Yr();return v9(n,r,Ar(e),t)}function nT(){let e="invalid";throw new Error(e)}function PK(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)jl(~i);else{let o=i,s=r[++n],a=r[++n];LX(s,o);let l=t[o];a(2,l)}}}finally{jl(-1)}}function t1(e,t,r,n,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[Os]=i,d[Ge]=n|4|128|8,(c!==null||e&&e[Ge]&2048)&&(d[Ge]|=2048),KE(d),d[Rn]=d[ju]=e,d[ki]=r,d[Au]=s||e&&e[Au],d[wn]=a||e&&e[wn],d[Iu]=l||e&&e[Iu]||null,d[gi]=o,d[U0]=FQ(),d[y0]=u,d[HE]=c,d[io]=t.type==2?e[io]:d,d}function Bu(e,t,r,n,i){let o=e.data[t];if(o===null)o=NK(e,t,r,n,i),FX()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=OX();o.injectorIndex=s===null?-1:s.injectorIndex}return ql(o,!0),o}function NK(e,t,r,n,i){let o=r9(),s=uw(),a=s?o:o&&o.parent,l=e.data[t]=UK(e,a,r,t,n,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function rT(e,t,r,n){if(r===0)return-1;let i=t.length;for(let o=0;o<r;o++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function iT(e,t,r,n,i){let o=Ta(),s=n&2;try{jl(-1),s&&t.length>Gr&&tT(e,t,Gr,!1),Ao(s?2:0,i),r(n,i)}finally{jl(o),Ao(s?3:1,i)}}function jw(e,t,r){if(aw(t)){let n=pi(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{pi(n)}}}function Vw(e,t,r){t9()&&(qK(e,t,r,Ai(r,t)),(r.flags&64)===64&&lT(e,t,r))}function Uw(e,t,r=Ai){let n=t.localNames;if(n!==null){let i=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(t,e):e[s];e[i++]=a}}}function oT(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=$w(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function $w(e,t,r,n,i,o,s,a,l,c,u){let d=Gr+n,f=d+i,p=RK(d,f),m=typeof c=="function"?c():c;return p[tt]={type:e,blueprint:p,template:r,queries:null,viewQuery:a,declTNode:t,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function RK(e,t){let r=[];for(let n=0;n<t;n++)r.push(n<e?null:yi);return r}function FK(e,t,r,n){let o=n.get(OK,eT)||r===No.ShadowDom,s=e.selectRootElement(t,o);return LK(s),s}function LK(e){jK(e)}var jK=e=>null;function VK(e,t,r,n){let i=fT(t);i.push(r),e.firstCreatePass&&hT(e).push(n,i.length-1)}function UK(e,t,r,n,i,o){let s=t?t.injectorIndex:-1,a=0;return n9()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function lE(e,t,r,n){for(let i in e)if(e.hasOwnProperty(i)){r=r===null?{}:r;let o=e[i];n===null?cE(r,t,i,o):n.hasOwnProperty(i)&&cE(r,t,n[i],o)}return r}function cE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function $K(e,t,r){let n=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=n;u<i;u++){let d=o[u],f=r?r.get(d):null,p=f?f.inputs:null,m=f?f.outputs:null;l=lE(d.inputs,u,l,p),c=lE(d.outputs,u,c,m);let v=l!==null&&s!==null&&!FE(t)?rJ(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function zK(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function sT(e,t,r,n,i,o,s,a){let l=Ai(t,r),c=t.inputs,u;!a&&c!=null&&(u=c[n])?(Bw(e,r,u,n,i),$0(t)&&BK(r,t.index)):t.type&3?(n=zK(n),i=s!=null?s(i,t.value||"",n):i,o.setProperty(l,n,i)):t.type&12}function BK(e,t){let r=Ea(t,e);r[Ge]&16||(r[Ge]|=64)}function zw(e,t,r,n){if(t9()){let i=n===null?null:{"":-1},o=YK(e,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&aT(e,t,r,s,i,a),i&&ZK(r,n,i)}r.mergedAttrs=fh(r.mergedAttrs,r.attrs)}function aT(e,t,r,n,i,o){for(let c=0;c<n.length;c++)y_(w0(r,t),e,n[c].type);QK(r,e.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=rT(e,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];r.mergedAttrs=fh(r.mergedAttrs,u.hostAttrs),KK(e,r,t,l,u),XK(l,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}$K(e,r,o)}function HK(e,t,r,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;WK(s)!=a&&s.push(a),s.push(r,n,o)}}function WK(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function qK(e,t,r,n){let i=r.directiveStart,o=r.directiveEnd;$0(r)&&JK(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||w0(r,t),Da(n,t);let s=r.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],c=Ul(t,e,a,r);if(Da(c,t),s!==null&&nJ(t,a-i,c,l,r,s),Ca(l)){let u=Ea(r.index,t);u[ki]=Ul(t,e,a,r)}}}function lT(e,t,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=jX();try{jl(o);for(let a=n;a<i;a++){let l=e.data[a],c=t[a];m_(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&GK(l,c)}}finally{jl(-1),m_(s)}}function GK(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function YK(e,t){let r=e.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(LE(t,s.selectors,!1))if(n||(n=[]),Ca(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;N_(e,t,l)}else n.unshift(s),N_(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function N_(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function ZK(e,t,r){if(t){let n=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=r[t[i+1]];if(o==null)throw new le(-301,!1);n.push(t[i],o)}}}function XK(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Ca(t)&&(r[""]=e)}}function QK(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function KK(e,t,r,n,i){e.data[n]=i;let o=i.factory||(i.factory=Ll(i.type,!0)),s=new Vl(o,Ca(i),Z);e.blueprint[n]=s,r[n]=s,HK(e,t,n,rT(e,r,i.hostVars,yi),i)}function JK(e,t,r){let n=Ai(t,e),i=oT(r),o=e[Au].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=n1(e,t1(e,i,null,s,n,t,null,o.createRenderer(n,r),null,null,null));e[t.index]=a}function eJ(e,t,r,n,i,o){let s=Ai(e,t);tJ(t[wn],s,o,e.value,r,n,i)}function tJ(e,t,r,n,i,o,s){if(o==null)e.removeAttribute(t,i,r);else{let a=s==null?Tu(o):s(o,n||"",i);e.setAttribute(t,i,a,r)}}function nJ(e,t,r,n,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++];cT(n,r,l,c,u)}}function cT(e,t,r,n,i){let o=pi(null);try{let s=e.inputTransforms;s!==null&&s.hasOwnProperty(n)&&(i=s[n].call(t,i)),e.setInput!==null?e.setInput(t,i,r,n):t[n]=i}finally{pi(o)}}function rJ(e,t,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){n===null&&(n=[]);let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],r[i+1]);break}}i+=2}return n}function uT(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function dT(e,t){let r=e.contentQueries;if(r!==null){let n=pi(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=e.data[s];pw(o),a.contentQueries(2,t[s],s)}}}finally{pi(n)}}}function n1(e,t){return e[ph]?e[Z7][ro]=t:e[ph]=t,e[Z7]=t,t}function R_(e,t,r){pw(0);let n=pi(null);try{t(e,r)}finally{pi(n)}}function fT(e){return e[hh]||(e[hh]=[])}function hT(e){return e.cleanup||(e.cleanup=[])}function pT(e,t){let r=e[Iu],n=r?r.get(Ii,null):null;n&&n.handleError(t)}function Bw(e,t,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],l=t[s],c=e.data[s];cT(c,l,n,a,i)}}function mT(e,t,r){let n=XE(t,e);$Q(e[wn],n,r)}var iJ=100;function oJ(e,t=!0){let r=e[Au],n=r.rendererFactory,i=r.afterRenderEventManager,o=!1;o||(n.begin?.(),i?.begin());try{let s=e[tt],a=e[ki];gT(s,e,s.template,a),sJ(e)}catch(s){throw t&&pT(e,s),s}finally{o||(n.end?.(),r.inlineEffectRunner?.flush(),i?.end())}}function sJ(e){let t=0;for(;e[Ge]&9216||e[Rl]?.dirty;){if(t===iJ)throw new le(103,!1);t++,xT(e,1)}}function gT(e,t,r,n){let i=t[Ge];if((i&256)===256)return;let o=!1;!o&&t[Au].inlineEffectRunner?.flush(),mw(t);let s=null,a=null;!o&&aJ(e)&&(a=EK(t),s=xb(a));try{KE(t),RX(e.bindingStartIndex),r!==null&&iT(e,t,r,2,n);let l=(i&3)===3;if(!o)if(l){let d=e.preOrderCheckHooks;d!==null&&c0(t,d,null)}else{let d=e.preOrderHooks;d!==null&&u0(t,d,0,null),Zb(t,0)}if(lJ(t),yT(t,0),e.contentQueries!==null&&dT(e,t),!o)if(l){let d=e.contentCheckHooks;d!==null&&c0(t,d)}else{let d=e.contentHooks;d!==null&&u0(t,d,1),Zb(t,1)}PK(e,t);let c=e.components;c!==null&&bT(t,c,0);let u=e.viewQuery;if(u!==null&&R_(2,u,n),!o)if(l){let d=e.viewCheckHooks;d!==null&&c0(t,d)}else{let d=e.viewHooks;d!==null&&u0(t,d,2),Zb(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Yb]){for(let d of t[Yb])d();t[Yb]=null}o||(t[Ge]&=-73)}catch(l){throw B0(t),l}finally{a!==null&&(bb(a,s),kK(a)),gw()}}function aJ(e){return e.type!==2}function yT(e,t){for(let r=F9(e);r!==null;r=L9(r)){r[Ge]&=~Pu.HasChildViewsToRefresh;for(let n=mi;n<r.length;n++){let i=r[n];vT(i,t)}}}function lJ(e){for(let t=F9(e);t!==null;t=L9(t)){if(!(t[Ge]&Pu.HasTransplantedViews))continue;let r=t[Ou];for(let n=0;n<r.length;n++){let i=r[n],o=i[Rn];DX(i)}}}function cJ(e,t,r){let n=Ea(t,e);vT(n,r)}function vT(e,t){cw(e)&&xT(e,t)}function xT(e,t){let n=e[tt],i=e[Ge],o=e[Rl],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&_b(o)),o&&(o.dirty=!1),e[Ge]&=-9217,s)gT(n,e,n.template,e[ki]);else if(i&8192){yT(e,1);let a=n.components;a!==null&&bT(e,a,1)}}function bT(e,t,r){for(let n=0;n<t.length;n++)cJ(e,t[n],r)}function Hw(e){for(;e;){e[Ge]|=64;let t=Aw(e);if(yX(e)&&!t)return e;e=t}return null}var Bl=class{get rootNodes(){let t=this._lView,r=t[tt];return I0(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ki]}set context(t){this._lView[ki]=t}get destroyed(){return(this._lView[Ge]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Rn];if(oo(t)){let r=t[v0],n=r?r.indexOf(this):-1;n>-1&&(C_(t,n),C0(r,n))}this._attachedToViewContainer=!1}$9(this._lView[tt],this._lView)}onDestroy(t){e9(this._lView,t)}markForCheck(){Hw(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ge]&=-129}reattach(){JE(this._lView),this._lView[Ge]|=128}detectChanges(){oJ(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,WQ(this._lView[tt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new le(902,!1);this._appRef=t}},Hu=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=uJ;let e=t;return e})();function uJ(e){return dJ(Yr(),ot(),(e&16)===16)}function dJ(e,t,r){if($0(e)&&!r){let n=Ea(e.index,t);return new Bl(n,n)}else if(e.type&47){let n=t[io];return new Bl(n,t)}return null}var Dh=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=fJ,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),F_=class extends Dh{constructor(t){super(),this._lView=t}onDestroy(t){return e9(this._lView,t),()=>SX(this._lView,t)}};function fJ(){return new F_(ot())}var uE=new Set;function r1(e){uE.has(e)||(uE.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))}var L_=class extends Et{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let i=t,o=r||(()=>null),s=n;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=n_(o),i&&(i=n_(i)),s&&(s=n_(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Nn&&t.add(a),a}};function n_(e){return t=>{setTimeout(e,void 0,t)}}var rt=L_;function dE(...e){}function hJ(){let e=typeof Un.requestAnimationFrame=="function",t=Un[e?"requestAnimationFrame":"setTimeout"],r=Un[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}var Ct=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rt(!1),this.onMicrotaskEmpty=new rt(!1),this.onStable=new rt(!1),this.onError=new rt(!1),typeof Zone>"u")throw new le(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=hJ().nativeRequestAnimationFrame,gJ(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new le(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new le(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,pJ,dE,dE);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}},pJ={};function Ww(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mJ(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Un,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,j_(e),e.isCheckStableRunning=!0,Ww(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),j_(e))}function gJ(e){let t=()=>{mJ(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(yJ(a))return r.invokeTask(i,o,s,a);try{return fE(e),r.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),hE(e)}},onInvoke:(r,n,i,o,s,a,l)=>{try{return fE(e),r.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),hE(e)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,j_(e),Ww(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function j_(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function fE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hE(e){e._nesting--,Ww(e)}var V_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rt,this.onMicrotaskEmpty=new rt,this.onStable=new rt,this.onError=new rt}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,i){return t.apply(r,n)}},_T=new ae("",{providedIn:"root",factory:wT});function wT(){let e=fe(Ct),t=!0,r=new He(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),n=new He(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});let s=e.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}});return xu(r,n.pipe(_u()))}function yJ(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Mu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Mu||{}),vJ={destroy(){}};function qw(e,t){!t&&Sw(qw);let r=t?.injector??fe(Zr);if(!IQ(r))return vJ;r1("NgAfterNextRender");let n=r.get(CT),i=n.handler??=new $_,o=t?.phase??Mu.MixedReadWrite,s=()=>{i.unregister(l),a()},a=r.get(Dh).onDestroy(s),l=new U_(r,o,()=>{s(),e()});return i.register(l),{destroy:s}}var U_=class{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Ct),this.errorHandler=t.get(Ii,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},$_=class{constructor(){this.executingCallbacks=!1,this.buckets={[Mu.EarlyRead]:new Set,[Mu.Write]:new Set,[Mu.MixedReadWrite]:new Set,[Mu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new le(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let r of t)r.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},CT=(()=>{let t=class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function xJ(e,t){let r=Ea(t,e),n=r[tt];bJ(n,r);let i=r[Os];i!==null&&r[y0]===null&&(r[y0]=Rw(i,r[Iu])),Gw(n,r,r[ki])}function bJ(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function Gw(e,t,r){mw(t);try{let n=e.viewQuery;n!==null&&R_(1,n,r);let i=e.template;i!==null&&iT(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&dT(e,t),e.staticViewQueries&&R_(2,e.viewQuery,r);let o=e.components;o!==null&&_J(t,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Ge]&=-5,gw()}}function _J(e,t){for(let r=0;r<t.length;r++)xJ(e,t[r])}function A0(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=c_(i,a);else if(o==2){let l=a,c=t[++s];n=c_(n,l+": "+c+";")}}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}var O0=class extends $u{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=wa(t);return new Fu(r,this.ngModule)}};function pE(e){let t=[];for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];t.push({propName:n,templateName:r})}return t}function wJ(e){let t=e.toLowerCase();return t==="svg"?ZE:t==="math"?_X:null}var z_=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=V0(n);let i=this.injector.get(t,e_,n);return i!==e_||r===e_?i:this.parentInjector.get(t,r,n)}},Fu=class extends T0{get inputs(){let t=this.componentDef,r=t.inputTransforms,n=pE(t.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return pE(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=fX(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){i=i||this.ngModule;let o=i instanceof Or?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new z_(t,o):t,a=s.get($l,null);if(a===null)throw new le(407,!1);let l=s.get(_K,null),c=s.get(CT,null),u={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=n?FK(d,n,this.componentDef.encapsulation,s):V9(d,f,wJ(f)),m=4608,v=this.componentDef.onPush?576:528,g=this.componentDef.signals?m:v,x=null;p!==null&&(x=Rw(p,s,!0));let _=$w(0,null,null,1,0,null,null,null,null,null,null),w=t1(null,_,null,g,null,null,u,d,s,null,x);mw(w);let b,k;try{let E=this.componentDef,V,z=null;E.findHostDirectiveDefs?(V=[],z=new Map,E.findHostDirectiveDefs(E,V,z),V.push(E)):V=[E];let B=CJ(w,p),$=DJ(B,p,E,V,w,u,d);k=QE(_,Gr),p&&EJ(d,E,p,n),r!==void 0&&TJ(k,this.ngContentSelectors,r),b=SJ($,E,V,z,w,[kJ]),Gw(_,w,null)}finally{gw()}return new B_(this.componentType,b,zu(k,w),w,k)}},B_=class extends M_{constructor(t,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Bl(i,void 0,!1),this.componentType=t}setInput(t,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let o=this._rootLView;Bw(o[tt],o,i,t,r),this.previousInputValues.set(t,r);let s=Ea(this._tNode.index,o);Hw(s)}}get injector(){return new Nl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function CJ(e,t){let r=e[tt],n=Gr;return e[n]=t,Bu(r,n,2,"#host",null)}function DJ(e,t,r,n,i,o,s){let a=i[tt];MJ(n,e,t,s);let l=null;t!==null&&(l=Rw(t,i[Iu]));let c=o.rendererFactory.createRenderer(t,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=t1(i,oT(r),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&N_(a,e,n.length-1),n1(i,d),i[e.index]=d}function MJ(e,t,r,n){for(let i of e)t.mergedAttrs=fh(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(A0(t,t.mergedAttrs,!0),r!==null&&Y9(n,r,t))}function SJ(e,t,r,n,i,o){let s=Yr(),a=i[tt],l=Ai(s,i);aT(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,f=Ul(i,a,d,s);Da(f,i)}lT(a,i,s),l&&Da(l,i);let c=Ul(i,a,s.directiveStart+s.componentOffset,s);if(e[ki]=i[ki]=c,o!==null)for(let u of o)u(c,t);return jw(a,s,e),c}function EJ(e,t,r,n){if(n)h_(e,r,["ng-version",wK.full]);else{let{attrs:i,classes:o}=hX(t.selectors[0]);i&&h_(e,r,i),o&&o.length>0&&G9(e,r,o.join(" "))}}function TJ(e,t,r){let n=e.projection=[];for(let i=0;i<t.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function kJ(){let e=Yr();G0(ot()[tt],e)}function IJ(e){return Object.getPrototypeOf(e.prototype).constructor}function Qr(e){let t=IJ(e.type),r=!0,n=[e];for(;t;){let i;if(Ca(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new le(903,!1);i=t.\u0275dir}if(i){if(r){n.push(i);let s=e;s.inputs=s0(e.inputs),s.inputTransforms=s0(e.inputTransforms),s.declaredInputs=s0(e.declaredInputs),s.outputs=s0(e.outputs);let a=i.hostBindings;a&&NJ(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&OJ(e,l),c&&PJ(e,c),r0(e.inputs,i.inputs),r0(e.declaredInputs,i.declaredInputs),r0(e.outputs,i.outputs),i.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),r0(s.inputTransforms,i.inputTransforms)),Ca(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Qr&&(r=!1)}}t=Object.getPrototypeOf(t)}AJ(n)}function AJ(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=fh(i.hostAttrs,r=fh(r,i.hostAttrs))}}function s0(e){return e===ku?{}:e===qr?[]:e}function OJ(e,t){let r=e.viewQuery;r?e.viewQuery=(n,i)=>{t(n,i),r(n,i)}:e.viewQuery=t}function PJ(e,t){let r=e.contentQueries;r?e.contentQueries=(n,i,o)=>{t(n,i,o),r(n,i,o)}:e.contentQueries=t}function NJ(e,t){let r=e.hostBindings;r?e.hostBindings=(n,i)=>{t(n,i),r(n,i)}:e.hostBindings=t}function Yw(e){let t=e.inputConfig,r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];Array.isArray(i)&&i[2]&&(r[n]=i[2])}e.inputTransforms=r}function Zw(e,t,r){return e[t]=r}function RJ(e,t){return e[t]}function Ma(e,t,r){let n=e[t];return Object.is(n,r)?!1:(e[t]=r,!0)}function DT(e,t,r,n){let i=Ma(e,t,r);return Ma(e,t+1,n)||i}function i1(e,t,r,n){let i=ot(),o=fw();if(Ma(i,o,t)){let s=$n(),a=yw();eJ(a,i,e,t,r,n)}return i1}function Xw(e,t,r,n){return Ma(e,fw(),r)?t+Tu(r)+n:yi}function FJ(e,t,r,n,i,o){let s=NX(),a=DT(e,s,r,i);return hw(2),a?t+Tu(r)+n+Tu(i)+o:yi}function a0(e,t){return e<<17|t<<2}function Hl(e){return e>>17&32767}function LJ(e){return(e&2)==2}function jJ(e,t){return e&131071|t<<17}function H_(e){return e|2}function Lu(e){return(e&131068)>>2}function r_(e,t){return e&-131069|t<<2}function VJ(e){return(e&1)===1}function W_(e){return e|1}function UJ(e,t,r,n,i,o){let s=o?t.classBindings:t.styleBindings,a=Hl(s),l=Lu(s);e[n]=r;let c=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||bh(d,u)>0)&&(c=!0)}else u=r;if(i)if(l!==0){let f=Hl(e[a+1]);e[n+1]=a0(f,a),f!==0&&(e[f+1]=r_(e[f+1],n)),e[a+1]=jJ(e[a+1],n)}else e[n+1]=a0(a,0),a!==0&&(e[a+1]=r_(e[a+1],n)),a=n;else e[n+1]=a0(l,0),a===0?a=n:e[l+1]=r_(e[l+1],n),l=n;c&&(e[n+1]=H_(e[n+1])),mE(e,u,n,!0,o),mE(e,u,n,!1,o),$J(t,u,e,n,o),s=a0(a,l),o?t.classBindings=s:t.styleBindings=s}function $J(e,t,r,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&bh(o,t)>=0&&(r[n+1]=W_(r[n+1]))}function mE(e,t,r,n,i){let o=e[r+1],s=t===null,a=n?Hl(o):Lu(o),l=!1;for(;a!==0&&(l===!1||s);){let c=e[a],u=e[a+1];zJ(c,t)&&(l=!0,e[a+1]=n?W_(u):H_(u)),a=n?Hl(u):Lu(u)}l&&(e[r+1]=n?H_(o):W_(o))}function zJ(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?bh(e,t)>=0:!1}var no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BJ(e){return e.substring(no.key,no.keyEnd)}function HJ(e){return WJ(e),MT(e,ST(e,0,no.textEnd))}function MT(e,t){let r=no.textEnd;return r===t?-1:(t=no.keyEnd=qJ(e,no.key=t,r),ST(e,t,r))}function WJ(e){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=e.length}function ST(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function qJ(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}function Y(e,t,r){let n=ot(),i=fw();if(Ma(n,i,t)){let o=$n(),s=yw();sT(o,s,n,e,t,n[wn],r,!1)}return Y}function q_(e,t,r,n,i){let o=t.inputs,s=i?"class":"style";Bw(e,r,o[s],s,n)}function Kr(e,t,r){return ET(e,t,r,!1),Kr}function ar(e,t){return ET(e,t,null,!0),ar}function GJ(e,t){for(let r=HJ(t);r>=0;r=MT(t,r))ww(e,BJ(t),!0)}function ET(e,t,r,n){let i=ot(),o=$n(),s=hw(2);if(o.firstUpdatePass&&kT(o,e,s,n),t!==yi&&Ma(i,s,t)){let a=o.data[Ta()];IT(o,a,i,i[wn],e,i[s+1]=tee(t,r),n,s)}}function YJ(e,t,r,n){let i=$n(),o=hw(2);i.firstUpdatePass&&kT(i,null,o,n);let s=ot();if(r!==yi&&Ma(s,o,r)){let a=i.data[Ta()];if(AT(a,n)&&!TT(i,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(r=c_(l,r||"")),q_(i,a,s,r,n)}else eee(i,a,s,s[wn],s[o+1],s[o+1]=JJ(e,t,r),n,o)}}function TT(e,t){return t>=e.expandoStartIndex}function kT(e,t,r,n){let i=e.data;if(i[r+1]===null){let o=i[Ta()],s=TT(e,r);AT(o,n)&&t===null&&!s&&(t=!1),t=ZJ(i,o,t,n),UJ(i,o,t,r,s,n)}}function ZJ(e,t,r,n){let i=VX(e),o=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(r=i_(null,e,t,r,n),r=gh(r,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(r=i_(i,e,t,r,n),o===null){let l=XJ(e,t,n);l!==void 0&&Array.isArray(l)&&(l=i_(null,e,t,l[1],n),l=gh(l,t.attrs,n),QJ(e,t,n,l))}else o=KJ(e,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),r}function XJ(e,t,r){let n=r?t.classBindings:t.styleBindings;if(Lu(n)!==0)return e[Hl(n)]}function QJ(e,t,r,n){let i=r?t.classBindings:t.styleBindings;e[Hl(i)]=n}function KJ(e,t,r){let n,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=gh(n,s,r)}return gh(n,t.attrs,r)}function i_(e,t,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=t[a],n=gh(n,o.hostAttrs,i),o!==e);)a++;return e!==null&&(r.directiveStylingLast=a),n}function gh(e,t,r){let n=r?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ww(e,s,r?!0:t[++o]))}return e===void 0?null:e}function JJ(e,t,r){if(r==null||r==="")return qr;let n=[],i=Uu(r);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(n,o,i[o]);else typeof i=="string"&&t(n,i);return n}function eee(e,t,r,n,i,o,s,a){i===yi&&(i=qr);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<i.length?i[l+1]:void 0,p=c<o.length?o[c+1]:void 0,m=null,v;u===d?(l+=2,c+=2,f!==p&&(m=d,v=p)):d===null||u!==null&&u<d?(l+=2,m=u):(c+=2,m=d,v=p),m!==null&&IT(e,t,r,n,m,v,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function IT(e,t,r,n,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=VJ(c)?gE(l,t,r,i,Lu(c),s):void 0;if(!P0(u)){P0(o)||LJ(c)&&(o=gE(l,null,r,i,a,s));let d=XE(Ta(),r);oK(n,s,d,i,o)}}function gE(e,t,r,n,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=r[i+1];f===yi&&(f=d?qr:void 0);let p=d?Qb(f,n):u===n?f:void 0;if(c&&!P0(p)&&(p=Qb(l,n)),P0(p)&&(a=p,s))return a;let m=e[i+1];i=s?Hl(m):Lu(m)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Qb(l,n))}return a}function P0(e){return e!==void 0}function tee(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=xr(Uu(e)))),e}function AT(e,t){return(e.flags&(t?8:16))!==0}function ka(e,t,r){let n=ot(),i=Xw(n,e,t,r);YJ(ww,GJ,i,!0)}var _we=new RegExp(`^(\\d+)*(${pK}|${hK})*(.*)`);var nee=(e,t)=>null;function yE(e,t){return nee(e,t)}function ree(e,t,r,n){let i=t.tView,s=e[Ge]&4096?4096:16,a=t1(e,i,r,s,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null),l=e[t.index];a[xh]=l;let c=e[Po];return c!==null&&(a[Po]=c.createEmbeddedView(i)),Gw(i,a,r),a}function vE(e,t){return!t||N9(e)}function iee(e,t,r,n=!0){let i=t[tt];if(GQ(i,t,e,r),n){let o=D_(r,e),s=t[wn],a=Ow(s,e[Fl]);a!==null&&HQ(i,e[gi],s,t,a,o)}}var Lo=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=oee;let e=t;return e})();function oee(){let e=Yr();return PT(e,ot())}var see=Lo,OT=class extends see{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return zu(this._hostTNode,this._hostLView)}get injector(){return new Nl(this._hostTNode,this._hostLView)}get parentInjector(){let t=vw(this._hostTNode,this._hostLView);if(f9(t)){let r=b0(t,this._hostLView),n=x0(t),i=r[tt].data[n+8];return new Nl(i,r)}else return new Nl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=xE(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-mi}createEmbeddedView(t,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=yE(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,vE(this._hostTNode,s)),a}createComponent(t,r,n,i,o){let s=t&&!sQ(t),a;if(s)a=r;else{let m=r||{};a=m.index,n=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?t:new Fu(wa(t)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(Or,null);v&&(o=v)}let u=wa(l.componentType??{}),d=yE(this._lContainer,u?.id??null),f=d?.firstChild??null,p=l.create(c,i,f,o);return this.insertImpl(p.hostView,a,vE(this._hostTNode,d)),p}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){let i=t._lView;if(CX(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Rn],c=new OT(l,l[gi],l[Rn]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(r),s=this._lContainer;return iee(s,i,o,n),t.attachToViewContainerRef(),_9(o_(s),o,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=xE(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),n=C_(this._lContainer,r);n&&(C0(o_(this._lContainer),r),$9(n[tt],n))}detach(t){let r=this._adjustIndex(t,-1),n=C_(this._lContainer,r);return n&&C0(o_(this._lContainer),r)!=null?new Bl(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function xE(e){return e[v0]}function o_(e){return e[v0]||(e[v0]=[])}function PT(e,t){let r,n=t[e.index];return oo(n)?r=n:(r=uT(n,t,null,e),t[e.index]=r,n1(t,r)),lee(r,t,e,n),new OT(r,e,t)}function aee(e,t){let r=e[wn],n=r.createComment(""),i=Ai(t,e),o=Ow(r,i);return S0(r,o,n,JQ(r,i),!1),n}var lee=dee,cee=(e,t,r)=>!1;function uee(e,t,r){return cee(e,t,r)}function dee(e,t,r,n){if(e[Fl])return;let i;r.type&8?i=Ro(n):i=aee(t,r),e[Fl]=i}function fee(e,t,r,n,i,o,s,a,l){let c=t.consts,u=Bu(t,e,4,s||null,Nu(c,a));zw(t,r,u,Nu(c,l)),G0(t,u);let d=u.tView=$w(2,u,n,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Te(e,t,r,n,i,o,s,a){let l=ot(),c=$n(),u=e+Gr,d=c.firstCreatePass?fee(u,c,l,t,r,n,i,o,s):c.data[u];ql(d,!1);let f=hee(c,l,d,e);W0()&&Q0(c,l,f,d),Da(f,l);let p=uT(f,l,f,d);return l[u]=p,n1(l,p),uee(p,d,l),z0(d)&&Vw(c,l,d),s!=null&&Uw(l,d,a),Te}var hee=pee;function pee(e,t,r,n){return q0(!0),t[wn].createComment("")}function mee(e,t,r,n,i,o){let s=t.consts,a=Nu(s,i),l=Bu(t,e,2,n,a);return zw(t,r,l,Nu(s,o)),l.attrs!==null&&A0(l,l.attrs,!1),l.mergedAttrs!==null&&A0(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function R(e,t,r,n){let i=ot(),o=$n(),s=Gr+e,a=i[wn],l=o.firstCreatePass?mee(s,o,i,t,r,n):o.data[s],c=gee(o,i,l,a,t,e);i[s]=c;let u=z0(l);return ql(l,!0),Y9(a,c,l),(l.flags&32)!==32&&W0()&&Q0(o,i,c,l),EX()===0&&Da(c,i),TX(),u&&(Vw(o,i,l),jw(o,l,i)),n!==null&&Uw(i,l),R}function N(){let e=Yr();uw()?dw():(e=e.parent,ql(e,!1));let t=e;IX(t)&&AX(),kX();let r=$n();return r.firstCreatePass&&(G0(r,e),aw(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&GX(t)&&q_(r,t,ot(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&YX(t)&&q_(r,t,ot(),t.stylesWithoutHost,!1),N}function re(e,t,r,n){return R(e,t,r,n),N(),re}var gee=(e,t,r,n,i,o)=>(q0(!0),V9(n,i,BX()));function yee(e,t,r,n,i){let o=t.consts,s=Nu(o,n),a=Bu(t,e,8,"ng-container",s);s!==null&&A0(a,s,!0);let l=Nu(o,i);return zw(t,r,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function Qw(e,t,r){let n=ot(),i=$n(),o=e+Gr,s=i.firstCreatePass?yee(o,i,n,t,r):i.data[o];ql(s,!0);let a=vee(i,n,s,e);return n[o]=a,W0()&&Q0(i,n,a,s),Da(a,n),z0(s)&&(Vw(i,n,s),jw(i,s,n)),r!=null&&Uw(n,s),Qw}function Kw(){let e=Yr(),t=$n();return uw()?dw():(e=e.parent,ql(e,!1)),t.firstCreatePass&&(G0(t,e),aw(e)&&t.queries.elementEnd(e)),Kw}var vee=(e,t,r,n)=>(q0(!0),zQ(t[wn],""));function Rt(){return ot()}var Pl=void 0;function xee(e){let t=e,r=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var bee=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",xee],s_={};function Jw(e){let t=_ee(e),r=bE(t);if(r)return r;let n=t.split("-")[0];if(r=bE(n),r)return r;if(n==="en")return bee;throw new le(701,!1)}function bE(e){return e in s_||(s_[e]=Un.ng&&Un.ng.common&&Un.ng.common.locales&&Un.ng.common.locales[e]),s_[e]}var Wu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Wu||{});function _ee(e){return e.toLowerCase().replace(/_/g,"-")}var N0="en-US";var wee=N0;function Cee(e){BZ(e,"Expected localeId to be defined"),typeof e=="string"&&(wee=e.toLowerCase().replace(/_/g,"-"))}function Yl(e){return!!e&&typeof e.then=="function"}function NT(e){return!!e&&typeof e.subscribe=="function"}function ie(e,t,r,n){let i=ot(),o=$n(),s=Yr();return Mee(o,i,i[wn],s,e,t,n),ie}function Dee(e,t,r,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=t[hh],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Mee(e,t,r,n,i,o,s){let a=z0(n),c=e.firstCreatePass&&hT(e),u=t[ki],d=fT(t),f=!0;if(n.type&3||s){let v=Ai(n,t),g=s?s(v):v,x=d.length,_=s?b=>s(Ro(b[n.index])):n.index,w=null;if(!s&&a&&(w=Dee(e,t,i,n.index)),w!==null){let b=w.__ngLastListenerFn__||w;b.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,f=!1}else{o=wE(n,t,u,o,!1);let b=r.listen(g,i,o);d.push(o,b),c&&c.push(i,_,x,x+1)}}else o=wE(n,t,u,o,!1);let p=n.outputs,m;if(f&&p!==null&&(m=p[i])){let v=m.length;if(v)for(let g=0;g<v;g+=2){let x=m[g],_=m[g+1],k=t[x][_].subscribe(o),E=d.length;d.push(o,k),c&&c.push(i,n.index,E,-(E+1))}}}function _E(e,t,r,n){try{return Ao(6,t,r),r(n)!==!1}catch(i){return pT(e,i),!1}finally{Ao(7,t,r)}}function wE(e,t,r,n,i){return function o(s){if(s===Function)return n;let a=e.componentOffset>-1?Ea(e.index,t):t;Hw(a);let l=_E(t,r,n,s),c=o.__ngNextListenerFn__;for(;c;)l=_E(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function Ue(e=1){return $X(e)}function See(e,t){let r=null,n=aX(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){r=i;continue}if(n===null?LE(e,o,!0):uX(n,o))return i}return r}function qu(e){let t=ot()[io][gi];if(!t.projection){let r=e?e.length:1,n=t.projection=w9(r,null),i=n.slice(),o=t.child;for(;o!==null;){let s=e?See(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function lo(e,t=0,r){let n=ot(),i=$n(),o=Bu(i,Gr+e,16,null,r||null);o.projection===null&&(o.projection=t),dw(),(!n[y0]||n9())&&(o.flags&32)!==32&&rK(i,n,o)}function vi(e,t,r){return RT(e,"",t,"",r),vi}function RT(e,t,r,n,i){let o=ot(),s=Xw(o,t,r,n);if(s!==yi){let a=$n(),l=yw();sT(a,l,o,e,s,o[wn],i,!1)}return RT}function Eee(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}function Mh(e){let t=PX();return lw(t,Gr+e)}function H(e,t=""){let r=ot(),n=$n(),i=e+Gr,o=n.firstCreatePass?Bu(n,i,1,t,null):n.data[i],s=Tee(n,r,o,t,e);r[i]=s,W0()&&Q0(n,r,s,o),ql(o,!1)}var Tee=(e,t,r,n,i)=>(q0(!0),UQ(t[wn],n));function Ft(e){return ft("",e,""),Ft}function ft(e,t,r){let n=ot(),i=Xw(n,e,t,r);return i!==yi&&mT(n,Ta(),i),ft}function o1(e,t,r,n,i){let o=ot(),s=FJ(o,e,t,r,n,i);return s!==yi&&mT(o,Ta(),s),o1}function kee(e,t,r){let n=$n();if(n.firstCreatePass){let i=Ca(e);G_(r,n.data,n.blueprint,i,!0),G_(t,n.data,n.blueprint,i,!1)}}function G_(e,t,r,n,i){if(e=Ar(e),Array.isArray(e))for(let o=0;o<e.length;o++)G_(e[o],t,r,n,i);else{let o=$n(),s=ot(),a=Yr(),l=Ru(e)?e:Ar(e.provide),c=T9(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Ru(e)||!e.multi){let p=new Vl(c,i,Z),m=l_(l,t,i?u:u+f,d);m===-1?(y_(w0(a,s),o,l),a_(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(p),s.push(p)):(r[m]=p,s[m]=p)}else{let p=l_(l,t,u+f,d),m=l_(l,t,u,u+f),v=p>=0&&r[p],g=m>=0&&r[m];if(i&&!g||!i&&!v){y_(w0(a,s),o,l);let x=Oee(i?Aee:Iee,r.length,i,n,c);!i&&g&&(r[m].providerFactory=x),a_(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(x),s.push(x)}else{let x=FT(r[i?m:p],c,!i&&n);a_(o,e,p>-1?p:m,x)}!i&&n&&g&&r[m].componentProviders++}}}function a_(e,t,r,n){let i=Ru(t),o=_Q(t);if(i||o){let l=(o?Ar(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(r);u===-1?c.push(r,[n,l]):c[u+1].push(n,l)}else c.push(r,l)}}}function FT(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function l_(e,t,r,n){for(let i=r;i<n;i++)if(t[i]===e)return i;return-1}function Iee(e,t,r,n){return Y_(this.multi,[])}function Aee(e,t,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Ul(r,r[tt],this.providerFactory.index,n);o=a.slice(0,s),Y_(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Y_(i,o);return o}function Y_(e,t){for(let r=0;r<e.length;r++){let n=e[r];t.push(n())}return t}function Oee(e,t,r,n,i){let o=new Vl(e,r,Z);return o.multi=[],o.index=t,o.componentProviders=0,FT(o,i,n&&!r),o}function Pr(e,t=[]){return r=>{r.providersResolver=(n,i)=>kee(n,i?i(e):e,t)}}var Sa=class{},yh=class{};var R0=class extends Sa{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new O0(this);let i=$E(t);this._bootstrapComponents=P9(i.bootstrap),this._r3Injector=I9(t,r,[{provide:Sa,useValue:this},{provide:$u,useValue:this.componentFactoryResolver},...n],xr(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},F0=class extends yh{constructor(t){super(),this.moduleType=t}create(t){return new R0(this.moduleType,t,[])}};function Pee(e,t,r){return new R0(e,t,r)}var Z_=class extends Sa{constructor(t){super(),this.componentFactoryResolver=new O0(this),this.instance=null;let r=new mh([...t.providers,{provide:Sa,useValue:this},{provide:$u,useValue:this.componentFactoryResolver}],t.parent||Mw(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function s1(e,t,r=null){return new Z_({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var Nee=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=M9(!1,n.type),o=i.length>0?s1([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=ce({token:t,providedIn:"environment",factory:()=>new t(ee(Or))});let e=t;return e})();function LT(e){r1("NgStandalone"),e.getStandaloneInjector=t=>t.get(Nee).getOrCreateStandaloneInjector(e)}function jT(e,t,r){let n=H0()+e,i=ot();return i[n]===yi?Zw(i,n,r?t.call(r):t()):RJ(i,n)}function Nr(e,t,r,n){return UT(ot(),H0(),e,t,r,n)}function VT(e,t){let r=e[t];return r===yi?void 0:r}function UT(e,t,r,n,i,o){let s=t+r;return Ma(e,s,i)?Zw(e,s+1,o?n.call(o,i):n(i)):VT(e,s+1)}function Ree(e,t,r,n,i,o,s){let a=t+r;return DT(e,a,i,o)?Zw(e,a+2,s?n.call(s,i,o):n(i,o)):VT(e,a+2)}function Sh(e,t){let r=$n(),n,i=e+Gr;r.firstCreatePass?(n=Fee(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=Ll(n.type,!0)),s,a=Wr(Z);try{let l=_0(!1),c=o();return _0(l),Eee(r,ot(),i,c),c}finally{Wr(a)}}function Fee(e,t){if(t)for(let r=t.length-1;r>=0;r--){let n=t[r];if(e===n.name)return n}}function $T(e,t,r){let n=e+Gr,i=ot(),o=lw(i,n);return zT(i,n)?UT(i,H0(),t,o.transform,r,o):o.transform(r)}function e4(e,t,r,n){let i=e+Gr,o=ot(),s=lw(o,i);return zT(o,i)?Ree(o,H0(),t,s.transform,r,n,s):s.transform(r,n)}function zT(e,t){return e[tt].data[t].pure}function Lee(){return this._results[Symbol.iterator]()}var X_=class e{get changes(){return this._changes||(this._changes=new rt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let r=e.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Lee)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;let n=lQ(t);(this._changesDetected=!aQ(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},Wl=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Uee;let e=t;return e})(),jee=Wl,Vee=class extends jee{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){let i=ree(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Bl(i)}};function Uee(){return t4(Yr(),ot())}function t4(e,t){return e.type&4?new Vee(t,e,zu(e,t)):null}var Q_=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},K_=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let r=t.queries;if(r!==null){let n=t.contentQueries!==null?t.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)HT(t,r).matches!==null&&this.queries[r].setDirty()}},J_=class{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}},ew=class e{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new e(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},tw=class e{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(t,r,$ee(r,o)),this.matchTNodeWithReadOption(t,r,d0(r,t,o,!1,!1))}else n===Wl?r.type&4&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,d0(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===ze||i===Lo||i===Wl&&r.type&4)this.addMatch(r.index,-2);else{let o=d0(r,t,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(t,r){this.matches===null?this.matches=[t,r]:this.matches.push(t,r)}};function $ee(e,t){let r=e.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1]}return null}function zee(e,t){return e.type&11?zu(e,t):e.type&4?t4(e,t):null}function Bee(e,t,r,n){return r===-1?zee(t,e):r===-2?Hee(e,t,n):Ul(e,e[tt],r,t)}function Hee(e,t,r){if(r===ze)return zu(t,e);if(r===Wl)return t4(t,e);if(r===Lo)return PT(t,e)}function BT(e,t,r,n){let i=t[Po].queries[n];if(i.matches===null){let o=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Bee(t,u,s[l+1],r.metadata.read))}}i.matches=a}return i.matches}function nw(e,t,r,n){let i=e.queries.getByIndex(r),o=i.matches;if(o!==null){let s=BT(e,t,i,r);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=mi;d<u.length;d++){let f=u[d];f[xh]===f[Rn]&&nw(f[tt],f,c,n)}if(u[Ou]!==null){let d=u[Ou];for(let f=0;f<d.length;f++){let p=d[f];nw(p[tt],p,c,n)}}}}}return n}function Xn(e){let t=ot(),r=$n(),n=i9();pw(n+1);let i=HT(r,n);if(e.dirty&&wX(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=i.crossesNgTemplate?nw(r,t,n,[]):BT(r,t,i,n);e.reset(o,xK),e.notifyOnChanges()}return!0}return!1}function lr(e,t,r){let n=$n();n.firstCreatePass&&(Gee(n,new J_(e,t,r),-1),(t&2)===2&&(n.staticViewQueries=!0)),qee(n,ot(),t)}function Qn(){return Wee(ot(),i9())}function Wee(e,t){return e[Po].queries[t].queryList}function qee(e,t,r){let n=new X_((r&4)===4);VK(e,t,n,n.destroy),t[Po]===null&&(t[Po]=new K_),t[Po].queries.push(new Q_(n))}function Gee(e,t,r){e.queries===null&&(e.queries=new ew),e.queries.track(new tw(t,r))}function HT(e,t){return e.queries.getByIndex(t)}var l0=null;function Yee(e){l0!==null&&(e.defaultEncapsulation!==l0.defaultEncapsulation||e.preserveWhitespaces!==l0.preserveWhitespaces)||(l0=e)}var a1=new ae("Application Initializer"),WT=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=fe(a1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Yl(s))n.push(s);else if(NT(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),l1=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function Zee(){return typeof $localize<"u"&&$localize.locale||N0}var c1=new ae("LocaleId",{providedIn:"root",factory:()=>fe(c1,it.Optional|it.SkipSelf)||Zee()});var Gu=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new At(!1)}add(){this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),rw=class{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},u1=(()=>{let t=class t{compileModuleSync(n){return new F0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=$E(n),s=P9(o.declarations).reduce((a,l)=>{let c=wa(l);return c&&a.push(new Fu(c)),a},[]);return new rw(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Xee=new ae("compilerOptions");var n4=new ae(""),Eh=new ae(""),d1=(()=>{let t=class t{constructor(n,i,o){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,r4||(Qee(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}};t.\u0275fac=function(i){return new(i||t)(ee(Ct),ee(f1),ee(Eh))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),f1=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return r4?.findTestabilityInTree(this,n,i)??null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function Qee(e){r4=e}var r4,uh=null,qT=new ae("AllowMultipleToken"),GT=new ae("PlatformDestroyListeners"),h1=new ae("appBootstrapListener");function Kee(e,t,r){let n=new F0(r);return Promise.resolve(n)}function Jee(){u7(()=>{throw new le(600,!1)})}function ete(e){return e.isBoundToModule}function tte(e){if(uh&&!uh.get(qT,!1))throw new le(400,!1);Jee(),uh=e;let t=e.get(ZT);return nte(e),t}function nte(e){e.get(Ew,null)?.forEach(r=>r())}function i4(e,t,r=[]){let n=`Platform: ${t}`,i=new ae(n);return(o=[])=>{let s=YT();if(!s||s.injector.get(qT,!1)){let a=[...r,...o,{provide:i,useValue:!0}];e?e(a):tte(ite(a,n))}return rte(i)}}function rte(e){let t=YT();if(!t)throw new le(401,!1);return t}function ite(e=[],t){return Zr.create({name:t,providers:[{provide:Z0,useValue:"platform"},{provide:GT,useValue:new Set([()=>uh=null])},...e]})}function YT(){return uh?.get(ZT)??null}var ZT=(()=>{let t=class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let o=ste(i?.ngZone,ote({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=Pee(n.moduleType,this.injector,ute(()=>o)),a=s.injector.get(Ii,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{p0(this._modules,s),l.unsubscribe()})}),ate(a,o,()=>{let l=s.injector.get(WT);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(c1,N0);return Cee(c||N0),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,i=[]){let o=XT({},i);return Kee(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let i=n.injector.get(Ns);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(i);else throw new le(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new le(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(GT,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(i){return new(i||t)(ee(Zr))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function ote(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}function ste(e="zone.js",t){return e==="noop"?new V_:e==="zone.js"?new Ct(t):e}function ate(e,t,r){try{let n=r();return Yl(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}function XT(e,t){return Array.isArray(t)?t.reduce(XT,e):ne(ne({},e),t)}var Ns=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=fe(QT),this.zoneIsStable=fe(_T),this.componentTypes=[],this.components=[],this.isStable=fe(Gu).hasPendingTasks.pipe(vr(n=>n?Ae(!1):this.zoneIsStable),eo(),_u()),this._injector=fe(Or)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof T0;if(!this._injector.get(WT).done){let m="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&UE(n)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new le(405,!1)}let a;o?a=n:a=this._injector.get($u).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=ete(a)?void 0:this._injector.get(Sa),c=i||a.selector,u=a.create(Zr.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(n4,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),p0(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;p0(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(h1,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>p0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new le(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function p0(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function CE(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var QT=new ae("",{providedIn:"root",factory:()=>fe(Ii).handleError.bind(void 0)});function lte(){let e=fe(Ct),t=fe(Ii);return r=>e.runOutsideAngular(()=>t.handleError(r))}var cte=(()=>{let t=class t{constructor(){this.zone=fe(Ct),this.applicationRef=fe(Ns)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ute(e){return[{provide:Ct,useFactory:e},{provide:Gl,multi:!0,useFactory:()=>{let t=fe(cte,{optional:!0});return()=>t.initialize()}},{provide:QT,useFactory:lte},{provide:_T,useFactory:wT}]}function o4(){return!1}var KT=i4(null,"core",[]),JT=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(i){return new(i||t)(ee(Ns))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})();function Zl(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function ek(e){let t=wa(e);if(!t)return null;let r=new Fu(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var c4=null;function Vo(){return c4}function lk(e){c4||(c4=e)}var p1=class{},Bn=new ae("DocumentToken"),h4=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>fe(fte))(),providedIn:"platform"});let e=t;return e})(),ck=new ae("Location Initialized"),fte=(()=>{let t=class t extends h4{constructor(){super(),this._doc=fe(Bn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(n){let i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>new t)(),providedIn:"platform"});let e=t;return e})();function p4(e,t){if(e.length==0)return t;if(t.length==0)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,r==2?e+t.substring(1):r==1?e+t:e+"/"+t}function tk(e){let t=e.match(/#|\?|$/),r=t&&t.index||e.length,n=r-(e[r-1]==="/"?1:0);return e.slice(0,n)+e.slice(r)}function Rs(e){return e&&e[0]!=="?"?"?"+e:e}var Fs=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>fe(m4))(),providedIn:"root"});let e=t;return e})(),uk=new ae("appBaseHref"),m4=(()=>{let t=class t extends Fs{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??fe(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return p4(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Rs(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+Rs(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+Rs(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(ee(h4),ee(uk,8))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),dk=(()=>{let t=class t extends Fs{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=p4(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+Rs(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+Rs(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(ee(h4),ee(uk,8))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Ia=(()=>{let t=class t{constructor(n){this._subject=new rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=mte(tk(nk(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Rs(i))}normalize(n){return t.stripTrailingSlash(pte(this._basePath,nk(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rs(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Rs(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};t.normalizeQueryParams=Rs,t.joinWithSlash=p4,t.stripTrailingSlash=tk,t.\u0275fac=function(i){return new(i||t)(ee(Fs))},t.\u0275prov=ce({token:t,factory:()=>hte(),providedIn:"root"});let e=t;return e})();function hte(){return new Ia(ee(Fs))}function pte(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function nk(e){return e.replace(/\/index.html$/,"")}function mte(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}var fk=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(fk||{});var jo=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(jo||{});function Th(e,t){let r=Jw(e),n=r[Wu.NumberSymbols][t];if(typeof n>"u"){if(t===jo.CurrencyDecimal)return r[Wu.NumberSymbols][jo.Decimal];if(t===jo.CurrencyGroup)return r[Wu.NumberSymbols][jo.Group]}return n}function gte(e,t){return Jw(e)[Wu.NumberFormats][t]}var yte=/^(\d+)?\.((\d+)(-(\d+))?)?$/,rk=22,m1=".",kh="0",vte=";",xte=",",s4="#";function bte(e,t,r,n,i,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Th(r,jo.Infinity);else{let c=Dte(e);s&&(c=Cte(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let _=o.match(yte);if(_===null)throw new Error(`${o} is not a valid digit info`);let w=_[1],b=_[3],k=_[5];w!=null&&(u=a4(w)),b!=null&&(d=a4(b)),k!=null?f=a4(k):b!=null&&d>f&&(f=d)}Mte(c,d,f);let p=c.digits,m=c.integerLen,v=c.exponent,g=[];for(l=p.every(_=>!_);m<u;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?g=p.splice(m,p.length):(g=p,p=[0]);let x=[];for(p.length>=t.lgSize&&x.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)x.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&x.unshift(p.join("")),a=x.join(Th(r,n)),g.length&&(a+=Th(r,i)+g.join("")),v&&(a+=Th(r,jo.Exponential)+"+"+v)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function _te(e,t,r){let n=gte(t,fk.Decimal),i=wte(n,Th(t,jo.MinusSign));return bte(e,i,t,jo.Group,jo.Decimal,r)}function wte(e,t="-"){let r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(vte),i=n[0],o=n[1],s=i.indexOf(m1)!==-1?i.split(m1):[i.substring(0,i.lastIndexOf(kh)+1),i.substring(i.lastIndexOf(kh)+1)],a=s[0],l=s[1]||"";r.posPre=a.substring(0,a.indexOf(s4));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===kh?r.minFrac=r.maxFrac=u+1:d===s4?r.maxFrac=u+1:r.posSuf+=d}let c=a.split(xte);if(r.gSize=c[1]?c[1].length:0,r.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-r.posPre.length-r.posSuf.length,d=o.indexOf(s4);r.negPre=o.substring(0,d).replace(/'/g,""),r.negSuf=o.slice(d+u).replace(/'/g,"")}else r.negPre=t+r.posPre,r.negSuf=r.posSuf;return r}function Cte(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function Dte(e){let t=Math.abs(e)+"",r=0,n,i,o,s,a;for((i=t.indexOf(m1))>-1&&(t=t.replace(m1,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===kh;o++);if(o===(a=t.length))n=[0],i=1;else{for(a--;t.charAt(a)===kh;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(t.charAt(o))}return i>rk&&(n=n.splice(0,rk-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function Mte(e,t,r){if(t>r)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${r}).`);let n=e.digits,i=n.length-e.integerLen,o=Math.min(Math.max(t,i),r),s=o+e.integerLen,a=n[s];if(s>0){n.splice(Math.max(e.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),e.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let l=o!==0,c=t+e.integerLen,u=n.reduceRight(function(d,f,p,m){return f=f+d,m[p]=f<10?f:f-10,l&&(m[p]===0&&p>=c?m.pop():l=!1),f>=10?1:0},0);u&&(n.unshift(u),e.integerLen++)}function a4(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function g1(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var l4=/\s+/,ik=[],Jr=(()=>{let t=class t{constructor(n,i,o,s){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=ik,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(l4):ik}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(l4):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(l4).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};t.\u0275fac=function(i){return new(i||t)(Z(e1),Z(Ch),Z(ze),Z(Xr))},t.\u0275dir=Xt({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var u4=class{constructor(t,r,n,i){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},dn=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(!1)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new u4(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),ok(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);ok(s,o)})}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(Z(Lo),Z(Wl),Z(e1))},t.\u0275dir=Xt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function ok(e,t){e.context.$implicit=t.item}var vt=(()=>{let t=class t{constructor(n,i){this._viewContainer=n,this._context=new d4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(Z(Lo),Z(Wl))},t.\u0275dir=Xt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),d4=class{constructor(){this.$implicit=null,this.ngIf=null}};function sk(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${xr(t)}'.`)}var hk=(()=>{let t=class t{constructor(n,i,o){this._ngEl=n,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[o,s]=n.split("."),a=o.indexOf("-")===-1?void 0:Fo.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Ch),Z(Xr))},t.\u0275dir=Xt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})();function Ste(e,t){return new le(2100,!1)}function Ete(e,t){return{key:e,value:t}}var pk=(()=>{let t=class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=ak}transform(n,i=ak){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ||(this.differ=this.differs.find(n).create());let o=this.differ.diff(n),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(Ete(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};t.\u0275fac=function(i){return new(i||t)(Z(Ch,16))},t.\u0275pipe=sw({name:"keyvalue",type:t,pure:!1,standalone:!0});let e=t;return e})();function ak(e,t){let r=e.key,n=t.key;if(r===n)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(r===null)return 1;if(n===null)return-1;if(typeof r=="string"&&typeof n=="string")return r<n?-1:1;if(typeof r=="number"&&typeof n=="number")return r-n;if(typeof r=="boolean"&&typeof n=="boolean")return r<n?-1:1;let i=String(r),o=String(n);return i==o?0:i<o?-1:1}var mk=(()=>{let t=class t{constructor(n){this._locale=n}transform(n,i,o){if(!Tte(n))return null;o=o||this._locale;try{let s=kte(n);return _te(s,o,i)}catch(s){throw Ste(t,s.message)}}};t.\u0275fac=function(i){return new(i||t)(Z(c1,16))},t.\u0275pipe=sw({name:"number",type:t,pure:!0,standalone:!0});let e=t;return e})();function Tte(e){return!(e==null||e===""||e!==e)}function kte(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var y1=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})(),gk="browser",Ite="server";function g4(e){return e===Ite}var yk=(()=>{let t=class t{};t.\u0275prov=ce({token:t,providedIn:"root",factory:()=>new f4(ee(Bn),window)});let e=t;return e})(),f4=class{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;let r=Ate(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){let r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function Ate(e,t){let r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=n.nextNode()}}return null}var Yu=class{};var Ah=class{},x1=class{},Ls=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,r);let i=(t.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=t.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(t,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var v4=class{encodeKey(t){return vk(t)}encodeValue(t){return vk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function Nte(e,t){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}var Rte=/%(\d[a-f0-9])/gi,Fte={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vk(e){return encodeURIComponent(e).replace(Rte,(t,r)=>Fte[r]??t)}function v1(e){return`${e}`}var Aa=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new v4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Nte(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{let n=t.fromObject[r],i=Array.isArray(n)?n.map(v1):[v1(n)];this.map.set(r,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){let r=[];return Object.keys(t).forEach(n=>{let i=t[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let r=(t.op==="a"?this.map.get(t.param):void 0)||[];r.push(v1(t.value)),this.map.set(t.param,r);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],i=n.indexOf(v1(t.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var x4=class{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Lte(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function xk(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function bk(e){return typeof Blob<"u"&&e instanceof Blob}function _k(e){return typeof FormData<"u"&&e instanceof FormData}function jte(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ih=class e{constructor(t,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Lte(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Ls),this.context||(this.context=new x4),!this.params)this.params=new Aa,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+s}}}serializeBody(){return this.body===null?null:xk(this.body)||bk(this.body)||_k(this.body)||jte(this.body)||typeof this.body=="string"?this.body:this.body instanceof Aa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_k(this.body)?null:bk(this.body)?this.body.type||null:xk(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Aa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let r=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,s=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,a=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,l=t.headers||this.headers,c=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),c)),new e(r,n,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Zu=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Zu||{}),Oh=class{constructor(t,r=200,n="OK"){this.headers=t.headers||new Ls,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},b4=class e extends Oh{constructor(t={}){super(t),this.type=Zu.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},b1=class e extends Oh{constructor(t={}){super(t),this.type=Zu.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},_1=class extends Oh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}};function y4(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var zt=(()=>{let t=class t{constructor(n){this.handler=n}request(n,i,o={}){let s;if(n instanceof Ih)s=n;else{let c;o.headers instanceof Ls?c=o.headers:c=new Ls(o.headers);let u;o.params&&(o.params instanceof Aa?u=o.params:u=new Aa({fromObject:o.params})),s=new Ih(n,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Ae(s).pipe(ko(c=>this.handler.handle(c)));if(n instanceof Ih||o.observe==="events")return a;let l=a.pipe(Tn(c=>c instanceof b1));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(ye(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ye(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ye(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ye(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Aa().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,y4(o,i))}post(n,i,o={}){return this.request("POST",n,y4(o,i))}put(n,i,o={}){return this.request("PUT",n,y4(o,i))}};t.\u0275fac=function(i){return new(i||t)(ee(Ah))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function Mk(e,t){return t(e)}function Vte(e,t){return(r,n)=>t.intercept(r,{handle:i=>e(i,n)})}function Ute(e,t,r){return(n,i)=>r.runInContext(()=>t(n,o=>e(o,i)))}var $te=new ae(""),_4=new ae(""),zte=new ae(""),Bte=new ae("");function Hte(){let e=null;return(t,r)=>{e===null&&(e=(fe($te,{optional:!0})??[]).reduceRight(Vte,Mk));let n=fe(Gu),i=n.add();return e(t,r).pipe(As(()=>n.remove(i)))}}var wk=(()=>{let t=class t extends Ah{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=fe(Gu);let o=fe(Bte,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(_4),...this.injector.get(zte,[])]));this.chain=o.reduceRight((s,a)=>Ute(s,a,this.injector),Mk)}let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(As(()=>this.pendingTasks.remove(i)))}};t.\u0275fac=function(i){return new(i||t)(ee(x1),ee(Or))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();var Wte=/^\)\]\}',?\n/;function qte(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Ck=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new le(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?en(i.\u0275loadImpl()):Ae(null)).pipe(vr(()=>new He(s=>{let a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((g,x)=>a.setRequestHeader(g,x.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let g=n.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(n.responseType){let g=n.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=a.statusText||"OK",x=new Ls(a.getAllResponseHeaders()),_=qte(a)||n.url;return c=new b4({headers:x,status:a.status,statusText:g,url:_}),c},d=()=>{let{headers:g,status:x,statusText:_,url:w}=u(),b=null;x!==204&&(b=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=b?200:0);let k=x>=200&&x<300;if(n.responseType==="json"&&typeof b=="string"){let E=b;b=b.replace(Wte,"");try{b=b!==""?JSON.parse(b):null}catch(V){b=E,k&&(k=!1,b={error:V,text:b})}}k?(s.next(new b1({body:b,headers:g,status:x,statusText:_,url:w||void 0})),s.complete()):s.error(new _1({error:b,headers:g,status:x,statusText:_,url:w||void 0}))},f=g=>{let{url:x}=u(),_=new _1({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});s.error(_)},p=!1,m=g=>{p||(s.next(u()),p=!0);let x={type:Zu.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(x.total=g.total),n.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),s.next(x)},v=g=>{let x={type:Zu.UploadProgress,loaded:g.loaded};g.lengthComputable&&(x.total=g.total),s.next(x)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),n.reportProgress&&(a.addEventListener("progress",m),l!==null&&a.upload&&a.upload.addEventListener("progress",v)),a.send(l),s.next({type:Zu.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),n.reportProgress&&(a.removeEventListener("progress",m),l!==null&&a.upload&&a.upload.removeEventListener("progress",v)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(i){return new(i||t)(ee(Yu))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Sk=new ae("XSRF_ENABLED"),Gte="XSRF-TOKEN",Yte=new ae("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Gte}),Zte="X-XSRF-TOKEN",Xte=new ae("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Zte}),w1=class{},Qte=(()=>{let t=class t{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=g1(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(i){return new(i||t)(ee(Bn),ee(Ps),ee(Yte))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function Kte(e,t){let r=e.url.toLowerCase();if(!fe(Sk)||e.method==="GET"||e.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return t(e);let n=fe(w1).getToken(),i=fe(Xte);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),t(e)}var Ek=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ek||{});function Jte(e,t){return{\u0275kind:e,\u0275providers:t}}function ene(...e){let t=[zt,Ck,wk,{provide:Ah,useExisting:wk},{provide:x1,useExisting:Ck},{provide:_4,useValue:Kte,multi:!0},{provide:Sk,useValue:!0},{provide:w1,useClass:Qte}];for(let r of e)t.push(...r.\u0275providers);return Vu(t)}var Dk=new ae("LEGACY_INTERCEPTOR_FN");function tne(){return Jte(Ek.LegacyInterceptors,[{provide:Dk,useFactory:Hte},{provide:_4,useExisting:Dk,multi:!0}])}var Tk=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({providers:[ene(tne())]});let e=t;return e})();var D4=class extends p1{constructor(){super(...arguments),this.supportsDOMEvents=!0}},M4=class e extends D4{static makeCurrent(){lk(new e)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=nne();return r==null?null:rne(r)}resetBaseElement(){Ph=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return g1(document.cookie,t)}},Ph=null;function nne(){return Ph=Ph||document.querySelector("base"),Ph?Ph.getAttribute("href"):null}var C1;function rne(e){C1=C1||document.createElement("a"),C1.setAttribute("href",e);let t=C1.pathname;return t.charAt(0)==="/"?t:`/${t}`}var S4=class{addToWindow(t){Un.getAngularTestability=(n,i=!0)=>{let o=t.findTestabilityInTree(n,i);if(o==null)throw new le(5103,!1);return o},Un.getAllAngularTestabilities=()=>t.getAllTestabilities(),Un.getAllAngularRootElements=()=>t.getAllRootElements();let r=n=>{let i=Un.getAllAngularTestabilities(),o=i.length,s=!1,a=function(l){s=s||l,o--,o==0&&n(s)};i.forEach(l=>{l.whenStable(a)})};Un.frameworkStabilizers||(Un.frameworkStabilizers=[]),Un.frameworkStabilizers.push(r)}findTestabilityInTree(t,r,n){if(r==null)return null;let i=t.getTestability(r);return i??(n?Vo().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},ine=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),E4=new ae("EventManagerPlugins"),Ak=(()=>{let t=class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new le(5101,!1);return this._eventNameToPlugin.set(n,i),i}};t.\u0275fac=function(i){return new(i||t)(ee(E4),ee(Ct))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),D1=class{constructor(t){this._doc=t}},w4="ng-app-id",Ok=(()=>{let t=class t{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=g4(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${w4}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(w4),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(w4,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(ee(Bn),ee(X0),ee(kw,8),ee(Ps))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),C4={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k4=/%COMP%/g,Pk="%COMP%",one=`_nghost-${Pk}`,sne=`_ngcontent-${Pk}`,ane=!0,lne=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>ane});function cne(e){return sne.replace(k4,e)}function une(e){return one.replace(k4,e)}function Nk(e,t){return t.map(r=>r.replace(k4,e))}var M1=(()=>{let t=class t{constructor(n,i,o,s,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=g4(l),this.defaultRenderer=new Nh(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===No.ShadowDom&&(i=Ee(ne({},i),{encapsulation:No.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof S1?o.applyToHost(n):o instanceof Rh&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case No.Emulated:s=new S1(c,u,i,this.appId,d,a,l,f);break;case No.ShadowDom:return new T4(c,u,n,i,a,l,this.nonce,f);default:s=new Rh(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(ee(Ak),ee(Ok),ee(X0),ee(lne),ee(Bn),ee(Ps),ee(Ct),ee(kw))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Nh=class{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(C4[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(kk(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(kk(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new le(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;let o=C4[i];o?t.setAttributeNS(o,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){let i=C4[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(Fo.DashCase|Fo.Important)?t.style.setProperty(r,n,i&Fo.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Fo.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t!=null&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if(typeof t=="string"&&(t=Vo().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function kk(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var T4=class extends Nh{constructor(t,r,n,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=Nk(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Rh=class extends Nh{constructor(t,r,n,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?Nk(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},S1=class extends Rh{constructor(t,r,n,i,o,s,a,l){let c=i+"-"+n.id;super(t,r,n,o,s,a,l,c),this.contentAttr=cne(c),this.hostAttr=une(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}},dne=(()=>{let t=class t extends D1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(ee(Bn))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Ik=["alt","control","meta","shift"],fne={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hne={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},pne=(()=>{let t=class t extends D1{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Ik.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let o=fne[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ik.forEach(a=>{if(a!==o){let l=hne[a];l(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(i){return new(i||t)(ee(Bn))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function mne(){M4.makeCurrent()}function gne(){return new Ii}function yne(){return A9(document),document}var vne=[{provide:Ps,useValue:gk},{provide:Ew,useValue:mne,multi:!0},{provide:Bn,useFactory:yne,deps:[]}],Rk=i4(KT,"browser",vne),xne=new ae(""),bne=[{provide:Eh,useClass:S4,deps:[]},{provide:n4,useClass:d1,deps:[Ct,f1,Eh]},{provide:d1,useClass:d1,deps:[Ct,f1,Eh]}],_ne=[{provide:Z0,useValue:"root"},{provide:Ii,useFactory:gne,deps:[]},{provide:E4,useClass:dne,multi:!0,deps:[Bn,Ct,Ps]},{provide:E4,useClass:pne,multi:!0,deps:[Bn]},M1,Ok,Ak,{provide:$l,useExisting:M1},{provide:Yu,useClass:ine,deps:[]},[]],E1=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:X0,useValue:n.appId}]}}};t.\u0275fac=function(i){return new(i||t)(ee(xne,12))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({providers:[..._ne,...bne],imports:[y1,JT]});let e=t;return e})();function wne(){return new I4(ee(Bn))}var I4=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(i){return new(i||t)(ee(Bn))},t.\u0275prov=ce({token:t,factory:function(i){let o=null;return i?o=new i:o=wne(),o},providedIn:"root"});let e=t;return e})();function A4(e,t){let r=!t?.manualCleanup;r&&!t?.injector&&Sw(A4);let n=r?t?.injector?.get(Dh)??fe(Dh):null,i;t?.requireSync?i=Fw({kind:0}):i=Fw({kind:1,value:t?.initialValue});let o=e.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),J0(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new le(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var R4={};function Uo(e,t){if(R4[e]=(R4[e]||0)+1,typeof t=="function")return O4(e,(...n)=>Ee(ne({},t(...n)),{type:e}));switch(t?t._as:"empty"){case"empty":return O4(e,()=>({type:e}));case"props":return O4(e,n=>Ee(ne({},n),{type:e}));default:throw new Error("Unexpected config.")}}function Xu(){return{_as:"props",_p:void 0}}function O4(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var Kk="@ngrx/store/init",Qu=(()=>{let t=class t extends At{constructor(){super({type:Kk})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Cne=[Qu],Jk=new ae("@ngrx/store Internal Root Guard"),Lk=new ae("@ngrx/store Internal Initial State"),V4=new ae("@ngrx/store Initial State"),eI=new ae("@ngrx/store Reducer Factory"),jk=new ae("@ngrx/store Internal Reducer Factory Provider"),tI=new ae("@ngrx/store Initial Reducers"),P4=new ae("@ngrx/store Internal Initial Reducers"),Vk=new ae("@ngrx/store Store Features"),Uk=new ae("@ngrx/store Internal Store Reducers"),N4=new ae("@ngrx/store Internal Feature Reducers"),$k=new ae("@ngrx/store Internal Feature Configs"),nI=new ae("@ngrx/store Internal Store Features"),zk=new ae("@ngrx/store Internal Feature Reducers Token"),rI=new ae("@ngrx/store Feature Reducers"),Bk=new ae("@ngrx/store User Provided Meta Reducers"),T1=new ae("@ngrx/store Meta Reducers"),Hk=new ae("@ngrx/store Internal Resolved Meta Reducers"),Wk=new ae("@ngrx/store User Runtime Checks Config"),qk=new ae("@ngrx/store Internal User Runtime Checks Config"),Fh=new ae("@ngrx/store Internal Runtime Checks"),U4=new ae("@ngrx/store Check if Action types are unique"),Dne=new ae("@ngrx/store Root Store Provider"),Mne=new ae("@ngrx/store Feature State Provider");function $4(e,t={}){let r=Object.keys(e),n={};for(let o=0;o<r.length;o++){let s=r[o];typeof e[s]=="function"&&(n[s]=e[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?t:s;let l=!1,c={};for(let u=0;u<i.length;u++){let d=i[u],f=n[d],p=s[d],m=f(p,a);c[d]=m,l=l||m!==p}return l?c:s}}function Sne(e,t){return Object.keys(e).filter(r=>r!==t).reduce((r,n)=>Object.assign(r,{[n]:e[n]}),{})}function iI(...e){return function(t){if(e.length===0)return t;let r=e[e.length-1];return e.slice(0,-1).reduceRight((i,o)=>o(i),r(t))}}function oI(e,t){return Array.isArray(t)&&t.length>0&&(e=iI.apply(null,[...t,e])),(r,n)=>{let i=e(r);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function Ene(e){let t=Array.isArray(e)&&e.length>0?iI(...e):r=>r;return(r,n)=>(r=t(r),(i,o)=>(i=i===void 0?n:i,r(i,o)))}var Lh=class extends He{},k1=class extends Qu{},Tne="@ngrx/store/update-reducers",I1=(()=>{let t=class t extends At{get currentReducers(){return this.reducers}constructor(n,i,o,s){super(s(o,i)),this.dispatcher=n,this.initialState=i,this.reducers=o,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let i=n.reduce((o,{reducers:s,reducerFactory:a,metaReducers:l,initialState:c,key:u})=>{let d=typeof s=="function"?Ene(l)(s,c):oI(a,l)(s,c);return o[u]=d,o},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers=ne(ne({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=Sne(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Tne,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(i){return new(i||t)(ee(k1),ee(V4),ee(tI),ee(eI))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),kne=[I1,{provide:Lh,useExisting:I1},{provide:k1,useExisting:Qu}],jh=(()=>{let t=class t extends Et{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Ine=[jh],A1=class extends He{},Gk=(()=>{let t=class t extends At{constructor(n,i,o,s){super(s);let l=n.pipe(Ol(Ab)).pipe(Gb(i)),c={state:s},u=l.pipe(ah(Ane,c));this.stateSubscription=u.subscribe(({state:d,action:f})=>{this.next(d),o.next(f)}),this.state=A4(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=Kk,t.\u0275fac=function(i){return new(i||t)(ee(Qu),ee(Lh),ee(jh),ee(V4))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function Ane(e={state:void 0},[t,r]){let{state:n}=e;return{state:r(n,t),action:t}}var One=[Gk,{provide:A1,useExisting:Gk}],co=(()=>{let t=class t extends He{constructor(n,i,o){super(),this.actionsObserver=i,this.reducerManager=o,this.source=n,this.state=n.state}select(n,...i){return Nne.call(null,n,...i)(this)}selectSignal(n,i){return J0(()=>n(this.state()),i)}lift(n){let i=new t(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}};t.\u0275fac=function(i){return new(i||t)(ee(A1),ee(Qu),ee(I1))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Pne=[co];function Nne(e,t,...r){return function(i){let o;if(typeof e=="string"){let s=[t,...r].filter(Boolean);o=i.pipe(Bb(e,...s))}else if(typeof e=="function")o=i.pipe(ye(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(eo())}}var z4="https://ngrx.io/guide/store/configuration/runtime-checks";function Yk(e){return e===void 0}function Zk(e){return e===null}function sI(e){return Array.isArray(e)}function Rne(e){return typeof e=="string"}function Fne(e){return typeof e=="boolean"}function Lne(e){return typeof e=="number"}function aI(e){return typeof e=="object"&&e!==null}function jne(e){return aI(e)&&!sI(e)}function Vne(e){if(!jne(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function F4(e){return typeof e=="function"}function Une(e){return F4(e)&&e.hasOwnProperty("\u0275cmp")}function $ne(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var zne=!1;function Bne(){return zne}function Xk(e,t){return e===t}function Hne(e,t,r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!0;return!1}function lI(e,t=Xk,r=Xk){let n=null,i=null,o;function s(){n=null,i=null}function a(u=void 0){o={result:u}}function l(){o=void 0}function c(){if(o!==void 0)return o.result;if(!n)return i=e.apply(null,arguments),n=arguments,i;if(!Hne(arguments,n,t))return i;let u=e.apply(null,arguments);return n=arguments,r(i,u)?i:(i=u,u)}return{memoized:c,reset:s,setResult:a,clearResult:l}}function uo(...e){return qne(lI)(...e)}function Wne(e,t,r,n){if(r===void 0){let o=t.map(s=>s(e));return n.memoized.apply(null,o)}let i=t.map(o=>o(e,r));return n.memoized.apply(null,[...i,r])}function qne(e,t={stateFn:Wne}){return function(...r){let n=r;if(Array.isArray(n[0])){let[u,...d]=n;n=[...u,...d]}else n.length===1&&Gne(n[0])&&(n=Yne(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=e(function(...u){return o.apply(null,u)}),l=lI(function(u,d){return t.stateFn.apply(null,[u,i,d,a])});function c(){l.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(l.memoized,{release:c,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function O1(e){return uo(t=>{let r=t[e];return!Bne()&&o4()&&!(e in t)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),r},t=>t)}function Gne(e){return!!e&&typeof e=="object"&&Object.values(e).every(t=>typeof t=="function")}function Yne(e){let t=Object.values(e),r=Object.keys(e),n=(...i)=>r.reduce((o,s,a)=>Ee(ne({},o),{[s]:i[a]}),{});return[...t,n]}function Zne(e){return e instanceof ae?fe(e):e}function Xne(e,t){return t.map((r,n)=>{if(e[n]instanceof ae){let i=fe(e[n]);return{key:r.key,reducerFactory:i.reducerFactory?i.reducerFactory:$4,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return r})}function Qne(e){return e.map(t=>t instanceof ae?fe(t):t)}function cI(e){return typeof e=="function"?e():e}function Kne(e,t){return e.concat(t)}function Jne(){if(fe(co,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ere(e,t){return function(r,n){let i=t.action(n)?L4(n):n,o=e(r,i);return t.state()?L4(o):o}}function L4(e){Object.freeze(e);let t=F4(e);return Object.getOwnPropertyNames(e).forEach(r=>{if(!r.startsWith("\u0275")&&$ne(e,r)&&(!t||r!=="caller"&&r!=="callee"&&r!=="arguments")){let n=e[r];(aI(n)||F4(n))&&!Object.isFrozen(n)&&L4(n)}}),e}function tre(e,t){return function(r,n){if(t.action(n)){let o=j4(n);Qk(o,"action")}let i=e(r,n);if(t.state()){let o=j4(i);Qk(o,"state")}return i}}function j4(e,t=[]){return(Yk(e)||Zk(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;let o=e[i];return Une(o)?n:Yk(o)||Zk(o)||Lne(o)||Fne(o)||Rne(o)||sI(o)?!1:Vne(o)?j4(o,[...t,i]):{path:[...t,i],value:o}},!1)}function Qk(e,t){if(e===!1)return;let r=e.path.join("."),n=new Error(`Detected unserializable ${t} at "${r}". ${z4}#strict${t}serializability`);throw n.value=e.value,n.unserializablePath=r,n}function nre(e,t){return function(r,n){if(t.action(n)&&!Ct.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${z4}#strictactionwithinngzone`);return e(r,n)}}function rre(e){return o4()?ne({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function ire({strictActionSerializability:e,strictStateSerializability:t}){return r=>e||t?tre(r,{action:n=>e&&!B4(n),state:()=>t}):r}function ore({strictActionImmutability:e,strictStateImmutability:t}){return r=>e||t?ere(r,{action:n=>e&&!B4(n),state:()=>t}):r}function B4(e){return e.type.startsWith("@ngrx")}function sre({strictActionWithinNgZone:e}){return t=>e?nre(t,{action:r=>e&&!B4(r)}):t}function are(e){return[{provide:qk,useValue:e},{provide:Wk,useFactory:lre,deps:[qk]},{provide:Fh,deps:[Wk],useFactory:rre},{provide:T1,multi:!0,deps:[Fh],useFactory:ore},{provide:T1,multi:!0,deps:[Fh],useFactory:ire},{provide:T1,multi:!0,deps:[Fh],useFactory:sre}]}function uI(){return[{provide:U4,multi:!0,deps:[Fh],useFactory:cre}]}function lre(e){return e}function cre(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(R4).filter(([,r])=>r>1).map(([r])=>r);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(r=>`"${r}"`).join(", ")}. ${z4}#strictactiontypeuniqueness`)}function ure(e={},t={}){return[{provide:Jk,useFactory:Jne},{provide:Lk,useValue:t.initialState},{provide:V4,useFactory:cI,deps:[Lk]},{provide:P4,useValue:e},{provide:Uk,useExisting:e instanceof ae?e:P4},{provide:tI,deps:[P4,[new Cw(Uk)]],useFactory:Zne},{provide:Bk,useValue:t.metaReducers?t.metaReducers:[]},{provide:Hk,deps:[T1,Bk],useFactory:Kne},{provide:jk,useValue:t.reducerFactory?t.reducerFactory:$4},{provide:eI,deps:[jk,Hk],useFactory:oI},Cne,kne,Ine,One,Pne,are(t.runtimeChecks),uI()]}function dre(e,t,r={}){return[{provide:$k,multi:!0,useValue:e instanceof Object?{}:r},{provide:Vk,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(r instanceof ae)&&r.reducerFactory?r.reducerFactory:$4,metaReducers:!(r instanceof ae)&&r.metaReducers?r.metaReducers:[],initialState:!(r instanceof ae)&&r.initialState?r.initialState:void 0}},{provide:nI,deps:[$k,Vk],useFactory:Xne},{provide:N4,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:zk,multi:!0,useExisting:t instanceof ae?t:N4},{provide:rI,multi:!0,deps:[N4,[new Cw(zk)]],useFactory:Qne},uI()]}var Vh=(()=>{let t=class t{constructor(n,i,o,s,a,l){}};t.\u0275fac=function(i){return new(i||t)(ee(Qu),ee(Lh),ee(jh),ee(co),ee(Jk,8),ee(U4,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})(),P1=(()=>{let t=class t{constructor(n,i,o,s,a){this.features=n,this.featureReducers=i,this.reducerManager=o;let l=n.map((c,u)=>{let f=i.shift()[u];return Ee(ne({},c),{reducers:f,initialState:cI(c.initialState)})});o.addFeatures(l)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};t.\u0275fac=function(i){return new(i||t)(ee(nI),ee(rI),ee(I1),ee(Vh),ee(U4,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})(),H4=(()=>{let t=class t{static forRoot(n,i){return{ngModule:Vh,providers:[...ure(n,i)]}}static forFeature(n,i,o={}){return{ngModule:P1,providers:[...dre(n,i,o)]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})();function Oa(...e){let t=e.pop(),r=e.map(n=>n.type);return{reducer:t,types:r}}function dI(e,...t){let r=new Map;for(let n of t)for(let i of n.types){let o=r.get(i);if(o){let s=(a,l)=>n.reducer(o(a,l),l);r.set(i,s)}else r.set(i,n.reducer)}return function(n=e,i){let o=r.get(i.type);return o?o(n,i):n}}var fre={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},R1="__@ngrx/effects_create__";function Uh(e,t={}){let r=t.functional?e:e(),n=ne(ne({},fre),t);return Object.defineProperty(r,R1,{value:n}),r}function hre(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(R1)?e[n][R1].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][R1];return ne({propertyName:n},i)})}function pre(e){return hre(e)}function mI(e){return Object.getPrototypeOf(e)}function mre(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function gI(e){return typeof e=="function"}function fI(e){return e.filter(gI)}function gre(e){return e instanceof ae||gI(e)}function yre(e,t,r){let n=mI(e),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=pre(e).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:c})=>{let u=typeof e[a]=="function"?e[a]():e[a],d=c?r(u,t):u;return l===!1?d.pipe(jb()):d.pipe(zb()).pipe(ye(p=>({effect:e[a],notification:p,propertyName:a,sourceName:o,sourceInstance:e})))});return xu(...s)}var vre=10;function yI(e,t,r=vre){return e.pipe(_n(n=>(t&&t.handleError(n),r<=1?e:yI(e,t,r-1))))}var F1=(()=>{let t=class t extends He{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}};t.\u0275fac=function(i){return new(i||t)(ee(jh))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $h(...e){return Tn(t=>e.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var vI=new ae("@ngrx/effects Internal Root Guard"),N1=new ae("@ngrx/effects User Provided Effects"),q4=new ae("@ngrx/effects Internal Root Effects"),xI=new ae("@ngrx/effects Internal Root Effects Instances"),hI=new ae("@ngrx/effects Internal Feature Effects"),bI=new ae("@ngrx/effects Internal Feature Effects Instance Groups"),xre=new ae("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>yI}),_I="@ngrx/effects/init",U4e=Uo(_I);function bre(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!_re(r)&&t.handleError(new Error(`Effect ${wre(e)} dispatched an invalid action: ${Cre(r)}`))}}function _re(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function wre({propertyName:e,sourceInstance:t,sourceName:r}){let n=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function Cre(e){try{return JSON.stringify(e)}catch{return e}}var Dre="ngrxOnIdentifyEffects";function Mre(e){return G4(e,Dre)}var Sre="ngrxOnRunEffects";function Ere(e){return G4(e,Sre)}var Tre="ngrxOnInitEffects";function kre(e){return G4(e,Tre)}function G4(e,t){return e&&t in e&&typeof e[t]=="function"}var wI=(()=>{let t=class t extends Et{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(n0(n=>mre(n)?mI(n):n),Nt(n=>n.pipe(n0(Ire))),Nt(n=>{let i=n.pipe(t0(s=>Are(this.errorHandler,this.effectsErrorHandler)(s)),ye(s=>(bre(s,this.errorHandler),s.notification)),Tn(s=>s.kind==="N"&&s.value!=null),Ub()),o=n.pipe(Ji(1),Tn(kre),ye(s=>s.ngrxOnInitEffects()));return xu(i,o)}))}};t.\u0275fac=function(i){return new(i||t)(ee(Ii),ee(xre))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ire(e){return Mre(e)?e.ngrxOnIdentifyEffects():""}function Are(e,t){return r=>{let n=yre(r,e,t);return Ere(r)?r.ngrxOnRunEffects(n):n}}var CI=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(ee(wI),ee(co))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),DI=(()=>{let t=class t{constructor(n,i,o,s,a,l,c){this.sources=n,i.start();for(let u of s)n.addEffects(u);o.dispatch({type:_I})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(i){return new(i||t)(ee(wI),ee(CI),ee(co),ee(xI),ee(Vh,8),ee(P1,8),ee(vI,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})(),Ore=(()=>{let t=class t{constructor(n,i,o,s){let a=i.flat();for(let l of a)n.addEffects(l)}};t.\u0275fac=function(i){return new(i||t)(ee(DI),ee(bI),ee(Vh,8),ee(P1,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})(),Y4=(()=>{let t=class t{static forFeature(...n){let i=n.flat(),o=fI(i);return{ngModule:Ore,providers:[o,{provide:hI,multi:!0,useValue:i},{provide:N1,multi:!0,useValue:[]},{provide:bI,multi:!0,useFactory:pI,deps:[hI,N1]}]}}static forRoot(...n){let i=n.flat(),o=fI(i);return{ngModule:DI,providers:[o,{provide:q4,useValue:[i]},{provide:vI,useFactory:Pre},{provide:N1,multi:!0,useValue:[]},{provide:xI,useFactory:pI,deps:[q4,N1]}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})();function pI(e,t){let r=[];for(let n of e)r.push(...n);for(let n of t)r.push(...n);return r.map(n=>gre(n)?fe(n):n)}function Pre(){let e=fe(CI,{optional:!0,skipSelf:!0}),t=fe(q4,{self:!0});if(!(t.length===1&&t[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var NI=(()=>{let t=class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(i){return new(i||t)(Z(Xr),Z(ze))},t.\u0275dir=Xt({type:t});let e=t;return e})(),Ju=(()=>{let t=class t extends NI{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275dir=Xt({type:t,features:[Qr]});let e=t;return e})(),Na=new ae("NgValueAccessor"),Nre={provide:Na,useExisting:so(()=>J4),multi:!0},J4=(()=>{let t=class t extends Ju{writeValue(n){this.setProperty("checked",n)}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275dir=Xt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&ie("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Pr([Nre]),Qr]});let e=t;return e})(),Rre={provide:Na,useExisting:so(()=>ti),multi:!0};function Fre(){let e=Vo()?Vo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Lre=new ae("CompositionEventMode"),ti=(()=>{let t=class t extends NI{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Fre())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(i){return new(i||t)(Z(Xr),Z(ze),Z(Lre,8))},t.\u0275dir=Xt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&ie("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Pr([Rre]),Qr]});let e=t;return e})();var RI=new ae("NgValidators"),FI=new ae("NgAsyncValidators");function LI(e){return e!=null}function jI(e){return Yl(e)?en(e):e}function VI(e){let t={};return e.forEach(r=>{t=r!=null?ne(ne({},t),r):t}),Object.keys(t).length===0?null:t}function UI(e,t){return t.map(r=>r(e))}function jre(e){return!e.validate}function $I(e){return e.map(t=>jre(t)?t:r=>t.validate(r))}function Vre(e){if(!e)return null;let t=e.filter(LI);return t.length==0?null:function(r){return VI(UI(r,t))}}function zI(e){return e!=null?Vre($I(e)):null}function Ure(e){if(!e)return null;let t=e.filter(LI);return t.length==0?null:function(r){let n=UI(r,t).map(jI);return Fb(n).pipe(ye(VI))}}function BI(e){return e!=null?Ure($I(e)):null}function SI(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function HI(e){return e._rawValidators}function WI(e){return e._rawAsyncValidators}function Z4(e){return e?Array.isArray(e)?e:[e]:[]}function j1(e,t){return Array.isArray(e)?e.includes(t):e===t}function EI(e,t){let r=Z4(t);return Z4(e).forEach(i=>{j1(r,i)||r.push(i)}),r}function TI(e,t){return Z4(t).filter(r=>!j1(e,r))}var V1=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=zI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=BI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},X4=class extends V1{get formDirective(){return null}get path(){return null}},Pa=class extends V1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Q4=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},$re={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},r5e=Ee(ne({},$re),{"[class.ng-submitted]":"isSubmitted"}),ni=(()=>{let t=class t extends Q4{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(Z(Pa,2))},t.\u0275dir=Xt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&ar("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Qr]});let e=t;return e})();var zh="VALID",L1="INVALID",Ku="PENDING",Bh="DISABLED";function zre(e){return($1(e)?e.validators:e)||null}function Bre(e){return Array.isArray(e)?zI(e):e||null}function Hre(e,t){return($1(t)?t.asyncValidators:e)||null}function Wre(e){return Array.isArray(e)?BI(e):e||null}function $1(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var K4=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zh}get invalid(){return this.status===L1}get pending(){return this.status==Ku}get disabled(){return this.status===Bh}get enabled(){return this.status!==Bh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(EI(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(EI(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(TI(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(TI(t,this._rawAsyncValidators))}hasValidator(t){return j1(this._rawValidators,t)}hasAsyncValidator(t){return j1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ku,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=Bh,this.errors=null,this._forEachChild(n=>{n.disable(Ee(ne({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(ne({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=zh,this._forEachChild(n=>{n.enable(Ee(ne({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ee(ne({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zh||this.status===Ku)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bh:zh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ku,this._hasOwnPendingAsyncValidator=!0;let r=jI(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(t,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new rt,this.statusChanges=new rt}_calculateStatus(){return this._allControlsDisabled()?Bh:this.errors?L1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ku)?Ku:this._anyControlsHaveStatus(L1)?L1:zh}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){$1(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Bre(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Wre(this._rawAsyncValidators)}};var Hh=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>Wh}),Wh="always";function qre(e,t){return[...t.path,e]}function qI(e,t,r=Wh){Yre(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Xre(e,t),Kre(e,t),Qre(e,t),Gre(e,t)}function kI(e,t,r=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Zre(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function U1(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function Gre(e,t){if(t.valueAccessor.setDisabledState){let r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function Yre(e,t){let r=HI(e);t.validator!==null?e.setValidators(SI(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let n=WI(e);t.asyncValidator!==null?e.setAsyncValidators(SI(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let i=()=>e.updateValueAndValidity();U1(t._rawValidators,i),U1(t._rawAsyncValidators,i)}function Zre(e,t){let r=!1;if(e!==null){if(t.validator!==null){let i=HI(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(r=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=WI(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(r=!0,e.setAsyncValidators(o))}}}let n=()=>{};return U1(t._rawValidators,n),U1(t._rawAsyncValidators,n),r}function Xre(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&GI(e,t)})}function Qre(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&GI(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function GI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Kre(e,t){let r=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function YI(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function Jre(e){return Object.getPrototypeOf(e.constructor)===Ju}function ZI(e,t){if(!t)return null;Array.isArray(t);let r,n,i;return t.forEach(o=>{o.constructor===ti?r=o:Jre(o)?n=o:i=o}),i||n||r||null}function II(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function AI(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var e5=class extends K4{constructor(t=null,r,n){super(zre(r),Hre(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$1(r)&&(r.nonNullable||r.initialValueIsDefault)&&(AI(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){II(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){II(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){AI(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var eie={provide:Pa,useExisting:so(()=>xi)},OI=(()=>Promise.resolve())(),xi=(()=>{let t=class t extends Pa{constructor(n,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new e5,this._registered=!1,this.name="",this.update=new rt,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ZI(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),YI(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){qI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){OI.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&Zl(i);OI.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?qre(n,this._parent):[n]}};t.\u0275fac=function(i){return new(i||t)(Z(X4,9),Z(RI,10),Z(FI,10),Z(Na,10),Z(Hu,8),Z(Hh,8))},t.\u0275dir=Xt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Pr([eie]),Qr,Cn]});let e=t;return e})();var tie={provide:Na,useExisting:so(()=>Xl),multi:!0};var XI=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})(),nie=(()=>{let t=class t{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:XI});let e=t;return e})(),Xl=(()=>{let t=class t extends Ju{constructor(n,i,o,s){super(n,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=fe(Hh,{optional:!0})??Wh}ngOnInit(){this._control=this._injector.get(Pa),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};t.\u0275fac=function(i){return new(i||t)(Z(Xr),Z(ze),Z(nie),Z(Zr))},t.\u0275dir=Xt({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&ie("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Pr([tie]),Qr]});let e=t;return e})(),rie={provide:Na,useExisting:so(()=>t5),multi:!0},t5=(()=>{let t=class t extends Ju{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275dir=Xt({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&ie("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Pr([rie]),Qr]});let e=t;return e})(),QI=new ae("NgModelWithFormControlWarning"),iie={provide:Pa,useExisting:so(()=>n5)},n5=(()=>{let t=class t extends Pa{set isDisabled(n){}constructor(n,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new rt,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=ZI(this,o)}ngOnChanges(n){if(this._isControlChanged(n)){let i=n.form.previousValue;i&&kI(i,this,!1),qI(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}YI(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(i){return new(i||t)(Z(RI,10),Z(FI,10),Z(Na,10),Z(QI,8),Z(Hh,8))},t.\u0275dir=Xt({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Pr([iie]),Qr,Cn]});let e=t;return e})();var oie={provide:Na,useExisting:so(()=>ed),multi:!0};function KI(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function sie(e){return e.split(":")[0]}var ed=(()=>{let t=class t extends Ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),o=KI(i,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=sie(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275dir=Xt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&ie("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pr([oie]),Qr]});let e=t;return e})(),ri=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(KI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Xr),Z(ed,9))},t.\u0275dir=Xt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})(),aie={provide:Na,useExisting:so(()=>JI),multi:!0};function PI(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function lie(e){return e.split(":")[0]}var JI=(()=>{let t=class t extends Ju{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,n(o)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=lie(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275dir=Xt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&ie("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Pr([aie]),Qr]});let e=t;return e})(),ii=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(PI(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(PI(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Xr),Z(JI,9))},t.\u0275dir=Xt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})();var eA=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({imports:[XI]});let e=t;return e})();var tA=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Hh,useValue:n.callSetDisabledState??Wh}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({imports:[eA]});let e=t;return e})(),nA=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:QI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Hh,useValue:n.callSetDisabledState??Wh}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({imports:[eA]});let e=t;return e})();var $o="*";function rA(e,t=null){return{type:2,steps:e,options:t}}function r5(e){return{type:6,styles:e,offset:null}}var Ra=class{constructor(t=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let r=t=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},qh=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let r=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++r==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let r=t*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(i)})}getPosition(){let t=this.players.reduce((r,n)=>r===null||n.totalTime>r.totalTime?n:r,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let r=t=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},z1="!";function iA(e){return new le(3e3,!1)}function cie(){return new le(3100,!1)}function uie(){return new le(3101,!1)}function die(e){return new le(3001,!1)}function fie(e){return new le(3003,!1)}function hie(e){return new le(3004,!1)}function pie(e,t){return new le(3005,!1)}function mie(){return new le(3006,!1)}function gie(){return new le(3007,!1)}function yie(e,t){return new le(3008,!1)}function vie(e){return new le(3002,!1)}function xie(e,t,r,n,i){return new le(3010,!1)}function bie(){return new le(3011,!1)}function _ie(){return new le(3012,!1)}function wie(){return new le(3200,!1)}function Cie(){return new le(3202,!1)}function Die(){return new le(3013,!1)}function Mie(e){return new le(3014,!1)}function Sie(e){return new le(3015,!1)}function Eie(e){return new le(3016,!1)}function Tie(e,t){return new le(3404,!1)}function kie(e){return new le(3502,!1)}function Iie(e){return new le(3503,!1)}function Aie(){return new le(3300,!1)}function Oie(e){return new le(3504,!1)}function Pie(e){return new le(3301,!1)}function Nie(e,t){return new le(3302,!1)}function Rie(e){return new le(3303,!1)}function Fie(e,t){return new le(3400,!1)}function Lie(e){return new le(3401,!1)}function jie(e){return new le(3402,!1)}function Vie(e,t){return new le(3505,!1)}function Fa(e){switch(e.length){case 0:return new Ra;case 1:return e[0];default:return new qh(e)}}function vA(e,t,r=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((f,p)=>{let m=p,v=f;if(p!=="offset")switch(m=e.normalizePropertyName(m,i),v){case z1:v=r.get(p);break;case $o:v=n.get(p);break;default:v=e.normalizeStyleValue(p,m,v,i);break}d.set(m,v)}),u||o.push(d),a=d,s=c}),i.length)throw kie(i);return o}function M5(e,t,r,n){switch(t){case"start":e.onStart(()=>n(r&&i5(r,"start",e)));break;case"done":e.onDone(()=>n(r&&i5(r,"done",e)));break;case"destroy":e.onDestroy(()=>n(r&&i5(r,"destroy",e)));break}}function i5(e,t,r){let n=r.totalTime,i=!!r.disabled,o=S5(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,i),s=e._data;return s!=null&&(o._data=s),o}function S5(e,t,r,n,i="",o=0,s){return{element:e,triggerName:t,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function _i(e,t,r){let n=e.get(t);return n||e.set(t,n=r),n}function oA(e){let t=e.indexOf(":"),r=e.substring(1,t),n=e.slice(t+1);return[r,n]}var Uie=(()=>typeof document>"u"?null:document.documentElement)();function E5(e){let t=e.parentNode||e.host||null;return t===Uie?null:t}function $ie(e){return e.substring(1,6)=="ebkit"}var Ql=null,sA=!1;function zie(e){Ql||(Ql=Bie()||{},sA=Ql.style?"WebkitAppearance"in Ql.style:!1);let t=!0;return Ql.style&&!$ie(e)&&(t=e in Ql.style,!t&&sA&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Ql.style)),t}function Bie(){return typeof document<"u"?document.body:null}function xA(e,t){for(;t;){if(t===e)return!0;t=E5(t)}return!1}function bA(e,t,r){if(r)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var T5=(()=>{let t=class t{validateStyleProperty(n){return zie(n)}matchesElement(n,i){return!1}containsElement(n,i){return xA(n,i)}getParentElement(n){return E5(n)}query(n,i,o){return bA(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,s,a,l=[],c){return new Ra(o,s)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})(),Jh=(()=>{let t=class t{};t.NOOP=new T5;let e=t;return e})(),ec=class{};var Hie=1e3,_A="{{",Wie="}}",wA="ng-enter",u5="ng-leave",B1="ng-trigger",Y1=".ng-trigger",aA="ng-animating",d5=".ng-animating";function js(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:f5(parseFloat(t[1]),t[2])}function f5(e,t){switch(t){case"s":return e*Hie;default:return e}}function Z1(e,t,r){return e.hasOwnProperty("duration")?e:qie(e,t,r)}function qie(e,t,r){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof e=="string"){let a=e.match(n);if(a===null)return t.push(iA(e)),{duration:0,delay:0,easing:""};i=f5(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=f5(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=e;if(!r){let a=!1,l=t.length;i<0&&(t.push(cie()),a=!0),o<0&&(t.push(uie()),a=!0),a&&t.splice(l,0,iA(e))}return{duration:i,delay:o,easing:s}}function ep(e,t={}){return Object.keys(e).forEach(r=>{t[r]=e[r]}),t}function CA(e){let t=new Map;return Object.keys(e).forEach(r=>{let n=e[r];t.set(r,n)}),t}function Gie(e){return e.length?e[0]instanceof Map?e:e.map(t=>CA(t)):[]}function nd(e,t=new Map,r){if(r)for(let[n,i]of r)t.set(n,i);for(let[n,i]of e)t.set(n,i);return t}function zo(e,t,r){t.forEach((n,i)=>{let o=k5(i);r&&!r.has(i)&&r.set(i,e.style[o]),e.style[o]=n})}function Jl(e,t){t.forEach((r,n)=>{let i=k5(n);e.style[i]=""})}function Gh(e){return Array.isArray(e)?e.length==1?e[0]:rA(e):e}function Yie(e,t,r){let n=t.params||{},i=DA(e);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||r.push(die(o))})}var h5=new RegExp(`${_A}\\s*(.+?)\\s*${Wie}`,"g");function DA(e){let t=[];if(typeof e=="string"){let r;for(;r=h5.exec(e);)t.push(r[1]);h5.lastIndex=0}return t}function Zh(e,t,r){let n=e.toString(),i=n.replace(h5,(o,s)=>{let a=t[s];return a==null&&(r.push(fie(s)),a=""),a.toString()});return i==n?e:i}function X1(e){let t=[],r=e.next();for(;!r.done;)t.push(r.value),r=e.next();return t}var Zie=/-+([a-z0-9])/g;function k5(e){return e.replace(Zie,(...t)=>t[1].toUpperCase())}function Xie(e,t){return e===0||t===0}function Qie(e,t,r){if(r.size&&t.length){let n=t[0],i=[];if(r.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,MA(e,a)))}}return t}function bi(e,t,r){switch(t.type){case 7:return e.visitTrigger(t,r);case 0:return e.visitState(t,r);case 1:return e.visitTransition(t,r);case 2:return e.visitSequence(t,r);case 3:return e.visitGroup(t,r);case 4:return e.visitAnimate(t,r);case 5:return e.visitKeyframes(t,r);case 6:return e.visitStyle(t,r);case 8:return e.visitReference(t,r);case 9:return e.visitAnimateChild(t,r);case 10:return e.visitAnimateRef(t,r);case 11:return e.visitQuery(t,r);case 12:return e.visitStagger(t,r);default:throw hie(t.type)}}function MA(e,t){return window.getComputedStyle(e)[t]}var Kie=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Q1=class extends ec{normalizePropertyName(t,r){return k5(t)}normalizeStyleValue(t,r,n,i){let o="",s=n.toString().trim();if(Kie.has(r)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(pie(t,n))}return s+o}};var K1="*";function Jie(e,t){let r=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(n=>eoe(n,r,t)):r.push(e),r}function eoe(e,t,r){if(e[0]==":"){let l=toe(e,r);if(typeof l=="function"){t.push(l);return}e=l}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return r.push(Sie(e)),t;let i=n[1],o=n[2],s=n[3];t.push(lA(i,s));let a=i==K1&&s==K1;o[0]=="<"&&!a&&t.push(lA(s,i))}function toe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,n)=>parseFloat(n)>parseFloat(r);case":decrement":return(r,n)=>parseFloat(n)<parseFloat(r);default:return t.push(Eie(e)),"* => *"}}var H1=new Set(["true","1"]),W1=new Set(["false","0"]);function lA(e,t){let r=H1.has(e)||W1.has(e),n=H1.has(t)||W1.has(t);return(i,o)=>{let s=e==K1||e==i,a=t==K1||t==o;return!s&&r&&typeof i=="boolean"&&(s=i?H1.has(e):W1.has(e)),!a&&n&&typeof o=="boolean"&&(a=o?H1.has(t):W1.has(t)),s&&a}}var SA=":self",noe=new RegExp(`s*${SA}s*,?`,"g");function EA(e,t,r,n){return new p5(e).build(t,r,n)}var cA="",p5=class{constructor(t){this._driver=t}build(t,r,n){let i=new m5(r);return this._resetContextStyleTimingState(i),bi(this,Gh(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=cA,t.collectedStyles=new Map,t.collectedStyles.set(cA,new Map),t.currentTime=0}visitTrigger(t,r){let n=r.queryCount=0,i=r.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&r.errors.push(mie()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(r),a.type==0){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,r))}),l.name=c}else if(a.type==1){let l=this.visitTransition(a,r);n+=l.queryCount,i+=l.depCount,s.push(l)}else r.errors.push(gie())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,r){let n=this.visitStyle(t.styles,r),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};if(n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{DA(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size){let a=X1(o.values());r.errors.push(yie(t.name,a))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,r){r.queryCount=0,r.depCount=0;let n=bi(this,Gh(t.animation),r);return{type:1,matchers:Jie(t.expr,r.errors),animation:n,queryCount:r.queryCount,depCount:r.depCount,options:Kl(t.options)}}visitSequence(t,r){return{type:2,steps:t.steps.map(n=>bi(this,n,r)),options:Kl(t.options)}}visitGroup(t,r){let n=r.currentTime,i=0,o=t.steps.map(s=>{r.currentTime=n;let a=bi(this,s,r);return i=Math.max(i,r.currentTime),a});return r.currentTime=i,{type:3,steps:o,options:Kl(t.options)}}visitAnimate(t,r){let n=soe(t.timings,r.errors);r.currentAnimateTimings=n;let i,o=t.styles?t.styles:r5({});if(o.type==5)i=this.visitKeyframes(o,r);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=r5(c)}r.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,r);l.isEmptyStep=a,i=l}return r.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,r){let n=this._makeStyleAst(t,r);return this._validateStyleAst(n,r),n}_makeStyleAst(t,r){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===$o?n.push(a):r.errors.push(vie(a)):n.push(CA(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(_A)>=0){o=!0;break}}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,r){let n=r.currentAnimateTimings,i=r.currentTime,o=r.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=r.collectedStyles.get(r.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(r.errors.push(xie(l,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),r.options&&Yie(a,r.options,r.errors)})})}visitKeyframes(t,r){let n={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(bie()),n;let i=1,o=0,s=[],a=!1,l=!1,c=0,u=t.steps.map(x=>{let _=this._makeStyleAst(x,r),w=_.offset!=null?_.offset:ooe(_.styles),b=0;return w!=null&&(o++,b=_.offset=w),l=l||b<0||b>1,a=a||b<c,c=b,s.push(b),_});l&&r.errors.push(_ie()),a&&r.errors.push(wie());let d=t.steps.length,f=0;o>0&&o<d?r.errors.push(Cie()):o==0&&(f=i/(d-1));let p=d-1,m=r.currentTime,v=r.currentAnimateTimings,g=v.duration;return u.forEach((x,_)=>{let w=f>0?_==p?1:f*_:s[_],b=w*g;r.currentTime=m+v.delay+b,v.duration=b,this._validateStyleAst(x,r),x.offset=w,n.styles.push(x)}),n}visitReference(t,r){return{type:8,animation:bi(this,Gh(t.animation),r),options:Kl(t.options)}}visitAnimateChild(t,r){return r.depCount++,{type:9,options:Kl(t.options)}}visitAnimateRef(t,r){return{type:10,animation:this.visitReference(t.animation,r),options:Kl(t.options)}}visitQuery(t,r){let n=r.currentQuerySelector,i=t.options||{};r.queryCount++,r.currentQuery=t;let[o,s]=roe(t.selector);r.currentQuerySelector=n.length?n+" "+o:o,_i(r.collectedStyles,r.currentQuerySelector,new Map);let a=bi(this,Gh(t.animation),r);return r.currentQuery=null,r.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Kl(t.options)}}visitStagger(t,r){r.currentQuery||r.errors.push(Die());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Z1(t.timings,r.errors,!0);return{type:12,animation:bi(this,Gh(t.animation),r),timings:n,options:null}}};function roe(e){let t=!!e.split(/\s*,\s*/).find(r=>r==SA);return t&&(e=e.replace(noe,"")),e=e.replace(/@\*/g,Y1).replace(/@\w+/g,r=>Y1+"-"+r.slice(1)).replace(/:animating/g,d5),[e,t]}function ioe(e){return e?ep(e):null}var m5=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function ooe(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(r=>{if(r instanceof Map&&r.has("offset")){let n=r;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}return t}function soe(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let o=Z1(e,t).duration;return o5(o,0,"")}let r=e;if(r.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=o5(0,0,"");return o.dynamic=!0,o.strValue=r,o}let i=Z1(r,t);return o5(i.duration,i.delay,i.easing)}function Kl(e){return e?(e=ep(e),e.params&&(e.params=ioe(e.params))):e={},e}function o5(e,t,r){return{duration:e,delay:t,easing:r}}function I5(e,t,r,n,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var Xh=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,r){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...r)}has(t){return this._map.has(t)}clear(){this._map.clear()}},aoe=1,loe=":enter",coe=new RegExp(loe,"g"),uoe=":leave",doe=new RegExp(uoe,"g");function TA(e,t,r,n,i,o=new Map,s=new Map,a,l,c=[]){return new g5().buildKeyframes(e,t,r,n,i,o,s,a,l,c)}var g5=class{buildKeyframes(t,r,n,i,o,s,a,l,c,u=[]){c=c||new Xh;let d=new y5(t,r,c,i,o,u,[]);d.options=l;let f=l.delay?js(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,l),bi(this,n,d);let p=d.timelines.filter(m=>m.containsAnimation());if(p.length&&a.size){let m;for(let v=p.length-1;v>=0;v--){let g=p[v];if(g.element===r){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,l)}return p.length?p.map(m=>m.buildKeyframes()):[I5(r,[],[],[],0,f,"",!1)]}visitTrigger(t,r){}visitState(t,r){}visitTransition(t,r){}visitAnimateChild(t,r){let n=r.subInstructions.get(r.element);if(n){let i=r.createSubContext(t.options),o=r.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&r.transformIntoNewTimeline(s)}r.previousNode=t}visitAnimateRef(t,r){let n=r.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],r,n),this.visitReference(t.animation,n),r.transformIntoNewTimeline(n.currentTimeline.currentTime),r.previousNode=t}_applyAnimationRefDelays(t,r,n){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:js(Zh(o,i?.params??{},r.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,r,n){let o=r.currentTimeline.currentTime,s=n.duration!=null?js(n.duration):null,a=n.delay!=null?js(n.delay):null;return s!==0&&t.forEach(l=>{let c=r.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,r){r.updateOptions(t.options,!0),bi(this,t.animation,r),r.previousNode=t}visitSequence(t,r){let n=r.subContextCount,i=r,o=t.options;if(o&&(o.params||o.delay)&&(i=r.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==6&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=J1);let s=js(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>bi(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),r.previousNode=t}visitGroup(t,r){let n=[],i=r.currentTimeline.currentTime,o=t.options&&t.options.delay?js(t.options.delay):0;t.steps.forEach(s=>{let a=r.createSubContext(t.options);o&&a.delayNextStep(o),bi(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>r.currentTimeline.mergeTimelineCollectedStyles(s)),r.transformIntoNewTimeline(i),r.previousNode=t}_visitTiming(t,r){if(t.dynamic){let n=t.strValue,i=r.params?Zh(n,r.params,r.errors):n;return Z1(i,r.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,r){let n=r.currentAnimateTimings=this._visitTiming(t.timings,r),i=r.currentTimeline;n.delay&&(r.incrementTime(n.delay),i.snapshotCurrentStyles());let o=t.style;o.type==5?this.visitKeyframes(o,r):(r.incrementTime(n.duration),this.visitStyle(o,r),i.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=t}visitStyle(t,r){let n=r.currentTimeline,i=r.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,r.errors,r.options),r.previousNode=t}visitKeyframes(t,r){let n=r.currentAnimateTimings,i=r.currentTimeline.duration,o=n.duration,a=r.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,r.errors,r.options),a.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(a),r.transformIntoNewTimeline(i+o),r.previousNode=t}visitQuery(t,r){let n=r.currentTimeline.currentTime,i=t.options||{},o=i.delay?js(i.delay):0;o&&(r.previousNode.type===6||n==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=J1);let s=n,a=r.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,r.errors);r.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{r.currentQueryIndex=u;let d=r.createSubContext(t.options,c);o&&d.delayNextStep(o),c===r.element&&(l=d.currentTimeline),bi(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(s),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=t}visitStagger(t,r){let n=r.parentContext,i=r.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(r.currentQueryTotal-1),l=s*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=r.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;bi(this,t.animation,r),r.previousNode=t,n.currentStaggerTime=i.currentTime-d+(i.startTime-n.currentTimeline.startTime)}},J1={},y5=class e{constructor(t,r,n,i,o,s,a,l){this._driver=t,this.element=r,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=J1,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new ey(this._driver,r,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,r){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=js(n.duration)),n.delay!=null&&(i.delay=js(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!r||!s.hasOwnProperty(a))&&(s[a]=Zh(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let r=this.options.params;if(r){let n=t.params={};Object.keys(r).forEach(i=>{n[i]=r[i]})}}return t}createSubContext(t=null,r,n){let i=r||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=J1,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,r,n){let i={duration:r??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new v5(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,r,n,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(coe,"."+this._enterClassName),t=t.replace(doe,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(Mie(r)),a}},ey=class e{constructor(t,r,n,i){this._driver=t,this.element=r,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+t),r&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,r){return this.applyStylesToKeyframe(),new e(this._driver,t,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=aoe,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,r){this._localTimelineStyles.set(t,r),this._globalTimelineStyles.set(t,r),this._styleSummary.set(t,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[r,n]of this._globalTimelineStyles)this._backFill.set(r,n||$o),this._currentKeyframe.set(r,$o);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,r,n,i){r&&this._previousKeyframe.set("easing",r);let o=i&&i.params||{},s=foe(t,this._globalTimelineStyles);for(let[a,l]of s){let c=Zh(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??$o),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,r)=>{this._currentKeyframe.set(r,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,t)}))}snapshotCurrentStyles(){for(let[t,r]of this._localTimelineStyles)this._pendingStyles.set(t,r),this._updateStyle(t,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let r in this._currentKeyframe)t.push(r);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((r,n)=>{let i=this._styleSummary.get(n);(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,r=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=nd(a,new Map,this._backFill);c.forEach((u,d)=>{u===z1?t.add(d):u===$o&&r.add(d)}),n||c.set("offset",l/this.duration),i.push(c)});let o=t.size?X1(t.values()):[],s=r.size?X1(r.values()):[];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return I5(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},v5=class extends ey{constructor(t,r,n,i,o,s,a=!1){super(t,r,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:r,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&r){let o=[],s=n+r,a=r/s,l=nd(t[0]);l.set("offset",0),o.push(l);let c=nd(t[0]);c.set("offset",uA(a)),o.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let f=nd(t[d]),p=f.get("offset"),m=r+p*n;f.set("offset",uA(m/s)),o.push(f)}n=s,r=0,i="",t=o}return I5(this.element,t,this.preStyleProps,this.postStyleProps,n,r,i,!0)}};function uA(e,t=3){let r=Math.pow(10,t-1);return Math.round(e*r)/r}function foe(e,t){let r=new Map,n;return e.forEach(i=>{if(i==="*"){n=n||t.keys();for(let o of n)r.set(o,$o)}else nd(i,r)}),r}function dA(e,t,r,n,i,o,s,a,l,c,u,d,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var s5={},ty=class{constructor(t,r,n){this._triggerName=t,this.ast=r,this._stateStyles=n}match(t,r,n,i){return hoe(this.ast.matchers,t,r,n,i)}buildStyles(t,r,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(r,n):new Map}build(t,r,n,i,o,s,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||s5,p=a&&a.params||s5,m=this.buildStyles(n,p,d),v=l&&l.params||s5,g=this.buildStyles(i,v,d),x=new Set,_=new Map,w=new Map,b=i==="void",k={params:poe(v,f),delay:this.ast.options?.delay},E=u?[]:TA(t,r,this.ast.animation,o,s,m,g,k,c,d),V=0;if(E.forEach(B=>{V=Math.max(B.duration+B.delay,V)}),d.length)return dA(r,this._triggerName,n,i,b,m,g,[],[],_,w,V,d);E.forEach(B=>{let $=B.element,D=_i(_,$,new Set);B.preStyleProps.forEach(L=>D.add(L));let I=_i(w,$,new Set);B.postStyleProps.forEach(L=>I.add(L)),$!==r&&x.add($)});let z=X1(x.values());return dA(r,this._triggerName,n,i,b,m,g,E,z,_,w,V)}};function hoe(e,t,r,n,i){return e.some(o=>o(t,r,n,i))}function poe(e,t){let r=ep(t);for(let n in e)e.hasOwnProperty(n)&&e[n]!=null&&(r[n]=e[n]);return r}var x5=class{constructor(t,r,n){this.styles=t,this.defaultParams=r,this.normalizer=n}buildStyles(t,r){let n=new Map,i=ep(this.defaultParams);return Object.keys(t).forEach(o=>{let s=t[o];s!==null&&(i[o]=s)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Zh(s,i,r));let l=this.normalizer.normalizePropertyName(a,r);s=this.normalizer.normalizeStyleValue(a,l,s,r),n.set(a,s)})}),n}};function moe(e,t,r){return new b5(e,t,r)}var b5=class{constructor(t,r,n){this.name=t,this.ast=r,this._normalizer=n,this.transitionFactories=[],this.states=new Map,r.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new x5(i.style,o,n))}),fA(this.states,"true","1"),fA(this.states,"false","0"),r.transitions.forEach(i=>{this.transitionFactories.push(new ty(t,i,this.states))}),this.fallbackTransition=goe(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,r,n,i){return this.transitionFactories.find(s=>s.match(t,r,n,i))||null}matchStyles(t,r,n){return this.fallbackTransition.buildStyles(t,r,n)}};function goe(e,t,r){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0};return new ty(e,o,t)}function fA(e,t,r){e.has(t)?e.has(r)||e.set(r,e.get(t)):e.has(r)&&e.set(t,e.get(r))}var yoe=new Xh,_5=class{constructor(t,r,n){this.bodyNode=t,this._driver=r,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,r){let n=[],i=[],o=EA(this._driver,r,n,i);if(n.length)throw Iie(n);i.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,r,n){let i=t.element,o=vA(this._normalizer,t.keyframes,r,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,r,n={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=TA(this._driver,r,o,wA,u5,new Map,new Map,n,yoe,i),s.forEach(u=>{let d=_i(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(Aie()),s=[]),i.length)throw Oie(i);a.forEach((u,d)=>{u.forEach((f,p)=>{u.set(p,this._driver.computeStyle(d,p,$o))})});let l=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Fa(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let r=this._getPlayer(t);r.destroy(),this._playersById.delete(t);let n=this.players.indexOf(r);n>=0&&this.players.splice(n,1)}_getPlayer(t){let r=this._playersById.get(t);if(!r)throw Pie(t);return r}listen(t,r,n,i){let o=S5(r,"","","");return M5(this._getPlayer(t),n,o,i),()=>{}}command(t,r,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(t,r,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},hA="ng-animate-queued",voe=".ng-animate-queued",a5="ng-animate-disabled",xoe=".ng-animate-disabled",boe="ng-star-inserted",_oe=".ng-star-inserted",woe=[],kA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Coe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ho="__ng_removed",Qh=class{get params(){return this.options.params}constructor(t,r=""){this.namespaceId=r;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=Moe(i),n){let o=ep(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let r=t.params;if(r){let n=this.options.params;Object.keys(r).forEach(i=>{n[i]==null&&(n[i]=r[i])})}}},Yh="void",l5=new Qh(Yh),w5=class{constructor(t,r,n){this.id=t,this.hostElement=r,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Oi(r,this._hostClassName)}listen(t,r,n,i){if(!this._triggers.has(r))throw Nie(n,r);if(n==null||n.length==0)throw Rie(r);if(!Soe(n))throw Fie(n,r);let o=_i(this._elementListeners,t,[]),s={name:r,phase:n,callback:i};o.push(s);let a=_i(this._engine.statesByElement,t,new Map);return a.has(r)||(Oi(t,B1),Oi(t,B1+"-"+r),a.set(r,l5)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(r)||a.delete(r)})}}register(t,r){return this._triggers.has(t)?!1:(this._triggers.set(t,r),!0)}_getTrigger(t){let r=this._triggers.get(t);if(!r)throw Lie(t);return r}trigger(t,r,n,i=!0){let o=this._getTrigger(r),s=new Kh(this.id,r,t),a=this._engine.statesByElement.get(t);a||(Oi(t,B1),Oi(t,B1+"-"+r),this._engine.statesByElement.set(t,a=new Map));let l=a.get(r),c=new Qh(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(r,c),l||(l=l5),!(c.value===Yh)&&l.value===c.value){if(!koe(l.params,c.params)){let v=[],g=o.matchStyles(l.value,l.params,v),x=o.matchStyles(c.value,c.params,v);v.length?this._engine.reportError(v):this._engine.afterFlush(()=>{Jl(t,g),zo(t,x)})}return}let f=_i(this._engine.playersByElement,t,[]);f.forEach(v=>{v.namespaceId==this.id&&v.triggerName==r&&v.queued&&v.destroy()});let p=o.matchTransition(l.value,c.value,t,c.params),m=!1;if(!p){if(!i)return;p=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:p,fromState:l,toState:c,player:s,isFallbackTransition:m}),m||(Oi(t,hA),s.onStart(()=>{td(t,hA)})),s.onDone(()=>{let v=this.players.indexOf(s);v>=0&&this.players.splice(v,1);let g=this._engine.playersByElement.get(t);if(g){let x=g.indexOf(s);x>=0&&g.splice(x,1)}}),this.players.push(s),f.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(r=>r.delete(t)),this._elementListeners.forEach((r,n)=>{this._elementListeners.set(n,r.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let r=this._engine.playersByElement.get(t);r&&(r.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,r){let n=this._engine.driver.query(t,Y1,!0);n.forEach(i=>{if(i[ho])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,r,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,r,n,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Yh,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,r,s),n&&Fa(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let r=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(r&&n){let i=new Set;r.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||l5,u=new Qh(Yh),d=new Kh(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,r){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,r),this.triggerLeaveAnimation(t,r,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,r);else{let o=t[ho];(!o||o===kA)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,r))}}insertNode(t,r){Oi(t,this._hostClassName)}drainQueuedTransitions(t){let r=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=S5(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,M5(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):r.push(n)}),this._queue=[],r.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},C5=class{_onRemovalComplete(t,r){this.onRemovalComplete(t,r)}constructor(t,r,n){this.bodyNode=t,this.driver=r,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(r=>{r.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,r){let n=new w5(t,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(n,r):(this.newHostElements.set(r,n),this.collectEnterElement(r)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,r){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(r);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return i.set(r,t),t}register(t,r){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,r)),n}registerTrigger(t,r,n){let i=this._namespaceLookup[t];i&&i.register(r,n)&&this.totalAnimations++}destroy(t,r){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(r),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let r=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&r.add(o)}}return r}trigger(t,r,n,i){if(q1(r)){let o=this._fetchNamespace(t);if(o)return o.trigger(r,n,i),!0}return!1}insertNode(t,r,n,i){if(!q1(r))return;let o=r[ho];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(r);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(r,n)}i&&this.collectEnterElement(r)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,r){r?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Oi(t,a5)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),td(t,a5))}removeNode(t,r,n){if(q1(r)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(r,n):this.markElementAsRemoved(t,r,!1,n);let o=this.namespacesByHostElement.get(r);o&&o.id!==t&&o.removeNode(r,n)}else this._onRemovalComplete(r,n)}markElementAsRemoved(t,r,n,i,o){this.collectedLeaveElements.push(r),r[ho]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,r,n,i,o){return q1(r)?this._fetchNamespace(t).listen(r,n,i,o):()=>{}}_buildInstruction(t,r,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,r,o)}destroyInnerAnimations(t){let r=this.driver.query(t,Y1,!0);r.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(t,d5,!0),r.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let r=this.playersByElement.get(t);r&&r.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let r=this.playersByQueriedElement.get(t);r&&r.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Fa(this.players).onDone(()=>t());t()})}processLeaveNode(t){let r=t[ho];if(r&&r.setForRemoval){if(t[ho]=kA,r.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}t.classList?.contains(a5)&&this.markElementAsDisabled(t,!1),this.driver.query(t,xoe,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Oi(i,boe)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{r=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],r.length?Fa(r).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw jie(t)}_flushAnimations(t,r){let n=new Xh,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(T=>{u.add(T);let P=this.driver.query(T,voe,!0);for(let U=0;U<P.length;U++)u.add(P[U])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),p=gA(f,this.collectedEnterElements),m=new Map,v=0;p.forEach((T,P)=>{let U=wA+v++;m.set(P,U),T.forEach(F=>Oi(F,U))});let g=[],x=new Set,_=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let P=this.collectedLeaveElements[T],U=P[ho];U&&U.setForRemoval&&(g.push(P),x.add(P),U.hasAnimation?this.driver.query(P,_oe,!0).forEach(F=>x.add(F)):_.add(P))}let w=new Map,b=gA(f,Array.from(x));b.forEach((T,P)=>{let U=u5+v++;w.set(P,U),T.forEach(F=>Oi(F,U))}),t.push(()=>{p.forEach((T,P)=>{let U=m.get(P);T.forEach(F=>td(F,U))}),b.forEach((T,P)=>{let U=w.get(P);T.forEach(F=>td(F,U))}),g.forEach(T=>{this.processLeaveNode(T)})});let k=[],E=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(r).forEach(U=>{let F=U.player,j=U.element;if(k.push(F),this.collectedEnterElements.length){let pe=j[ho];if(pe&&pe.setForMove){if(pe.previousTriggersValues&&pe.previousTriggersValues.has(U.triggerName)){let Fe=pe.previousTriggersValues.get(U.triggerName),te=this.statesByElement.get(U.element);if(te&&te.has(U.triggerName)){let be=te.get(U.triggerName);be.value=Fe,te.set(U.triggerName,be)}}F.destroy();return}}let G=!d||!this.driver.containsElement(d,j),J=w.get(j),X=m.get(j),se=this._buildInstruction(U,n,X,J,G);if(se.errors&&se.errors.length){E.push(se);return}if(G){F.onStart(()=>Jl(j,se.fromStyles)),F.onDestroy(()=>zo(j,se.toStyles)),i.push(F);return}if(U.isFallbackTransition){F.onStart(()=>Jl(j,se.fromStyles)),F.onDestroy(()=>zo(j,se.toStyles)),i.push(F);return}let Me=[];se.timelines.forEach(pe=>{pe.stretchStartingKeyframe=!0,this.disabledNodes.has(pe.element)||Me.push(pe)}),se.timelines=Me,n.append(j,se.timelines);let _e={instruction:se,player:F,element:j};s.push(_e),se.queriedElements.forEach(pe=>_i(a,pe,[]).push(F)),se.preStyleProps.forEach((pe,Fe)=>{if(pe.size){let te=l.get(Fe);te||l.set(Fe,te=new Set),pe.forEach((be,ke)=>te.add(ke))}}),se.postStyleProps.forEach((pe,Fe)=>{let te=c.get(Fe);te||c.set(Fe,te=new Set),pe.forEach((be,ke)=>te.add(ke))})});if(E.length){let T=[];E.forEach(P=>{T.push(Vie(P.triggerName,P.errors))}),k.forEach(P=>P.destroy()),this.reportError(T)}let V=new Map,z=new Map;s.forEach(T=>{let P=T.element;n.has(P)&&(z.set(P,P),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,V))}),i.forEach(T=>{let P=T.element;this._getPreviousPlayers(P,!1,T.namespaceId,T.triggerName,null).forEach(F=>{_i(V,P,[]).push(F),F.destroy()})});let B=g.filter(T=>yA(T,l,c)),$=new Map;mA($,this.driver,_,c,$o).forEach(T=>{yA(T,l,c)&&B.push(T)});let I=new Map;p.forEach((T,P)=>{mA(I,this.driver,new Set(T),l,z1)}),B.forEach(T=>{let P=$.get(T),U=I.get(T);$.set(T,new Map([...P?.entries()??[],...U?.entries()??[]]))});let L=[],O=[],S={};s.forEach(T=>{let{element:P,player:U,instruction:F}=T;if(n.has(P)){if(u.has(P)){U.onDestroy(()=>zo(P,F.toStyles)),U.disabled=!0,U.overrideTotalTime(F.totalTime),i.push(U);return}let j=S;if(z.size>1){let J=P,X=[];for(;J=J.parentNode;){let se=z.get(J);if(se){j=se;break}X.push(J)}X.forEach(se=>z.set(se,j))}let G=this._buildAnimation(U.namespaceId,F,V,o,I,$);if(U.setRealPlayer(G),j===S)L.push(U);else{let J=this.playersByElement.get(j);J&&J.length&&(U.parentPlayer=Fa(J)),i.push(U)}}else Jl(P,F.fromStyles),U.onDestroy(()=>zo(P,F.toStyles)),O.push(U),u.has(P)&&i.push(U)}),O.forEach(T=>{let P=o.get(T.element);if(P&&P.length){let U=Fa(P);T.setRealPlayer(U)}}),i.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<g.length;T++){let P=g[T],U=P[ho];if(td(P,u5),U&&U.hasAnimation)continue;let F=[];if(a.size){let G=a.get(P);G&&G.length&&F.push(...G);let J=this.driver.query(P,d5,!0);for(let X=0;X<J.length;X++){let se=a.get(J[X]);se&&se.length&&F.push(...se)}}let j=F.filter(G=>!G.destroyed);j.length?Eoe(this,P,j):this.processLeaveNode(P)}return g.length=0,L.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let P=this.players.indexOf(T);this.players.splice(P,1)}),T.play()}),L}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,r,n,i,o){let s=[];if(r){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==Yh;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,r,n){let i=r.triggerName,o=r.element,s=r.isRemovalTransition?void 0:t,a=r.isRemovalTransition?void 0:i;for(let l of r.timelines){let c=l.element,u=c!==o,d=_i(n,c,[]);this._getPreviousPlayers(c,u,s,a,r.toState).forEach(p=>{let m=p.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),p.destroy(),d.push(p)})}Jl(o,r.fromStyles)}_buildAnimation(t,r,n,i,o,s){let a=r.triggerName,l=r.element,c=[],u=new Set,d=new Set,f=r.timelines.map(m=>{let v=m.element;u.add(v);let g=v[ho];if(g&&g.removedBeforeQueried)return new Ra(m.duration,m.delay);let x=v!==l,_=Toe((n.get(v)||woe).map(V=>V.getRealPlayer())).filter(V=>{let z=V;return z.element?z.element===v:!1}),w=o.get(v),b=s.get(v),k=vA(this._normalizer,m.keyframes,w,b),E=this._buildPlayer(m,k,_);if(m.subTimeline&&i&&d.add(v),x){let V=new Kh(t,a,v);V.setRealPlayer(E),c.push(V)}return E});c.forEach(m=>{_i(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>Doe(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Oi(m,aA));let p=Fa(f);return p.onDestroy(()=>{u.forEach(m=>td(m,aA)),zo(l,r.toStyles)}),d.forEach(m=>{_i(i,m,[]).push(p)}),p}_buildPlayer(t,r,n){return r.length>0?this.driver.animate(t.element,r,t.duration,t.delay,t.easing,n):new Ra(t.duration,t.delay)}},Kh=class{constructor(t,r,n){this.namespaceId=t,this.triggerName=r,this.element=n,this._player=new Ra,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((r,n)=>{r.forEach(i=>M5(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let r=this._player;r.triggerCallback&&t.onStart(()=>r.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,r){_i(this._queuedCallbacks,t,[]).push(r)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let r=this._player;r.triggerCallback&&r.triggerCallback(t)}};function Doe(e,t,r){let n=e.get(t);if(n){if(n.length){let i=n.indexOf(r);n.splice(i,1)}n.length==0&&e.delete(t)}return n}function Moe(e){return e??null}function q1(e){return e&&e.nodeType===1}function Soe(e){return e=="start"||e=="done"}function pA(e,t){let r=e.style.display;return e.style.display=t??"none",r}function mA(e,t,r,n,i){let o=[];r.forEach(l=>o.push(pA(l)));let s=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=t.computeStyle(c,d,i);u.set(d,f),(!f||f.length==0)&&(c[ho]=Coe,s.push(c))}),e.set(c,u)});let a=0;return r.forEach(l=>pA(l,o[a++])),s}function gA(e,t){let r=new Map;if(e.forEach(a=>r.set(a,[])),t.length==0)return r;let n=1,i=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return r.has(c)?l=c:i.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&r.get(l).push(a)}),r}function Oi(e,t){e.classList?.add(t)}function td(e,t){e.classList?.remove(t)}function Eoe(e,t,r){Fa(r).onDone(()=>e.processLeaveNode(t))}function Toe(e){let t=[];return IA(e,t),t}function IA(e,t){for(let r=0;r<e.length;r++){let n=e[r];n instanceof qh?IA(n.players,t):t.push(n)}}function koe(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){let o=r[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}function yA(e,t,r){let n=r.get(e);if(!n)return!1;let i=t.get(e);return i?n.forEach(o=>i.add(o)):t.set(e,n),r.delete(e),!0}var rd=class{constructor(t,r,n){this._driver=r,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new C5(t.body,r,n),this._timelineEngine=new _5(t.body,r,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,r,n,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],u=EA(this._driver,o,l,c);if(l.length)throw Tie(i,l);c.length&&void 0,a=moe(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(r,i,a)}register(t,r){this._transitionEngine.register(t,r)}destroy(t,r){this._transitionEngine.destroy(t,r)}onInsert(t,r,n,i){this._transitionEngine.insertNode(t,r,n,i)}onRemove(t,r,n){this._transitionEngine.removeNode(t,r,n)}disableAnimations(t,r){this._transitionEngine.markElementAsDisabled(t,r)}process(t,r,n,i){if(n.charAt(0)=="@"){let[o,s]=oA(n),a=i;this._timelineEngine.command(o,r,s,a)}else this._transitionEngine.trigger(t,r,n,i)}listen(t,r,n,i,o){if(n.charAt(0)=="@"){let[s,a]=oA(n);return this._timelineEngine.listen(s,r,a,o)}return this._transitionEngine.listen(t,r,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Ioe(e,t){let r=null,n=null;return Array.isArray(t)&&t.length?(r=c5(t[0]),t.length>1&&(n=c5(t[t.length-1]))):t instanceof Map&&(r=c5(t)),r||n?new Aoe(e,r,n):null}var Aoe=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._startStyles=i,this._endStyles=o,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&zo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zo(this._element,this._initialStyles),this._endStyles&&(zo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Jl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jl(this._element,this._endStyles),this._endStyles=null),zo(this._element,this._initialStyles),this._state=3)}};t.initialStylesByElement=new WeakMap;let e=t;return e})();function c5(e){let t=null;return e.forEach((r,n)=>{Ooe(n)&&(t=t||new Map,t.set(n,r))}),t}function Ooe(e){return e==="display"||e==="position"}var ny=class{constructor(t,r,n,i){this.element=t,this.keyframes=r,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let r=[];return t.forEach(n=>{r.push(Object.fromEntries(n))}),r}_triggerWebAnimation(t,r,n){return t.animate(this._convertKeyframesToObject(r),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:MA(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let r=t==="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},ry=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,r){return!1}containsElement(t,r){return xA(t,r)}getParentElement(t){return E5(t)}query(t,r,n){return bA(t,r,n)}computeStyle(t,r,n){return window.getComputedStyle(t)[r]}animate(t,r,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(p=>p instanceof ny);Xie(n,i)&&u.forEach(p=>{p.currentSnapshot.forEach((m,v)=>c.set(v,m))});let d=Gie(r).map(p=>nd(p));d=Qie(t,d,c);let f=Ioe(t,d);return new ny(t,d,l,f)}};var G1="@",AA="@.disabled",iy=class{constructor(t,r,n,i){this.namespaceId=t,this.delegate=r,this.engine=n,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,r){this.delegate.appendChild(t,r),this.engine.onInsert(this.namespaceId,r,t,!1)}insertBefore(t,r,n,i=!0){this.delegate.insertBefore(t,r,n),this.engine.onInsert(this.namespaceId,r,t,i)}removeChild(t,r,n){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,n,i){this.delegate.setAttribute(t,r,n,i)}removeAttribute(t,r,n){this.delegate.removeAttribute(t,r,n)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,n,i){this.delegate.setStyle(t,r,n,i)}removeStyle(t,r,n){this.delegate.removeStyle(t,r,n)}setProperty(t,r,n){r.charAt(0)==G1&&r==AA?this.disableAnimations(t,!!n):this.delegate.setProperty(t,r,n)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,n){return this.delegate.listen(t,r,n)}disableAnimations(t,r){this.engine.disableAnimations(t,r)}},D5=class extends iy{constructor(t,r,n,i,o){super(r,n,i,o),this.factory=t,this.namespaceId=r}setProperty(t,r,n){r.charAt(0)==G1?r.charAt(1)=="."&&r==AA?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,r.slice(1),n):this.delegate.setProperty(t,r,n)}listen(t,r,n){if(r.charAt(0)==G1){let i=Poe(t),o=r.slice(1),s="";return o.charAt(0)!=G1&&([o,s]=Noe(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(t,r,n)}};function Poe(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function Noe(e){let t=e.indexOf("."),r=e.substring(0,t),n=e.slice(t+1);return[r,n]}var oy=class{constructor(t,r,n){this.delegate=t,this.engine=r,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(t,r){let n="",i=this.delegate.createRenderer(t,r);if(!t||!r?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new iy(n,i,this.engine,d),c.set(i,u)}return u}let o=r.id,s=r.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return r.data.animation.forEach(a),new D5(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>r(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([r,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Foe=(()=>{let t=class t extends rd{constructor(n,i,o,s){super(n,i,o)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(i){return new(i||t)(ee(Bn),ee(Jh),ee(ec),ee(Ns))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function Loe(){return new Q1}function joe(e,t,r){return new oy(e,t,r)}var PA=[{provide:ec,useFactory:Loe},{provide:rd,useClass:Foe},{provide:$l,useFactory:joe,deps:[M1,rd,Ct]}],OA=[{provide:Jh,useFactory:()=>new ry},{provide:Tw,useValue:"BrowserAnimations"},...PA],Voe=[{provide:Jh,useClass:T5},{provide:Tw,useValue:"NoopAnimations"},...PA],NA=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?Voe:OA}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({providers:OA,imports:[E1]});let e=t;return e})();var et="primary",mp=Symbol("RouteTitle"),R5=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function ld(e){return new R5(e)}function Uoe(e,t,r){let n=r.path.split("/");if(n.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function $oe(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Bo(e[r],t[r]))return!1;return!0}function Bo(e,t){let r=e?F5(e):void 0,n=t?F5(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!HA(e[i],t[i]))return!1;return!0}function F5(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function HA(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((i,o)=>n[o]===i)}else return e===t}function WA(e){return e.length>0?e[e.length-1]:null}function Ua(e){return Nb(e)?e:Yl(e)?en(Promise.resolve(e)):Ae(e)}var zoe={exact:GA,subset:YA},qA={exact:Boe,subset:Hoe,ignored:()=>!0};function RA(e,t,r){return zoe[r.paths](e.root,t.root,r.matrixParams)&&qA[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function Boe(e,t){return Bo(e,t)}function GA(e,t,r){if(!nc(e.segments,t.segments)||!ly(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!GA(e.children[n],t.children[n],r))return!1;return!0}function Hoe(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>HA(e[r],t[r]))}function YA(e,t,r){return ZA(e,t,t.segments,r)}function ZA(e,t,r,n){if(e.segments.length>r.length){let i=e.segments.slice(0,r.length);return!(!nc(i,r)||t.hasChildren()||!ly(i,r,n))}else if(e.segments.length===r.length){if(!nc(e.segments,r)||!ly(e.segments,r,n))return!1;for(let i in t.children)if(!e.children[i]||!YA(e.children[i],t.children[i],n))return!1;return!0}else{let i=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!nc(e.segments,i)||!ly(e.segments,i,n)||!e.children[et]?!1:ZA(e.children[et],t,o,n)}}function ly(e,t,r){return t.every((n,i)=>qA[r](e[i].parameters,n.parameters))}var La=class{constructor(t=new Lt([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ld(this.queryParams)),this._queryParamMap}toString(){return Goe.serialize(this)}},Lt=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cy(this)}},tc=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=ld(this.parameters)),this._parameterMap}toString(){return QA(this)}};function Woe(e,t){return nc(e,t)&&e.every((r,n)=>Bo(r.parameters,t[n].parameters))}function nc(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.path===t[n].path)}function qoe(e,t){let r=[];return Object.entries(e.children).forEach(([n,i])=>{n===et&&(r=r.concat(t(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==et&&(r=r.concat(t(i,n)))}),r}var gp=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>new ap)(),providedIn:"root"});let e=t;return e})(),ap=class{parse(t){let r=new j5(t);return new La(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${tp(t.root,!0)}`,n=Xoe(t.queryParams),i=typeof t.fragment=="string"?`#${Yoe(t.fragment)}`:"";return`${r}${n}${i}`}},Goe=new ap;function cy(e){return e.segments.map(t=>QA(t)).join("/")}function tp(e,t){if(!e.hasChildren())return cy(e);if(t){let r=e.children[et]?tp(e.children[et],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==et&&n.push(`${i}:${tp(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=qoe(e,(n,i)=>i===et?[tp(e.children[et],!1)]:[`${i}:${tp(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[et]!=null?`${cy(e)}/${r[0]}`:`${cy(e)}/(${r.join("//")})`}}function XA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sy(e){return XA(e).replace(/%3B/gi,";")}function Yoe(e){return encodeURI(e)}function L5(e){return XA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uy(e){return decodeURIComponent(e)}function FA(e){return uy(e.replace(/\+/g,"%20"))}function QA(e){return`${L5(e.path)}${Zoe(e.parameters)}`}function Zoe(e){return Object.keys(e).map(t=>`;${L5(t)}=${L5(e[t])}`).join("")}function Xoe(e){let t=Object.keys(e).map(r=>{let n=e[r];return Array.isArray(n)?n.map(i=>`${sy(r)}=${sy(i)}`).join("&"):`${sy(r)}=${sy(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}var Qoe=/^[^\/()?;#]+/;function A5(e){let t=e.match(Qoe);return t?t[0]:""}var Koe=/^[^\/()?;=#]+/;function Joe(e){let t=e.match(Koe);return t?t[0]:""}var ese=/^[^=?&#]+/;function tse(e){let t=e.match(ese);return t?t[0]:""}var nse=/^[^&#]+/;function rse(e){let t=e.match(nse);return t?t[0]:""}var j5=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[et]=new Lt(t,r)),n}parseSegment(){let t=A5(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(t),new tc(uy(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=Joe(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=A5(this.remaining);i&&(n=i,this.capture(n))}t[uy(r)]=uy(n)}parseQueryParam(t){let r=tse(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=rse(this.remaining);s&&(n=s,this.capture(n))}let i=FA(r),o=FA(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=A5(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new le(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=et);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[et]:new Lt([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new le(4011,!1)}};function KA(e){return e.segments.length>0?new Lt([],{[et]:e}):e}function JA(e){let t={};for(let n of Object.keys(e.children)){let i=e.children[n],o=JA(i);if(n===et&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let r=new Lt(e.segments,t);return ise(r)}function ise(e){if(e.numberOfChildren===1&&e.children[et]){let t=e.children[et];return new Lt(e.segments.concat(t.segments),t.children)}return e}function cd(e){return e instanceof La}function ose(e,t,r=null,n=null){let i=eO(e);return tO(i,t,r,n)}function eO(e){let t;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new Lt(o.url,s);return o===e&&(t=a),a}let n=r(e.root),i=KA(n);return t??i}function tO(e,t,r,n){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return O5(i,i,i,r,n);let o=sse(t);if(o.toRoot())return O5(i,i,new Lt([],{}),r,n);let s=ase(o,i,e),a=s.processChildren?ip(s.segmentGroup,s.index,o.commands):rO(s.segmentGroup,s.index,o.commands);return O5(i,s.segmentGroup,a,r,n)}function dy(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function lp(e){return typeof e=="object"&&e!=null&&e.outlets}function O5(e,t,r,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=r:s=nO(e,t,r);let a=KA(JA(s));return new La(a,o,i)}function nO(e,t,r){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===t?n[i]=r:n[i]=nO(o,t,r)}),new Lt(e.segments,n)}var fy=class{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&dy(n[0]))throw new le(4003,!1);let i=n.find(lp);if(i&&i!==WA(n))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sse(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new fy(!0,0,e);let t=0,r=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fy(r,t,n)}var sd=class{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}};function ase(e,t,r){if(e.isAbsolute)return new sd(t,!0,0);if(!r)return new sd(t,!1,NaN);if(r.parent===null)return new sd(r,!0,0);let n=dy(e.commands[0])?0:1,i=r.segments.length-1+n;return lse(r,i,e.numberOfDoubleDots)}function lse(e,t,r){let n=e,i=t,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new le(4005,!1);i=n.segments.length}return new sd(n,!1,i-o)}function cse(e){return lp(e[0])?e[0].outlets:{[et]:e}}function rO(e,t,r){if(e||(e=new Lt([],{})),e.segments.length===0&&e.hasChildren())return ip(e,t,r);let n=use(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new Lt(e.segments.slice(0,n.pathIndex),{});return o.children[et]=new Lt(e.segments.slice(n.pathIndex),e.children),ip(o,0,i)}else return n.match&&i.length===0?new Lt(e.segments,{}):n.match&&!e.hasChildren()?V5(e,t,r):n.match?ip(e,0,i):V5(e,t,r)}function ip(e,t,r){if(r.length===0)return new Lt(e.segments,{});{let n=cse(r),i={};if(Object.keys(n).some(o=>o!==et)&&e.children[et]&&e.numberOfChildren===1&&e.children[et].segments.length===0){let o=ip(e.children[et],t,r);return new Lt(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rO(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Lt(e.segments,i)}}function use(e,t,r){let n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return o;let s=e.segments[i],a=r[n];if(lp(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!jA(l,c,s))return o;n+=2}else{if(!jA(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function V5(e,t,r){let n=e.segments.slice(0,t),i=0;for(;i<r.length;){let o=r[i];if(lp(o)){let l=dse(o.outlets);return new Lt(n,l)}if(i===0&&dy(r[0])){let l=e.segments[t];n.push(new tc(l.path,LA(r[0]))),i++;continue}let s=lp(o)?o.outlets[et]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&dy(a)?(n.push(new tc(s,LA(a))),i+=2):(n.push(new tc(s,{})),i++)}return new Lt(n,{})}function dse(e){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[r]=V5(new Lt([],{}),0,n))}),t}function LA(e){let t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function jA(e,t,r){return e==r.path&&Bo(t,r.parameters)}var op="imperative",Pi=class{constructor(t,r){this.id=t,this.url=r}},ud=class extends Pi{constructor(t,r,n="imperative",i=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ho=class extends Pi{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ja=class extends Pi{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Va=class extends Pi{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=16}},cp=class extends Pi{constructor(t,r,n,i){super(t,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hy=class extends Pi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},U5=class extends Pi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$5=class extends Pi{constructor(t,r,n,i,o){super(t,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},z5=class extends Pi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},B5=class extends Pi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},H5=class{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},W5=class{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},q5=class{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},G5=class{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Y5=class{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Z5=class{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},py=class{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},up=class{},dp=class{constructor(t){this.url=t}};var X5=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yp,this.attachRef=null}},yp=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new X5,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),my=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=Q5(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){let r=Q5(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=K5(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return K5(t,this._root).map(r=>r.value)}};function Q5(e,t){if(e===t.value)return t;for(let r of t.children){let n=Q5(e,r);if(n)return n}return null}function K5(e,t){if(e===t.value)return[t];for(let r of t.children){let n=K5(e,r);if(n.length)return n.unshift(t),n}return[]}var wi=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function od(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var gy=class extends my{constructor(t,r){super(t),this.snapshot=r,lC(this,t)}toString(){return this.snapshot.toString()}};function iO(e,t){let r=fse(e,t),n=new At([new tc("",{})]),i=new At({}),o=new At({}),s=new At({}),a=new At(""),l=new kn(n,i,s,a,o,et,t,r.root);return l.snapshot=r.root,new gy(new wi(l,[]),r)}function fse(e,t){let r={},n={},i={},o="",s=new fp([],r,i,o,n,et,t,null,{});return new yy("",new wi(s,[]))}var kn=class{constructor(t,r,n,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ye(c=>c[mp]))??Ae(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ye(t=>ld(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ye(t=>ld(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function aC(e,t,r="emptyOnly"){let n,{routeConfig:i}=e;return t!==null&&(r==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:ne(ne({},t.params),e.params),data:ne(ne({},t.data),e.data),resolve:ne(ne(ne(ne({},e.data),t.data),i?.data),e._resolvedData)}:n={params:e.params,data:e.data,resolve:ne(ne({},e.data),e._resolvedData??{})},i&&sO(i)&&(n.resolve[mp]=i.title),n}var fp=class{get title(){return this.data?.[mp]}constructor(t,r,n,i,o,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ld(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ld(this.queryParams)),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},yy=class extends my{constructor(t,r){super(r),this.url=t,lC(this,r)}toString(){return oO(this._root)}};function lC(e,t){t.value._routerState=e,t.children.forEach(r=>lC(e,r))}function oO(e){let t=e.children.length>0?` { ${e.children.map(oO).join(", ")} } `:"";return`${e.value}${t}`}function P5(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Bo(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Bo(t.params,r.params)||e.paramsSubject.next(r.params),$oe(t.url,r.url)||e.urlSubject.next(r.url),Bo(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function J5(e,t){let r=Bo(e.params,t.params)&&Woe(e.url,t.url),n=!e.parent!=!t.parent;return r&&!n&&(!e.parent||J5(e.parent,t.parent))}function sO(e){return typeof e.title=="string"||e.title===null}var cC=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=et,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=fe(yp),this.location=fe(Lo),this.changeDetector=fe(Hu),this.environmentInjector=fe(Or),this.inputBinder=fe(wy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new eC(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Xt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cn]});let e=t;return e})(),eC=class{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===kn?this.route:t===yp?this.childContexts:this.parent.get(t,r)}},wy=new ae(""),VA=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,o=oh([i.queryParams,i.params,i.data]).pipe(vr(([s,a,l],c)=>(l=ne(ne(ne({},s),a),l),c===0?Ae(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let a=ek(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function hse(e,t,r){let n=hp(e,t._root,r?r._root:void 0);return new gy(n,t)}function hp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=t.value;let i=pse(e,t,r);return new wi(n,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>hp(e,a)),s}}let n=mse(t.value),i=t.children.map(o=>hp(e,o));return new wi(n,i)}}function pse(e,t,r){return t.children.map(n=>{for(let i of r.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return hp(e,n,i);return hp(e,n)})}function mse(e){return new kn(new At(e.url),new At(e.params),new At(e.queryParams),new At(e.fragment),new At(e.data),e.outlet,e.component,e)}var aO="ngNavigationCancelingError";function lO(e,t){let{redirectTo:r,navigationBehaviorOptions:n}=cd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=cO(!1,0,t);return i.url=r,i.navigationBehaviorOptions=n,i}function cO(e,t,r){let n=new Error("NavigationCancelingError: "+(e||""));return n[aO]=!0,n.cancellationCode=t,r&&(n.url=r),n}function gse(e){return uO(e)&&cd(e.url)}function uO(e){return e&&e[aO]}var yse=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],standalone:!0,features:[LT],decls:1,vars:0,template:function(i,o){i&1&&re(0,"router-outlet")},dependencies:[cC],encapsulation:2});let e=t;return e})();function vse(e,t){return e.providers&&!e._injector&&(e._injector=s1(e.providers,t,`Route: ${e.path}`)),e._injector??t}function uC(e){let t=e.children&&e.children.map(uC),r=t?Ee(ne({},e),{children:t}):ne({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==et&&(r.component=yse),r}function Wo(e){return e.outlet||et}function xse(e,t){let r=e.filter(n=>Wo(n)===t);return r.push(...e.filter(n=>Wo(n)!==t)),r}function vp(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var bse=(e,t,r,n)=>ye(i=>(new tC(t,i.targetRouterState,i.currentRouterState,r,n).activate(e),i)),tC=class{constructor(t,r,n,i,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),P5(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){let i=od(r);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,r,n){let i=t.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=od(t);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=od(t);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){let i=od(r);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new Z5(o.value.snapshot))}),t.children.length&&this.forwardEvent(new G5(t.value.snapshot))}activateRoutes(t,r,n){let i=t.value,o=r?r.value:null;if(P5(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),P5(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=vp(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},vy=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ad=class{constructor(t,r){this.component=t,this.route=r}};function _se(e,t,r){let n=e._root,i=t?t._root:null;return np(n,i,r,[n.value])}function wse(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function fd(e,t){let r=Symbol(),n=t.get(e,r);return n===r?typeof e=="function"&&!EE(e)?e:t.get(e):n}function np(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=od(t);return e.children.forEach(s=>{Cse(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>sp(a,r.getContext(s),i)),i}function Cse(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Dse(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new vy(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?np(e,t,a?a.children:null,n,i):np(e,t,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ad(a.outlet.component,s))}else s&&sp(t,a,i),i.canActivateChecks.push(new vy(n)),o.component?np(e,null,a?a.children:null,n,i):np(e,null,r,n,i);return i}function Dse(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!nc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!nc(e.url,t.url)||!Bo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!J5(e,t)||!Bo(e.queryParams,t.queryParams);case"paramsChange":default:return!J5(e,t)}}function sp(e,t,r){let n=od(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?t?sp(s,t.children.getContext(o),r):sp(s,null,r):sp(s,t,r)}),i.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new ad(t.outlet.component,i)):r.canDeactivateChecks.push(new ad(null,i)):r.canDeactivateChecks.push(new ad(null,i))}function xp(e){return typeof e=="function"}function Mse(e){return typeof e=="boolean"}function Sse(e){return e&&xp(e.canLoad)}function Ese(e){return e&&xp(e.canActivate)}function Tse(e){return e&&xp(e.canActivateChild)}function kse(e){return e&&xp(e.canDeactivate)}function Ise(e){return e&&xp(e.canMatch)}function dO(e){return e instanceof Ki||e?.name==="EmptyError"}var ay=Symbol("INITIAL_VALUE");function dd(){return vr(e=>oh(e.map(t=>t.pipe(Ji(1),qb(ay)))).pipe(ye(t=>{for(let r of t)if(r!==!0){if(r===ay)return ay;if(r===!1||r instanceof La)return r}return!0}),Tn(t=>t!==ay),Ji(1)))}function Ase(e,t){return Nt(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?Ae(Ee(ne({},r),{guardsResult:!0})):Ose(s,n,i,e).pipe(Nt(a=>a&&Mse(a)?Pse(n,o,e,t):Ae(a)),ye(a=>Ee(ne({},r),{guardsResult:a})))})}function Ose(e,t,r,n){return en(e).pipe(Nt(i=>jse(i.component,i.route,r,t,n)),Io(i=>i!==!0,!0))}function Pse(e,t,r,n){return en(t).pipe(ko(i=>vu(Rse(i.route.parent,n),Nse(i.route,n),Lse(e,i.path,r),Fse(e,i.route,r))),Io(i=>i!==!0,!0))}function Nse(e,t){return e!==null&&t&&t(new Y5(e)),Ae(!0)}function Rse(e,t){return e!==null&&t&&t(new q5(e)),Ae(!0)}function Fse(e,t,r){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Ae(!0);let i=n.map(o=>sh(()=>{let s=vp(t)??r,a=fd(o,s),l=Ese(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e));return Ua(l).pipe(Io())}));return Ae(i).pipe(dd())}function Lse(e,t,r){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wse(s)).filter(s=>s!==null).map(s=>sh(()=>{let a=s.guards.map(l=>{let c=vp(s.node)??r,u=fd(l,c),d=Tse(u)?u.canActivateChild(n,e):c.runInContext(()=>u(n,e));return Ua(d).pipe(Io())});return Ae(a).pipe(dd())}));return Ae(o).pipe(dd())}function jse(e,t,r,n,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Ae(!0);let s=o.map(a=>{let l=vp(t)??i,c=fd(a,l),u=kse(c)?c.canDeactivate(e,t,r,n):l.runInContext(()=>c(e,t,r,n));return Ua(u).pipe(Io())});return Ae(s).pipe(dd())}function Vse(e,t,r,n){let i=t.canLoad;if(i===void 0||i.length===0)return Ae(!0);let o=i.map(s=>{let a=fd(s,e),l=Sse(a)?a.canLoad(t,r):e.runInContext(()=>a(t,r));return Ua(l)});return Ae(o).pipe(dd(),fO(n))}function fO(e){return Tb(Vn(t=>{if(cd(t))throw lO(e,t)}),ye(t=>t===!0))}function Use(e,t,r,n){let i=t.canMatch;if(!i||i.length===0)return Ae(!0);let o=i.map(s=>{let a=fd(s,e),l=Ise(a)?a.canMatch(t,r):e.runInContext(()=>a(t,r));return Ua(l)});return Ae(o).pipe(dd(),fO(n))}var pp=class{constructor(t){this.segmentGroup=t||null}},xy=class extends Error{constructor(t){super(),this.urlTree=t}};function id(e){return ma(new pp(e))}function $se(e){return ma(new le(4e3,!1))}function zse(e){return ma(cO(!1,3))}var nC=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}noMatchError(t){return new le(4002,!1)}lineralizeSegments(t,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return Ae(n);if(i.numberOfChildren>1||!i.children[et])return $se(t.redirectTo);i=i.children[et]}}applyRedirectCommands(t,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new xy(i);return i}applyRedirectCreateUrlTree(t,r,n,i){let o=this.createSegmentGroup(t,r.root,n,i);return new La(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let n={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(t,r,n,i){let o=this.createSegments(t,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,i)}),new Lt(o,s)}createSegments(t,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,r,n){let i=n[r.path.substring(1)];if(!i)throw new le(4001,!1);return i}findOrReturn(t,r){let n=0;for(let i of r){if(i.path===t.path)return r.splice(n),i;n++}return t}},rC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bse(e,t,r,n,i){let o=dC(e,t,r);return o.matched?(n=vse(t,n),Use(n,t,r,i).pipe(ye(s=>s===!0?o:ne({},rC)))):Ae(o)}function dC(e,t,r){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?ne({},rC):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Uoe)(r,e,t);if(!i)return ne({},rC);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?ne(ne({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UA(e,t,r,n){return r.length>0&&qse(e,r,n)?{segmentGroup:new Lt(t,Wse(n,new Lt(r,e.children))),slicedSegments:[]}:r.length===0&&Gse(e,r,n)?{segmentGroup:new Lt(e.segments,Hse(e,t,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Lt(e.segments,e.children),slicedSegments:r}}function Hse(e,t,r,n,i){let o={};for(let s of n)if(Cy(e,r,s)&&!i[Wo(s)]){let a=new Lt([],{});o[Wo(s)]=a}return ne(ne({},i),o)}function Wse(e,t){let r={};r[et]=t;for(let n of e)if(n.path===""&&Wo(n)!==et){let i=new Lt([],{});r[Wo(n)]=i}return r}function qse(e,t,r){return r.some(n=>Cy(e,t,n)&&Wo(n)!==et)}function Gse(e,t,r){return r.some(n=>Cy(e,t,n))}function Cy(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Yse(e,t,r,n){return Wo(e)!==n&&(n===et||!Cy(t,r,e))?!1:e.path==="**"?!0:dC(t,e,r).matched}function Zse(e,t,r){return t.length===0&&!e.children[r]}var iC=class{};function Xse(e,t,r,n,i,o,s="emptyOnly"){return new oC(e,t,r,n,i,s,o).recognize()}var Qse=31,oC=class{constructor(t,r,n,i,o,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new nC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new le(4002,!1)}recognize(){let t=UA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ye(r=>{let n=new fp([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,{},et,this.rootComponentType,null,{}),i=new wi(n,r),o=new yy("",i),s=ose(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,et).pipe(_n(n=>{if(n instanceof xy)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pp?this.noMatchError(n):n}))}inheritParamsAndData(t,r){let n=t.value,i=aC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,i,!0).pipe(ye(o=>o instanceof wi?[o]:[]))}processChildren(t,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return en(i).pipe(ko(o=>{let s=n.children[o],a=xse(r,o);return this.processSegmentGroup(t,a,s,o)}),ah((o,s)=>(o.push(...s),o)),va(null),$b(),Nt(o=>{if(o===null)return id(n);let s=hO(o);return Kse(s),Ae(s)}))}processSegment(t,r,n,i,o,s){return en(r).pipe(ko(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,i,o,s).pipe(_n(l=>{if(l instanceof pp)return Ae(null);throw l}))),Io(a=>!!a),_n(a=>{if(dO(a))return Zse(n,i,o)?Ae(new iC):id(n);throw a}))}processSegmentAgainstRoute(t,r,n,i,o,s,a){return Yse(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,n,o,s):id(i):id(i)}expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=i.path==="**"?$A(o):dC(r,i,o);if(!a)return id(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Qse&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Nt(f=>this.processSegment(t,n,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(t,r,n,i,o){let s;return n.path==="**"?(s=Ae($A(i)),r.children={}):s=Bse(r,n,i,t,this.urlSerializer),s.pipe(vr(a=>a.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(vr(({routes:l})=>{let c=n._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:f}=a,p=new fp(u,f,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,eae(n),Wo(n),n.component??n._loadedComponent??null,n,tae(n)),{segmentGroup:m,slicedSegments:v}=UA(r,u,d,l);if(v.length===0&&m.hasChildren())return this.processChildren(c,l,m).pipe(ye(x=>x===null?null:new wi(p,x)));if(l.length===0&&v.length===0)return Ae(new wi(p,[]));let g=Wo(n)===o;return this.processSegment(c,l,m,v,g?et:o,!0).pipe(ye(x=>new wi(p,x instanceof wi?[x]:[])))}))):id(r)))}getChildConfig(t,r,n){return r.children?Ae({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?Ae({routes:r._loadedRoutes,injector:r._loadedInjector}):Vse(t,r,n,this.urlSerializer).pipe(Nt(i=>i?this.configLoader.loadChildren(t,r).pipe(Vn(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):zse(r))):Ae({routes:[],injector:t})}};function Kse(e){e.sort((t,r)=>t.value.outlet===et?-1:r.value.outlet===et?1:t.value.outlet.localeCompare(r.value.outlet))}function Jse(e){let t=e.value.routeConfig;return t&&t.path===""}function hO(e){let t=[],r=new Set;for(let n of e){if(!Jse(n)){t.push(n);continue}let i=t.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):t.push(n)}for(let n of r){let i=hO(n.children);t.push(new wi(n.value,i))}return t.filter(n=>!r.has(n))}function eae(e){return e.data||{}}function tae(e){return e.resolve||{}}function $A(e){return{matched:!0,parameters:e.length>0?WA(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function nae(e,t,r,n,i,o){return Nt(s=>Xse(e,t,r,n,s.extractedUrl,i,o).pipe(ye(({state:a,tree:l})=>Ee(ne({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function rae(e,t){return Nt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Ae(r);let o=i.map(c=>c.route),s=new Set(o),a=pO(o[0].parent).slice(1),l=0;return en(a).pipe(ko(c=>s.has(c)?iae(c,n,e,t):(c.data=aC(c,c.parent,e).resolve,Ae(void 0))),Vn(()=>l++),bu(1),Nt(c=>l===a.length?Ae(r):yr))})}function pO(e){let t=e.children.map(r=>pO(r)).flat();return[e,...t]}function iae(e,t,r,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!sO(i)&&(o[mp]=i.title),oae(o,e,t,n).pipe(ye(s=>(e._resolvedData=s,e.data=aC(e,e.parent,r).resolve,null)))}function oae(e,t,r,n){let i=F5(e);if(i.length===0)return Ae({});let o={};return en(i).pipe(Nt(s=>sae(e[s],t,r,n).pipe(Io(),Vn(a=>{o[s]=a}))),bu(1),Vb(o),_n(s=>dO(s)?yr:ma(s)))}function sae(e,t,r,n){let i=vp(t)??n,o=fd(e,i),s=o.resolve?o.resolve(t,r):i.runInContext(()=>o(t,r));return Ua(s)}function N5(e){return vr(t=>{let r=e(t);return r?en(r).pipe(ye(()=>t)):Ae(t)})}var mO=(()=>{let t=class t{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===et);return i}getResolvedTitleForRoute(n){return n.data[mp]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>fe(aae))(),providedIn:"root"});let e=t;return e})(),aae=(()=>{let t=class t extends mO{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(ee(I4))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bp=new ae("",{providedIn:"root",factory:()=>({})}),by=new ae("ROUTES"),fC=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=fe(u1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Ua(n.loadComponent()).pipe(ye(gO),Vn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),As(()=>{this.componentLoaders.delete(n)})),o=new du(i,()=>new Et).pipe(uu());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=lae(i,this.compiler,n,this.onLoadEndListener).pipe(As(()=>{this.childrenLoaders.delete(i)})),a=new du(s,()=>new Et).pipe(uu());return this.childrenLoaders.set(i,a),a}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function lae(e,t,r,n){return Ua(e.loadChildren()).pipe(ye(gO),Nt(i=>i instanceof yh||Array.isArray(i)?Ae(i):en(t.compileModuleAsync(i))),ye(i=>{n&&n(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(by,[],{optional:!0,self:!0}).flat()),{routes:s.map(uC),injector:o}}))}function cae(e){return e&&typeof e=="object"&&"default"in e}function gO(e){return cae(e)?e.default:e}var hC=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>fe(uae))(),providedIn:"root"});let e=t;return e})(),uae=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yO=new ae(""),vO=new ae("");function dae(e,t,r){let n=e.get(vO),i=e.get(Bn);return e.get(Ct).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),fae(e))),{onViewTransitionCreated:l}=n;return l&&k9(e,()=>l({transition:a,from:t,to:r})),s})}function fae(e){return new Promise(t=>{qw(t,{injector:e})})}var pC=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Et,this.transitionAbortSubject=new Et,this.configLoader=fe(fC),this.environmentInjector=fe(Or),this.urlSerializer=fe(gp),this.rootContexts=fe(yp),this.location=fe(Ia),this.inputBindingEnabled=fe(wy,{optional:!0})!==null,this.titleStrategy=fe(mO),this.options=fe(bp,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=fe(hC),this.createViewTransition=fe(yO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ae(void 0),this.rootComponentType=null;let n=o=>this.events.next(new H5(o)),i=o=>this.events.next(new W5(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Ee(ne(ne({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new At({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:op,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Tn(s=>s.id!==0),ye(s=>Ee(ne({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),vr(s=>{this.currentTransition=s;let a=!1,l=!1;return Ae(s).pipe(Vn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vr(c=>{let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Va(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),yr}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ae(c).pipe(vr(f=>{let p=this.transitions?.getValue();return this.events.next(new ud(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?yr:Promise.resolve(f)}),nae(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Vn(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Ee(ne({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new hy(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:p,source:m,restoredState:v,extras:g}=c,x=new ud(f,this.urlSerializer.serialize(p),m,v);this.events.next(x);let _=iO(p,this.rootComponentType).snapshot;return this.currentTransition=s=Ee(ne({},c),{targetSnapshot:_,urlAfterRedirects:p,extras:Ee(ne({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,Ae(s)}else{let f="";return this.events.next(new Va(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),yr}}),Vn(c=>{let u=new U5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ye(c=>(this.currentTransition=s=Ee(ne({},c),{guards:_se(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),Ase(this.environmentInjector,c=>this.events.next(c)),Vn(c=>{if(s.guardsResult=c.guardsResult,cd(c.guardsResult))throw lO(this.urlSerializer,c.guardsResult);let u=new $5(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Tn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),N5(c=>{if(c.guards.canActivateChecks.length)return Ae(c).pipe(Vn(u=>{let d=new z5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),vr(u=>{let d=!1;return Ae(u).pipe(rae(this.paramsInheritanceStrategy,this.environmentInjector),Vn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Vn(u=>{let d=new B5(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),N5(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Vn(p=>{d.component=p}),ye(()=>{})));for(let p of d.children)f.push(...u(p));return f};return oh(u(c.targetSnapshot.root)).pipe(va(),Ji(1))}),N5(()=>this.afterPreactivation()),vr(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?en(d).pipe(ye(()=>s)):Ae(s)}),ye(c=>{let u=hse(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Ee(ne({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Vn(()=>{this.events.next(new up)}),bse(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ji(1),Vn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ho(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),lh(this.transitionAbortSubject.pipe(Vn(c=>{throw c}))),As(()=>{if(!a&&!l){let c="";this.cancelNavigationTransition(s,c,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),_n(c=>{if(l=!0,uO(c))this.events.next(new ja(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),gse(c)?this.events.next(new dp(c.url)):s.resolve(!1);else{this.events.next(new cp(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return yr}))}))}cancelNavigationTransition(n,i,o){let s=new ja(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function hae(e){return e!==op}var pae=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>fe(mae))(),providedIn:"root"});let e=t;return e})(),sC=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},mae=(()=>{let t=class t extends sC{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xO=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:()=>(()=>fe(gae))(),providedIn:"root"});let e=t;return e})(),gae=(()=>{let t=class t extends xO{constructor(){super(...arguments),this.location=fe(Ia),this.urlSerializer=fe(gp),this.options=fe(bp,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=fe(hC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new La,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iO(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof ud)this.stateMemento=this.createStateMemento();else if(n instanceof Va)this.rawUrlTree=i.initialUrl;else if(n instanceof hy){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof up?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof ja&&(n.code===3||n.code===2)?this.restoreHistory(i):n instanceof cp?this.restoreHistory(i,!0):n instanceof Ho&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=ne(ne({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=ne(ne({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ao(t)))(o||t)}})(),t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),rp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(rp||{});function bO(e,t){e.events.pipe(Tn(r=>r instanceof Ho||r instanceof ja||r instanceof cp||r instanceof Va),ye(r=>r instanceof Ho||r instanceof Va?rp.COMPLETE:(r instanceof ja?r.code===0||r.code===1:!1)?rp.REDIRECTING:rp.FAILED),Tn(r=>r!==rp.REDIRECTING),Ji(1)).subscribe(()=>{t()})}function yae(e){throw e}var vae={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xae={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=fe(l1),this.stateManager=fe(xO),this.options=fe(bp,{optional:!0})||{},this.pendingTasks=fe(Gu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=fe(pC),this.urlSerializer=fe(gp),this.location=fe(Ia),this.urlHandlingStrategy=fe(hC),this._events=new Et,this.errorHandler=this.options.errorHandler||yae,this.navigated=!1,this.routeReuseStrategy=fe(pae),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=fe(by,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!fe(wy,{optional:!0}),this.eventsSubscription=new Nn,this.isNgZoneEnabled=fe(Ct)instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ja&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Ho)this.navigated=!0;else if(i instanceof dp){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||hae(o.source)};this.scheduleNavigation(a,op,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}_ae(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),op,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)}))}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=ne({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uC),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=ne(ne({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=o?o.snapshot:this.routerState.snapshot.root;f=eO(p)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return tO(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=cd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,op,null,i)}navigate(n,i={skipLocationChange:!1}){return bae(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=ne({},vae):i===!1?o=ne({},xae):o=i,cd(n))return RA(this.currentUrlTree,n,o);let s=this.parseUrl(n);return RA(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{let s=n[o];return s!=null&&(i[o]=s),i},{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,p)=>{l=f,c=p});let d=this.pendingTasks.add();return bO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function bae(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new le(4008,!1)}function _ae(e){return!(e instanceof up)&&!(e instanceof dp)}var xt=(()=>{let t=class t{constructor(n,i,o,s,a,l){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Et,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Ho&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(n!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let n=this.href===null?null:X9(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,n,i):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(i){return new(i||t)(Z(Fn),Z(kn),xw("tabindex"),Z(Xr),Z(ze),Z(Fs))},t.\u0275dir=Xt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&ie("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&i1("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Zl],skipLocationChange:["skipLocationChange","skipLocationChange",Zl],replaceUrl:["replaceUrl","replaceUrl",Zl],routerLink:"routerLink"},standalone:!0,features:[Yw,Cn]});let e=t;return e})();var _y=class{};var wae=(()=>{let t=class t{constructor(n,i,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Tn(n=>n instanceof Ho),ko(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=s1(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return en(o).pipe(ya())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(n,i):o=Ae(null);let s=o.pipe(Nt(a=>a===null?Ae(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return en([s,a]).pipe(ya())}else return s})}};t.\u0275fac=function(i){return new(i||t)(ee(Fn),ee(u1),ee(Or),ee(_y),ee(fC))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),_O=new ae(""),Cae=(()=>{let t=class t{constructor(n,i,o,s,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ud?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ho?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Va&&n.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof py&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new py(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(i){nT()},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();function Dae(e){return e.routerState.root}function _p(e,t){return{\u0275kind:e,\u0275providers:t}}function Mae(){let e=fe(Zr);return t=>{let r=e.get(Ns);if(t!==r.components[0])return;let n=e.get(Fn),i=e.get(wO);e.get(mC)===1&&n.initialNavigation(),e.get(CO,null,it.Optional)?.setUpPreloading(),e.get(_O,null,it.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wO=new ae("",{factory:()=>new Et}),mC=new ae("",{providedIn:"root",factory:()=>1});function Sae(){return _p(2,[{provide:mC,useValue:0},{provide:a1,multi:!0,deps:[Zr],useFactory:t=>{let r=t.get(ck,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=t.get(Fn),o=t.get(wO);bO(i,()=>{n(!0)}),t.get(pC).afterPreactivation=()=>(n(!0),o.closed?Ae(void 0):o),i.initialNavigation()}))}}])}function Eae(){return _p(3,[{provide:a1,multi:!0,useFactory:()=>{let t=fe(Fn);return()=>{t.setUpLocationChangeListener()}}},{provide:mC,useValue:2}])}var CO=new ae("");function Tae(e){return _p(0,[{provide:CO,useExisting:wae},{provide:_y,useExisting:e}])}function kae(){return _p(8,[VA,{provide:wy,useExisting:VA}])}function Iae(e){let t=[{provide:yO,useValue:dae},{provide:vO,useValue:ne({skipNextTransition:!!e?.skipInitialTransition},e)}];return _p(9,t)}var zA=new ae("ROUTER_FORROOT_GUARD"),Aae=[Ia,{provide:gp,useClass:ap},Fn,yp,{provide:kn,useFactory:Dae,deps:[Fn]},fC,[]],gC=(()=>{let t=class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[Aae,[],{provide:by,multi:!0,useValue:n},{provide:zA,useFactory:Rae,deps:[[Fn,new _h,new Y0]]},{provide:bp,useValue:i||{}},i?.useHash?Pae():Nae(),Oae(),i?.preloadingStrategy?Tae(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Fae(i):[],i?.bindToComponentInputs?kae().\u0275providers:[],i?.enableViewTransitions?Iae().\u0275providers:[],Lae()]}}static forChild(n){return{ngModule:t,providers:[{provide:by,multi:!0,useValue:n}]}}};t.\u0275fac=function(i){return new(i||t)(ee(zA,8))},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({});let e=t;return e})();function Oae(){return{provide:_O,useFactory:()=>{let e=fe(yk),t=fe(Ct),r=fe(bp),n=fe(pC),i=fe(gp);return r.scrollOffset&&e.setOffset(r.scrollOffset),new Cae(i,n,e,t,r)}}}function Pae(){return{provide:Fs,useClass:dk}}function Nae(){return{provide:Fs,useClass:m4}}function Rae(e){return"guarded"}function Fae(e){return[e.initialNavigation==="disabled"?Eae().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Sae().\u0275providers:[]]}var BA=new ae("");function Lae(){return[{provide:BA,useFactory:Mae},{provide:h1,multi:!0,useExisting:BA}]}var yC={darkMode:"dark_mode_enabled"};var DO={tokenName:"access_token",refreshTokenName:"refresh_token",type:"local",apiEndpoint:"//localhost:50000",isReportScheduleEditingEnabled:!1,IsReportingSsrsUsed:!0};var MO=new Ls({Accept:"application/json","Content-Type":"application/json"});var hd=(()=>{let t=class t{constructor(n){this.http=n}debug(n){console.debug(n)}info(n){console.info(n)}warn(n){console.warn(n)}handleError(n){console.error(n);try{if(n.message.indexOf("The operation attempted to access data outside the valid range")>-1)return}catch{}let i=this.formatException(n),o={headers:MO},s=DO.apiEndpoint+"/Logger/LogError";this.http.post(s,i,o).subscribe()}formatException(n){try{return n.status==401?JSON.stringify({Message:n.text(),Detail:"Endpoint: "+n.url}):n.status==500?JSON.stringify({Message:n.message,Detail:n.innerException.message+`
Endpoint: `+n.url}):JSON.stringify({Message:n.message,Detail:n.stack})}catch{return JSON.stringify({Message:n.message,Detail:n.stack})}}};t.\u0275fac=function(i){return new(i||t)(ee(zt))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var SO=(()=>{let t=class t{constructor(n){this.logger=n,this.isDarkModeEnabled=new At(!1),this.isDarkModeEnabled$=this.isDarkModeEnabled.asObservable();let i=this.getDarkModeStorageItem();this.isDarkModeEnabled.next(i)}toggleDarkMode(){this.isDarkModeEnabled.next(!this.isDarkModeEnabled.value),this.setDarkModeStorageItem(this.isDarkModeEnabled.value)}setDarkModeStorageItem(n){localStorage.setItem(yC.darkMode,n?"true":"false")}getDarkModeStorageItem(){return localStorage.getItem(yC.darkMode)=="true"}};t.\u0275fac=function(i){return new(i||t)(ee(hd))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Vae=e=>({filter:e}),EO=(()=>{let t=class t{constructor(n,i){this.route=n,this.themeService=i,this.pathname="/",this.isDarkMode=!1,this.pathname=location.pathname}ngOnInit(){this.themeService.isDarkModeEnabled$.subscribe(n=>{this.isDarkMode=n})}toggleDarkMode(){this.themeService.toggleDarkMode()}on(){document.getElementById("overlay").style.display="block"}off(){document.getElementById("overlay").style.display="none"}notHomeRoute(){return this.pathname==="/"}};t.\u0275fac=function(i){return new(i||t)(Z(kn),Z(SO))},t.\u0275cmp=he({type:t,selectors:[["app-root"]],decls:7,vars:6,consts:[[1,"dark-mode-toggle",3,"click"],[1,"toggle-icon",3,"ngStyle"],["viewBox","0 0 24 24","width","24","height","24"],["d","M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"]],template:function(i,o){i&1&&(R(0,"div")(1,"button",0),ie("click",function(){return o.toggleDarkMode()}),R(2,"span",1),Ut(),R(3,"svg",2),re(4,"path",3),N()(),H(5),N(),zn(),re(6,"router-outlet"),N()),i&2&&(ar("dark-mode",o.isDarkMode),q(2),Y("ngStyle",Nr(4,Vae,o.isDarkMode?"invert(1) hue-rotate(180deg)":"none")),q(3),ft(" ",o.isDarkMode?"Light Mode":"Dark Mode"," "))},dependencies:[hk,cC],styles:["#overlay[_ngcontent-%COMP%]{position:fixed;display:none;width:100%;height:100%;inset:0;background-color:#00000080;z-index:2;cursor:pointer}#text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:50px;color:#fff;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}body.dark-mode[_ngcontent-%COMP%]{background:#181818!important;color:#f1f1f1!important}body.dark-mode[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   #overlay[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .single-card[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#232323!important;color:#f1f1f1!important}body.dark-mode[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#333!important;color:#f1f1f1!important}body.dark-mode[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background:#232323!important}body.light[_ngcontent-%COMP%]   .dark-mode[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] > nav-tree[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:hover) > a.active[_ngcontent-%COMP%]{color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]{background-color:#1e1e1e}.dark-mode[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem}.dark-mode[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] > nav-tree[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   #cliffy[_ngcontent-%COMP%]:not(.active)   .welcome-tag[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   #cliffy[_ngcontent-%COMP%]:not(.active)   .chevron-icon[_ngcontent-%COMP%]:after{color:#fff}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{background-color:#58585a!important;box-shadow:0 50vh 0 50vh #58585a!important}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .legal-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]{color:#fff!important}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .social-container[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{filter:invert(1)}.dark-mode[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .checked-listbox[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]:disabled{color:#fff}.dark-mode[_ngcontent-%COMP%]   .panel-container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.dark-mode[_ngcontent-%COMP%]   .panel-select[_ngcontent-%COMP%]{border:transparent}.dark-mode[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .panel-select[_ngcontent-%COMP%]:after, .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-red[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-green[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-yellow[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-grey[_ngcontent-%COMP%]{color:#000}.dark-mode[_ngcontent-%COMP%]   dropdown.custom[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-display[_ngcontent-%COMP%]:before{background-color:#fff}.dark-mode[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{background-color:#fff}.dark-mode[_ngcontent-%COMP%]   .circular-background[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#1f1f38!important}.dark-mode[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]:before, .dark-mode[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]:after, .dark-mode[_ngcontent-%COMP%]   .material-icons.decrease[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .material-icons.toggle[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .material-icons.increase[_ngcontent-%COMP%]{color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .pencil-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .pencil-icon[_ngcontent-%COMP%]:before{background-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .picture-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .picture-icon[_ngcontent-%COMP%]:before, .dark-mode[_ngcontent-%COMP%]   .picture-icon[_ngcontent-%COMP%]:after{border-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .pencil-icon[_ngcontent-%COMP%]:after{border-left-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   analytics-visualization[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   #chord-filter-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .event-count[_ngcontent-%COMP%]{background-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .time-series-icon-label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .master-detail-toggle[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .value.active[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   concierge-associated-selector[_ngcontent-%COMP%]   .click-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   report-modify-cell[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .container-reset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .table-control-label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-behavior-dashboard[_ngcontent-%COMP%]   actionable-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .timeline-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b3e5fc!important}.dark-mode[_ngcontent-%COMP%]   tabbed-panel-header[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .name-container[_ngcontent-%COMP%]{background-color:#2f2f2f}.dark-mode[_ngcontent-%COMP%]   threat-life-cycle[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{border-color:#2f2f2f}.dark-mode[_ngcontent-%COMP%]   threat-life-cycle[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]:before{border-color:#2f2f2f}.dark-mode[_ngcontent-%COMP%]   time-series-bar-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   sparkline-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   donut-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   polar-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#fff!important}.dark-mode[_ngcontent-%COMP%]   donut-chart[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:transparent}.dark-mode[_ngcontent-%COMP%]   metrics-dashboard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#3f3e3e}.dark-mode[_ngcontent-%COMP%]   alaaap-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#3f3e3e}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .basic-filter[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .container-filter-configuration[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .container-filter-configuration[_ngcontent-%COMP%]   .suggest-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:3.4rem}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .configured-filter[_ngcontent-%COMP%]{color:#000}.dark-mode[_ngcontent-%COMP%]   .stored-concierge[_ngcontent-%COMP%]   .modal-bulk-editor[_ngcontent-%COMP%]   .modal-body-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .stored-concierge[_ngcontent-%COMP%]   .modal-breadcrumb-editor[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   add-edit-custom-alert[_ngcontent-%COMP%]   .modal-bulk-editor[_ngcontent-%COMP%]   .modal-body-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   report-wizard[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   report-template[_ngcontent-%COMP%]   .report-type[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   resources[_ngcontent-%COMP%]   .report-type[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   stored-behavior-dashboard[_ngcontent-%COMP%]   .detail-container[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   stored-behavior-dashboard[_ngcontent-%COMP%]   .sub-panel-header[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   concierge-associated-selector[_ngcontent-%COMP%]   .container-associated-resources[_ngcontent-%COMP%]{color:#000}.dark-mode[_ngcontent-%COMP%]   filter-search[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]{background-color:#fff}.dark-mode[_ngcontent-%COMP%]   sparkline-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:invert(1)}.dark-mode[_ngcontent-%COMP%]   sparkline-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#000!important}.dark-mode[_ngcontent-%COMP%]   add-edit-custom-alert[_ngcontent-%COMP%]   .container-filter-configuration[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   side-list-panel[_ngcontent-%COMP%]   .unselected[_ngcontent-%COMP%]   .main-panel-container[_ngcontent-%COMP%]   [main-panel][_ngcontent-%COMP%]:before{background-color:#000!important;opacity:.9!important}.dark-mode[_ngcontent-%COMP%]   audit-dashboard[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#000}.dark-mode-toggle[_ngcontent-%COMP%]{position:fixed;top:16px;right:16px;z-index:1000;background:linear-gradient(90deg,#232526 0%,#414345 100%);color:#fff;border:none;border-radius:2rem;padding:.5rem 1.5rem;font-size:1.1rem;font-weight:600;box-shadow:0 2px 8px #00000026;cursor:pointer;display:flex;align-items:center;gap:.7rem;transition:background .3s,color .3s}.dark-mode-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:1.3rem;transition:color .3s}.dark-mode[_ngcontent-%COMP%]   .dark-mode-toggle[_ngcontent-%COMP%]{background:linear-gradient(90deg,#232526 0%,#0f2027 100%);color:#ffe082}"]});let e=t;return e})();var Dy=class{constructor(){this.showLegend=!0,this.dynamicColors=!1}},My=class{constructor(){this.isCustom=!1,this.customLabel="",this.focusedDateRange=!1}};var Oe=function(e){return e.LastHour="Last Hour",e.LastTwoHours="Last 2 Hours",e.LastFourHours="Last 4 Hours",e.LastSixHours="Last 6 Hours",e.LastEightHours="Last 8 Hours",e.LastTwelveHours="Last 12 Hours",e.LastTwentyFourHours="Last 24 Hours",e.LastSevenDays="Last 7 Days",e.LastThirtyDays="Last 30 Days",e.Custom="Custom",e.LastSixtyDays="Last 60 Days",e.LastNinetyDays="Last 90 Days",e.LastOneHundredTwentyDays="Last 120 Days",e}(Oe||{});var nt={};iu(nt,{Adder:()=>jt,Delaunay:()=>X2,FormatSpecifier:()=>Kp,InternMap:()=>rc,InternSet:()=>Cp,Voronoi:()=>Bd,active:()=>KR,arc:()=>On,area:()=>fs,areaRadial:()=>nM,ascending:()=>Qe,autoType:()=>Zs,axisBottom:()=>fn,axisLeft:()=>Bt,axisRight:()=>e2,axisTop:()=>Yo,bin:()=>Oy,bisect:()=>Rr,bisectCenter:()=>wC,bisectLeft:()=>_C,bisectRight:()=>Ey,bisector:()=>$a,blob:()=>jF,brush:()=>z2,brushSelection:()=>oF,brushX:()=>sF,brushY:()=>R6,buffer:()=>VF,chord:()=>lF,chordDirected:()=>uF,chordTranspose:()=>cF,cluster:()=>Hj,color:()=>Fr,contourDensity:()=>_F,contours:()=>W2,count:()=>qo,create:()=>dN,creator:()=>qa,cross:()=>Ty,csv:()=>al,csvFormat:()=>EF,csvFormatBody:()=>TF,csvFormatRow:()=>IF,csvFormatRows:()=>kF,csvFormatValue:()=>AF,csvParse:()=>sl,csvParseRows:()=>SF,cubehelix:()=>_r,cumsum:()=>ky,curveBasis:()=>U$,curveBasisClosed:()=>z$,curveBasisOpen:()=>H$,curveBumpX:()=>W$,curveBumpY:()=>q$,curveBundle:()=>Y$,curveCardinal:()=>Z$,curveCardinalClosed:()=>X$,curveCardinalOpen:()=>Q$,curveCatmullRom:()=>J$,curveCatmullRomClosed:()=>tz,curveCatmullRomOpen:()=>rz,curveLinear:()=>ui,curveLinearClosed:()=>oz,curveMonotoneX:()=>tx,curveMonotoneY:()=>dz,curveNatural:()=>pz,curveStep:()=>mz,curveStepAfter:()=>yz,curveStepBefore:()=>gz,descending:()=>Vs,deviation:()=>md,difference:()=>qy,disjoint:()=>Gy,dispatch:()=>Ci,drag:()=>sc,dragDisable:()=>Za,dragEnable:()=>Xa,dsv:()=>X6,dsvFormat:()=>ol,easeBack:()=>E6,easeBackIn:()=>GR,easeBackInOut:()=>E6,easeBackOut:()=>YR,easeBounce:()=>rl,easeBounceIn:()=>WR,easeBounceInOut:()=>qR,easeBounceOut:()=>rl,easeCircle:()=>D6,easeCircleIn:()=>BR,easeCircleInOut:()=>D6,easeCircleOut:()=>HR,easeCubic:()=>qs,easeCubicIn:()=>PR,easeCubicInOut:()=>qs,easeCubicOut:()=>NR,easeElastic:()=>I6,easeElasticIn:()=>ZR,easeElasticInOut:()=>XR,easeElasticOut:()=>I6,easeExp:()=>C6,easeExpIn:()=>$R,easeExpInOut:()=>C6,easeExpOut:()=>zR,easeLinear:()=>Ri,easePoly:()=>pc,easePolyIn:()=>RR,easePolyInOut:()=>pc,easePolyOut:()=>FR,easeQuad:()=>b6,easeQuadIn:()=>AR,easeQuadInOut:()=>b6,easeQuadOut:()=>OR,easeSin:()=>w6,easeSinIn:()=>VR,easeSinInOut:()=>w6,easeSinOut:()=>UR,every:()=>Uy,extent:()=>yn,fcumsum:()=>TC,filter:()=>zy,forceCenter:()=>GF,forceCollide:()=>fL,forceLink:()=>pL,forceManyBody:()=>xL,forceRadial:()=>bL,forceSimulation:()=>vL,forceX:()=>_L,forceY:()=>wL,format:()=>Ze,formatDefaultLocale:()=>ev,formatLocale:()=>K2,formatPrefix:()=>Cc,formatSpecifier:()=>Xs,fsum:()=>EC,geoAlbers:()=>Lv,geoAlbersUsa:()=>Oj,geoArea:()=>FL,geoAzimuthalEqualArea:()=>Pj,geoAzimuthalEqualAreaRaw:()=>Vv,geoAzimuthalEquidistant:()=>Nj,geoAzimuthalEquidistantRaw:()=>Uv,geoBounds:()=>HL,geoCentroid:()=>XL,geoCircle:()=>tj,geoClipAntimeridian:()=>lm,geoClipCircle:()=>Dv,geoClipExtent:()=>ij,geoClipRectangle:()=>ta,geoConicConformal:()=>Fj,geoConicConformalRaw:()=>LD,geoConicEqualArea:()=>Ac,geoConicEqualAreaRaw:()=>RD,geoConicEquidistant:()=>jj,geoConicEquidistantRaw:()=>jD,geoContains:()=>dj,geoDistance:()=>Xd,geoEqualEarth:()=>Vj,geoEqualEarthRaw:()=>Bv,geoEquirectangular:()=>Lj,geoEquirectangularRaw:()=>Pc,geoGnomonic:()=>Uj,geoGnomonicRaw:()=>Hv,geoGraticule:()=>um,geoGraticule10:()=>pj,geoIdentity:()=>$j,geoInterpolate:()=>mj,geoLength:()=>Tv,geoMercator:()=>Rj,geoMercatorRaw:()=>Oc,geoNaturalEarth1:()=>qv,geoNaturalEarth1Raw:()=>Wv,geoOrthographic:()=>VD,geoOrthographicRaw:()=>Gv,geoPath:()=>gm,geoProjection:()=>An,geoProjectionMutator:()=>ym,geoRotation:()=>vv,geoStereographic:()=>zj,geoStereographicRaw:()=>Yv,geoStream:()=>er,geoTransform:()=>Tj,geoTransverseMercator:()=>Bj,geoTransverseMercatorRaw:()=>Zv,gray:()=>EN,greatest:()=>Fy,greatestIndex:()=>Ly,group:()=>Dn,groupSort:()=>Iy,groups:()=>OC,hcl:()=>Ad,hierarchy:()=>Mr,histogram:()=>Oy,hsl:()=>kd,html:()=>WF,image:()=>zF,index:()=>Dp,indexes:()=>NC,interpolate:()=>Ht,interpolateArray:()=>VN,interpolateBasis:()=>h2,interpolateBasisClosed:()=>p2,interpolateBlues:()=>F3,interpolateBrBG:()=>XU,interpolateBuGn:()=>n$,interpolateBuPu:()=>r$,interpolateCividis:()=>y$,interpolateCool:()=>b$,interpolateCubehelix:()=>eR,interpolateCubehelixDefault:()=>v$,interpolateCubehelixLong:()=>uc,interpolateDate:()=>y2,interpolateDiscrete:()=>UN,interpolateGnBu:()=>i$,interpolateGreens:()=>h$,interpolateGreys:()=>p$,interpolateHcl:()=>QN,interpolateHclLong:()=>KN,interpolateHsl:()=>YN,interpolateHslLong:()=>ZN,interpolateHue:()=>$N,interpolateInferno:()=>M$,interpolateLab:()=>v6,interpolateMagma:()=>D$,interpolateNumber:()=>Ln,interpolateNumberArray:()=>Pd,interpolateObject:()=>v2,interpolateOrRd:()=>o$,interpolateOranges:()=>g$,interpolatePRGn:()=>QU,interpolatePiYG:()=>KU,interpolatePlasma:()=>S$,interpolatePuBu:()=>a$,interpolatePuBuGn:()=>s$,interpolatePuOr:()=>JU,interpolatePuRd:()=>l$,interpolatePurples:()=>m$,interpolateRainbow:()=>_$,interpolateRdBu:()=>N3,interpolateRdGy:()=>e$,interpolateRdPu:()=>c$,interpolateRdYlBu:()=>t$,interpolateRdYlGn:()=>Vm,interpolateReds:()=>L3,interpolateRgb:()=>el,interpolateRgbBasis:()=>m2,interpolateRgbBasisClosed:()=>jN,interpolateRound:()=>tl,interpolateSinebow:()=>w$,interpolateSpectral:()=>yf,interpolateString:()=>Nd,interpolateTransformCss:()=>_2,interpolateTransformSvg:()=>w2,interpolateTurbo:()=>C$,interpolateViridis:()=>zi,interpolateWarm:()=>x$,interpolateYlGn:()=>d$,interpolateYlGnBu:()=>u$,interpolateYlOrBr:()=>f$,interpolateYlOrRd:()=>R3,interpolateZoom:()=>C2,interrupt:()=>yo,intersection:()=>Yy,interval:()=>Hp,isoFormat:()=>_3,isoParse:()=>w3,json:()=>BF,lab:()=>lc,lch:()=>kN,least:()=>Ry,leastIndex:()=>_d,line:()=>zr,lineRadial:()=>tM,linkHorizontal:()=>zm,linkRadial:()=>R$,linkVertical:()=>N$,local:()=>o2,map:()=>By,matcher:()=>Sd,max:()=>ct,maxIndex:()=>vd,mean:()=>xd,median:()=>YC,merge:()=>Ba,min:()=>cr,minIndex:()=>bd,namespace:()=>Zo,namespaces:()=>Ap,nice:()=>yd,now:()=>Hs,pack:()=>Jv,packEnclose:()=>Qv,packSiblings:()=>dV,pairs:()=>Hn,partition:()=>mV,path:()=>si,permute:()=>Mp,pie:()=>hs,piecewise:()=>Vp,pointRadial:()=>Er,pointer:()=>Kn,pointers:()=>fN,polygonArea:()=>YD,polygonCentroid:()=>Dm,polygonContains:()=>XD,polygonHull:()=>ZD,polygonLength:()=>QD,precisionFixed:()=>tv,precisionPrefix:()=>nv,precisionRound:()=>rv,quadtree:()=>ll,quantile:()=>mo,quantileSorted:()=>Tp,quantize:()=>D2,quickselect:()=>oc,radialArea:()=>nM,radialLine:()=>tM,randomBates:()=>PV,randomBernoulli:()=>FV,randomBeta:()=>s3,randomBinomial:()=>a3,randomCauchy:()=>jV,randomExponential:()=>NV,randomGamma:()=>af,randomGeometric:()=>o3,randomInt:()=>AV,randomIrwinHall:()=>i3,randomLcg:()=>JD,randomLogNormal:()=>OV,randomLogistic:()=>VV,randomNormal:()=>sf,randomPareto:()=>RV,randomPoisson:()=>UV,randomUniform:()=>IV,randomWeibull:()=>LV,range:()=>Vt,reduce:()=>Hy,reverse:()=>Wy,rgb:()=>Bs,ribbon:()=>mF,ribbonArrow:()=>gF,rollup:()=>oi,rollups:()=>PC,scaleBand:()=>cn,scaleDiverging:()=>k3,scaleDivergingLog:()=>S8,scaleDivergingPow:()=>I3,scaleDivergingSqrt:()=>qU,scaleDivergingSymlog:()=>E8,scaleIdentity:()=>c3,scaleImplicit:()=>l3,scaleLinear:()=>Ye,scaleLog:()=>u3,scaleOrdinal:()=>_t,scalePoint:()=>e8,scalePow:()=>Im,scaleQuantile:()=>f3,scaleQuantize:()=>h3,scaleRadial:()=>lf,scaleSequential:()=>ci,scaleSequentialLog:()=>D8,scaleSequentialPow:()=>S3,scaleSequentialQuantile:()=>E3,scaleSequentialSqrt:()=>WU,scaleSequentialSymlog:()=>M8,scaleSqrt:()=>yl,scaleSymlog:()=>d3,scaleThreshold:()=>p3,scaleTime:()=>aa,scaleUtc:()=>D3,scan:()=>jy,schemeAccent:()=>A3,schemeBlues:()=>G8,schemeBrBG:()=>T8,schemeBuGn:()=>R8,schemeBuPu:()=>F8,schemeCategory10:()=>fr,schemeDark2:()=>O3,schemeGnBu:()=>L8,schemeGreens:()=>Y8,schemeGreys:()=>Z8,schemeOrRd:()=>j8,schemeOranges:()=>K8,schemePRGn:()=>k8,schemePaired:()=>gf,schemePastel1:()=>GU,schemePastel2:()=>YU,schemePiYG:()=>I8,schemePuBu:()=>U8,schemePuBuGn:()=>V8,schemePuOr:()=>A8,schemePuRd:()=>$8,schemePurples:()=>X8,schemeRdBu:()=>jm,schemeRdGy:()=>O8,schemeRdPu:()=>z8,schemeRdYlBu:()=>P8,schemeRdYlGn:()=>N8,schemeReds:()=>Q8,schemeSet1:()=>P3,schemeSet2:()=>Lm,schemeSet3:()=>ZU,schemeSpectral:()=>Um,schemeTableau10:()=>Bc,schemeYlGn:()=>H8,schemeYlGnBu:()=>B8,schemeYlOrBr:()=>W8,schemeYlOrRd:()=>q8,select:()=>Q,selectAll:()=>Mn,selection:()=>Xo,selector:()=>Ga,selectorAll:()=>Md,shuffle:()=>QC,shuffler:()=>Vy,some:()=>$y,sort:()=>Us,stack:()=>ps,stackOffsetDiverging:()=>xz,stackOffsetExpand:()=>vz,stackOffsetNone:()=>Mo,stackOffsetSilhouette:()=>bz,stackOffsetWiggle:()=>_z,stackOrderAppearance:()=>rx,stackOrderAscending:()=>ix,stackOrderDescending:()=>wz,stackOrderInsideOut:()=>Cz,stackOrderNone:()=>So,stackOrderReverse:()=>Dz,stratify:()=>yV,style:()=>$s,subset:()=>Zy,sum:()=>Ha,superset:()=>wd,svg:()=>qF,symbol:()=>V$,symbolCircle:()=>Bm,symbolCross:()=>H3,symbolDiamond:()=>W3,symbolSquare:()=>G3,symbolStar:()=>q3,symbolTriangle:()=>Y3,symbolWye:()=>Z3,symbols:()=>j$,text:()=>_c,thresholdFreedmanDiaconis:()=>WC,thresholdScott:()=>qC,thresholdSturges:()=>ic,tickFormat:()=>Mm,tickIncrement:()=>Go,tickStep:()=>Ni,ticks:()=>br,timeDay:()=>ra,timeDays:()=>rU,timeFormat:()=>zc,timeFormatDefaultLocale:()=>b3,timeFormatLocale:()=>Rm,timeFriday:()=>u8,timeFridays:()=>cU,timeHour:()=>uf,timeHours:()=>tU,timeInterval:()=>pt,timeMillisecond:()=>Am,timeMilliseconds:()=>o8,timeMinute:()=>cf,timeMinutes:()=>JV,timeMonday:()=>Vc,timeMondays:()=>oU,timeMonth:()=>df,timeMonths:()=>fU,timeParse:()=>w8,timeSaturday:()=>d8,timeSaturdays:()=>uU,timeSecond:()=>Vi,timeSeconds:()=>s8,timeSunday:()=>us,timeSundays:()=>f8,timeThursday:()=>ia,timeThursdays:()=>lU,timeTickInterval:()=>x3,timeTicks:()=>v3,timeTuesday:()=>l8,timeTuesdays:()=>sU,timeWednesday:()=>c8,timeWednesdays:()=>aU,timeWeek:()=>us,timeWeeks:()=>f8,timeYear:()=>Ui,timeYears:()=>hU,timeout:()=>Fd,timer:()=>Ws,timerFlush:()=>T2,transition:()=>F2,transpose:()=>kp,tree:()=>Cm,treemap:()=>vV,treemapBinary:()=>xV,treemapDice:()=>as,treemapResquarify:()=>_V,treemapSlice:()=>ml,treemapSliceDice:()=>bV,treemapSquarify:()=>n3,tsv:()=>$F,tsvFormat:()=>PF,tsvFormatBody:()=>NF,tsvFormatRow:()=>FF,tsvFormatRows:()=>RF,tsvFormatValue:()=>LF,tsvParse:()=>Q2,tsvParseRows:()=>OF,union:()=>Cd,utcDay:()=>oa,utcDays:()=>xU,utcFormat:()=>Sr,utcFriday:()=>g8,utcFridays:()=>DU,utcHour:()=>hf,utcHours:()=>yU,utcMillisecond:()=>Am,utcMilliseconds:()=>o8,utcMinute:()=>ff,utcMinutes:()=>mU,utcMonday:()=>$c,utcMondays:()=>bU,utcMonth:()=>pf,utcMonths:()=>EU,utcParse:()=>Fm,utcSaturday:()=>y8,utcSaturdays:()=>MU,utcSecond:()=>Vi,utcSeconds:()=>s8,utcSunday:()=>ds,utcSundays:()=>v8,utcThursday:()=>sa,utcThursdays:()=>CU,utcTickInterval:()=>y3,utcTicks:()=>g3,utcTuesday:()=>p8,utcTuesdays:()=>_U,utcWednesday:()=>m8,utcWednesdays:()=>wU,utcWeek:()=>ds,utcWeeks:()=>v8,utcYear:()=>$i,utcYears:()=>TU,variance:()=>pd,version:()=>TO,window:()=>Ed,xml:()=>HF,zip:()=>JC,zoom:()=>di,zoomIdentity:()=>Df,zoomTransform:()=>ox});var TO="6.7.0";on();var Xy=Array.prototype.slice;function vP(e){return e}var Qy=1,Ky=2,n6=3,Ip=4,xP=1e-6;function Yae(e){return"translate("+e+",0)"}function Zae(e){return"translate(0,"+e+")"}function Xae(e){return t=>+e(t)}function Qae(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function Kae(){return!this.__axis}function Jy(e,t){var r=[],n=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===Qy||e===Ip?-1:1,u=e===Ip||e===Ky?"x":"y",d=e===Qy||e===n6?Yae:Zae;function f(p){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),v=i??(t.tickFormat?t.tickFormat.apply(t,r):vP),g=Math.max(o,0)+a,x=t.range(),_=+x[0]+l,w=+x[x.length-1]+l,b=(t.bandwidth?Qae:Xae)(t.copy(),l),k=p.selection?p.selection():p,E=k.selectAll(".domain").data([null]),V=k.selectAll(".tick").data(m,t).order(),z=V.exit(),B=V.enter().append("g").attr("class","tick"),$=V.select("line"),D=V.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),V=V.merge(B),$=$.merge(B.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),D=D.merge(B.append("text").attr("fill","currentColor").attr(u,c*g).attr("dy",e===Qy?"0em":e===n6?"0.71em":"0.32em")),p!==k&&(E=E.transition(p),V=V.transition(p),$=$.transition(p),D=D.transition(p),z=z.transition(p).attr("opacity",xP).attr("transform",function(I){return isFinite(I=b(I))?d(I+l):this.getAttribute("transform")}),B.attr("opacity",xP).attr("transform",function(I){var L=this.parentNode.__axis;return d((L&&isFinite(L=L(I))?L:b(I))+l)})),z.remove(),E.attr("d",e===Ip||e===Ky?s?"M"+c*s+","+_+"H"+l+"V"+w+"H"+c*s:"M"+l+","+_+"V"+w:s?"M"+_+","+c*s+"V"+l+"H"+w+"V"+c*s:"M"+_+","+l+"H"+w),V.attr("opacity",1).attr("transform",function(I){return d(b(I)+l)}),$.attr(u+"2",c*o),D.attr(u,c*g).text(v),k.filter(Kae).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Ky?"start":e===Ip?"end":"middle"),k.each(function(){this.__axis=b})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return r=Xy.call(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Xy.call(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(n=p==null?null:Xy.call(p),f):n&&n.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(o=s=+p,f):o},f.tickSizeInner=function(p){return arguments.length?(o=+p,f):o},f.tickSizeOuter=function(p){return arguments.length?(s=+p,f):s},f.tickPadding=function(p){return arguments.length?(a=+p,f):a},f.offset=function(p){return arguments.length?(l=+p,f):l},f}function Yo(e){return Jy(Qy,e)}function e2(e){return Jy(Ky,e)}function fn(e){return Jy(n6,e)}function Bt(e){return Jy(Ip,e)}Wa();Wa();var n2="http://www.w3.org/1999/xhtml",Ap={svg:"http://www.w3.org/2000/svg",xhtml:n2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zo(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ap.hasOwnProperty(t)?{space:Ap[t],local:e}:e}function nle(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===n2&&t.documentElement.namespaceURI===n2?t.createElement(e):t.createElementNS(r,e)}}function rle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qa(e){var t=Zo(e);return(t.local?rle:nle)(t)}function ile(){}function Ga(e){return e==null?ile:function(){return this.querySelector(e)}}function DP(e){typeof e!="function"&&(e=Ga(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new sn(n,this._parents)}function Dd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ole(){return[]}function Md(e){return e==null?ole:function(){return this.querySelectorAll(e)}}function sle(e){return function(){var t=e.apply(this,arguments);return t==null?[]:Dd(t)}}function MP(e){typeof e=="function"?e=sle(e):e=Md(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(e.call(l,l.__data__,c,s)),i.push(l));return new sn(n,i)}function Sd(e){return function(){return this.matches(e)}}function r2(e){return function(t){return t.matches(e)}}var ale=Array.prototype.find;function lle(e){return function(){return ale.call(this.children,e)}}function cle(){return this.firstElementChild}function SP(e){return this.select(e==null?cle:lle(typeof e=="function"?e:r2(e)))}var ule=Array.prototype.filter;function dle(){return this.children}function fle(e){return function(){return ule.call(this.children,e)}}function EP(e){return this.selectAll(e==null?dle:fle(typeof e=="function"?e:r2(e)))}function TP(e){typeof e!="function"&&(e=Sd(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new sn(n,this._parents)}function i2(e){return new Array(e.length)}function kP(){return new sn(this._enter||this._groups.map(i2),this._parents)}function Op(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Op.prototype={constructor:Op,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function IP(e){return function(){return e}}function hle(e,t,r,n,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):r[s]=new Op(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function ple(e,t,r,n,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=s.call(l,l.__data__,a,t)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<d;++a)p=s.call(e,o[a],a,o)+"",(l=c.get(p))?(n[a]=l,l.__data__=o[a],c.delete(p)):r[a]=new Op(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function mle(e){return e.__data__}function AP(e,t){if(!arguments.length)return Array.from(this,mle);var r=t?ple:hle,n=this._parents,i=this._groups;typeof e!="function"&&(e=IP(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],d=i[c],f=d.length,p=Dd(e.call(u,u&&u.__data__,c,n)),m=p.length,v=a[c]=new Array(m),g=s[c]=new Array(m),x=l[c]=new Array(f);r(u,d,v,g,x,p,t);for(var _=0,w=0,b,k;_<m;++_)if(b=v[_]){for(_>=w&&(w=_+1);!(k=g[w])&&++w<m;);b._next=k||null}}return s=new sn(s,n),s._enter=a,s._exit=l,s}function OP(){return new sn(this._exit||this._groups.map(i2),this._parents)}function PP(e,t,r){var n=this.enter(),i=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(i=t(i)),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function NP(e){if(!(e instanceof sn))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=r[a],u=l.length,d=s[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;a<n;++a)s[a]=t[a];return new sn(s,this._parents)}function RP(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function FP(e){e||(e=gle);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new sn(i,this._parents).order()}function gle(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function LP(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jP(){return Array.from(this)}function VP(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function UP(){let e=0;for(let t of this)++e;return e}function $P(){return!this.node()}function zP(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function yle(e){return function(){this.removeAttribute(e)}}function vle(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xle(e,t){return function(){this.setAttribute(e,t)}}function ble(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _le(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function wle(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function BP(e,t){var r=Zo(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?vle:yle:typeof t=="function"?r.local?wle:_le:r.local?ble:xle)(r,t))}function Ed(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cle(e){return function(){this.style.removeProperty(e)}}function Dle(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Mle(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function HP(e,t,r){return arguments.length>1?this.each((t==null?Cle:typeof t=="function"?Mle:Dle)(e,t,r??"")):$s(this.node(),e)}function $s(e,t){return e.style.getPropertyValue(t)||Ed(e).getComputedStyle(e,null).getPropertyValue(t)}function Sle(e){return function(){delete this[e]}}function Ele(e,t){return function(){this[e]=t}}function Tle(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function WP(e,t){return arguments.length>1?this.each((t==null?Sle:typeof t=="function"?Tle:Ele)(e,t)):this.node()[e]}function qP(e){return e.trim().split(/^|\s+/)}function r6(e){return e.classList||new GP(e)}function GP(e){this._node=e,this._names=qP(e.getAttribute("class")||"")}GP.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function YP(e,t){for(var r=r6(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function ZP(e,t){for(var r=r6(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function kle(e){return function(){YP(this,e)}}function Ile(e){return function(){ZP(this,e)}}function Ale(e,t){return function(){(t.apply(this,arguments)?YP:ZP)(this,e)}}function XP(e,t){var r=qP(e+"");if(arguments.length<2){for(var n=r6(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?Ale:t?kle:Ile)(r,t))}function Ole(){this.textContent=""}function Ple(e){return function(){this.textContent=e}}function Nle(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function QP(e){return arguments.length?this.each(e==null?Ole:(typeof e=="function"?Nle:Ple)(e)):this.node().textContent}function Rle(){this.innerHTML=""}function Fle(e){return function(){this.innerHTML=e}}function Lle(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function KP(e){return arguments.length?this.each(e==null?Rle:(typeof e=="function"?Lle:Fle)(e)):this.node().innerHTML}function jle(){this.nextSibling&&this.parentNode.appendChild(this)}function JP(){return this.each(jle)}function Vle(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function eN(){return this.each(Vle)}function tN(e){var t=typeof e=="function"?e:qa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ule(){return null}function nN(e,t){var r=typeof e=="function"?e:qa(e),n=t==null?Ule:typeof t=="function"?t:Ga(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function $le(){var e=this.parentNode;e&&e.removeChild(this)}function rN(){return this.each($le)}function zle(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ble(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function iN(e){return this.select(e?Ble:zle)}function oN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Hle(e){return function(t){e.call(this,t,this.__data__)}}function Wle(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function qle(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Gle(e,t,r){return function(){var n=this.__on,i,o=Hle(t);if(n){for(var s=0,a=n.length;s<a;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function sN(e,t,r){var n=Wle(e+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=n[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Gle:qle,i=0;i<o;++i)this.each(a(n[i],t,r));return this}function aN(e,t,r){var n=Ed(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Yle(e,t){return function(){return aN(this,e,t)}}function Zle(e,t){return function(){return aN(this,e,t.apply(this,arguments))}}function lN(e,t){return this.each((typeof t=="function"?Zle:Yle)(e,t))}function*cN(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var Pp=[null];function sn(e,t){this._groups=e,this._parents=t}function uN(){return new sn([[document.documentElement]],Pp)}function Xle(){return this}sn.prototype=uN.prototype={constructor:sn,select:DP,selectAll:MP,selectChild:SP,selectChildren:EP,filter:TP,data:AP,enter:kP,exit:OP,join:PP,merge:NP,selection:Xle,order:RP,sort:FP,call:LP,nodes:jP,node:VP,size:UP,empty:$P,each:zP,attr:BP,style:HP,property:WP,classed:XP,text:QP,html:KP,raise:JP,lower:eN,append:tN,insert:nN,remove:rN,clone:iN,datum:oN,on:sN,dispatch:lN,[Symbol.iterator]:cN};var Xo=uN;function Q(e){return typeof e=="string"?new sn([[document.querySelector(e)]],[document.documentElement]):new sn([[e]],Pp)}function dN(e){return Q(qa(e).call(document.documentElement))}var Qle=0;function o2(){return new i6}function i6(){this._="@"+(++Qle).toString(36)}i6.prototype=o2.prototype={constructor:i6,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function s2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Kn(e,t){if(e=s2(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function fN(e,t){return e.target&&(e=s2(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>Kn(r,t))}function Mn(e){return typeof e=="string"?new sn([document.querySelectorAll(e)],[document.documentElement]):new sn([e==null?[]:Dd(e)],Pp)}function a2(e){e.stopImmediatePropagation()}function Ya(e){e.preventDefault(),e.stopImmediatePropagation()}function Za(e){var t=e.document.documentElement,r=Q(e).on("dragstart.drag",Ya,!0);"onselectstart"in t?r.on("selectstart.drag",Ya,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Xa(e,t){var r=e.document.documentElement,n=Q(e).on("dragstart.drag",null);t&&(n.on("click.drag",Ya,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Np=e=>()=>e;function Rp(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Rp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Kle(e){return!e.ctrlKey&&!e.button}function Jle(){return this.parentNode}function ece(e,t){return t??{x:e.x,y:e.y}}function tce(){return navigator.maxTouchPoints||"ontouchstart"in this}function sc(){var e=Kle,t=Jle,r=ece,n=tce,i={},o=Ci("start","drag","end"),s=0,a,l,c,u,d=0;function f(b){b.on("mousedown.drag",p).filter(n).on("touchstart.drag",g).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(b,k){if(!(u||!e.call(this,b,k))){var E=w(this,t.call(this,b,k),b,k,"mouse");E&&(Q(b.view).on("mousemove.drag",m,!0).on("mouseup.drag",v,!0),Za(b.view),a2(b),c=!1,a=b.clientX,l=b.clientY,E("start",b))}}function m(b){if(Ya(b),!c){var k=b.clientX-a,E=b.clientY-l;c=k*k+E*E>d}i.mouse("drag",b)}function v(b){Q(b.view).on("mousemove.drag mouseup.drag",null),Xa(b.view,c),Ya(b),i.mouse("end",b)}function g(b,k){if(e.call(this,b,k)){var E=b.changedTouches,V=t.call(this,b,k),z=E.length,B,$;for(B=0;B<z;++B)($=w(this,V,b,k,E[B].identifier,E[B]))&&(a2(b),$("start",b,E[B]))}}function x(b){var k=b.changedTouches,E=k.length,V,z;for(V=0;V<E;++V)(z=i[k[V].identifier])&&(Ya(b),z("drag",b,k[V]))}function _(b){var k=b.changedTouches,E=k.length,V,z;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),V=0;V<E;++V)(z=i[k[V].identifier])&&(a2(b),z("end",b,k[V]))}function w(b,k,E,V,z,B){var $=o.copy(),D=Kn(B||E,k),I,L,O;if((O=r.call(b,new Rp("beforestart",{sourceEvent:E,target:f,identifier:z,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:$}),V))!=null)return I=O.x-D[0]||0,L=O.y-D[1]||0,function S(T,P,U){var F=D,j;switch(T){case"start":i[z]=S,j=s++;break;case"end":delete i[z],--s;case"drag":D=Kn(U||P,k),j=s;break}$.call(T,b,new Rp(T,{sourceEvent:P,subject:O,target:f,identifier:z,active:j,x:D[0]+I,y:D[1]+L,dx:D[0]-F[0],dy:D[1]-F[1],dispatch:$}),V)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Np(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Np(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:Np(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:Np(!!b),f):n},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function zs(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Qa(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jo(){}var Ka=.7,ac=1/Ka,Td="\\s*([+-]?\\d+)\\s*",Fp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ko="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nce=/^#([0-9a-f]{3,8})$/,rce=new RegExp("^rgb\\("+[Td,Td,Td]+"\\)$"),ice=new RegExp("^rgb\\("+[Ko,Ko,Ko]+"\\)$"),oce=new RegExp("^rgba\\("+[Td,Td,Td,Fp]+"\\)$"),sce=new RegExp("^rgba\\("+[Ko,Ko,Ko,Fp]+"\\)$"),ace=new RegExp("^hsl\\("+[Fp,Ko,Ko]+"\\)$"),lce=new RegExp("^hsla\\("+[Fp,Ko,Ko,Fp]+"\\)$"),hN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zs(Jo,Fr,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:pN,formatHex:pN,formatHsl:cce,formatRgb:mN,toString:mN});function pN(){return this.rgb().formatHex()}function cce(){return bN(this).formatHsl()}function mN(){return this.rgb().formatRgb()}function Fr(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=nce.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gN(t):r===3?new Wn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?l2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?l2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rce.exec(e))?new Wn(t[1],t[2],t[3],1):(t=ice.exec(e))?new Wn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oce.exec(e))?l2(t[1],t[2],t[3],t[4]):(t=sce.exec(e))?l2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ace.exec(e))?xN(t[1],t[2]/100,t[3]/100,1):(t=lce.exec(e))?xN(t[1],t[2]/100,t[3]/100,t[4]):hN.hasOwnProperty(e)?gN(hN[e]):e==="transparent"?new Wn(NaN,NaN,NaN,0):null}function gN(e){return new Wn(e>>16&255,e>>8&255,e&255,1)}function l2(e,t,r,n){return n<=0&&(e=t=r=NaN),new Wn(e,t,r,n)}function Lp(e){return e instanceof Jo||(e=Fr(e)),e?(e=e.rgb(),new Wn(e.r,e.g,e.b,e.opacity)):new Wn}function Bs(e,t,r,n){return arguments.length===1?Lp(e):new Wn(e,t,r,n??1)}function Wn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zs(Wn,Bs,Qa(Jo,{brighter:function(e){return e=e==null?ac:Math.pow(ac,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Ka:Math.pow(Ka,e),new Wn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yN,formatHex:yN,formatRgb:vN,toString:vN}));function yN(){return"#"+o6(this.r)+o6(this.g)+o6(this.b)}function vN(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function o6(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function xN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,r,n)}function bN(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof Jo||(e=Fr(e)),!e)return new Qo;if(e instanceof Qo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Qo(s,a,l,e.opacity)}function kd(e,t,r,n){return arguments.length===1?bN(e):new Qo(e,t,r,n??1)}function Qo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zs(Qo,kd,Qa(Jo,{brighter:function(e){return e=e==null?ac:Math.pow(ac,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ka:Math.pow(Ka,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Wn(s6(e>=240?e-240:e+120,i,n),s6(e,i,n),s6(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function s6(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var c2=Math.PI/180,u2=180/Math.PI;var d2=18,_N=.96422,wN=1,CN=.82521,DN=4/29,Id=6/29,MN=3*Id*Id,uce=Id*Id*Id;function SN(e){if(e instanceof go)return new go(e.l,e.a,e.b,e.opacity);if(e instanceof es)return IN(e);e instanceof Wn||(e=Lp(e));var t=u6(e.r),r=u6(e.g),n=u6(e.b),i=a6((.2225045*t+.7168786*r+.0606169*n)/wN),o,s;return t===r&&r===n?o=s=i:(o=a6((.4360747*t+.3850649*r+.1430804*n)/_N),s=a6((.0139322*t+.0971045*r+.7141733*n)/CN)),new go(116*i-16,500*(o-i),200*(i-s),e.opacity)}function EN(e,t){return new go(e,0,0,t??1)}function lc(e,t,r,n){return arguments.length===1?SN(e):new go(e,t,r,n??1)}function go(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}zs(go,lc,Qa(Jo,{brighter:function(e){return new go(this.l+d2*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new go(this.l-d2*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=_N*l6(t),e=wN*l6(e),r=CN*l6(r),new Wn(c6(3.1338561*t-1.6168667*e-.4906146*r),c6(-.9787684*t+1.9161415*e+.033454*r),c6(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function a6(e){return e>uce?Math.pow(e,1/3):e/MN+DN}function l6(e){return e>Id?e*e*e:MN*(e-DN)}function c6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function u6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function TN(e){if(e instanceof es)return new es(e.h,e.c,e.l,e.opacity);if(e instanceof go||(e=SN(e)),e.a===0&&e.b===0)return new es(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*u2;return new es(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function kN(e,t,r,n){return arguments.length===1?TN(e):new es(r,t,e,n??1)}function Ad(e,t,r,n){return arguments.length===1?TN(e):new es(e,t,r,n??1)}function es(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function IN(e){if(isNaN(e.h))return new go(e.l,0,0,e.opacity);var t=e.h*c2;return new go(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}zs(es,Ad,Qa(Jo,{brighter:function(e){return new es(this.h,this.c,this.l+d2*(e??1),this.opacity)},darker:function(e){return new es(this.h,this.c,this.l-d2*(e??1),this.opacity)},rgb:function(){return IN(this).rgb()}}));var NN=-.14861,d6=1.78277,f6=-.29227,f2=-.90649,jp=1.97294,AN=jp*f2,ON=jp*d6,PN=d6*f6-f2*NN;function dce(e){if(e instanceof cc)return new cc(e.h,e.s,e.l,e.opacity);e instanceof Wn||(e=Lp(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(PN*n+AN*t-ON*r)/(PN+AN-ON),o=n-i,s=(jp*(r-i)-f6*o)/f2,a=Math.sqrt(s*s+o*o)/(jp*i*(1-i)),l=a?Math.atan2(s,o)*u2-120:NaN;return new cc(l<0?l+360:l,a,i,e.opacity)}function _r(e,t,r,n){return arguments.length===1?dce(e):new cc(e,t,r,n??1)}function cc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zs(cc,_r,Qa(Jo,{brighter:function(e){return e=e==null?ac:Math.pow(ac,e),new cc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Ka:Math.pow(Ka,e),new cc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*c2,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Wn(255*(t+r*(NN*n+d6*i)),255*(t+r*(f6*n+f2*i)),255*(t+r*(jp*n)),this.opacity)}}));function h6(e,t,r,n,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*r+(1+3*e+3*o-3*s)*n+s*i)/6}function h2(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],s=n>0?e[n-1]:2*i-o,a=n<t-1?e[n+2]:2*o-i;return h6((r-n/t)*t,s,i,o,a)}}function p2(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],s=e[(n+1)%t],a=e[(n+2)%t];return h6((r-n/t)*t,i,o,s,a)}}var Od=e=>()=>e;function RN(e,t){return function(r){return e+r*t}}function fce(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ja(e,t){var r=t-e;return r?RN(e,r>180||r<-180?r-360*Math.round(r/360):r):Od(isNaN(e)?t:e)}function FN(e){return(e=+e)==1?hn:function(t,r){return r-t?fce(t,r,e):Od(isNaN(t)?r:t)}}function hn(e,t){var r=t-e;return r?RN(e,r):Od(isNaN(e)?t:e)}var el=function e(t){var r=FN(t);function n(i,o){var s=r((i=Bs(i)).r,(o=Bs(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),c=hn(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function LN(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),s,a;for(s=0;s<r;++s)a=Bs(t[s]),n[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return n=e(n),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=n(l),a.g=i(l),a.b=o(l),a+""}}}var m2=LN(h2),jN=LN(p2);function Pd(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function g2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VN(e,t){return(g2(t)?Pd:p6)(e,t)}function p6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Ht(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function y2(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Ln(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function v2(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ht(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var g6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,m6=new RegExp(g6.source,"g");function hce(e){return function(){return e}}function pce(e){return function(t){return e(t)+""}}function Nd(e,t){var r=g6.lastIndex=m6.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(n=g6.exec(e))&&(i=m6.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ln(n,i)})),r=m6.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?pce(l[0].x):hce(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Ht(e,t){var r=typeof t,n;return t==null||r==="boolean"?Od(t):(r==="number"?Ln:r==="string"?(n=Fr(t))?(t=n,el):Nd:t instanceof Fr?el:t instanceof Date?y2:g2(t)?Pd:Array.isArray(t)?p6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?v2:Ln)(e,t)}function UN(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function $N(e,t){var r=Ja(+e,+t);return function(n){var i=r(n);return i-360*Math.floor(i/360)}}function tl(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var zN=180/Math.PI,x2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function y6(e,t,r,n,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),e*n<t*r&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*zN,skewX:Math.atan(l)*zN,scaleX:s,scaleY:a}}var b2;function BN(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?x2:y6(t.a,t.b,t.c,t.d,t.e,t.f)}function HN(e){return e==null?x2:(b2||(b2=document.createElementNS("http://www.w3.org/2000/svg","g")),b2.setAttribute("transform",e),(e=b2.transform.baseVal.consolidate())?(e=e.matrix,y6(e.a,e.b,e.c,e.d,e.e,e.f)):x2)}function WN(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,p,m){if(c!==d||u!==f){var v=p.push("translate(",null,t,null,r);m.push({i:v-4,x:Ln(c,d)},{i:v-2,x:Ln(u,f)})}else(d||f)&&p.push("translate("+d+t+f+r)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Ln(c,u)})):u&&d.push(i(d)+"rotate("+u+n)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Ln(c,u)}):u&&d.push(i(d)+"skewX("+u+n)}function l(c,u,d,f,p,m){if(c!==d||u!==f){var v=p.push(i(p)+"scale(",null,",",null,")");m.push({i:v-4,x:Ln(c,d)},{i:v-2,x:Ln(u,f)})}else(d!==1||f!==1)&&p.push(i(p)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(p){for(var m=-1,v=f.length,g;++m<v;)d[(g=f[m]).i]=g.x(p);return d.join("")}}}var _2=WN(BN,"px, ","px)","deg)"),w2=WN(HN,", ",")",")");var mce=1e-12;function qN(e){return((e=Math.exp(e))+1/e)/2}function gce(e){return((e=Math.exp(e))-1/e)/2}function yce(e){return((e=Math.exp(2*e))-1)/(e+1)}var C2=function e(t,r,n){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],d=s[1],f=s[2],p=u-a,m=d-l,v=p*p+m*m,g,x;if(v<mce)x=Math.log(f/c)/t,g=function(V){return[a+V*p,l+V*m,c*Math.exp(t*V*x)]};else{var _=Math.sqrt(v),w=(f*f-c*c+n*v)/(2*c*r*_),b=(f*f-c*c-n*v)/(2*f*r*_),k=Math.log(Math.sqrt(w*w+1)-w),E=Math.log(Math.sqrt(b*b+1)-b);x=(E-k)/t,g=function(V){var z=V*x,B=qN(k),$=c/(r*_)*(B*yce(t*z+k)-gce(k));return[a+$*p,l+$*m,c*B/qN(t*z+k)]}}return g.duration=x*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function GN(e){return function(t,r){var n=e((t=kd(t)).h,(r=kd(r)).h),i=hn(t.s,r.s),o=hn(t.l,r.l),s=hn(t.opacity,r.opacity);return function(a){return t.h=n(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}var YN=GN(Ja),ZN=GN(hn);function v6(e,t){var r=hn((e=lc(e)).l,(t=lc(t)).l),n=hn(e.a,t.a),i=hn(e.b,t.b),o=hn(e.opacity,t.opacity);return function(s){return e.l=r(s),e.a=n(s),e.b=i(s),e.opacity=o(s),e+""}}function XN(e){return function(t,r){var n=e((t=Ad(t)).h,(r=Ad(r)).h),i=hn(t.c,r.c),o=hn(t.l,r.l),s=hn(t.opacity,r.opacity);return function(a){return t.h=n(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}var QN=XN(Ja),KN=XN(hn);function JN(e){return function t(r){r=+r;function n(i,o){var s=e((i=_r(i)).h,(o=_r(o)).h),a=hn(i.s,o.s),l=hn(i.l,o.l),c=hn(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,r)),i.opacity=c(u),i+""}}return n.gamma=t,n}(1)}var eR=JN(Ja),uc=JN(hn);function Vp(e,t){t===void 0&&(t=e,e=Ht);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function D2(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}Wa();Ld();var _ce=Ci("start","end","cancel","interrupt"),wce=[],lR=0,A2=1,O2=2,I2=3,aR=4,P2=5,Wp=6;function nl(e,t,r,n,i,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;Cce(e,r,{name:t,index:n,group:i,on:_ce,tween:wce,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:lR})}function qp(e,t){var r=qn(e,t);if(r.state>lR)throw new Error("too late; already scheduled");return r}function ur(e,t){var r=qn(e,t);if(r.state>I2)throw new Error("too late; already running");return r}function qn(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function Cce(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Ws(o,0,r.time);function o(c){r.state=A2,r.timer.restart(s,r.delay,r.time),r.delay<=c&&s(c-r.delay)}function s(c){var u,d,f,p;if(r.state!==A2)return l();for(u in n)if(p=n[u],p.name===r.name){if(p.state===I2)return Fd(s);p.state===aR?(p.state=Wp,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<t&&(p.state=Wp,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(Fd(function(){r.state===I2&&(r.state=aR,r.timer.restart(a,r.delay,r.time),a(c))}),r.state=O2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===O2){for(r.state=I2,i=new Array(f=r.tween.length),u=0,d=-1;u<f;++u)(p=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=p);i.length=d+1}}function a(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=P2,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);r.state===P2&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=Wp,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function yo(e,t){var r=e.__transition,n,i,o=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){o=!1;continue}i=n.state>O2&&n.state<P2,n.state=Wp,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}o&&delete e.__transition}}function cR(e){return this.each(function(){yo(this,e)})}function Dce(e,t){var r,n;return function(){var i=ur(this,e),o=i.tween;if(o!==r){n=r=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function Mce(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=ur(this,e),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function uR(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=qn(this.node(),r).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?Dce:Mce)(r,e,t))}function jd(e,t,r){var n=e._id;return e.each(function(){var i=ur(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return qn(i,n).value[t]}}function N2(e,t){var r;return(typeof t=="number"?Ln:t instanceof Fr?el:(r=Fr(t))?(t=r,el):Nd)(e,t)}function Sce(e){return function(){this.removeAttribute(e)}}function Ece(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Tce(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===n?o:o=t(n=s,r)}}function kce(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?o:o=t(n=s,r)}}function Ice(e,t,r){var n,i,o;return function(){var s,a=r(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=t(n=s,a)))}}function Ace(e,t,r){var n,i,o;return function(){var s,a=r(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=t(n=s,a)))}}function dR(e,t){var r=Zo(e),n=r==="transform"?w2:N2;return this.attrTween(e,typeof t=="function"?(r.local?Ace:Ice)(r,n,jd(this,"attr."+e,t)):t==null?(r.local?Ece:Sce)(r):(r.local?kce:Tce)(r,n,t))}function Oce(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function Pce(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function Nce(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Pce(e,o)),r}return i._value=t,i}function Rce(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&Oce(e,o)),r}return i._value=t,i}function fR(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Zo(e);return this.tween(r,(n.local?Nce:Rce)(n,t))}function Fce(e,t){return function(){qp(this,e).delay=+t.apply(this,arguments)}}function Lce(e,t){return t=+t,function(){qp(this,e).delay=t}}function hR(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Fce:Lce)(t,e)):qn(this.node(),t).delay}function jce(e,t){return function(){ur(this,e).duration=+t.apply(this,arguments)}}function Vce(e,t){return t=+t,function(){ur(this,e).duration=t}}function pR(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?jce:Vce)(t,e)):qn(this.node(),t).duration}function Uce(e,t){if(typeof t!="function")throw new Error;return function(){ur(this,e).ease=t}}function mR(e){var t=this._id;return arguments.length?this.each(Uce(t,e)):qn(this.node(),t).ease}function $ce(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;ur(this,e).ease=r}}function gR(e){if(typeof e!="function")throw new Error;return this.each($ce(this._id,e))}function yR(e){typeof e!="function"&&(e=Sd(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new dr(n,this._parents,this._name,this._id)}function vR(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=r[a],u=l.length,d=s[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;a<n;++a)s[a]=t[a];return new dr(s,this._parents,this._name,this._id)}function zce(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Bce(e,t,r){var n,i,o=zce(t)?qp:ur;return function(){var s=o(this,e),a=s.on;a!==n&&(i=(n=a).copy()).on(t,r),s.on=i}}function xR(e,t){var r=this._id;return arguments.length<2?qn(this.node(),r).on.on(e):this.each(Bce(r,e,t))}function Hce(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function bR(){return this.on("end.remove",Hce(this._id))}function _R(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Ga(e));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var a=n[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,nl(c[f],t,r,f,c,qn(u,r)));return new dr(o,this._parents,t,r)}function wR(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Md(e));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var l=n[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),p,m=qn(u,r),v=0,g=f.length;v<g;++v)(p=f[v])&&nl(p,t,r,v,f,m);o.push(f),s.push(u)}return new dr(o,s,t,r)}var Wce=Xo.prototype.constructor;function CR(){return new Wce(this._groups,this._parents)}function qce(e,t){var r,n,i;return function(){var o=$s(this,e),s=(this.style.removeProperty(e),$s(this,e));return o===s?null:o===r&&s===n?i:i=t(r=o,n=s)}}function DR(e){return function(){this.style.removeProperty(e)}}function Gce(e,t,r){var n,i=r+"",o;return function(){var s=$s(this,e);return s===i?null:s===n?o:o=t(n=s,r)}}function Yce(e,t,r){var n,i,o;return function(){var s=$s(this,e),a=r(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),$s(this,e))),s===l?null:s===n&&l===i?o:(i=l,o=t(n=s,a))}}function Zce(e,t){var r,n,i,o="style."+t,s="end."+o,a;return function(){var l=ur(this,e),c=l.on,u=l.value[o]==null?a||(a=DR(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(s,i=u),l.on=n}}function MR(e,t,r){var n=(e+="")=="transform"?_2:N2;return t==null?this.styleTween(e,qce(e,n)).on("end.style."+e,DR(e)):typeof t=="function"?this.styleTween(e,Yce(e,n,jd(this,"style."+e,t))).each(Zce(this._id,e)):this.styleTween(e,Gce(e,n,t),r).on("end.style."+e,null)}function Xce(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Qce(e,t,r){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Xce(e,s,r)),n}return o._value=t,o}function SR(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Qce(e,t,r??""))}function Kce(e){return function(){this.textContent=e}}function Jce(e){return function(){var t=e(this);this.textContent=t??""}}function ER(e){return this.tween("text",typeof e=="function"?Jce(jd(this,"text",e)):Kce(e==null?"":e+""))}function eue(e){return function(t){this.textContent=e.call(this,t)}}function tue(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&eue(i)),t}return n._value=e,n}function TR(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,tue(e))}function kR(){for(var e=this._name,t=this._id,r=R2(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=qn(l,t);nl(l,e,r,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new dr(n,this._parents,e,r)}function IR(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};r.each(function(){var c=ur(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var nue=0;function dr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function F2(e){return Xo().transition(e)}function R2(){return++nue}var hc=Xo.prototype;dr.prototype=F2.prototype={constructor:dr,select:_R,selectAll:wR,filter:yR,merge:vR,selection:CR,transition:kR,call:hc.call,nodes:hc.nodes,node:hc.node,size:hc.size,empty:hc.empty,each:hc.each,on:xR,attr:dR,attrTween:fR,style:MR,styleTween:SR,text:ER,textTween:TR,remove:bR,tween:uR,delay:hR,duration:pR,ease:mR,easeVarying:gR,end:IR,[Symbol.iterator]:hc[Symbol.iterator]};var Ri=e=>+e;function AR(e){return e*e}function OR(e){return e*(2-e)}function b6(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function PR(e){return e*e*e}function NR(e){return--e*e*e+1}function qs(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _6=3,RR=function e(t){t=+t;function r(n){return Math.pow(n,t)}return r.exponent=e,r}(_6),FR=function e(t){t=+t;function r(n){return 1-Math.pow(1-n,t)}return r.exponent=e,r}(_6),pc=function e(t){t=+t;function r(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return r.exponent=e,r}(_6);var LR=Math.PI,jR=LR/2;function VR(e){return+e==1?1:1-Math.cos(e*jR)}function UR(e){return Math.sin(e*jR)}function w6(e){return(1-Math.cos(LR*e))/2}function ts(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function $R(e){return ts(1-+e)}function zR(e){return 1-ts(e)}function C6(e){return((e*=2)<=1?ts(1-e):2-ts(e-1))/2}function BR(e){return 1-Math.sqrt(1-e*e)}function HR(e){return Math.sqrt(1- --e*e)}function D6(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var M6=.36363636363636365,rue=6/11,iue=8/11,oue=3/4,sue=9/11,aue=10/11,lue=15/16,cue=21/22,uue=63/64,L2=1/M6/M6;function WR(e){return 1-rl(1-e)}function rl(e){return(e=+e)<M6?L2*e*e:e<iue?L2*(e-=rue)*e+oue:e<aue?L2*(e-=sue)*e+lue:L2*(e-=cue)*e+uue}function qR(e){return((e*=2)<=1?1-rl(1-e):rl(e-1)+1)/2}var S6=1.70158,GR=function e(t){t=+t;function r(n){return(n=+n)*n*(t*(n-1)+n)}return r.overshoot=e,r}(S6),YR=function e(t){t=+t;function r(n){return--n*n*((n+1)*t+n)+1}return r.overshoot=e,r}(S6),E6=function e(t){t=+t;function r(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return r.overshoot=e,r}(S6);var Vd=2*Math.PI,T6=1,k6=.3,ZR=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Vd);function i(o){return t*ts(- --o)*Math.sin((n-o)/r)}return i.amplitude=function(o){return e(o,r*Vd)},i.period=function(o){return e(t,o)},i}(T6,k6),I6=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Vd);function i(o){return 1-t*ts(o=+o)*Math.sin((o+n)/r)}return i.amplitude=function(o){return e(o,r*Vd)},i.period=function(o){return e(t,o)},i}(T6,k6),XR=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Vd);function i(o){return((o=o*2-1)<0?t*ts(-o)*Math.sin((n-o)/r):2-t*ts(o)*Math.sin((n+o)/r))/2}return i.amplitude=function(o){return e(o,r*Vd)},i.period=function(o){return e(t,o)},i}(T6,k6);Ld();var due={time:null,delay:0,duration:250,ease:qs};function fue(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function QR(e){var t,r;e instanceof dr?(t=e._id,e=e._name):(t=R2(),(r=due).time=Hs(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&nl(l,e,t,c,s,r||fue(l,t));return new dr(n,this._parents,e,t)}Xo.prototype.interrupt=cR;Xo.prototype.transition=QR;var hue=[null];function KR(e,t){var r=e.__transition,n,i;if(r){t=t==null?null:t+"";for(i in r)if((n=r[i]).state>A2&&n.name===t)return new dr([[e]],hue,t,+i)}return null}var j2=e=>()=>e;function A6(e,{sourceEvent:t,target:r,selection:n,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function JR(e){e.stopImmediatePropagation()}function V2(e){e.preventDefault(),e.stopImmediatePropagation()}var eF={name:"drag"},O6={name:"space"},Ud={name:"handle"},$d={name:"center"},{abs:tF,max:wr,min:Cr}=Math;function nF(e){return[+e[0],+e[1]]}function N6(e){return[nF(e[0]),nF(e[1])]}var U2={name:"x",handles:["w","e"].map(Gp),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},$2={name:"y",handles:["n","s"].map(Gp),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},pue={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Gp),input:function(e){return e==null?null:N6(e)},output:function(e){return e}},Gs={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},rF={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},iF={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},mue={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},gue={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Gp(e){return{type:e}}function yue(e){return!e.ctrlKey&&!e.button}function vue(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function xue(){return navigator.maxTouchPoints||"ontouchstart"in this}function P6(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function bue(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function oF(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function sF(){return F6(U2)}function R6(){return F6($2)}function z2(){return F6(pue)}function F6(e){var t=vue,r=yue,n=xue,i=!0,o=Ci("start","brush","end"),s=6,a;function l(g){var x=g.property("__brush",v).selectAll(".overlay").data([Gp("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Gs.overlay).merge(x).each(function(){var w=P6(this).extent;Q(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),g.selectAll(".selection").data([Gp("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Gs.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=g.selectAll(".handle").data(e.handles,function(w){return w.type});_.exit().remove(),_.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return Gs[w.type]}),g.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(n).on("touchstart.brush",f).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,x){g.tween?g.on("start.brush",function(_){u(this,arguments).beforestart().start(_)}).on("interrupt.brush end.brush",function(_){u(this,arguments).end(_)}).tween("brush",function(){var _=this,w=_.__brush,b=u(_,arguments),k=w.selection,E=e.input(typeof x=="function"?x.apply(this,arguments):x,w.extent),V=Ht(k,E);function z(B){w.selection=B===1&&E===null?null:V(B),c.call(_),b.brush()}return k!==null&&E!==null?z:z(1)}):g.each(function(){var _=this,w=arguments,b=_.__brush,k=e.input(typeof x=="function"?x.apply(_,w):x,b.extent),E=u(_,w).beforestart();yo(_),b.selection=k===null?null:k,c.call(_),E.start().brush().end()})},l.clear=function(g){l.move(g,null)};function c(){var g=Q(this),x=P6(this).selection;x?(g.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?x[1][0]-s/2:x[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?x[1][1]-s/2:x[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?x[1][0]-x[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?x[1][1]-x[0][1]+s:s})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(g,x,_){var w=g.__brush.emitter;return w&&(!_||!w.clean)?w:new d(g,x,_)}function d(g,x,_){this.that=g,this.args=x,this.state=g.__brush,this.active=0,this.clean=_}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,x){return this.starting?(this.starting=!1,this.emit("start",g,x)):this.emit("brush",g),this},brush:function(g,x){return this.emit("brush",g,x),this},end:function(g,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,x)),this},emit:function(g,x,_){var w=Q(this.that).datum();o.call(g,this.that,new A6(g,{sourceEvent:x,target:l,selection:e.output(this.state.selection),mode:_,dispatch:o}),w)}};function f(g){if(a&&!g.touches||!r.apply(this,arguments))return;var x=this,_=g.target.__data__.type,w=(i&&g.metaKey?_="overlay":_)==="selection"?eF:i&&g.altKey?$d:Ud,b=e===$2?null:mue[_],k=e===U2?null:gue[_],E=P6(x),V=E.extent,z=E.selection,B=V[0][0],$,D,I=V[0][1],L,O,S=V[1][0],T,P,U=V[1][1],F,j,G=0,J=0,X,se=b&&k&&i&&g.shiftKey,Me,_e,pe=Array.from(g.touches||[g],je=>{let Jt=je.identifier;return je=Kn(je,x),je.point0=je.slice(),je.identifier=Jt,je});if(_==="overlay"){z&&(X=!0);let je=[pe[0],pe[1]||pe[0]];E.selection=z=[[$=e===$2?B:Cr(je[0][0],je[1][0]),L=e===U2?I:Cr(je[0][1],je[1][1])],[T=e===$2?S:wr(je[0][0],je[1][0]),F=e===U2?U:wr(je[0][1],je[1][1])]],pe.length>1&&st()}else $=z[0][0],L=z[0][1],T=z[1][0],F=z[1][1];D=$,O=L,P=T,j=F;var Fe=Q(x).attr("pointer-events","none"),te=Fe.selectAll(".overlay").attr("cursor",Gs[_]);yo(x);var be=u(x,arguments,!0).beforestart();if(g.touches)be.moved=oe,be.ended=Je;else{var ke=Q(g.view).on("mousemove.brush",oe,!0).on("mouseup.brush",Je,!0);i&&ke.on("keydown.brush",Kt,!0).on("keyup.brush",bn,!0),Za(g.view)}c.call(x),be.start(g,w.name);function oe(je){for(let Jt of je.changedTouches||[je])for(let Pn of pe)Pn.identifier===Jt.identifier&&(Pn.cur=Kn(Jt,x));if(se&&!Me&&!_e&&pe.length===1){let Jt=pe[0];tF(Jt.cur[0]-Jt[0])>tF(Jt.cur[1]-Jt[1])?_e=!0:Me=!0}for(let Jt of pe)Jt.cur&&(Jt[0]=Jt.cur[0],Jt[1]=Jt.cur[1]);X=!0,V2(je),st(je)}function st(je){let Jt=pe[0],Pn=Jt.point0;var Br;switch(G=Jt[0]-Pn[0],J=Jt[1]-Pn[1],w){case O6:case eF:{b&&(G=wr(B-$,Cr(S-T,G)),D=$+G,P=T+G),k&&(J=wr(I-L,Cr(U-F,J)),O=L+J,j=F+J);break}case Ud:{pe[1]?(b&&(D=wr(B,Cr(S,pe[0][0])),P=wr(B,Cr(S,pe[1][0])),b=1),k&&(O=wr(I,Cr(U,pe[0][1])),j=wr(I,Cr(U,pe[1][1])),k=1)):(b<0?(G=wr(B-$,Cr(S-$,G)),D=$+G,P=T):b>0&&(G=wr(B-T,Cr(S-T,G)),D=$,P=T+G),k<0?(J=wr(I-L,Cr(U-L,J)),O=L+J,j=F):k>0&&(J=wr(I-F,Cr(U-F,J)),O=L,j=F+J));break}case $d:{b&&(D=wr(B,Cr(S,$-G*b)),P=wr(B,Cr(S,T+G*b))),k&&(O=wr(I,Cr(U,L-J*k)),j=wr(I,Cr(U,F+J*k)));break}}P<D&&(b*=-1,Br=$,$=T,T=Br,Br=D,D=P,P=Br,_ in rF&&te.attr("cursor",Gs[_=rF[_]])),j<O&&(k*=-1,Br=L,L=F,F=Br,Br=O,O=j,j=Br,_ in iF&&te.attr("cursor",Gs[_=iF[_]])),E.selection&&(z=E.selection),Me&&(D=z[0][0],P=z[1][0]),_e&&(O=z[0][1],j=z[1][1]),(z[0][0]!==D||z[0][1]!==O||z[1][0]!==P||z[1][1]!==j)&&(E.selection=[[D,O],[P,j]],c.call(x),be.brush(je,w.name))}function Je(je){if(JR(je),je.touches){if(je.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else Xa(je.view,X),ke.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Fe.attr("pointer-events","all"),te.attr("cursor",Gs.overlay),E.selection&&(z=E.selection),bue(z)&&(E.selection=null,c.call(x)),be.end(je,w.name)}function Kt(je){switch(je.keyCode){case 16:{se=b&&k;break}case 18:{w===Ud&&(b&&(T=P-G*b,$=D+G*b),k&&(F=j-J*k,L=O+J*k),w=$d,st());break}case 32:{(w===Ud||w===$d)&&(b<0?T=P-G:b>0&&($=D-G),k<0?F=j-J:k>0&&(L=O-J),w=O6,te.attr("cursor",Gs.selection),st());break}default:return}V2(je)}function bn(je){switch(je.keyCode){case 16:{se&&(Me=_e=se=!1,st());break}case 18:{w===$d&&(b<0?T=P:b>0&&($=D),k<0?F=j:k>0&&(L=O),w=Ud,st());break}case 32:{w===O6&&(je.altKey?(b&&(T=P-G*b,$=D+G*b),k&&(F=j-J*k,L=O+J*k),w=$d):(b<0?T=P:b>0&&($=D),k<0?F=j:k>0&&(L=O),w=Ud),te.attr("cursor",Gs[_]),st());break}default:return}V2(je)}}function p(g){u(this,arguments).moved(g)}function m(g){u(this,arguments).ended(g)}function v(){var g=this.__brush||{selection:null};return g.extent=N6(t.apply(this,arguments)),g.dim=e,g}return l.extent=function(g){return arguments.length?(t=typeof g=="function"?g:j2(N6(g)),l):t},l.filter=function(g){return arguments.length?(r=typeof g=="function"?g:j2(!!g),l):r},l.touchable=function(g){return arguments.length?(n=typeof g=="function"?g:j2(!!g),l):n},l.handleSize=function(g){return arguments.length?(s=+g,l):s},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=o.on.apply(o,arguments);return g===o?l:g},l}var L6=Math.abs,mc=Math.cos,gc=Math.sin,aF=Math.PI,Yp=aF/2,j6=aF*2,V6=Math.max,B2=1e-12;function U6(e,t){return Array.from({length:t-e},(r,n)=>e+n)}function _ue(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function lF(){return $6(!1,!1)}function cF(){return $6(!1,!0)}function uF(){return $6(!0,!1)}function $6(e,t){var r=0,n=null,i=null,o=null;function s(a){var l=a.length,c=new Array(l),u=U6(0,l),d=new Array(l*l),f=new Array(l),p=0,m;a=Float64Array.from({length:l*l},t?(v,g)=>a[g%l][g/l|0]:(v,g)=>a[g/l|0][g%l]);for(let v=0;v<l;++v){let g=0;for(let x=0;x<l;++x)g+=a[v*l+x]+e*a[x*l+v];p+=c[v]=g}p=V6(0,j6-r*l)/p,m=p?r:j6/l;{let v=0;n&&u.sort((g,x)=>n(c[g],c[x]));for(let g of u){let x=v;if(e){let _=U6(~l+1,l).filter(w=>w<0?a[~w*l+g]:a[g*l+w]);i&&_.sort((w,b)=>i(w<0?-a[~w*l+g]:a[g*l+w],b<0?-a[~b*l+g]:a[g*l+b]));for(let w of _)if(w<0){let b=d[~w*l+g]||(d[~w*l+g]={source:null,target:null});b.target={index:g,startAngle:v,endAngle:v+=a[~w*l+g]*p,value:a[~w*l+g]}}else{let b=d[g*l+w]||(d[g*l+w]={source:null,target:null});b.source={index:g,startAngle:v,endAngle:v+=a[g*l+w]*p,value:a[g*l+w]}}f[g]={index:g,startAngle:x,endAngle:v,value:c[g]}}else{let _=U6(0,l).filter(w=>a[g*l+w]||a[w*l+g]);i&&_.sort((w,b)=>i(a[g*l+w],a[g*l+b]));for(let w of _){let b;if(g<w?(b=d[g*l+w]||(d[g*l+w]={source:null,target:null}),b.source={index:g,startAngle:v,endAngle:v+=a[g*l+w]*p,value:a[g*l+w]}):(b=d[w*l+g]||(d[w*l+g]={source:null,target:null}),b.target={index:g,startAngle:v,endAngle:v+=a[g*l+w]*p,value:a[g*l+w]},g===w&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){let k=b.source;b.source=b.target,b.target=k}}f[g]={index:g,startAngle:x,endAngle:v,value:c[g]}}v+=m}}return d=Object.values(d),d.groups=f,o?d.sort(o):d}return s.padAngle=function(a){return arguments.length?(r=V6(0,a),s):r},s.sortGroups=function(a){return arguments.length?(n=a,s):n},s.sortSubgroups=function(a){return arguments.length?(i=a,s):i},s.sortChords=function(a){return arguments.length?(a==null?o=null:(o=_ue(a))._=a,s):o&&o._},s}var z6=Math.PI,B6=2*z6,yc=1e-6,wue=B6-yc;function H6(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function dF(){return new H6}H6.prototype=dF.prototype={constructor:H6,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,a=r-e,l=n-t,c=o-e,u=s-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>yc)if(!(Math.abs(u*a-l*c)>yc)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-o,p=n-s,m=a*a+l*l,v=f*f+p*p,g=Math.sqrt(m),x=Math.sqrt(d),_=i*Math.tan((z6-Math.acos((m+d-v)/(2*g*x)))/2),w=_/x,b=_/g;Math.abs(w-1)>yc&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*p)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),a=r*Math.sin(n),l=e+s,c=t+a,u=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>yc||Math.abs(this._y1-c)>yc)&&(this._+="L"+l+","+c),r&&(d<0&&(d=d%B6+B6),d>wue?this._+="A"+r+","+r+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>yc&&(this._+="A"+r+","+r+",0,"+ +(d>=z6)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var si=dF;var fF=Array.prototype.slice;function il(e){return function(){return e}}function Cue(e){return e.source}function Due(e){return e.target}function hF(e){return e.radius}function Mue(e){return e.startAngle}function Sue(e){return e.endAngle}function Eue(){return 0}function Tue(){return 10}function pF(e){var t=Cue,r=Due,n=hF,i=hF,o=Mue,s=Sue,a=Eue,l=null;function c(){var u,d=t.apply(this,arguments),f=r.apply(this,arguments),p=a.apply(this,arguments)/2,m=fF.call(arguments),v=+n.apply(this,(m[0]=d,m)),g=o.apply(this,m)-Yp,x=s.apply(this,m)-Yp,_=+i.apply(this,(m[0]=f,m)),w=o.apply(this,m)-Yp,b=s.apply(this,m)-Yp;if(l||(l=u=si()),p>B2&&(L6(x-g)>p*2+B2?x>g?(g+=p,x-=p):(g-=p,x+=p):g=x=(g+x)/2,L6(b-w)>p*2+B2?b>w?(w+=p,b-=p):(w-=p,b+=p):w=b=(w+b)/2),l.moveTo(v*mc(g),v*gc(g)),l.arc(0,0,v,g,x),g!==w||x!==b)if(e){var k=+e.apply(this,arguments),E=_-k,V=(w+b)/2;l.quadraticCurveTo(0,0,E*mc(w),E*gc(w)),l.lineTo(_*mc(V),_*gc(V)),l.lineTo(E*mc(b),E*gc(b))}else l.quadraticCurveTo(0,0,_*mc(w),_*gc(w)),l.arc(0,0,_,w,b);if(l.quadraticCurveTo(0,0,v*mc(g),v*gc(g)),l.closePath(),u)return l=null,u+""||null}return e&&(c.headRadius=function(u){return arguments.length?(e=typeof u=="function"?u:il(+u),c):e}),c.radius=function(u){return arguments.length?(n=i=typeof u=="function"?u:il(+u),c):n},c.sourceRadius=function(u){return arguments.length?(n=typeof u=="function"?u:il(+u),c):n},c.targetRadius=function(u){return arguments.length?(i=typeof u=="function"?u:il(+u),c):i},c.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:il(+u),c):o},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:il(+u),c):s},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:il(+u),c):a},c.source=function(u){return arguments.length?(t=u,c):t},c.target=function(u){return arguments.length?(r=u,c):r},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function mF(){return pF()}function gF(){return pF(Tue)}on();var kue=Array.prototype,H2=kue.slice;function yF(e,t){return e-t}function vF(e){for(var t=0,r=e.length,n=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)n+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return n}var ns=e=>()=>e;function xF(e,t){for(var r=-1,n=t.length,i;++r<n;)if(i=Iue(e,t[r]))return i;return 0}function Iue(e,t){for(var r=t[0],n=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],d=e[a],f=d[0],p=d[1];if(Aue(l,d,t))return 0;u>n!=p>n&&r<(f-c)*(n-u)/(p-u)+c&&(i=-i)}return i}function Aue(e,t,r){var n;return Oue(e,t,r)&&Pue(e[n=+(e[0]===t[0])],r[n],t[n])}function Oue(e,t,r){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])}function Pue(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}function bF(){}var Ys=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function W2(){var e=1,t=1,r=ic,n=l;function i(c){var u=r(c);if(Array.isArray(u))u=u.slice().sort(yF);else{var d=yn(c),f=d[0],p=d[1];u=Ni(f,p,u),u=Vt(Math.floor(f/u)*u,Math.floor(p/u)*u,u)}return u.map(function(m){return o(c,m)})}function o(c,u){var d=[],f=[];return s(c,u,function(p){n(p,c,u),vF(p)>0?d.push([p]):f.push(p)}),f.forEach(function(p){for(var m=0,v=d.length,g;m<v;++m)if(xF((g=d[m])[0],p)!==-1){g.push(p);return}}),{type:"MultiPolygon",value:u,coordinates:d}}function s(c,u,d){var f=new Array,p=new Array,m,v,g,x,_,w;for(m=v=-1,x=c[0]>=u,Ys[x<<1].forEach(b);++m<e-1;)g=x,x=c[m+1]>=u,Ys[g|x<<1].forEach(b);for(Ys[x<<0].forEach(b);++v<t-1;){for(m=-1,x=c[v*e+e]>=u,_=c[v*e]>=u,Ys[x<<1|_<<2].forEach(b);++m<e-1;)g=x,x=c[v*e+e+m+1]>=u,w=_,_=c[v*e+m+1]>=u,Ys[g|x<<1|_<<2|w<<3].forEach(b);Ys[x|_<<3].forEach(b)}for(m=-1,_=c[v*e]>=u,Ys[_<<2].forEach(b);++m<e-1;)w=_,_=c[v*e+m+1]>=u,Ys[_<<2|w<<3].forEach(b);Ys[_<<3].forEach(b);function b(k){var E=[k[0][0]+m,k[0][1]+v],V=[k[1][0]+m,k[1][1]+v],z=a(E),B=a(V),$,D;($=p[z])?(D=f[B])?(delete p[$.end],delete f[D.start],$===D?($.ring.push(V),d($.ring)):f[$.start]=p[D.end]={start:$.start,end:D.end,ring:$.ring.concat(D.ring)}):(delete p[$.end],$.ring.push(V),p[$.end=B]=$):($=f[B])?(D=p[z])?(delete f[$.start],delete p[D.end],$===D?($.ring.push(V),d($.ring)):f[D.start]=p[$.end]={start:D.start,end:$.end,ring:D.ring.concat($.ring)}):(delete f[$.start],$.ring.unshift(E),f[$.start=z]=$):f[z]=p[B]={start:z,end:B,ring:[E,V]}}}function a(c){return c[0]*2+c[1]*(e+1)*4}function l(c,u,d){c.forEach(function(f){var p=f[0],m=f[1],v=p|0,g=m|0,x,_=u[g*e+v];p>0&&p<e&&v===p&&(x=u[g*e+v-1],f[0]=p+(d-x)/(_-x)-.5),m>0&&m<t&&g===m&&(x=u[(g-1)*e+v],f[1]=m+(d-x)/(_-x)-.5)})}return i.contour=o,i.size=function(c){if(!arguments.length)return[e,t];var u=Math.floor(c[0]),d=Math.floor(c[1]);if(!(u>=0&&d>=0))throw new Error("invalid size");return e=u,t=d,i},i.thresholds=function(c){return arguments.length?(r=typeof c=="function"?c:Array.isArray(c)?ns(H2.call(c)):ns(c),i):r},i.smooth=function(c){return arguments.length?(n=c?l:bF,i):n===l},i}on();function q2(e,t,r){for(var n=e.width,i=e.height,o=(r<<1)+1,s=0;s<i;++s)for(var a=0,l=0;a<n+r;++a)a<n&&(l+=e.data[a+s*n]),a>=r&&(a>=o&&(l-=e.data[a-o+s*n]),t.data[a-r+s*n]=l/Math.min(a+1,n-1+o-a,o))}function G2(e,t,r){for(var n=e.width,i=e.height,o=(r<<1)+1,s=0;s<n;++s)for(var a=0,l=0;a<i+r;++a)a<i&&(l+=e.data[s+a*n]),a>=r&&(a>=o&&(l-=e.data[s+(a-o)*n]),t.data[s+(a-r)*n]=l/Math.min(a+1,i-1+o-a,o))}function Nue(e){return e[0]}function Rue(e){return e[1]}function Fue(){return 1}function _F(){var e=Nue,t=Rue,r=Fue,n=960,i=500,o=20,s=2,a=o*3,l=n+a*2>>s,c=i+a*2>>s,u=ns(20);function d(x){var _=new Float32Array(l*c),w=new Float32Array(l*c);x.forEach(function(E,V,z){var B=+e(E,V,z)+a>>s,$=+t(E,V,z)+a>>s,D=+r(E,V,z);B>=0&&B<l&&$>=0&&$<c&&(_[B+$*l]+=D)}),q2({width:l,height:c,data:_},{width:l,height:c,data:w},o>>s),G2({width:l,height:c,data:w},{width:l,height:c,data:_},o>>s),q2({width:l,height:c,data:_},{width:l,height:c,data:w},o>>s),G2({width:l,height:c,data:w},{width:l,height:c,data:_},o>>s),q2({width:l,height:c,data:_},{width:l,height:c,data:w},o>>s),G2({width:l,height:c,data:w},{width:l,height:c,data:_},o>>s);var b=u(_);if(!Array.isArray(b)){var k=ct(_);b=Ni(0,k,b),b=Vt(0,Math.floor(k/b)*b,b),b.shift()}return W2().thresholds(b).size([l,c])(_).map(f)}function f(x){return x.value*=Math.pow(2,-2*s),x.coordinates.forEach(p),x}function p(x){x.forEach(m)}function m(x){x.forEach(v)}function v(x){x[0]=x[0]*Math.pow(2,s)-a,x[1]=x[1]*Math.pow(2,s)-a}function g(){return a=o*3,l=n+a*2>>s,c=i+a*2>>s,d}return d.x=function(x){return arguments.length?(e=typeof x=="function"?x:ns(+x),d):e},d.y=function(x){return arguments.length?(t=typeof x=="function"?x:ns(+x),d):t},d.weight=function(x){return arguments.length?(r=typeof x=="function"?x:ns(+x),d):r},d.size=function(x){if(!arguments.length)return[n,i];var _=+x[0],w=+x[1];if(!(_>=0&&w>=0))throw new Error("invalid size");return n=_,i=w,g()},d.cellSize=function(x){if(!arguments.length)return 1<<s;if(!((x=+x)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(x)/Math.LN2),g()},d.thresholds=function(x){return arguments.length?(u=typeof x=="function"?x:Array.isArray(x)?ns(H2.call(x)):ns(x),d):u},d.bandwidth=function(x){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((x=+x)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*x*x+1)-1)/2),g()},d}var wF=Math.pow(2,-52),Y2=new Uint32Array(512),Xp=class e{static from(t,r=$ue,n=zue){let i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){let a=t[s];o[2*s]=r(a),o[2*s+1]=n(a)}return new e(o)}constructor(t){let r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){let{coords:t,_hullPrev:r,_hullNext:n,_hullTri:i,_hullHash:o}=this,s=t.length>>1,a=1/0,l=1/0,c=-1/0,u=-1/0;for(let $=0;$<s;$++){let D=t[2*$],I=t[2*$+1];D<a&&(a=D),I<l&&(l=I),D>c&&(c=D),I>u&&(u=I),this._ids[$]=$}let d=(a+c)/2,f=(l+u)/2,p=1/0,m,v,g;for(let $=0;$<s;$++){let D=W6(d,f,t[2*$],t[2*$+1]);D<p&&(m=$,p=D)}let x=t[2*m],_=t[2*m+1];p=1/0;for(let $=0;$<s;$++){if($===m)continue;let D=W6(x,_,t[2*$],t[2*$+1]);D<p&&D>0&&(v=$,p=D)}let w=t[2*v],b=t[2*v+1],k=1/0;for(let $=0;$<s;$++){if($===m||$===v)continue;let D=Vue(x,_,w,b,t[2*$],t[2*$+1]);D<k&&(g=$,k=D)}let E=t[2*g],V=t[2*g+1];if(k===1/0){for(let I=0;I<s;I++)this._dists[I]=t[2*I]-t[0]||t[2*I+1]-t[1];zd(this._ids,this._dists,0,s-1);let $=new Uint32Array(s),D=0;for(let I=0,L=-1/0;I<s;I++){let O=this._ids[I];this._dists[O]>L&&($[D++]=O,L=this._dists[O])}this.hull=$.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Z2(x,_,w,b,E,V)){let $=v,D=w,I=b;v=g,w=E,b=V,g=$,E=D,V=I}let z=Uue(x,_,w,b,E,V);this._cx=z.x,this._cy=z.y;for(let $=0;$<s;$++)this._dists[$]=W6(t[2*$],t[2*$+1],z.x,z.y);zd(this._ids,this._dists,0,s-1),this._hullStart=m;let B=3;n[m]=r[g]=v,n[v]=r[m]=g,n[g]=r[v]=m,i[m]=0,i[v]=1,i[g]=2,o.fill(-1),o[this._hashKey(x,_)]=m,o[this._hashKey(w,b)]=v,o[this._hashKey(E,V)]=g,this.trianglesLen=0,this._addTriangle(m,v,g,-1,-1,-1);for(let $=0,D,I;$<this._ids.length;$++){let L=this._ids[$],O=t[2*L],S=t[2*L+1];if($>0&&Math.abs(O-D)<=wF&&Math.abs(S-I)<=wF||(D=O,I=S,L===m||L===v||L===g))continue;let T=0;for(let G=0,J=this._hashKey(O,S);G<this._hashSize&&(T=o[(J+G)%this._hashSize],!(T!==-1&&T!==n[T]));G++);T=r[T];let P=T,U;for(;U=n[P],!Z2(O,S,t[2*P],t[2*P+1],t[2*U],t[2*U+1]);)if(P=U,P===T){P=-1;break}if(P===-1)continue;let F=this._addTriangle(P,L,n[P],-1,-1,i[P]);i[L]=this._legalize(F+2),i[P]=F,B++;let j=n[P];for(;U=n[j],Z2(O,S,t[2*j],t[2*j+1],t[2*U],t[2*U+1]);)F=this._addTriangle(j,L,U,i[L],-1,i[j]),i[L]=this._legalize(F+2),n[j]=j,B--,j=U;if(P===T)for(;U=r[P],Z2(O,S,t[2*U],t[2*U+1],t[2*P],t[2*P+1]);)F=this._addTriangle(U,L,P,-1,i[P],i[U]),this._legalize(F+2),i[U]=F,n[P]=P,B--,P=U;this._hullStart=r[L]=P,n[P]=r[j]=L,n[L]=j,o[this._hashKey(O,S)]=L,o[this._hashKey(t[2*P],t[2*P+1])]=P}this.hull=new Uint32Array(B);for(let $=0,D=this._hullStart;$<B;$++)this.hull[$]=D,D=n[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(Lue(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:r,_halfedges:n,coords:i}=this,o=0,s=0;for(;;){let a=n[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=Y2[--o];continue}let c=a-a%3,u=l+(t+1)%3,d=c+(a+2)%3,f=r[s],p=r[t],m=r[u],v=r[d];if(jue(i[2*f],i[2*f+1],i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*v],i[2*v+1])){r[t]=v,r[a]=f;let x=n[d];if(x===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,x),this._link(a,n[s]),this._link(s,d);let _=c+(a+1)%3;o<Y2.length&&(Y2[o++]=_)}else{if(o===0)break;t=Y2[--o]}}return s}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,i,o,s){let a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=r,this._triangles[a+2]=n,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}};function Lue(e,t){let r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function W6(e,t,r,n){let i=e-r,o=t-n;return i*i+o*o}function q6(e,t,r,n,i,o){let s=(n-t)*(i-e),a=(r-e)*(o-t);return Math.abs(s-a)>=33306690738754716e-32*Math.abs(s+a)?s-a:0}function Z2(e,t,r,n,i,o){return(q6(i,o,e,t,r,n)||q6(e,t,r,n,i,o)||q6(r,n,i,o,e,t))<0}function jue(e,t,r,n,i,o,s,a){let l=e-s,c=t-a,u=r-s,d=n-a,f=i-s,p=o-a,m=l*l+c*c,v=u*u+d*d,g=f*f+p*p;return l*(d*g-v*p)-c*(u*g-v*f)+m*(u*p-d*f)<0}function Vue(e,t,r,n,i,o){let s=r-e,a=n-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),p=(c*u-a*d)*f,m=(s*d-l*u)*f;return p*p+m*m}function Uue(e,t,r,n,i,o){let s=r-e,a=n-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),p=e+(c*u-a*d)*f,m=t+(s*d-l*u)*f;return{x:p,y:m}}function zd(e,t,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){let o=e[i],s=t[o],a=i-1;for(;a>=r&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{let i=r+n>>1,o=r+1,s=n;Zp(e,i,o),t[e[r]]>t[e[n]]&&Zp(e,r,n),t[e[o]]>t[e[n]]&&Zp(e,o,n),t[e[r]]>t[e[o]]&&Zp(e,r,o);let a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;Zp(e,o,s)}e[r+1]=e[s],e[s]=a,n-o+1>=s-r?(zd(e,t,o,n),zd(e,t,r,s-1)):(zd(e,t,r,s-1),zd(e,t,o,n))}}function Zp(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function $ue(e){return e[0]}function zue(e){return e[1]}var vo=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;let i=t+n,o=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+i+","+o),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,r,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+i}h${-n}Z`}value(){return this._||null}};var vc=class{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}};var Bd=class{constructor(t,[r,n,i,o]=[0,0,960,500]){if(!((i=+i)>=(r=+r))||!((o=+o)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=r,this.ymax=o,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:r,triangles:n},vectors:i}=this,o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let p=0,m=0,v=n.length,g,x;p<v;p+=3,m+=2){let _=n[p]*2,w=n[p+1]*2,b=n[p+2]*2,k=t[_],E=t[_+1],V=t[w],z=t[w+1],B=t[b],$=t[b+1],D=V-k,I=z-E,L=B-k,O=$-E,S=D*D+I*I,T=L*L+O*O,P=(D*O-I*L)*2;if(!P)g=(k+B)/2-1e8*O,x=(E+$)/2+1e8*L;else if(Math.abs(P)<1e-8)g=(k+B)/2,x=(E+$)/2;else{let U=1/P;g=k+(O*S-I*T)*U,x=E+(D*T-L*S)*U}o[m]=g,o[m+1]=x}let s=r[r.length-1],a,l=s*4,c,u=t[2*s],d,f=t[2*s+1];i.fill(0);for(let p=0;p<r.length;++p)s=r[p],a=l,c=u,d=f,l=s*4,u=t[2*s],f=t[2*s+1],i[a+2]=i[l]=d-f,i[a+3]=i[l+1]=u-c}render(t){let r=t==null?t=new vo:void 0,{delaunay:{halfedges:n,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,d=n.length;u<d;++u){let f=n[u];if(f<u)continue;let p=Math.floor(u/3)*2,m=Math.floor(f/3)*2,v=s[p],g=s[p+1],x=s[m],_=s[m+1];this._renderSegment(v,g,x,_,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];let d=Math.floor(i[c]/3)*2,f=s[d],p=s[d+1],m=l*4,v=this._project(f,p,a[m+2],a[m+3]);v&&this._renderSegment(f,p,v[0],v[1],t)}return r&&r.value()}renderBounds(t){let r=t==null?t=new vo:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){let n=r==null?r=new vo:void 0,i=this._clip(t);if(i===null||!i.length)return;r.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&r.lineTo(i[s],i[s+1]);return r.closePath(),n&&n.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){let i=this.cellPolygon(r);i&&(i.index=r,yield i)}}cellPolygon(t){let r=new vc;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,i,o){let s,a=this._regioncode(t,r),l=this._regioncode(n,i);a===0&&l===0?(o.moveTo(t,r),o.lineTo(n,i)):(s=this._clipSegment(t,r,n,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){let r=this._clip(t);if(r)for(let n of this.delaunay.neighbors(t)){let i=this._clip(n);if(i){e:for(let o=0,s=r.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(r[o]==i[a]&&r[o+1]==i[a+1]&&r[(o+2)%s]==i[(a+l-2)%l]&&r[(o+3)%s]==i[(a+l-1)%l]){yield n;break e}}}}_cell(t){let{circumcenters:r,delaunay:{inedges:n,halfedges:i,triangles:o}}=this,s=n[t];if(s===-1)return null;let a=[],l=s;do{let c=Math.floor(l/3);if(a.push(r[c*2],r[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let r=this._cell(t);if(r===null)return null;let{vectors:n}=this,i=t*4;return n[i]||n[i+1]?this._clipInfinite(t,r,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,r)}_clipFinite(t,r){let n=r.length,i=null,o,s,a=r[n-2],l=r[n-1],c,u=this._regioncode(a,l),d,f;for(let p=0;p<n;p+=2)if(o=a,s=l,a=r[p],l=r[p+1],c=u,u=this._regioncode(a,l),c===0&&u===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let m,v,g,x,_;if(c===0){if((m=this._clipSegment(o,s,a,l,c,u))===null)continue;[v,g,x,_]=m}else{if((m=this._clipSegment(a,l,o,s,u,c))===null)continue;[x,_,v,g]=m,d=f,f=this._edgecode(v,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(v,g):i=[v,g]}d=f,f=this._edgecode(x,_),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(x,_):i=[x,_]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,r,n,i,o,s){for(;;){if(o===0&&s===0)return[t,r,n,i];if(o&s)return null;let a,l,c=o||s;c&8?(a=t+(n-t)*(this.ymax-r)/(i-r),l=this.ymax):c&4?(a=t+(n-t)*(this.ymin-r)/(i-r),l=this.ymin):c&2?(l=r+(i-r)*(this.xmax-t)/(n-t),a=this.xmax):(l=r+(i-r)*(this.xmin-t)/(n-t),a=this.xmin),o?(t=a,r=l,o=this._regioncode(t,r)):(n=a,i=l,s=this._regioncode(n,i))}}_clipInfinite(t,r,n,i,o,s){let a=Array.from(r),l;if((l=this._project(a[0],a[1],n,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,d,f=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)d=f,f=this._edgecode(a[c],a[c+1]),d&&f&&(c=this._edge(t,d,f,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,r,n,i,o){for(;r!==n;){let s,a;switch(r){case 5:r=4;continue;case 4:r=6,s=this.xmax,a=this.ymin;break;case 6:r=2;continue;case 2:r=10,s=this.xmax,a=this.ymax;break;case 10:r=8;continue;case 8:r=9,s=this.xmin,a=this.ymax;break;case 9:r=1;continue;case 1:r=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){let a=(s+2)%i.length,l=(s+4)%i.length;(i[s]===i[a]&&i[a]===i[l]||i[s+1]===i[a+1]&&i[a+1]===i[l+1])&&(i.splice(a,2),s-=2)}return o}_project(t,r,n,i){let o=1/0,s,a,l;if(i<0){if(r<=this.ymin)return null;(s=(this.ymin-r)/i)<o&&(l=this.ymin,a=t+(o=s)*n)}else if(i>0){if(r>=this.ymax)return null;(s=(this.ymax-r)/i)<o&&(l=this.ymax,a=t+(o=s)*n)}if(n>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/n)<o&&(a=this.xmax,l=r+(o=s)*i)}else if(n<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/n)<o&&(a=this.xmin,l=r+(o=s)*i)}return[a,l]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}};var Bue=2*Math.PI,Hd=Math.pow;function Hue(e){return e[0]}function Wue(e){return e[1]}function que(e){let{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){let i=2*t[n],o=2*t[n+1],s=2*t[n+2];if((r[s]-r[i])*(r[o+1]-r[i+1])-(r[o]-r[i])*(r[s+1]-r[i+1])>1e-10)return!1}return!0}function Gue(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}var X2=class e{static from(t,r=Hue,n=Wue,i){return new e("length"in t?Yue(t,r,n,i):Float64Array.from(Zue(t,r,n,i)))}constructor(t){this._delaunator=new Xp(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&que(t)){this.collinear=Int32Array.from({length:r.length/2},(f,p)=>p).sort((f,p)=>r[2*f]-r[2*p]||r[2*f+1]-r[2*p+1]);let l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[r[2*l],r[2*l+1],r[2*c],r[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,p=r.length/2;f<p;++f){let m=Gue(r[2*f],r[2*f+1],d);r[2*f]=m[0],r[2*f+1]=m[1]}this._delaunator=new Xp(r)}else delete this.collinear;let n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=n.length;l<c;++l){let u=o[l%3===2?l-2:l+1];(n[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],s[i[0]]=1,i.length===2&&(s[i[1]]=0))}voronoi(t){return new Bd(this,t)}*neighbors(t){let{inedges:r,hull:n,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){let d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}let l=r[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){let d=n[(i[t]+1)%n.length];d!==u&&(yield d);return}}while(c!==l)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;let i=n,o;for(;(o=this._step(n,t,r))>=0&&o!==n&&o!==i;)n=o;return o}_step(t,r,n){let{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,d=Hd(r-c[t*2],2)+Hd(n-c[t*2+1],2),f=i[t],p=f;do{let m=l[p],v=Hd(r-c[m*2],2)+Hd(n-c[m*2+1],2);if(v<d&&(d=v,u=m),p=p%3===2?p-2:p+1,l[p]!==t)break;if(p=a[p],p===-1){if(p=o[(s[t]+1)%o.length],p!==m&&Hd(r-c[p*2],2)+Hd(n-c[p*2+1],2)<d)return p;break}}while(p!==f);return u}render(t){let r=t==null?t=new vo:void 0,{points:n,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){let l=i[s];if(l<s)continue;let c=o[s]*2,u=o[l]*2;t.moveTo(n[c],n[c+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r=2){let n=t==null?t=new vo:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){let a=i[o],l=i[o+1];t.moveTo(a+r,l),t.arc(a,l,r,0,Bue)}return n&&n.value()}renderHull(t){let r=t==null?t=new vo:void 0,{hull:n,points:i}=this,o=n[0]*2,s=n.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){let l=2*n[a];t.lineTo(i[l],i[l+1])}return t.closePath(),r&&r.value()}hullPolygon(){let t=new vc;return this.renderHull(t),t.value()}renderTriangle(t,r){let n=r==null?r=new vo:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return r.moveTo(i[s],i[s+1]),r.lineTo(i[a],i[a+1]),r.lineTo(i[l],i[l+1]),r.closePath(),n&&n.value()}*trianglePolygons(){let{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){let r=new vc;return this.renderTriangle(t,r),r.value()}};function Yue(e,t,r,n){let i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){let a=e[s];o[s*2]=t.call(n,a,s,e),o[s*2+1]=r.call(n,a,s,e)}return o}function*Zue(e,t,r,n){let i=0;for(let o of e)yield t.call(n,o,i,e),yield r.call(n,o,i,e),++i}Wa();var CF={},G6={},Y6=34,Qp=10,Z6=13;function MF(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function Xue(e,t){var r=MF(e);return function(n,i){return t(r(n),i,e)}}function DF(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function ai(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function Que(e){return e<0?"-"+ai(-e,6):e>9999?"+"+ai(e,6):ai(e,4)}function Kue(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Que(e.getUTCFullYear(),4)+"-"+ai(e.getUTCMonth()+1,2)+"-"+ai(e.getUTCDate(),2)+(i?"T"+ai(t,2)+":"+ai(r,2)+":"+ai(n,2)+"."+ai(i,3)+"Z":n?"T"+ai(t,2)+":"+ai(r,2)+":"+ai(n,2)+"Z":r||t?"T"+ai(t,2)+":"+ai(r,2)+"Z":"")}function ol(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(d,f){var p,m,v=i(d,function(g,x){if(p)return p(g,x-1);m=g,p=f?Xue(g,f):MF(g)});return v.columns=m||[],v}function i(d,f){var p=[],m=d.length,v=0,g=0,x,_=m<=0,w=!1;d.charCodeAt(m-1)===Qp&&--m,d.charCodeAt(m-1)===Z6&&--m;function b(){if(_)return G6;if(w)return w=!1,CF;var E,V=v,z;if(d.charCodeAt(V)===Y6){for(;v++<m&&d.charCodeAt(v)!==Y6||d.charCodeAt(++v)===Y6;);return(E=v)>=m?_=!0:(z=d.charCodeAt(v++))===Qp?w=!0:z===Z6&&(w=!0,d.charCodeAt(v)===Qp&&++v),d.slice(V+1,E-1).replace(/""/g,'"')}for(;v<m;){if((z=d.charCodeAt(E=v++))===Qp)w=!0;else if(z===Z6)w=!0,d.charCodeAt(v)===Qp&&++v;else if(z!==r)continue;return d.slice(V,E)}return _=!0,d.slice(V,m)}for(;(x=b())!==G6;){for(var k=[];x!==CF&&x!==G6;)k.push(x),x=b();f&&(k=f(k,g++))==null||p.push(k)}return p}function o(d,f){return d.map(function(p){return f.map(function(m){return u(p[m])}).join(e)})}function s(d,f){return f==null&&(f=DF(d)),[f.map(u).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=DF(d)),o(d,f).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(e)}function u(d){return d==null?"":d instanceof Date?Kue(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:n,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}var xc=ol(","),sl=xc.parse,SF=xc.parseRows,EF=xc.format,TF=xc.formatBody,kF=xc.formatRows,IF=xc.formatRow,AF=xc.formatValue;var bc=ol("	"),Q2=bc.parse,OF=bc.parseRows,PF=bc.format,NF=bc.formatBody,RF=bc.formatRows,FF=bc.formatRow,LF=bc.formatValue;function Zs(e){for(var t in e){var r=e[t].trim(),n,i;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(n=+r))r=n;else if(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))Jue&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}var Jue=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function ede(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function jF(e,t){return fetch(e,t).then(ede)}function tde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function VF(e,t){return fetch(e,t).then(tde)}function nde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function _c(e,t){return fetch(e,t).then(nde)}function UF(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),_c(t,r).then(function(i){return e(i,n)})}}function X6(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var i=ol(e);return _c(t,r).then(function(o){return i.parse(o,n)})}var al=UF(sl),$F=UF(Q2);function zF(e,t){return new Promise(function(r,n){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=n,i.onload=function(){r(i)},i.src=e})}function rde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function BF(e,t){return fetch(e,t).then(rde)}function Q6(e){return(t,r)=>_c(t,r).then(n=>new DOMParser().parseFromString(n,e))}var HF=Q6("application/xml"),WF=Q6("text/html"),qF=Q6("image/svg+xml");function GF(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=r.length,a,l=0,c=0;for(o=0;o<s;++o)a=r[o],l+=a.x,c+=a.y;for(l=(l/s-e)*n,c=(c/s-t)*n,o=0;o<s;++o)a=r[o],a.x-=l,a.y-=c}return i.initialize=function(o){r=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(n=+o,i):n},i}function YF(e){let t=+this._x.call(null,e),r=+this._y.call(null,e);return ZF(this.cover(t,r),t,r,e)}function ZF(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,o=e._root,s={data:n},a=e._x0,l=e._y0,c=e._x1,u=e._y1,d,f,p,m,v,g,x,_;if(!o)return e._root=s,e;for(;o.length;)if((v=t>=(d=(a+c)/2))?a=d:c=d,(g=r>=(f=(l+u)/2))?l=f:u=f,i=o,!(o=o[x=g<<1|v]))return i[x]=s,e;if(p=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===p&&r===m)return s.next=o,i?i[x]=s:e._root=s,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(v=t>=(d=(a+c)/2))?a=d:c=d,(g=r>=(f=(l+u)/2))?l=f:u=f;while((x=g<<1|v)===(_=(m>=f)<<1|p>=d));return i[_]=o,i[x]=s,e}function XF(e){var t,r,n=e.length,i,o,s=new Array(n),a=new Array(n),l=1/0,c=1/0,u=-1/0,d=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(o=+this._y.call(null,t))||(s[r]=i,a[r]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>d&&(d=o));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),r=0;r<n;++r)ZF(this,s[r],a[r],e[r]);return this}function QF(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(n=Math.floor(t))+1;else{for(var s=i-r||1,a=this._root,l,c;r>e||e>=i||n>t||t>=o;)switch(c=(t<n)<<1|e<r,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=r+s,o=n+s;break;case 1:r=i-s,o=n+s;break;case 2:i=r+s,n=o-s;break;case 3:r=i-s,n=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this}function KF(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function JF(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Jn(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i}function eL(e,t,r){var n,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,d=this._y1,f=[],p=this._root,m,v;for(p&&f.push(new Jn(p,i,o,u,d)),r==null?r=1/0:(i=e-r,o=t-r,u=e+r,d=t+r,r*=r);m=f.pop();)if(!(!(p=m.node)||(s=m.x0)>u||(a=m.y0)>d||(l=m.x1)<i||(c=m.y1)<o))if(p.length){var g=(s+l)/2,x=(a+c)/2;f.push(new Jn(p[3],g,x,l,c),new Jn(p[2],s,x,g,c),new Jn(p[1],g,a,l,x),new Jn(p[0],s,a,g,x)),(v=(t>=x)<<1|e>=g)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-v],f[f.length-1-v]=m)}else{var _=e-+this._x.call(null,p.data),w=t-+this._y.call(null,p.data),b=_*_+w*w;if(b<r){var k=Math.sqrt(r=b);i=e-k,o=t-k,u=e+k,d=t+k,n=p.data}}return n}function tL(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r=this._root,n,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,d,f,p,m,v,g,x;if(!r)return this;if(r.length)for(;;){if((m=u>=(f=(s+l)/2))?s=f:l=f,(v=d>=(p=(a+c)/2))?a=p:c=p,t=r,!(r=r[g=v<<1|m]))return this;if(!r.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(n=t,x=g)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[x]=r:this._root=r),this):(this._root=o,this)}function nL(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function rL(){return this._root}function iL(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function oL(e){var t=[],r,n=this._root,i,o,s,a,l;for(n&&t.push(new Jn(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,o=r.x0,s=r.y0,a=r.x1,l=r.y1)&&n.length){var c=(o+a)/2,u=(s+l)/2;(i=n[3])&&t.push(new Jn(i,c,u,a,l)),(i=n[2])&&t.push(new Jn(i,o,u,c,l)),(i=n[1])&&t.push(new Jn(i,c,s,a,u)),(i=n[0])&&t.push(new Jn(i,o,s,c,u))}return this}function sL(e){var t=[],r=[],n;for(this._root&&t.push(new Jn(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var o,s=n.x0,a=n.y0,l=n.x1,c=n.y1,u=(s+l)/2,d=(a+c)/2;(o=i[0])&&t.push(new Jn(o,s,a,u,d)),(o=i[1])&&t.push(new Jn(o,u,a,l,d)),(o=i[2])&&t.push(new Jn(o,s,d,u,c)),(o=i[3])&&t.push(new Jn(o,u,d,l,c))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function aL(e){return e[0]}function lL(e){return arguments.length?(this._x=e,this):this._x}function cL(e){return e[1]}function uL(e){return arguments.length?(this._y=e,this):this._y}function ll(e,t,r){var n=new K6(t??aL,r??cL,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function K6(e,t,r,n,i,o){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function dL(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Lr=ll.prototype=K6.prototype;Lr.copy=function(){var e=new K6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=dL(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=dL(n));return e};Lr.add=YF;Lr.addAll=XF;Lr.cover=QF;Lr.data=KF;Lr.extent=JF;Lr.find=eL;Lr.remove=tL;Lr.removeAll=nL;Lr.root=rL;Lr.size=iL;Lr.visit=oL;Lr.visitAfter=sL;Lr.x=lL;Lr.y=uL;function ln(e){return function(){return e}}function xo(e){return(e()-.5)*1e-6}function ide(e){return e.x+e.vx}function ode(e){return e.y+e.vy}function fL(e){var t,r,n,i=1,o=1;typeof e!="function"&&(e=ln(e==null?1:+e));function s(){for(var c,u=t.length,d,f,p,m,v,g,x=0;x<o;++x)for(d=ll(t,ide,ode).visitAfter(a),c=0;c<u;++c)f=t[c],v=r[f.index],g=v*v,p=f.x+f.vx,m=f.y+f.vy,d.visit(_);function _(w,b,k,E,V){var z=w.data,B=w.r,$=v+B;if(z){if(z.index>f.index){var D=p-z.x-z.vx,I=m-z.y-z.vy,L=D*D+I*I;L<$*$&&(D===0&&(D=xo(n),L+=D*D),I===0&&(I=xo(n),L+=I*I),L=($-(L=Math.sqrt(L)))/L*i,f.vx+=(D*=L)*($=(B*=B)/(g+B)),f.vy+=(I*=L)*$,z.vx-=D*($=1-$),z.vy-=I*$)}return}return b>p+$||E<p-$||k>m+$||V<m-$}}function a(c){if(c.data)return c.r=r[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,d;for(r=new Array(u),c=0;c<u;++c)d=t[c],r[d.index]=+e(d,c,t)}}return s.initialize=function(c,u){t=c,n=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ln(+c),l(),s):e},s}function sde(e){return e.index}function hL(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function pL(e){var t=sde,r=d,n,i=ln(30),o,s,a,l,c,u=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var x=0,_=e.length;x<u;++x)for(var w=0,b,k,E,V,z,B,$;w<_;++w)b=e[w],k=b.source,E=b.target,V=E.x+E.vx-k.x-k.vx||xo(c),z=E.y+E.vy-k.y-k.vy||xo(c),B=Math.sqrt(V*V+z*z),B=(B-o[w])/B*g*n[w],V*=B,z*=B,E.vx-=V*($=l[w]),E.vy-=z*$,k.vx+=V*($=1-$),k.vy+=z*$}function p(){if(s){var g,x=s.length,_=e.length,w=new Map(s.map((k,E)=>[t(k,E,s),k])),b;for(g=0,a=new Array(x);g<_;++g)b=e[g],b.index=g,typeof b.source!="object"&&(b.source=hL(w,b.source)),typeof b.target!="object"&&(b.target=hL(w,b.target)),a[b.source.index]=(a[b.source.index]||0)+1,a[b.target.index]=(a[b.target.index]||0)+1;for(g=0,l=new Array(_);g<_;++g)b=e[g],l[g]=a[b.source.index]/(a[b.source.index]+a[b.target.index]);n=new Array(_),m(),o=new Array(_),v()}}function m(){if(s)for(var g=0,x=e.length;g<x;++g)n[g]=+r(e[g],g,e)}function v(){if(s)for(var g=0,x=e.length;g<x;++g)o[g]=+i(e[g],g,e)}return f.initialize=function(g,x){s=g,c=x,p()},f.links=function(g){return arguments.length?(e=g,p(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(u=+g,f):u},f.strength=function(g){return arguments.length?(r=typeof g=="function"?g:ln(+g),m(),f):r},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:ln(+g),v(),f):i},f}Wa();Ld();function mL(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function gL(e){return e.x}function yL(e){return e.y}var ade=10,lde=Math.PI*(3-Math.sqrt(5));function vL(e){var t,r=1,n=.001,i=1-Math.pow(n,1/300),o=0,s=.6,a=new Map,l=Ws(d),c=Ci("tick","end"),u=mL();e==null&&(e=[]);function d(){f(),c.call("tick",t),r<n&&(l.stop(),c.call("end",t))}function f(v){var g,x=e.length,_;v===void 0&&(v=1);for(var w=0;w<v;++w)for(r+=(o-r)*i,a.forEach(function(b){b(r)}),g=0;g<x;++g)_=e[g],_.fx==null?_.x+=_.vx*=s:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=s:(_.y=_.fy,_.vy=0);return t}function p(){for(var v=0,g=e.length,x;v<g;++v){if(x=e[v],x.index=v,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var _=ade*Math.sqrt(.5+v),w=v*lde;x.x=_*Math.cos(w),x.y=_*Math.sin(w)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function m(v){return v.initialize&&v.initialize(e,u),v}return p(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(v){return arguments.length?(e=v,p(),a.forEach(m),t):e},alpha:function(v){return arguments.length?(r=+v,t):r},alphaMin:function(v){return arguments.length?(n=+v,t):n},alphaDecay:function(v){return arguments.length?(i=+v,t):+i},alphaTarget:function(v){return arguments.length?(o=+v,t):o},velocityDecay:function(v){return arguments.length?(s=1-v,t):1-s},randomSource:function(v){return arguments.length?(u=v,a.forEach(m),t):u},force:function(v,g){return arguments.length>1?(g==null?a.delete(v):a.set(v,m(g)),t):a.get(v)},find:function(v,g,x){var _=0,w=e.length,b,k,E,V,z;for(x==null?x=1/0:x*=x,_=0;_<w;++_)V=e[_],b=v-V.x,k=g-V.y,E=b*b+k*k,E<x&&(z=V,x=E);return z},on:function(v,g){return arguments.length>1?(c.on(v,g),t):c.on(v)}}}function xL(){var e,t,r,n,i=ln(-30),o,s=1,a=1/0,l=.81;function c(p){var m,v=e.length,g=ll(e,gL,yL).visitAfter(d);for(n=p,m=0;m<v;++m)t=e[m],g.visit(f)}function u(){if(e){var p,m=e.length,v;for(o=new Array(m),p=0;p<m;++p)v=e[p],o[v.index]=+i(v,p,e)}}function d(p){var m=0,v,g,x=0,_,w,b;if(p.length){for(_=w=b=0;b<4;++b)(v=p[b])&&(g=Math.abs(v.value))&&(m+=v.value,x+=g,_+=g*v.x,w+=g*v.y);p.x=_/x,p.y=w/x}else{v=p,v.x=v.data.x,v.y=v.data.y;do m+=o[v.data.index];while(v=v.next)}p.value=m}function f(p,m,v,g){if(!p.value)return!0;var x=p.x-t.x,_=p.y-t.y,w=g-m,b=x*x+_*_;if(w*w/l<b)return b<a&&(x===0&&(x=xo(r),b+=x*x),_===0&&(_=xo(r),b+=_*_),b<s&&(b=Math.sqrt(s*b)),t.vx+=x*p.value*n/b,t.vy+=_*p.value*n/b),!0;if(p.length||b>=a)return;(p.data!==t||p.next)&&(x===0&&(x=xo(r),b+=x*x),_===0&&(_=xo(r),b+=_*_),b<s&&(b=Math.sqrt(s*b)));do p.data!==t&&(w=o[p.data.index]*n/b,t.vx+=x*w,t.vy+=_*w);while(p=p.next)}return c.initialize=function(p,m){e=p,r=m,u()},c.strength=function(p){return arguments.length?(i=typeof p=="function"?p:ln(+p),u(),c):i},c.distanceMin=function(p){return arguments.length?(s=p*p,c):Math.sqrt(s)},c.distanceMax=function(p){return arguments.length?(a=p*p,c):Math.sqrt(a)},c.theta=function(p){return arguments.length?(l=p*p,c):Math.sqrt(l)},c}function bL(e,t,r){var n,i=ln(.1),o,s;typeof e!="function"&&(e=ln(+e)),t==null&&(t=0),r==null&&(r=0);function a(c){for(var u=0,d=n.length;u<d;++u){var f=n[u],p=f.x-t||1e-6,m=f.y-r||1e-6,v=Math.sqrt(p*p+m*m),g=(s[u]-v)*o[u]*c/v;f.vx+=p*g,f.vy+=m*g}}function l(){if(n){var c,u=n.length;for(o=new Array(u),s=new Array(u),c=0;c<u;++c)s[c]=+e(n[c],c,n),o[c]=isNaN(s[c])?0:+i(n[c],c,n)}}return a.initialize=function(c){n=c,l()},a.strength=function(c){return arguments.length?(i=typeof c=="function"?c:ln(+c),l(),a):i},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:ln(+c),l(),a):e},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(r=+c,a):r},a}function _L(e){var t=ln(.1),r,n,i;typeof e!="function"&&(e=ln(e==null?0:+e));function o(a){for(var l=0,c=r.length,u;l<c;++l)u=r[l],u.vx+=(i[l]-u.x)*n[l]*a}function s(){if(r){var a,l=r.length;for(n=new Array(l),i=new Array(l),a=0;a<l;++a)n[a]=isNaN(i[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return o.initialize=function(a){r=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:ln(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:ln(+a),s(),o):e},o}function wL(e){var t=ln(.1),r,n,i;typeof e!="function"&&(e=ln(e==null?0:+e));function o(a){for(var l=0,c=r.length,u;l<c;++l)u=r[l],u.vy+=(i[l]-u.y)*n[l]*a}function s(){if(r){var a,l=r.length;for(n=new Array(l),i=new Array(l),a=0;a<l;++a)n[a]=isNaN(i[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return o.initialize=function(a){r=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:ln(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:ln(+a),s(),o):e},o}function CL(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wc(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function rs(e){return e=wc(Math.abs(e)),e?e[1]:NaN}function DL(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function ML(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xs(e){if(!(t=cde.exec(e)))throw new Error("invalid format: "+e);var t;return new Kp({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xs.prototype=Kp.prototype;function Kp(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kp.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function SL(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var J6;function EL(e,t){var r=wc(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(J6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+wc(e,Math.max(0,t+o-1))[0]}function eD(e,t){var r=wc(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var tD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CL,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eD(e*100,t),r:eD,s:EL,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nD(e){return e}var TL=Array.prototype.map,kL=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function K2(e){var t=e.grouping===void 0||e.thousands===void 0?nD:DL(TL.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?nD:ML(TL.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Xs(d);var f=d.fill,p=d.align,m=d.sign,v=d.symbol,g=d.zero,x=d.width,_=d.comma,w=d.precision,b=d.trim,k=d.type;k==="n"?(_=!0,k="g"):tD[k]||(w===void 0&&(w=12),b=!0,k="g"),(g||f==="0"&&p==="=")&&(g=!0,f="0",p="=");var E=v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",V=v==="$"?n:/[%p]/.test(k)?s:"",z=tD[k],B=/[defgprs%]/.test(k);w=w===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(D){var I=E,L=V,O,S,T;if(k==="c")L=z(D)+L,D="";else{D=+D;var P=D<0||1/D<0;if(D=isNaN(D)?l:z(Math.abs(D),w),b&&(D=SL(D)),P&&+D==0&&m!=="+"&&(P=!1),I=(P?m==="("?m:a:m==="-"||m==="("?"":m)+I,L=(k==="s"?kL[8+J6/3]:"")+L+(P&&m==="("?")":""),B){for(O=-1,S=D.length;++O<S;)if(T=D.charCodeAt(O),48>T||T>57){L=(T===46?i+D.slice(O+1):D.slice(O))+L,D=D.slice(0,O);break}}}_&&!g&&(D=t(D,1/0));var U=I.length+D.length+L.length,F=U<x?new Array(x-U+1).join(f):"";switch(_&&g&&(D=t(F+D,F.length?x-L.length:1/0),F=""),p){case"<":D=I+D+L+F;break;case"=":D=I+F+D+L;break;case"^":D=F.slice(0,U=F.length>>1)+I+D+L+F.slice(U);break;default:D=F+I+D+L;break}return o(D)}return $.toString=function(){return d+""},$}function u(d,f){var p=c((d=Xs(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(rs(f)/3)))*3,v=Math.pow(10,-m),g=kL[8+m/3];return function(x){return p(v*x)+g}}return{format:c,formatPrefix:u}}var J2,Ze,Cc;ev({thousands:",",grouping:[3],currency:["$",""]});function ev(e){return J2=K2(e),Ze=J2.format,Cc=J2.formatPrefix,J2}function tv(e){return Math.max(0,-rs(Math.abs(e)))}function nv(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rs(t)/3)))*3-rs(Math.abs(e)))}function rv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rs(t)-rs(e))+1}on();var xe=1e-6,Qs=1e-12,We=Math.PI,Qt=We/2,Wd=We/4,In=We*2,ht=180/We,Se=We/180,$e=Math.abs,Fi=Math.atan,nn=Math.atan2,me=Math.cos,Jp=Math.ceil,iv=Math.exp;var ov=Math.hypot,Dc=Math.log,sv=Math.pow,de=Math.sin,Dr=Math.sign||function(e){return e>0?1:e<0?-1:0},Dt=Math.sqrt,qd=Math.tan;function av(e){return e>1?0:e<-1?We:Math.acos(e)}function rn(e){return e>1?Qt:e<-1?-Qt:Math.asin(e)}function rD(e){return(e=de(e/2))*e}function Tt(){}function lv(e,t){e&&AL.hasOwnProperty(e.type)&&AL[e.type](e,t)}var IL={Feature:function(e,t){lv(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)lv(r[n].geometry,t)}},AL={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){iD(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)iD(r[n],t,0)},Polygon:function(e,t){OL(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)OL(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)lv(r[n],t)}};function iD(e,t,r){var n=-1,i=e.length-r,o;for(t.lineStart();++n<i;)o=e[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function OL(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)iD(e[r],t,1);t.polygonEnd()}function er(e,t){e&&IL.hasOwnProperty(e.type)?IL[e.type](e,t):lv(e,t)}var em=new jt,cv=new jt,PL,NL,oD,sD,aD,bo={point:Tt,lineStart:Tt,lineEnd:Tt,polygonStart:function(){em=new jt,bo.lineStart=ude,bo.lineEnd=dde},polygonEnd:function(){var e=+em;cv.add(e<0?In+e:e),this.lineStart=this.lineEnd=this.point=Tt},sphere:function(){cv.add(In)}};function ude(){bo.point=fde}function dde(){RL(PL,NL)}function fde(e,t){bo.point=RL,PL=e,NL=t,e*=Se,t*=Se,oD=e,sD=me(t=t/2+Wd),aD=de(t)}function RL(e,t){e*=Se,t*=Se,t=t/2+Wd;var r=e-oD,n=r>=0?1:-1,i=n*r,o=me(t),s=de(t),a=aD*s,l=sD*o+a*me(i),c=a*n*de(i);em.add(nn(c,l)),oD=e,sD=o,aD=s}function FL(e){return cv=new jt,er(e,bo),cv*2}on();function Mc(e){return[nn(e[1],e[0]),rn(e[2])]}function Li(e){var t=e[0],r=e[1],n=me(r);return[n*me(t),n*de(t),de(r)]}function tm(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ks(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function uv(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function nm(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Sc(e){var t=Dt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var vn,li,Sn,Mi,Ec,UL,$L,Gd,rm,cl,ea,Js={point:lD,lineStart:LL,lineEnd:jL,polygonStart:function(){Js.point=BL,Js.lineStart=hde,Js.lineEnd=pde,rm=new jt,bo.polygonStart()},polygonEnd:function(){bo.polygonEnd(),Js.point=lD,Js.lineStart=LL,Js.lineEnd=jL,em<0?(vn=-(Sn=180),li=-(Mi=90)):rm>xe?Mi=90:rm<-xe&&(li=-90),ea[0]=vn,ea[1]=Sn},sphere:function(){vn=-(Sn=180),li=-(Mi=90)}};function lD(e,t){cl.push(ea=[vn=e,Sn=e]),t<li&&(li=t),t>Mi&&(Mi=t)}function zL(e,t){var r=Li([e*Se,t*Se]);if(Gd){var n=Ks(Gd,r),i=[n[1],-n[0],0],o=Ks(i,n);Sc(o),o=Mc(o);var s=e-Ec,a=s>0?1:-1,l=o[0]*ht*a,c,u=$e(s)>180;u^(a*Ec<l&&l<a*e)?(c=o[1]*ht,c>Mi&&(Mi=c)):(l=(l+360)%360-180,u^(a*Ec<l&&l<a*e)?(c=-o[1]*ht,c<li&&(li=c)):(t<li&&(li=t),t>Mi&&(Mi=t))),u?e<Ec?Di(vn,e)>Di(vn,Sn)&&(Sn=e):Di(e,Sn)>Di(vn,Sn)&&(vn=e):Sn>=vn?(e<vn&&(vn=e),e>Sn&&(Sn=e)):e>Ec?Di(vn,e)>Di(vn,Sn)&&(Sn=e):Di(e,Sn)>Di(vn,Sn)&&(vn=e)}else cl.push(ea=[vn=e,Sn=e]);t<li&&(li=t),t>Mi&&(Mi=t),Gd=r,Ec=e}function LL(){Js.point=zL}function jL(){ea[0]=vn,ea[1]=Sn,Js.point=lD,Gd=null}function BL(e,t){if(Gd){var r=e-Ec;rm.add($e(r)>180?r+(r>0?360:-360):r)}else UL=e,$L=t;bo.point(e,t),zL(e,t)}function hde(){bo.lineStart()}function pde(){BL(UL,$L),bo.lineEnd(),$e(rm)>xe&&(vn=-(Sn=180)),ea[0]=vn,ea[1]=Sn,Gd=null}function Di(e,t){return(t-=e)<0?t+360:t}function mde(e,t){return e[0]-t[0]}function VL(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function HL(e){var t,r,n,i,o,s,a;if(Mi=Sn=-(vn=li=1/0),cl=[],er(e,Js),r=cl.length){for(cl.sort(mde),t=1,n=cl[0],o=[n];t<r;++t)i=cl[t],VL(n,i[0])||VL(n,i[1])?(Di(n[0],i[1])>Di(n[0],n[1])&&(n[1]=i[1]),Di(i[0],n[1])>Di(n[0],n[1])&&(n[0]=i[0])):o.push(n=i);for(s=-1/0,r=o.length-1,t=0,n=o[r];t<=r;n=i,++t)i=o[t],(a=Di(n[1],i[0]))>s&&(s=a,vn=i[0],Sn=n[1])}return cl=ea=null,vn===1/0||li===1/0?[[NaN,NaN],[NaN,NaN]]:[[vn,li],[Sn,Mi]]}on();var im,dv,fv,hv,pv,mv,gv,yv,cD,uD,dD,GL,YL,jr,Vr,Ur,_o={sphere:Tt,point:fD,lineStart:WL,lineEnd:qL,polygonStart:function(){_o.lineStart=vde,_o.lineEnd=xde},polygonEnd:function(){_o.lineStart=WL,_o.lineEnd=qL}};function fD(e,t){e*=Se,t*=Se;var r=me(t);om(r*me(e),r*de(e),de(t))}function om(e,t,r){++im,fv+=(e-fv)/im,hv+=(t-hv)/im,pv+=(r-pv)/im}function WL(){_o.point=gde}function gde(e,t){e*=Se,t*=Se;var r=me(t);jr=r*me(e),Vr=r*de(e),Ur=de(t),_o.point=yde,om(jr,Vr,Ur)}function yde(e,t){e*=Se,t*=Se;var r=me(t),n=r*me(e),i=r*de(e),o=de(t),s=nn(Dt((s=Vr*o-Ur*i)*s+(s=Ur*n-jr*o)*s+(s=jr*i-Vr*n)*s),jr*n+Vr*i+Ur*o);dv+=s,mv+=s*(jr+(jr=n)),gv+=s*(Vr+(Vr=i)),yv+=s*(Ur+(Ur=o)),om(jr,Vr,Ur)}function qL(){_o.point=fD}function vde(){_o.point=bde}function xde(){ZL(GL,YL),_o.point=fD}function bde(e,t){GL=e,YL=t,e*=Se,t*=Se,_o.point=ZL;var r=me(t);jr=r*me(e),Vr=r*de(e),Ur=de(t),om(jr,Vr,Ur)}function ZL(e,t){e*=Se,t*=Se;var r=me(t),n=r*me(e),i=r*de(e),o=de(t),s=Vr*o-Ur*i,a=Ur*n-jr*o,l=jr*i-Vr*n,c=ov(s,a,l),u=rn(c),d=c&&-u/c;cD.add(d*s),uD.add(d*a),dD.add(d*l),dv+=u,mv+=u*(jr+(jr=n)),gv+=u*(Vr+(Vr=i)),yv+=u*(Ur+(Ur=o)),om(jr,Vr,Ur)}function XL(e){im=dv=fv=hv=pv=mv=gv=yv=0,cD=new jt,uD=new jt,dD=new jt,er(e,_o);var t=+cD,r=+uD,n=+dD,i=ov(t,r,n);return i<Qs&&(t=mv,r=gv,n=yv,dv<xe&&(t=fv,r=hv,n=pv),i=ov(t,r,n),i<Qs)?[NaN,NaN]:[nn(r,t)*ht,rn(n/i)*ht]}function Tc(e){return function(){return e}}function sm(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function hD(e,t){return[$e(e)>We?e+Math.round(-e/In)*In:e,t]}hD.invert=hD;function am(e,t,r){return(e%=In)?t||r?sm(KL(e),JL(t,r)):KL(e):t||r?JL(t,r):hD}function QL(e){return function(t,r){return t+=e,[t>We?t-In:t<-We?t+In:t,r]}}function KL(e){var t=QL(e);return t.invert=QL(-e),t}function JL(e,t){var r=me(e),n=de(e),i=me(t),o=de(t);function s(a,l){var c=me(l),u=me(a)*c,d=de(a)*c,f=de(l),p=f*r+u*n;return[nn(d*i-p*o,u*r-f*n),rn(p*i+d*o)]}return s.invert=function(a,l){var c=me(l),u=me(a)*c,d=de(a)*c,f=de(l),p=f*i-d*o;return[nn(d*i+f*o,u*r+p*n),rn(p*r-u*n)]},s}function vv(e){e=am(e[0]*Se,e[1]*Se,e.length>2?e[2]*Se:0);function t(r){return r=e(r[0]*Se,r[1]*Se),r[0]*=ht,r[1]*=ht,r}return t.invert=function(r){return r=e.invert(r[0]*Se,r[1]*Se),r[0]*=ht,r[1]*=ht,r},t}function pD(e,t,r,n,i,o){if(r){var s=me(t),a=de(t),l=n*r;i==null?(i=t+n*In,o=t-l/2):(i=ej(s,i),o=ej(s,o),(n>0?i<o:i>o)&&(i+=n*In));for(var c,u=i;n>0?u>o:u<o;u-=l)c=Mc([s,-a*me(u),-a*de(u)]),e.point(c[0],c[1])}}function ej(e,t){t=Li(t),t[0]-=e,Sc(t);var r=av(-t[1]);return((-t[2]<0?-r:r)+In-xe)%In}function tj(){var e=Tc([0,0]),t=Tc(90),r=Tc(6),n,i,o={point:s};function s(l,c){n.push(l=i(l,c)),l[0]*=ht,l[1]*=ht}function a(){var l=e.apply(this,arguments),c=t.apply(this,arguments)*Se,u=r.apply(this,arguments)*Se;return n=[],i=am(-l[0]*Se,-l[1]*Se,0).invert,pD(o,c,u,1),l={type:"Polygon",coordinates:[n]},n=i=null,l}return a.center=function(l){return arguments.length?(e=typeof l=="function"?l:Tc([+l[0],+l[1]]),a):e},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Tc(+l),a):t},a.precision=function(l){return arguments.length?(r=typeof l=="function"?l:Tc(+l),a):r},a}function xv(){var e=[],t;return{point:function(r,n,i){t.push([r,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Tt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function Yd(e,t){return $e(e[0]-t[0])<xe&&$e(e[1]-t[1])<xe}function bv(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function _v(e,t,r,n,i){var o=[],s=[],a,l;if(e.forEach(function(m){if(!((v=m.length-1)<=0)){var v,g=m[0],x=m[v],_;if(Yd(g,x)){if(!g[2]&&!x[2]){for(i.lineStart(),a=0;a<v;++a)i.point((g=m[a])[0],g[1]);i.lineEnd();return}x[0]+=2*xe}o.push(_=new bv(g,m,null,!0)),s.push(_.o=new bv(g,null,_,!1)),o.push(_=new bv(x,m,null,!1)),s.push(_.o=new bv(x,null,_,!0))}}),!!o.length){for(s.sort(t),nj(o),nj(s),a=0,l=s.length;a<l;++a)s[a].e=r=!r;for(var c=o[0],u,d;;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(a=0,l=u.length;a<l;++a)i.point((d=u[a])[0],d[1]);else n(f.x,f.n.x,1,i);f=f.n}else{if(p)for(u=f.p.z,a=u.length-1;a>=0;--a)i.point((d=u[a])[0],d[1]);else n(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,p=!p}while(!f.v);i.lineEnd()}}}function nj(e){if(t=e.length){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}on();function mD(e){return $e(e[0])<=We?e[0]:Dr(e[0])*(($e(e[0])+We)%In-We)}function wv(e,t){var r=mD(t),n=t[1],i=de(n),o=[de(r),-me(r),0],s=0,a=0,l=new jt;i===1?n=Qt+xe:i===-1&&(n=-Qt-xe);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,p=d[f-1],m=mD(p),v=p[1]/2+Wd,g=de(v),x=me(v),_=0;_<f;++_,m=b,g=E,x=V,p=w){var w=d[_],b=mD(w),k=w[1]/2+Wd,E=de(k),V=me(k),z=b-m,B=z>=0?1:-1,$=B*z,D=$>We,I=g*E;if(l.add(nn(I*B*de($),x*V+I*me($))),s+=D?z+B*In:z,D^m>=r^b>=r){var L=Ks(Li(p),Li(w));Sc(L);var O=Ks(o,L);Sc(O);var S=(D^z>=0?-1:1)*rn(O[2]);(n>S||n===S&&(L[0]||L[1]))&&(a+=D^z>=0?1:-1)}}return(s<-xe||s<xe&&l<-Qs)^a&1}on();function Cv(e,t,r,n){return function(i){var o=t(i),s=xv(),a=t(s),l=!1,c,u,d,f={point:p,lineStart:v,lineEnd:g,polygonStart:function(){f.point=x,f.lineStart=_,f.lineEnd=w,u=[],c=[]},polygonEnd:function(){f.point=p,f.lineStart=v,f.lineEnd=g,u=Ba(u);var b=wv(c,n);u.length?(l||(i.polygonStart(),l=!0),_v(u,wde,b,r,i)):b&&(l||(i.polygonStart(),l=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(b,k){e(b,k)&&i.point(b,k)}function m(b,k){o.point(b,k)}function v(){f.point=m,o.lineStart()}function g(){f.point=p,o.lineEnd()}function x(b,k){d.push([b,k]),a.point(b,k)}function _(){a.lineStart(),d=[]}function w(){x(d[0][0],d[0][1]),a.lineEnd();var b=a.clean(),k=s.result(),E,V=k.length,z,B,$;if(d.pop(),c.push(d),d=null,!!V){if(b&1){if(B=k[0],(z=B.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),E=0;E<z;++E)i.point(($=B[E])[0],$[1]);i.lineEnd()}return}V>1&&b&2&&k.push(k.pop().concat(k.shift())),u.push(k.filter(_de))}}return f}}function _de(e){return e.length>1}function wde(e,t){return((e=e.x)[0]<0?e[1]-Qt-xe:Qt-e[1])-((t=t.x)[0]<0?t[1]-Qt-xe:Qt-t[1])}var lm=Cv(function(){return!0},Cde,Mde,[-We,-Qt]);function Cde(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?We:-We,l=$e(o-t);$e(l-We)<xe?(e.point(t,r=(r+s)/2>0?Qt:-Qt),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(a,r),e.point(o,r),i=0):n!==a&&l>=We&&($e(t-n)<xe&&(t-=n*xe),$e(o-a)<xe&&(o-=a*xe),r=Dde(t,r,o,s),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(a,r),i=0),e.point(t=o,r=s),n=a},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function Dde(e,t,r,n){var i,o,s=de(e-r);return $e(s)>xe?Fi((de(t)*(o=me(n))*de(r)-de(n)*(i=me(t))*de(e))/(i*o*s)):(t+n)/2}function Mde(e,t,r,n){var i;if(e==null)i=r*Qt,n.point(-We,i),n.point(0,i),n.point(We,i),n.point(We,0),n.point(We,-i),n.point(0,-i),n.point(-We,-i),n.point(-We,0),n.point(-We,i);else if($e(e[0]-t[0])>xe){var o=e[0]<t[0]?We:-We;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(t[0],t[1])}function Dv(e){var t=me(e),r=6*Se,n=t>0,i=$e(t)>xe;function o(u,d,f,p){pD(p,e,r,f,u,d)}function s(u,d){return me(u)*me(d)>t}function a(u){var d,f,p,m,v;return{lineStart:function(){m=p=!1,v=1},point:function(g,x){var _=[g,x],w,b=s(g,x),k=n?b?0:c(g,x):b?c(g+(g<0?We:-We),x):0;if(!d&&(m=p=b)&&u.lineStart(),b!==p&&(w=l(d,_),(!w||Yd(d,w)||Yd(_,w))&&(_[2]=1)),b!==p)v=0,b?(u.lineStart(),w=l(_,d),u.point(w[0],w[1])):(w=l(d,_),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&n^b){var E;!(k&f)&&(E=l(_,d,!0))&&(v=0,n?(u.lineStart(),u.point(E[0][0],E[0][1]),u.point(E[1][0],E[1][1]),u.lineEnd()):(u.point(E[1][0],E[1][1]),u.lineEnd(),u.lineStart(),u.point(E[0][0],E[0][1],3)))}b&&(!d||!Yd(d,_))&&u.point(_[0],_[1]),d=_,p=b,f=k},lineEnd:function(){p&&u.lineEnd(),d=null},clean:function(){return v|(m&&p)<<1}}}function l(u,d,f){var p=Li(u),m=Li(d),v=[1,0,0],g=Ks(p,m),x=tm(g,g),_=g[0],w=x-_*_;if(!w)return!f&&u;var b=t*x/w,k=-t*_/w,E=Ks(v,g),V=nm(v,b),z=nm(g,k);uv(V,z);var B=E,$=tm(V,B),D=tm(B,B),I=$*$-D*(tm(V,V)-1);if(!(I<0)){var L=Dt(I),O=nm(B,(-$-L)/D);if(uv(O,V),O=Mc(O),!f)return O;var S=u[0],T=d[0],P=u[1],U=d[1],F;T<S&&(F=S,S=T,T=F);var j=T-S,G=$e(j-We)<xe,J=G||j<xe;if(!G&&U<P&&(F=P,P=U,U=F),J?G?P+U>0^O[1]<($e(O[0]-S)<xe?P:U):P<=O[1]&&O[1]<=U:j>We^(S<=O[0]&&O[0]<=T)){var X=nm(B,(-$+L)/D);return uv(X,V),[O,Mc(X)]}}}function c(u,d){var f=n?e:We-e,p=0;return u<-f?p|=1:u>f&&(p|=2),d<-f?p|=4:d>f&&(p|=8),p}return Cv(s,a,o,n?[0,-e]:[-We,e-We])}function rj(e,t,r,n,i,o){var s=e[0],a=e[1],l=t[0],c=t[1],u=0,d=1,f=l-s,p=c-a,m;if(m=r-s,!(!f&&m>0)){if(m/=f,f<0){if(m<u)return;m<d&&(d=m)}else if(f>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!f&&m<0)){if(m/=f,f<0){if(m>d)return;m>u&&(u=m)}else if(f>0){if(m<u)return;m<d&&(d=m)}if(m=n-a,!(!p&&m>0)){if(m/=p,p<0){if(m<u)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>u&&(u=m)}if(m=o-a,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>u&&(u=m)}else if(p>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=s+u*f,e[1]=a+u*p),d<1&&(t[0]=s+d*f,t[1]=a+d*p),!0}}}}}on();var cm=1e9,Mv=-cm;function ta(e,t,r,n){function i(c,u){return e<=c&&c<=r&&t<=u&&u<=n}function o(c,u,d,f){var p=0,m=0;if(c==null||(p=s(c,d))!==(m=s(u,d))||l(c,u)<0^d>0)do f.point(p===0||p===3?e:r,p>1?n:t);while((p=(p+d+4)%4)!==m);else f.point(u[0],u[1])}function s(c,u){return $e(c[0]-e)<xe?u>0?0:3:$e(c[0]-r)<xe?u>0?2:1:$e(c[1]-t)<xe?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),f=s(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=xv(),f,p,m,v,g,x,_,w,b,k,E,V={point:z,lineStart:I,lineEnd:L,polygonStart:$,polygonEnd:D};function z(S,T){i(S,T)&&u.point(S,T)}function B(){for(var S=0,T=0,P=p.length;T<P;++T)for(var U=p[T],F=1,j=U.length,G=U[0],J,X,se=G[0],Me=G[1];F<j;++F)J=se,X=Me,G=U[F],se=G[0],Me=G[1],X<=n?Me>n&&(se-J)*(n-X)>(Me-X)*(e-J)&&++S:Me<=n&&(se-J)*(n-X)<(Me-X)*(e-J)&&--S;return S}function $(){u=d,f=[],p=[],E=!0}function D(){var S=B(),T=E&&S,P=(f=Ba(f)).length;(T||P)&&(c.polygonStart(),T&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),P&&_v(f,a,S,o,c),c.polygonEnd()),u=c,f=p=m=null}function I(){V.point=O,p&&p.push(m=[]),k=!0,b=!1,_=w=NaN}function L(){f&&(O(v,g),x&&b&&d.rejoin(),f.push(d.result())),V.point=z,b&&u.lineEnd()}function O(S,T){var P=i(S,T);if(p&&m.push([S,T]),k)v=S,g=T,x=P,k=!1,P&&(u.lineStart(),u.point(S,T));else if(P&&b)u.point(S,T);else{var U=[_=Math.max(Mv,Math.min(cm,_)),w=Math.max(Mv,Math.min(cm,w))],F=[S=Math.max(Mv,Math.min(cm,S)),T=Math.max(Mv,Math.min(cm,T))];rj(U,F,e,t,r,n)?(b||(u.lineStart(),u.point(U[0],U[1])),u.point(F[0],F[1]),P||u.lineEnd(),E=!1):P&&(u.lineStart(),u.point(S,T),E=!1)}_=S,w=T,b=P}return V}}function ij(){var e=0,t=0,r=960,n=500,i,o,s;return s={stream:function(a){return i&&o===a?i:i=ta(e,t,r,n)(o=a)},extent:function(a){return arguments.length?(e=+a[0][0],t=+a[0][1],r=+a[1][0],n=+a[1][1],i=o=null,s):[[e,t],[r,n]]}}}on();var gD,yD,Sv,Ev,Zd={sphere:Tt,point:Tt,lineStart:Sde,lineEnd:Tt,polygonStart:Tt,polygonEnd:Tt};function Sde(){Zd.point=Tde,Zd.lineEnd=Ede}function Ede(){Zd.point=Zd.lineEnd=Tt}function Tde(e,t){e*=Se,t*=Se,yD=e,Sv=de(t),Ev=me(t),Zd.point=kde}function kde(e,t){e*=Se,t*=Se;var r=de(t),n=me(t),i=$e(e-yD),o=me(i),s=de(i),a=n*s,l=Ev*r-Sv*n*o,c=Sv*r+Ev*n*o;gD.add(nn(Dt(a*a+l*l),c)),yD=e,Sv=r,Ev=n}function Tv(e){return gD=new jt,er(e,Zd),+gD}var vD=[null,null],Ide={type:"LineString",coordinates:vD};function Xd(e,t){return vD[0]=e,vD[1]=t,Tv(Ide)}var oj={Feature:function(e,t){return kv(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)if(kv(r[n].geometry,t))return!0;return!1}},sj={Sphere:function(){return!0},Point:function(e,t){return aj(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(aj(r[n],t))return!0;return!1},LineString:function(e,t){return lj(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(lj(r[n],t))return!0;return!1},Polygon:function(e,t){return cj(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(cj(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)if(kv(r[n],t))return!0;return!1}};function kv(e,t){return e&&sj.hasOwnProperty(e.type)?sj[e.type](e,t):!1}function aj(e,t){return Xd(e,t)===0}function lj(e,t){for(var r,n,i,o=0,s=e.length;o<s;o++){if(n=Xd(e[o],t),n===0||o>0&&(i=Xd(e[o],e[o-1]),i>0&&r<=i&&n<=i&&(r+n-i)*(1-Math.pow((r-n)/i,2))<Qs*i))return!0;r=n}return!1}function cj(e,t){return!!wv(e.map(Ade),uj(t))}function Ade(e){return e=e.map(uj),e.pop(),e}function uj(e){return[e[0]*Se,e[1]*Se]}function dj(e,t){return(e&&oj.hasOwnProperty(e.type)?oj[e.type]:kv)(e,t)}on();function fj(e,t,r){var n=Vt(e,t-xe,r).concat(t);return function(i){return n.map(function(o){return[i,o]})}}function hj(e,t,r){var n=Vt(e,t-xe,r).concat(t);return function(i){return n.map(function(o){return[o,i]})}}function um(){var e,t,r,n,i,o,s,a,l=10,c=l,u=90,d=360,f,p,m,v,g=2.5;function x(){return{type:"MultiLineString",coordinates:_()}}function _(){return Vt(Jp(n/u)*u,r,u).map(m).concat(Vt(Jp(a/d)*d,s,d).map(v)).concat(Vt(Jp(t/l)*l,e,l).filter(function(w){return $e(w%u)>xe}).map(f)).concat(Vt(Jp(o/c)*c,i,c).filter(function(w){return $e(w%d)>xe}).map(p))}return x.lines=function(){return _().map(function(w){return{type:"LineString",coordinates:w}})},x.outline=function(){return{type:"Polygon",coordinates:[m(n).concat(v(s).slice(1),m(r).reverse().slice(1),v(a).reverse().slice(1))]}},x.extent=function(w){return arguments.length?x.extentMajor(w).extentMinor(w):x.extentMinor()},x.extentMajor=function(w){return arguments.length?(n=+w[0][0],r=+w[1][0],a=+w[0][1],s=+w[1][1],n>r&&(w=n,n=r,r=w),a>s&&(w=a,a=s,s=w),x.precision(g)):[[n,a],[r,s]]},x.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],o=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),o>i&&(w=o,o=i,i=w),x.precision(g)):[[t,o],[e,i]]},x.step=function(w){return arguments.length?x.stepMajor(w).stepMinor(w):x.stepMinor()},x.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],x):[u,d]},x.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],x):[l,c]},x.precision=function(w){return arguments.length?(g=+w,f=fj(o,i,90),p=hj(t,e,g),m=fj(a,s,90),v=hj(n,r,g),x):g},x.extentMajor([[-180,-90+xe],[180,90-xe]]).extentMinor([[-180,-80-xe],[180,80+xe]])}function pj(){return um()()}function mj(e,t){var r=e[0]*Se,n=e[1]*Se,i=t[0]*Se,o=t[1]*Se,s=me(n),a=de(n),l=me(o),c=de(o),u=s*me(r),d=s*de(r),f=l*me(i),p=l*de(i),m=2*rn(Dt(rD(o-n)+s*l*rD(i-r))),v=de(m),g=m?function(x){var _=de(x*=m)/v,w=de(m-x)/v,b=w*u+_*f,k=w*d+_*p,E=w*a+_*c;return[nn(k,b)*ht,nn(E,Dt(b*b+k*k))*ht]}:function(){return[r*ht,n*ht]};return g.distance=m,g}var ul=e=>e;on();var xD=new jt,bD=new jt,gj,yj,_D,wD,dl={point:Tt,lineStart:Tt,lineEnd:Tt,polygonStart:function(){dl.lineStart=Ode,dl.lineEnd=Nde},polygonEnd:function(){dl.lineStart=dl.lineEnd=dl.point=Tt,xD.add($e(bD)),bD=new jt},result:function(){var e=xD/2;return xD=new jt,e}};function Ode(){dl.point=Pde}function Pde(e,t){dl.point=vj,gj=_D=e,yj=wD=t}function vj(e,t){bD.add(wD*e-_D*t),_D=e,wD=t}function Nde(){vj(gj,yj)}var CD=dl;var Qd=1/0,Iv=Qd,dm=-Qd,Av=dm,Rde={point:Fde,lineStart:Tt,lineEnd:Tt,polygonStart:Tt,polygonEnd:Tt,result:function(){var e=[[Qd,Iv],[dm,Av]];return dm=Av=-(Iv=Qd=1/0),e}};function Fde(e,t){e<Qd&&(Qd=e),e>dm&&(dm=e),t<Iv&&(Iv=t),t>Av&&(Av=t)}var Kd=Rde;var DD=0,MD=0,fm=0,Ov=0,Pv=0,Jd=0,SD=0,ED=0,hm=0,_j,wj,is,os,wo={point:kc,lineStart:xj,lineEnd:bj,polygonStart:function(){wo.lineStart=Vde,wo.lineEnd=Ude},polygonEnd:function(){wo.point=kc,wo.lineStart=xj,wo.lineEnd=bj},result:function(){var e=hm?[SD/hm,ED/hm]:Jd?[Ov/Jd,Pv/Jd]:fm?[DD/fm,MD/fm]:[NaN,NaN];return DD=MD=fm=Ov=Pv=Jd=SD=ED=hm=0,e}};function kc(e,t){DD+=e,MD+=t,++fm}function xj(){wo.point=Lde}function Lde(e,t){wo.point=jde,kc(is=e,os=t)}function jde(e,t){var r=e-is,n=t-os,i=Dt(r*r+n*n);Ov+=i*(is+e)/2,Pv+=i*(os+t)/2,Jd+=i,kc(is=e,os=t)}function bj(){wo.point=kc}function Vde(){wo.point=$de}function Ude(){Cj(_j,wj)}function $de(e,t){wo.point=Cj,kc(_j=is=e,wj=os=t)}function Cj(e,t){var r=e-is,n=t-os,i=Dt(r*r+n*n);Ov+=i*(is+e)/2,Pv+=i*(os+t)/2,Jd+=i,i=os*e-is*t,SD+=i*(is+e),ED+=i*(os+t),hm+=i*3,kc(is=e,os=t)}var TD=wo;function Nv(e){this._context=e}Nv.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,In);break}}},result:Tt};on();var ID=new jt,kD,Dj,Mj,pm,mm,Rv={point:Tt,lineStart:function(){Rv.point=zde},lineEnd:function(){kD&&Sj(Dj,Mj),Rv.point=Tt},polygonStart:function(){kD=!0},polygonEnd:function(){kD=null},result:function(){var e=+ID;return ID=new jt,e}};function zde(e,t){Rv.point=Sj,Dj=pm=e,Mj=mm=t}function Sj(e,t){pm-=e,mm-=t,ID.add(Dt(pm*pm+mm*mm)),pm=e,mm=t}var AD=Rv;function Fv(){this._string=[]}Fv.prototype={_radius:4.5,_circle:Ej(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=Ej(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function Ej(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function gm(e,t){var r=4.5,n,i;function o(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),er(s,n(i))),i.result()}return o.area=function(s){return er(s,n(CD)),CD.result()},o.measure=function(s){return er(s,n(AD)),AD.result()},o.bounds=function(s){return er(s,n(Kd)),Kd.result()},o.centroid=function(s){return er(s,n(TD)),TD.result()},o.projection=function(s){return arguments.length?(n=s==null?(e=null,ul):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new Fv):new Nv(t=s),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),o):r},o.projection(e).context(t)}function Tj(e){return{stream:fl(e)}}function fl(e){return function(t){var r=new OD;for(var n in e)r[n]=e[n];return r.stream=t,r}}function OD(){}OD.prototype={constructor:OD,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function PD(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),er(r,e.stream(Kd)),t(Kd.result()),n!=null&&e.clipExtent(n),e}function Ic(e,t,r){return PD(e,function(n){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(i-s*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(o-s*(n[1][1]+n[0][1]))/2;e.scale(150*s).translate([a,l])},r)}function ef(e,t,r){return Ic(e,[[0,0],t],r)}function tf(e,t,r){return PD(e,function(n){var i=+t,o=i/(n[1][0]-n[0][0]),s=(i-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([s,a])},r)}function nf(e,t,r){return PD(e,function(n){var i=+t,o=i/(n[1][1]-n[0][1]),s=-o*n[0][0],a=(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])},r)}var kj=16,Bde=me(30*Se);function ND(e,t){return+t?Wde(e,t):Hde(e)}function Hde(e){return fl({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function Wde(e,t){function r(n,i,o,s,a,l,c,u,d,f,p,m,v,g){var x=c-n,_=u-i,w=x*x+_*_;if(w>4*t&&v--){var b=s+f,k=a+p,E=l+m,V=Dt(b*b+k*k+E*E),z=rn(E/=V),B=$e($e(E)-1)<xe||$e(o-d)<xe?(o+d)/2:nn(k,b),$=e(B,z),D=$[0],I=$[1],L=D-n,O=I-i,S=_*L-x*O;(S*S/w>t||$e((x*L+_*O)/w-.5)>.3||s*f+a*p+l*m<Bde)&&(r(n,i,o,s,a,l,D,I,B,b/=V,k/=V,E,v,g),g.point(D,I),r(D,I,B,b,k,E,c,u,d,f,p,m,v,g))}}return function(n){var i,o,s,a,l,c,u,d,f,p,m,v,g={point:x,lineStart:_,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=k},polygonEnd:function(){n.polygonEnd(),g.lineStart=_}};function x(z,B){z=e(z,B),n.point(z[0],z[1])}function _(){d=NaN,g.point=w,n.lineStart()}function w(z,B){var $=Li([z,B]),D=e(z,B);r(d,f,u,p,m,v,d=D[0],f=D[1],u=z,p=$[0],m=$[1],v=$[2],kj,n),n.point(d,f)}function b(){g.point=x,n.lineEnd()}function k(){_(),g.point=E,g.lineEnd=V}function E(z,B){w(i=z,B),o=d,s=f,a=p,l=m,c=v,g.point=w}function V(){r(d,f,u,p,m,v,o,s,i,a,l,c,kj,n),g.lineEnd=b,b()}return g}}var qde=fl({point:function(e,t){this.stream.point(e*Se,t*Se)}});function Gde(e){return fl({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function Yde(e,t,r,n,i){function o(s,a){return s*=n,a*=i,[t+e*s,r-e*a]}return o.invert=function(s,a){return[(s-t)/e*n,(r-a)/e*i]},o}function Ij(e,t,r,n,i,o){if(!o)return Yde(e,t,r,n,i);var s=me(o),a=de(o),l=s*e,c=a*e,u=s/e,d=a/e,f=(a*r-s*t)/e,p=(a*t+s*r)/e;function m(v,g){return v*=n,g*=i,[l*v-c*g+t,r-c*v-l*g]}return m.invert=function(v,g){return[n*(u*v-d*g+f),i*(p-d*v-u*g)]},m}function An(e){return ym(function(){return e})()}function ym(e){var t,r=150,n=480,i=250,o=0,s=0,a=0,l=0,c=0,u,d=0,f=1,p=1,m=null,v=lm,g=null,x,_,w,b=ul,k=.5,E,V,z,B,$;function D(S){return z(S[0]*Se,S[1]*Se)}function I(S){return S=z.invert(S[0],S[1]),S&&[S[0]*ht,S[1]*ht]}D.stream=function(S){return B&&$===S?B:B=qde(Gde(u)(v(E(b($=S)))))},D.preclip=function(S){return arguments.length?(v=S,m=void 0,O()):v},D.postclip=function(S){return arguments.length?(b=S,g=x=_=w=null,O()):b},D.clipAngle=function(S){return arguments.length?(v=+S?Dv(m=S*Se):(m=null,lm),O()):m*ht},D.clipExtent=function(S){return arguments.length?(b=S==null?(g=x=_=w=null,ul):ta(g=+S[0][0],x=+S[0][1],_=+S[1][0],w=+S[1][1]),O()):g==null?null:[[g,x],[_,w]]},D.scale=function(S){return arguments.length?(r=+S,L()):r},D.translate=function(S){return arguments.length?(n=+S[0],i=+S[1],L()):[n,i]},D.center=function(S){return arguments.length?(o=S[0]%360*Se,s=S[1]%360*Se,L()):[o*ht,s*ht]},D.rotate=function(S){return arguments.length?(a=S[0]%360*Se,l=S[1]%360*Se,c=S.length>2?S[2]%360*Se:0,L()):[a*ht,l*ht,c*ht]},D.angle=function(S){return arguments.length?(d=S%360*Se,L()):d*ht},D.reflectX=function(S){return arguments.length?(f=S?-1:1,L()):f<0},D.reflectY=function(S){return arguments.length?(p=S?-1:1,L()):p<0},D.precision=function(S){return arguments.length?(E=ND(V,k=S*S),O()):Dt(k)},D.fitExtent=function(S,T){return Ic(D,S,T)},D.fitSize=function(S,T){return ef(D,S,T)},D.fitWidth=function(S,T){return tf(D,S,T)},D.fitHeight=function(S,T){return nf(D,S,T)};function L(){var S=Ij(r,0,0,f,p,d).apply(null,t(o,s)),T=Ij(r,n-S[0],i-S[1],f,p,d);return u=am(a,l,c),V=sm(t,T),z=sm(u,V),E=ND(V,k),O()}function O(){return B=$=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&I,L()}}function rf(e){var t=0,r=We/3,n=ym(e),i=n(t,r);return i.parallels=function(o){return arguments.length?n(t=o[0]*Se,r=o[1]*Se):[t*ht,r*ht]},i}function Aj(e){var t=me(e);function r(n,i){return[n*t,de(i)/t]}return r.invert=function(n,i){return[n/t,rn(i*t)]},r}function RD(e,t){var r=de(e),n=(r+de(t))/2;if($e(n)<xe)return Aj(e);var i=1+r*(2*n-r),o=Dt(i)/n;function s(a,l){var c=Dt(i-2*n*de(l))/n;return[c*de(a*=n),o-c*me(a)]}return s.invert=function(a,l){var c=o-l,u=nn(a,$e(c))*Dr(c);return c*n<0&&(u-=We*Dr(a)*Dr(c)),[u/n,rn((i-(a*a+c*c)*n*n)/(2*n))]},s}function Ac(){return rf(RD).scale(155.424).center([0,33.6442])}function Lv(){return Ac().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Zde(e){var t=e.length;return{point:function(r,n){for(var i=-1;++i<t;)e[i].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function Oj(){var e,t,r=Lv(),n,i=Ac().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=Ac().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(f,p){l=[f,p]}};function u(f){var p=f[0],m=f[1];return l=null,n.point(p,m),l||(o.point(p,m),l)||(a.point(p,m),l)}u.invert=function(f){var p=r.scale(),m=r.translate(),v=(f[0]-m[0])/p,g=(f[1]-m[1])/p;return(g>=.12&&g<.234&&v>=-.425&&v<-.214?i:g>=.166&&g<.234&&v>=-.214&&v<-.115?s:r).invert(f)},u.stream=function(f){return e&&t===f?e:e=Zde([r.stream(t=f),i.stream(f),s.stream(f)])},u.precision=function(f){return arguments.length?(r.precision(f),i.precision(f),s.precision(f),d()):r.precision()},u.scale=function(f){return arguments.length?(r.scale(f),i.scale(f*.35),s.scale(f),u.translate(r.translate())):r.scale()},u.translate=function(f){if(!arguments.length)return r.translate();var p=r.scale(),m=+f[0],v=+f[1];return n=r.translate(f).clipExtent([[m-.455*p,v-.238*p],[m+.455*p,v+.238*p]]).stream(c),o=i.translate([m-.307*p,v+.201*p]).clipExtent([[m-.425*p+xe,v+.12*p+xe],[m-.214*p-xe,v+.234*p-xe]]).stream(c),a=s.translate([m-.205*p,v+.212*p]).clipExtent([[m-.214*p+xe,v+.166*p+xe],[m-.115*p-xe,v+.234*p-xe]]).stream(c),d()},u.fitExtent=function(f,p){return Ic(u,f,p)},u.fitSize=function(f,p){return ef(u,f,p)},u.fitWidth=function(f,p){return tf(u,f,p)},u.fitHeight=function(f,p){return nf(u,f,p)};function d(){return e=t=null,u}return u.scale(1070)}function jv(e){return function(t,r){var n=me(t),i=me(r),o=e(n*i);return o===1/0?[2,0]:[o*i*de(t),o*de(r)]}}function ss(e){return function(t,r){var n=Dt(t*t+r*r),i=e(n),o=de(i),s=me(i);return[nn(t*o,n*s),rn(n&&r*o/n)]}}var Vv=jv(function(e){return Dt(2/(1+e))});Vv.invert=ss(function(e){return 2*rn(e/2)});function Pj(){return An(Vv).scale(124.75).clipAngle(180-.001)}var Uv=jv(function(e){return(e=av(e))&&e/de(e)});Uv.invert=ss(function(e){return e});function Nj(){return An(Uv).scale(79.4188).clipAngle(180-.001)}function Oc(e,t){return[e,Dc(qd((Qt+t)/2))]}Oc.invert=function(e,t){return[e,2*Fi(iv(t))-Qt]};function Rj(){return FD(Oc).scale(961/In)}function FD(e){var t=An(e),r=t.center,n=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,c;t.scale=function(d){return arguments.length?(n(d),u()):n()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(r(d),u()):r()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=c=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,a],[l,c]]};function u(){var d=We*n(),f=t(vv(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===Oc?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),c]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,c)]])}return u()}function $v(e){return qd((Qt+e)/2)}function LD(e,t){var r=me(e),n=e===t?de(e):Dc(r/me(t))/Dc($v(t)/$v(e)),i=r*sv($v(e),n)/n;if(!n)return Oc;function o(s,a){i>0?a<-Qt+xe&&(a=-Qt+xe):a>Qt-xe&&(a=Qt-xe);var l=i/sv($v(a),n);return[l*de(n*s),i-l*me(n*s)]}return o.invert=function(s,a){var l=i-a,c=Dr(n)*Dt(s*s+l*l),u=nn(s,$e(l))*Dr(l);return l*n<0&&(u-=We*Dr(s)*Dr(l)),[u/n,2*Fi(sv(i/c,1/n))-Qt]},o}function Fj(){return rf(LD).scale(109.5).parallels([30,30])}function Pc(e,t){return[e,t]}Pc.invert=Pc;function Lj(){return An(Pc).scale(152.63)}function jD(e,t){var r=me(e),n=e===t?de(e):(r-me(t))/(t-e),i=r/n+e;if($e(n)<xe)return Pc;function o(s,a){var l=i-a,c=n*s;return[l*de(c),i-l*me(c)]}return o.invert=function(s,a){var l=i-a,c=nn(s,$e(l))*Dr(l);return l*n<0&&(c-=We*Dr(s)*Dr(l)),[c/n,i-Dr(n)*Dt(s*s+l*l)]},o}function jj(){return rf(jD).scale(131.154).center([0,13.9389])}var vm=1.340264,xm=-.081106,bm=893e-6,_m=.003796,zv=Dt(3)/2,Xde=12;function Bv(e,t){var r=rn(zv*de(t)),n=r*r,i=n*n*n;return[e*me(r)/(zv*(vm+3*xm*n+i*(7*bm+9*_m*n))),r*(vm+xm*n+i*(bm+_m*n))]}Bv.invert=function(e,t){for(var r=t,n=r*r,i=n*n*n,o=0,s,a,l;o<Xde&&(a=r*(vm+xm*n+i*(bm+_m*n))-t,l=vm+3*xm*n+i*(7*bm+9*_m*n),r-=s=a/l,n=r*r,i=n*n*n,!($e(s)<Qs));++o);return[zv*e*(vm+3*xm*n+i*(7*bm+9*_m*n))/me(r),rn(de(r)/zv)]};function Vj(){return An(Bv).scale(177.158)}function Hv(e,t){var r=me(t),n=me(e)*r;return[r*de(e)/n,de(t)/n]}Hv.invert=ss(Fi);function Uj(){return An(Hv).scale(144.049).clipAngle(60)}function $j(){var e=1,t=0,r=0,n=1,i=1,o=0,s,a,l=null,c,u,d,f=1,p=1,m=fl({point:function(b,k){var E=w([b,k]);this.stream.point(E[0],E[1])}}),v=ul,g,x;function _(){return f=e*n,p=e*i,g=x=null,w}function w(b){var k=b[0]*f,E=b[1]*p;if(o){var V=E*s-k*a;k=k*s+E*a,E=V}return[k+t,E+r]}return w.invert=function(b){var k=b[0]-t,E=b[1]-r;if(o){var V=E*s+k*a;k=k*s-E*a,E=V}return[k/f,E/p]},w.stream=function(b){return g&&x===b?g:g=m(v(x=b))},w.postclip=function(b){return arguments.length?(v=b,l=c=u=d=null,_()):v},w.clipExtent=function(b){return arguments.length?(v=b==null?(l=c=u=d=null,ul):ta(l=+b[0][0],c=+b[0][1],u=+b[1][0],d=+b[1][1]),_()):l==null?null:[[l,c],[u,d]]},w.scale=function(b){return arguments.length?(e=+b,_()):e},w.translate=function(b){return arguments.length?(t=+b[0],r=+b[1],_()):[t,r]},w.angle=function(b){return arguments.length?(o=b%360*Se,a=de(o),s=me(o),_()):o*ht},w.reflectX=function(b){return arguments.length?(n=b?-1:1,_()):n<0},w.reflectY=function(b){return arguments.length?(i=b?-1:1,_()):i<0},w.fitExtent=function(b,k){return Ic(w,b,k)},w.fitSize=function(b,k){return ef(w,b,k)},w.fitWidth=function(b,k){return tf(w,b,k)},w.fitHeight=function(b,k){return nf(w,b,k)},w}function Wv(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}Wv.invert=function(e,t){var r=t,n=25,i;do{var o=r*r,s=o*o;r-=i=(r*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while($e(i)>xe&&--n>0);return[e/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]};function qv(){return An(Wv).scale(175.295)}function Gv(e,t){return[me(t)*de(e),de(t)]}Gv.invert=ss(rn);function VD(){return An(Gv).scale(249.5).clipAngle(90+xe)}function Yv(e,t){var r=me(t),n=1+me(e)*r;return[r*de(e)/n,de(t)/n]}Yv.invert=ss(function(e){return 2*Fi(e)});function zj(){return An(Yv).scale(250).clipAngle(142)}function Zv(e,t){return[Dc(qd((Qt+t)/2)),-e]}Zv.invert=function(e,t){return[-t,2*Fi(iv(e))-Qt]};function Bj(){var e=FD(Zv),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function Qde(e,t){return e.parent===t.parent?1:2}function Kde(e){return e.reduce(Jde,0)/e.length}function Jde(e,t){return e+t.x}function efe(e){return 1+e.reduce(tfe,0)}function tfe(e,t){return Math.max(e,t.y)}function nfe(e){for(var t;t=e.children;)e=t[0];return e}function rfe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Hj(){var e=Qde,t=1,r=1,n=!1;function i(o){var s,a=0;o.eachAfter(function(f){var p=f.children;p?(f.x=Kde(p),f.y=efe(p)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=nfe(o),c=rfe(o),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return o.eachAfter(n?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*r}:function(f){f.x=(f.x-u)/(d-u)*t,f.y=(1-(o.y?f.y/o.y:1))*r})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(n=!1,t=+o[0],r=+o[1],i):n?null:[t,r]},i.nodeSize=function(o){return arguments.length?(n=!0,t=+o[0],r=+o[1],i):n?[t,r]:null},i}function ife(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function Wj(){return this.eachAfter(ife)}function qj(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}function Gj(e,t){for(var r=this,n=[r],i,o,s=-1;r=n.pop();)if(e.call(t,r,++s,this),i=r.children)for(o=i.length-1;o>=0;--o)n.push(i[o]);return this}function Yj(e,t){for(var r=this,n=[r],i=[],o,s,a,l=-1;r=n.pop();)if(i.push(r),o=r.children)for(s=0,a=o.length;s<a;++s)n.push(o[s]);for(;r=i.pop();)e.call(t,r,++l,this);return this}function Zj(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}function Xj(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})}function Qj(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Kj(e){for(var t=this,r=ofe(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n}function ofe(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}function Jj(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function eV(){return Array.from(this)}function tV(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function nV(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*rV(){var e=this,t,r=[e],n,i,o;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(i=0,o=n.length;i<o;++i)r.push(n[i]);while(r.length)}function Mr(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=lfe)):t===void 0&&(t=afe);for(var r=new hl(e),n,i=[r],o,s,a,l;n=i.pop();)if((s=t(n.data))&&(l=(s=Array.from(s)).length))for(n.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new hl(s[a])),o.parent=n,o.depth=n.depth+1;return r.eachBefore(UD)}function sfe(){return Mr(this).eachBefore(cfe)}function afe(e){return e.children}function lfe(e){return Array.isArray(e)?e[1]:null}function cfe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function UD(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function hl(e){this.data=e,this.depth=this.height=0,this.parent=null}hl.prototype=Mr.prototype={constructor:hl,count:Wj,each:qj,eachAfter:Yj,eachBefore:Gj,find:Zj,sum:Xj,sort:Qj,path:Kj,ancestors:Jj,descendants:eV,leaves:tV,links:nV,copy:sfe,[Symbol.iterator]:rV};function iV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function oV(e){for(var t=e.length,r,n;t;)n=Math.random()*t--|0,r=e[t],e[t]=e[n],e[n]=r;return e}function Qv(e){for(var t=0,r=(e=oV(Array.from(e))).length,n=[],i,o;t<r;)i=e[t],o&&sV(o,i)?++t:(o=dfe(n=ufe(n,i)),t=0);return o}function ufe(e,t){var r,n;if($D(t,e))return[t];for(r=0;r<e.length;++r)if(Xv(t,e[r])&&$D(wm(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(n=r+1;n<e.length;++n)if(Xv(wm(e[r],e[n]),t)&&Xv(wm(e[r],t),e[n])&&Xv(wm(e[n],t),e[r])&&$D(aV(e[r],e[n],t),e))return[e[r],e[n],t];throw new Error}function Xv(e,t){var r=e.r-t.r,n=t.x-e.x,i=t.y-e.y;return r<0||r*r<n*n+i*i}function sV(e,t){var r=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,n=t.x-e.x,i=t.y-e.y;return r>0&&r*r>n*n+i*i}function $D(e,t){for(var r=0;r<t.length;++r)if(!sV(e,t[r]))return!1;return!0}function dfe(e){switch(e.length){case 1:return ffe(e[0]);case 2:return wm(e[0],e[1]);case 3:return aV(e[0],e[1],e[2])}}function ffe(e){return{x:e.x,y:e.y,r:e.r}}function wm(e,t){var r=e.x,n=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-r,c=s-n,u=a-i,d=Math.sqrt(l*l+c*c);return{x:(r+o+l/d*u)/2,y:(n+s+c/d*u)/2,r:(d+i+a)/2}}function aV(e,t,r){var n=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=r.x,u=r.y,d=r.r,f=n-s,p=n-c,m=i-a,v=i-u,g=l-o,x=d-o,_=n*n+i*i-o*o,w=_-s*s-a*a+l*l,b=_-c*c-u*u+d*d,k=p*m-f*v,E=(m*b-v*w)/(k*2)-n,V=(v*g-m*x)/k,z=(p*w-f*b)/(k*2)-i,B=(f*x-p*g)/k,$=V*V+B*B-1,D=2*(o+E*V+z*B),I=E*E+z*z-o*o,L=-($?(D+Math.sqrt(D*D-4*$*I))/(2*$):I/D);return{x:n+E+V*L,y:i+z+B*L,r:L}}function lV(e,t,r){var n=e.x-t.x,i,o,s=e.y-t.y,a,l,c=n*n+s*s;c?(o=t.r+r.r,o*=o,l=e.r+r.r,l*=l,o>l?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),r.x=e.x-i*n-a*s,r.y=e.y-i*s+a*n):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),r.x=t.x+i*n-a*s,r.y=t.y+i*s+a*n)):(r.x=t.x+r.r,r.y=t.y)}function cV(e,t){var r=e.r+t.r-1e-6,n=t.x-e.x,i=t.y-e.y;return r>0&&r*r>n*n+i*i}function uV(e){var t=e._,r=e.next._,n=t.r+r.r,i=(t.x*r.r+r.x*t.r)/n,o=(t.y*r.r+r.y*t.r)/n;return i*i+o*o}function Kv(e){this._=e,this.next=null,this.previous=null}function zD(e){if(!(i=(e=iV(e)).length))return 0;var t,r,n,i,o,s,a,l,c,u,d;if(t=e[0],t.x=0,t.y=0,!(i>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(i>2))return t.r+r.r;lV(r,t,n=e[2]),t=new Kv(t),r=new Kv(r),n=new Kv(n),t.next=n.previous=r,r.next=t.previous=n,n.next=r.previous=t;e:for(a=3;a<i;++a){lV(t._,r._,n=e[a]),n=new Kv(n),l=r.next,c=t.previous,u=r._.r,d=t._.r;do if(u<=d){if(cV(l._,n._)){r=l,t.next=r,r.previous=t,--a;continue e}u+=l._.r,l=l.next}else{if(cV(c._,n._)){t=c,t.next=r,r.previous=t,--a;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(n.previous=t,n.next=r,t.next=r.previous=r=n,o=uV(t);(n=n.next)!==r;)(s=uV(n))<o&&(t=n,o=s);r=t.next}for(t=[r._],n=r;(n=n.next)!==r;)t.push(n._);for(n=Qv(t),a=0;a<i;++a)t=e[a],t.x-=n.x,t.y-=n.y;return n.r}function dV(e){return zD(e),e}function fV(e){return e==null?null:of(e)}function of(e){if(typeof e!="function")throw new Error;return e}function na(){return 0}function pl(e){return function(){return e}}function hfe(e){return Math.sqrt(e.value)}function Jv(){var e=null,t=1,r=1,n=na;function i(o){return o.x=t/2,o.y=r/2,e?o.eachBefore(hV(e)).eachAfter(BD(n,.5)).eachBefore(pV(1)):o.eachBefore(hV(hfe)).eachAfter(BD(na,1)).eachAfter(BD(n,o.r/Math.min(t,r))).eachBefore(pV(Math.min(t,r)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=fV(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],r=+o[1],i):[t,r]},i.padding=function(o){return arguments.length?(n=typeof o=="function"?o:pl(+o),i):n},i}function hV(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function BD(e,t){return function(r){if(n=r.children){var n,i,o=n.length,s=e(r)*t||0,a;if(s)for(i=0;i<o;++i)n[i].r+=s;if(a=zD(n),s)for(i=0;i<o;++i)n[i].r-=s;r.r=a+s}}}function pV(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function e3(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function as(e,t,r,n,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(n-t)/e.value;++a<l;)s=o[a],s.y0=r,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function mV(){var e=1,t=1,r=0,n=!1;function i(s){var a=s.height+1;return s.x0=s.y0=r,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),n&&s.eachBefore(e3),s}function o(s,a){return function(l){l.children&&as(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,d=l.x1-r,f=l.y1-r;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(n=!!s,i):n},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(r=+s,i):r},i}var pfe={depth:-1},gV={};function mfe(e){return e.id}function gfe(e){return e.parentId}function yV(){var e=mfe,t=gfe;function r(n){var i=Array.from(n),o=i.length,s,a,l,c,u,d,f,p=new Map;for(a=0;a<o;++a)s=i[a],u=i[a]=new hl(s),(d=e(s,a,n))!=null&&(d+="")&&(f=u.id=d,p.set(f,p.has(f)?gV:u)),(d=t(s,a,n))!=null&&(d+="")&&(u.parent=d);for(a=0;a<o;++a)if(u=i[a],d=u.parent){if(c=p.get(d),!c)throw new Error("missing: "+d);if(c===gV)throw new Error("ambiguous: "+d);c.children?c.children.push(u):c.children=[u],u.parent=c}else{if(l)throw new Error("multiple roots");l=u}if(!l)throw new Error("no root");if(l.parent=pfe,l.eachBefore(function(m){m.depth=m.parent.depth+1,--o}).eachBefore(UD),l.parent=null,o>0)throw new Error("cycle");return l}return r.id=function(n){return arguments.length?(e=of(n),r):e},r.parentId=function(n){return arguments.length?(t=of(n),r):t},r}function yfe(e,t){return e.parent===t.parent?1:2}function HD(e){var t=e.children;return t?t[0]:e.t}function WD(e){var t=e.children;return t?t[t.length-1]:e.t}function vfe(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}function xfe(e){for(var t=0,r=0,n=e.children,i=n.length,o;--i>=0;)o=n[i],o.z+=t,o.m+=t,t+=o.s+(r+=o.c)}function bfe(e,t,r){return e.a.parent===t.parent?e.a:r}function t3(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}t3.prototype=Object.create(hl.prototype);function _fe(e){for(var t=new t3(e,0),r,n=[t],i,o,s,a;r=n.pop();)if(o=r._.children)for(r.children=new Array(a=o.length),s=a-1;s>=0;--s)n.push(i=r.children[s]=new t3(o[s],s)),i.parent=r;return(t.parent=new t3(null,0)).children=[t],t}function Cm(){var e=yfe,t=1,r=1,n=null;function i(c){var u=_fe(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),n)c.eachBefore(l);else{var d=c,f=c,p=c;c.eachBefore(function(_){_.x<d.x&&(d=_),_.x>f.x&&(f=_),_.depth>p.depth&&(p=_)});var m=d===f?1:e(d,f)/2,v=m-d.x,g=t/(f.x+m+v),x=r/(p.depth||1);c.eachBefore(function(_){_.x=(_.x+v)*g,_.y=_.depth*x})}return c}function o(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){xfe(c);var p=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-p):c.z=p}else f&&(c.z=f.z+e(c._,f._));c.parent.A=a(c,f,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,d){if(u){for(var f=c,p=c,m=u,v=f.parent.children[0],g=f.m,x=p.m,_=m.m,w=v.m,b;m=WD(m),f=HD(f),m&&f;)v=HD(v),p=WD(p),p.a=c,b=m.z+_-f.z-g+e(m._,f._),b>0&&(vfe(bfe(m,c,d),c,b),g+=b,x+=b),_+=m.m,g+=f.m,w+=v.m,x+=p.m;m&&!WD(p)&&(p.t=m,p.m+=_-x),f&&!HD(v)&&(v.t=f,v.m+=g-w,d=c)}return d}function l(c){c.x*=t,c.y=c.depth*r}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(n=!1,t=+c[0],r=+c[1],i):n?null:[t,r]},i.nodeSize=function(c){return arguments.length?(n=!0,t=+c[0],r=+c[1],i):n?[t,r]:null},i}function ml(e,t,r,n,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(i-r)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=n,s.y0=r,s.y1=r+=s.value*c}var qD=(1+Math.sqrt(5))/2;function GD(e,t,r,n,i,o){for(var s=[],a=t.children,l,c,u=0,d=0,f=a.length,p,m,v=t.value,g,x,_,w,b,k,E;u<f;){p=i-r,m=o-n;do g=a[d++].value;while(!g&&d<f);for(x=_=g,k=Math.max(m/p,p/m)/(v*e),E=g*g*k,b=Math.max(_/E,E/x);d<f;++d){if(g+=c=a[d].value,c<x&&(x=c),c>_&&(_=c),E=g*g*k,w=Math.max(_/E,E/x),w>b){g-=c;break}b=w}s.push(l={value:g,dice:p<m,children:a.slice(u,d)}),l.dice?as(l,r,n,i,v?n+=m*g/v:o):ml(l,r,n,v?r+=p*g/v:i,o),v-=g,u=d}return s}var n3=function e(t){function r(n,i,o,s,a){GD(t,n,i,o,s,a)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(qD);function vV(){var e=n3,t=!1,r=1,n=1,i=[0],o=na,s=na,a=na,l=na,c=na;function u(f){return f.x0=f.y0=0,f.x1=r,f.y1=n,f.eachBefore(d),i=[0],t&&f.eachBefore(e3),f}function d(f){var p=i[f.depth],m=f.x0+p,v=f.y0+p,g=f.x1-p,x=f.y1-p;g<m&&(m=g=(m+g)/2),x<v&&(v=x=(v+x)/2),f.x0=m,f.y0=v,f.x1=g,f.y1=x,f.children&&(p=i[f.depth+1]=o(f)/2,m+=c(f)-p,v+=s(f)-p,g-=a(f)-p,x-=l(f)-p,g<m&&(m=g=(m+g)/2),x<v&&(v=x=(v+x)/2),e(f,m,v,g,x))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(r=+f[0],n=+f[1],u):[r,n]},u.tile=function(f){return arguments.length?(e=of(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:pl(+f),u):o},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:pl(+f),u):s},u.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:pl(+f),u):a},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:pl(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:pl(+f),u):c},u}function xV(e,t,r,n,i){var o=e.children,s,a=o.length,l,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;u(0,a,e.value,t,r,n,i);function u(d,f,p,m,v,g,x){if(d>=f-1){var _=o[d];_.x0=m,_.y0=v,_.x1=g,_.y1=x;return}for(var w=c[d],b=p/2+w,k=d+1,E=f-1;k<E;){var V=k+E>>>1;c[V]<b?k=V+1:E=V}b-c[k-1]<c[k]-b&&d+1<k&&--k;var z=c[k]-w,B=p-z;if(g-m>x-v){var $=p?(m*B+g*z)/p:g;u(d,k,z,m,v,$,x),u(k,f,B,$,v,g,x)}else{var D=p?(v*B+x*z)/p:x;u(d,k,z,m,v,g,D),u(k,f,B,m,D,g,x)}}}function bV(e,t,r,n,i){(e.depth&1?ml:as)(e,t,r,n,i)}var _V=function e(t){function r(n,i,o,s,a){if((l=n._squarify)&&l.ratio===t)for(var l,c,u,d,f=-1,p,m=l.length,v=n.value;++f<m;){for(c=l[f],u=c.children,d=c.value=0,p=u.length;d<p;++d)c.value+=u[d].value;c.dice?as(c,i,o,s,v?o+=(a-o)*c.value/v:a):ml(c,i,o,v?i+=(s-i)*c.value/v:s,a),v-=c.value}else n._squarify=l=GD(t,n,i,o,s,a),l.ratio=t}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(qD);r3();var bt=Math.random;var IV=function e(t){function r(n,i){return n=n==null?0:+n,i=i==null?1:+i,arguments.length===1?(i=n,n=0):i-=n,function(){return t()*i+n}}return r.source=e,r}(bt);var AV=function e(t){function r(n,i){return arguments.length<2&&(i=n,n=0),n=Math.floor(n),i=Math.floor(i)-n,function(){return Math.floor(t()*i+n)}}return r.source=e,r}(bt);var sf=function e(t){function r(n,i){var o,s;return n=n==null?0:+n,i=i==null?1:+i,function(){var a;if(o!=null)a=o,o=null;else do o=t()*2-1,a=t()*2-1,s=o*o+a*a;while(!s||s>1);return n+i*a*Math.sqrt(-2*Math.log(s)/s)}}return r.source=e,r}(bt);var OV=function e(t){var r=sf.source(t);function n(){var i=r.apply(this,arguments);return function(){return Math.exp(i())}}return n.source=e,n}(bt);var i3=function e(t){function r(n){return(n=+n)<=0?()=>0:function(){for(var i=0,o=n;o>1;--o)i+=t();return i+o*t()}}return r.source=e,r}(bt);var PV=function e(t){var r=i3.source(t);function n(i){if((i=+i)==0)return t;var o=r(i);return function(){return o()/i}}return n.source=e,n}(bt);var NV=function e(t){function r(n){return function(){return-Math.log1p(-t())/n}}return r.source=e,r}(bt);var RV=function e(t){function r(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-t(),n)}}return r.source=e,r}(bt);var FV=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+n)}}return r.source=e,r}(bt);var o3=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return n===0?()=>1/0:n===1?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-t())/n)})}return r.source=e,r}(bt);var af=function e(t){var r=sf.source(t)();function n(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-t())*o;var s=(i<1?i+1:i)-1/3,a=1/(3*Math.sqrt(s)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var c=r(),u=1+a*c;while(u<=0);u*=u*u;var d=1-t()}while(d>=1-.0331*c*c*c*c&&Math.log(d)>=.5*c*c+s*(1-u+Math.log(u)));return s*u*l()*o}}return n.source=e,n}(bt);var s3=function e(t){var r=af.source(t);function n(i,o){var s=r(i),a=r(o);return function(){var l=s();return l===0?0:l/(l+a())}}return n.source=e,n}(bt);var a3=function e(t){var r=o3.source(t),n=s3.source(t);function i(o,s){return o=+o,(s=+s)>=1?()=>o:s<=0?()=>0:function(){for(var a=0,l=o,c=s;l*c>16&&l*(1-c)>16;){var u=Math.floor((l+1)*c),d=n(u,l-u+1)();d<=c?(a+=u,l-=u,c=(c-d)/(1-d)):(l=u-1,c/=d)}for(var f=c<.5,p=f?c:1-c,m=r(p),v=m(),g=0;v<=l;++g)v+=m();return a+(f?g:l-g)}}return i.source=e,i}(bt);var LV=function e(t){function r(n,i,o){var s;return(n=+n)==0?s=a=>-Math.log(a):(n=1/n,s=a=>Math.pow(a,n)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*s(-Math.log1p(-t()))}}return r.source=e,r}(bt);var jV=function e(t){function r(n,i){return n=n==null?0:+n,i=i==null?1:+i,function(){return n+i*Math.tan(Math.PI*t())}}return r.source=e,r}(bt);var VV=function e(t){function r(n,i){return n=n==null?0:+n,i=i==null?1:+i,function(){var o=t();return n+i*Math.log(o/(1-o))}}return r.source=e,r}(bt);var UV=function e(t){var r=af.source(t),n=a3.source(t);function i(o){return function(){for(var s=0,a=o;a>16;){var l=Math.floor(.875*a),c=r(l)();if(c>a)return s+n(l-1,a/c)();s+=l,a-=c}for(var u=-Math.log1p(-t()),d=0;u<=a;++d)u-=Math.log1p(-t());return s+d}}return i.source=e,i}(bt);var $V=23283064365386963e-26;function JD(e=Math.random()){let t=(0<=e&&e<1?e/$V:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,$V*(t>>>0))}on();function pn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ji(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var l3=Symbol("implicit");function _t(){var e=new Map,t=[],r=[],n=l3;function i(o){var s=o+"",a=e.get(s);if(!a){if(n!==l3)return n;e.set(s,a=t.push(o))}return r[(a-1)%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(let s of o){let a=s+"";e.has(a)||e.set(a,t.push(s))}return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return _t(t,r).unknown(n)},pn.apply(i,arguments),i}function cn(){var e=_t().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,p=i<n,m=p?i:n,v=p?n:i;o=(v-m)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),m+=(v-m-o*(f-l))*u,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var g=Vt(f).map(function(x){return m+o*x});return r(p?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return cn(t(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},pn.apply(d(),arguments)}function zV(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zV(t())},e}function e8(){return zV(cn.apply(null,arguments).paddingInner(1))}on();on();function t8(e){return function(){return e}}function gl(e){return+e}var BV=[0,1];function Gn(e){return e}function n8(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:t8(isNaN(t)?NaN:.5)}function Cfe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Dfe(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=n8(i,n),o=r(s,o)):(n=n8(n,i),o=r(o,s)),function(a){return o(n(a))}}function Mfe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=n8(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var l=Rr(e,a,1,n)-1;return o[l](i[l](a))}}function ls(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nc(){var e=BV,t=BV,r=Ht,n,i,o,s=Gn,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==Gn&&(s=Cfe(e[0],e[f-1])),a=f>2?Mfe:Dfe,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(n),t,r)))(n(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(n),Ln)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,gl),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=tl,u()},d.clamp=function(f){return arguments.length?(s=f?!0:Gn,u()):s!==Gn},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,p){return n=f,i=p,u()}}function Rc(){return Nc()(Gn,Gn)}on();function Mm(e,t,r,n){var i=Ni(e,t,r),o;switch(n=Xs(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=nv(i,s))&&(n.precision=o),Cc(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=rv(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=tv(i))&&(n.precision=o-(n.type==="%")*2);break}}return Ze(n)}function $r(e){var t=e.domain;return e.ticks=function(r){var n=t();return br(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Mm(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=Go(s,a,r),c===l)return n[i]=s,n[o]=a,t(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function Ye(){var e=Rc();return e.copy=function(){return ls(e,Ye())},pn.apply(e,arguments),$r(e)}function c3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,gl),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return c3(e).unknown(t)},e=arguments.length?Array.from(e,gl):[0,1],$r(r)}on();function Sm(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}function HV(e){return Math.log(e)}function WV(e){return Math.exp(e)}function Sfe(e){return-Math.log(-e)}function Efe(e){return-Math.exp(-e)}function Tfe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kfe(e){return e===10?Tfe:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function Ife(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function qV(e){return function(t){return-e(-t)}}function Em(e){var t=e(HV,WV),r=t.domain,n=10,i,o;function s(){return i=Ife(n),o=kfe(n),r()[0]<0?(i=qV(i),o=qV(o),e(Sfe,Efe)):e(HV,WV),t}return t.base=function(a){return arguments.length?(n=+a,s()):n},t.domain=function(a){return arguments.length?(r(a),s()):r()},t.ticks=function(a){var l=r(),c=l[0],u=l[l.length-1],d;(d=u<c)&&(f=c,c=u,u=f);var f=i(c),p=i(u),m,v,g,x=a==null?10:+a,_=[];if(!(n%1)&&p-f<x){if(f=Math.floor(f),p=Math.ceil(p),c>0){for(;f<=p;++f)for(v=1,m=o(f);v<n;++v)if(g=m*v,!(g<c)){if(g>u)break;_.push(g)}}else for(;f<=p;++f)for(v=n-1,m=o(f);v>=1;--v)if(g=m*v,!(g<c)){if(g>u)break;_.push(g)}_.length*2<x&&(_=br(c,u,x))}else _=br(f,p,Math.min(p-f,x)).map(o);return d?_.reverse():_},t.tickFormat=function(a,l){if(l==null&&(l=n===10?".0e":","),typeof l!="function"&&(l=Ze(l)),a===1/0)return l;a==null&&(a=10);var c=Math.max(1,n*a/t.ticks().length);return function(u){var d=u/o(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=function(){return r(Sm(r(),{floor:function(a){return o(Math.floor(i(a)))},ceil:function(a){return o(Math.ceil(i(a)))}}))},t}function u3(){var e=Em(Nc()).domain([1,10]);return e.copy=function(){return ls(e,u3()).base(e.base())},pn.apply(e,arguments),e}function GV(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function YV(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Tm(e){var t=1,r=e(GV(t),YV(t));return r.constant=function(n){return arguments.length?e(GV(t=+n),YV(t)):t},$r(r)}function d3(){var e=Tm(Nc());return e.copy=function(){return ls(e,d3()).constant(e.constant())},pn.apply(e,arguments)}function ZV(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Afe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ofe(e){return e<0?-e*e:e*e}function km(e){var t=e(Gn,Gn),r=1;function n(){return r===1?e(Gn,Gn):r===.5?e(Afe,Ofe):e(ZV(r),ZV(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},$r(t)}function Im(){var e=km(Nc());return e.copy=function(){return ls(e,Im()).exponent(e.exponent())},pn.apply(e,arguments),e}function yl(){return Im.apply(null,arguments).exponent(.5)}function XV(e){return Math.sign(e)*e*e}function Pfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function lf(){var e=Rc(),t=[0,1],r=!1,n;function i(o){var s=Pfe(e(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return e.invert(XV(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,gl)).map(XV)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return lf(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},pn.apply(i,arguments),$r(i)}on();function f3(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=Tp(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[Rr(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Qe),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return f3().domain(e).range(t).unknown(n)},pn.apply(o,arguments)}on();function h3(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Rr(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return h3().domain([e,t]).range(i).unknown(o)},pn.apply($r(s),arguments)}on();function p3(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[Rr(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return p3().domain(e).range(t).unknown(r)},pn.apply(i,arguments)}var r8=new Date,i8=new Date;function pt(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var l=[],c;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=function(o){return pt(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},r&&(i.count=function(o,s){return r8.setTime(+o),i8.setTime(+s),e(r8),e(i8),Math.floor(r(r8,i8))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?function(s){return n(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var m3=pt(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});m3.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pt(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):m3};var Am=m3,o8=m3.range;var QV=pt(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Vi=QV,s8=QV.range;var KV=pt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),cf=KV,JV=KV.range;var eU=pt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),uf=eU,tU=eU.range;var nU=pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),ra=nU,rU=nU.range;function jc(e){return pt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var us=jc(0),Vc=jc(1),l8=jc(2),c8=jc(3),ia=jc(4),u8=jc(5),d8=jc(6),f8=us.range,oU=Vc.range,sU=l8.range,aU=c8.range,lU=ia.range,cU=u8.range,uU=d8.range;var dU=pt(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),df=dU,fU=dU.range;var h8=pt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});h8.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:pt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var Ui=h8,hU=h8.range;var pU=pt(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),ff=pU,mU=pU.range;var gU=pt(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),hf=gU,yU=gU.range;var vU=pt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),oa=vU,xU=vU.range;function Uc(e){return pt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}var ds=Uc(0),$c=Uc(1),p8=Uc(2),m8=Uc(3),sa=Uc(4),g8=Uc(5),y8=Uc(6),v8=ds.range,bU=$c.range,_U=p8.range,wU=m8.range,CU=sa.range,DU=g8.range,MU=y8.range;var SU=pt(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),pf=SU,EU=SU.range;var x8=pt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});x8.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:pt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var $i=x8,TU=x8.range;on();function IU(e,t,r,n,i,o){let s=[[Vi,1,1e3],[Vi,5,5*1e3],[Vi,15,15*1e3],[Vi,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function a(c,u,d){let f=u<c;f&&([c,u]=[u,c]);let p=d&&typeof d.range=="function"?d:l(c,u,d),m=p?p.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){let f=Math.abs(u-c)/d,p=$a(([,,g])=>g).right(s,f);if(p===s.length)return e.every(Ni(c/31536e6,u/31536e6,d));if(p===0)return Am.every(Math.max(Ni(c,u,d),1));let[m,v]=s[f/s[p-1][2]<s[p][2]/f?p-1:p];return m.every(v)}return[a,l]}var[g3,y3]=IU($i,pf,ds,oa,hf,ff),[v3,x3]=IU(Ui,df,us,ra,uf,cf);function b8(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _8(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Om(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Rm(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Pm(i),u=Nm(i),d=Pm(o),f=Nm(o),p=Pm(s),m=Nm(s),v=Pm(a),g=Nm(a),x=Pm(l),_=Nm(l),w={a:P,A:U,b:F,B:j,c:null,d:FU,e:FU,f:rhe,g:hhe,G:mhe,H:ehe,I:the,j:nhe,L:$U,m:ihe,M:ohe,p:G,q:J,Q:VU,s:UU,S:she,u:ahe,U:lhe,V:che,w:uhe,W:dhe,x:null,X:null,y:fhe,Y:phe,Z:ghe,"%":jU},b={a:X,A:se,b:Me,B:_e,c:null,d:LU,e:LU,f:bhe,g:Ihe,G:Ohe,H:yhe,I:vhe,j:xhe,L:BU,m:_he,M:whe,p:pe,q:Fe,Q:VU,s:UU,S:Che,u:Dhe,U:Mhe,V:She,w:Ehe,W:The,x:null,X:null,y:khe,Y:Ahe,Z:Phe,"%":jU},k={a:$,A:D,b:I,B:L,c:O,d:NU,e:NU,f:Xfe,g:PU,G:OU,H:RU,I:RU,j:qfe,L:Zfe,m:Wfe,M:Gfe,p:B,q:Hfe,Q:Kfe,s:Jfe,S:Yfe,u:Vfe,U:Ufe,V:$fe,w:jfe,W:zfe,x:S,X:T,y:PU,Y:OU,Z:Bfe,"%":Qfe};w.x=E(r,w),w.X=E(n,w),w.c=E(t,w),b.x=E(r,b),b.X=E(n,b),b.c=E(t,b);function E(te,be){return function(ke){var oe=[],st=-1,Je=0,Kt=te.length,bn,je,Jt;for(ke instanceof Date||(ke=new Date(+ke));++st<Kt;)te.charCodeAt(st)===37&&(oe.push(te.slice(Je,st)),(je=AU[bn=te.charAt(++st)])!=null?bn=te.charAt(++st):je=bn==="e"?" ":"0",(Jt=be[bn])&&(bn=Jt(ke,je)),oe.push(bn),Je=st+1);return oe.push(te.slice(Je,st)),oe.join("")}}function V(te,be){return function(ke){var oe=Om(1900,void 0,1),st=z(oe,te,ke+="",0),Je,Kt;if(st!=ke.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(be&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(Je=_8(Om(oe.y,0,1)),Kt=Je.getUTCDay(),Je=Kt>4||Kt===0?$c.ceil(Je):$c(Je),Je=oa.offset(Je,(oe.V-1)*7),oe.y=Je.getUTCFullYear(),oe.m=Je.getUTCMonth(),oe.d=Je.getUTCDate()+(oe.w+6)%7):(Je=b8(Om(oe.y,0,1)),Kt=Je.getDay(),Je=Kt>4||Kt===0?Vc.ceil(Je):Vc(Je),Je=ra.offset(Je,(oe.V-1)*7),oe.y=Je.getFullYear(),oe.m=Je.getMonth(),oe.d=Je.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),Kt="Z"in oe?_8(Om(oe.y,0,1)).getUTCDay():b8(Om(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(Kt+5)%7:oe.w+oe.U*7-(Kt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,_8(oe)):b8(oe)}}function z(te,be,ke,oe){for(var st=0,Je=be.length,Kt=ke.length,bn,je;st<Je;){if(oe>=Kt)return-1;if(bn=be.charCodeAt(st++),bn===37){if(bn=be.charAt(st++),je=k[bn in AU?be.charAt(st++):bn],!je||(oe=je(te,ke,oe))<0)return-1}else if(bn!=ke.charCodeAt(oe++))return-1}return oe}function B(te,be,ke){var oe=c.exec(be.slice(ke));return oe?(te.p=u.get(oe[0].toLowerCase()),ke+oe[0].length):-1}function $(te,be,ke){var oe=p.exec(be.slice(ke));return oe?(te.w=m.get(oe[0].toLowerCase()),ke+oe[0].length):-1}function D(te,be,ke){var oe=d.exec(be.slice(ke));return oe?(te.w=f.get(oe[0].toLowerCase()),ke+oe[0].length):-1}function I(te,be,ke){var oe=x.exec(be.slice(ke));return oe?(te.m=_.get(oe[0].toLowerCase()),ke+oe[0].length):-1}function L(te,be,ke){var oe=v.exec(be.slice(ke));return oe?(te.m=g.get(oe[0].toLowerCase()),ke+oe[0].length):-1}function O(te,be,ke){return z(te,t,be,ke)}function S(te,be,ke){return z(te,r,be,ke)}function T(te,be,ke){return z(te,n,be,ke)}function P(te){return s[te.getDay()]}function U(te){return o[te.getDay()]}function F(te){return l[te.getMonth()]}function j(te){return a[te.getMonth()]}function G(te){return i[+(te.getHours()>=12)]}function J(te){return 1+~~(te.getMonth()/3)}function X(te){return s[te.getUTCDay()]}function se(te){return o[te.getUTCDay()]}function Me(te){return l[te.getUTCMonth()]}function _e(te){return a[te.getUTCMonth()]}function pe(te){return i[+(te.getUTCHours()>=12)]}function Fe(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var be=E(te+="",w);return be.toString=function(){return te},be},parse:function(te){var be=V(te+="",!1);return be.toString=function(){return te},be},utcFormat:function(te){var be=E(te+="",b);return be.toString=function(){return te},be},utcParse:function(te){var be=V(te+="",!0);return be.toString=function(){return te},be}}}var AU={"-":"",_:" ",0:"0"},tr=/^\s*\d+/,Rfe=/^%/,Ffe=/[\\^$*+?|[\]().{}]/g;function kt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function Lfe(e){return e.replace(Ffe,"\\$&")}function Pm(e){return new RegExp("^(?:"+e.map(Lfe).join("|")+")","i")}function Nm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jfe(e,t,r){var n=tr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Vfe(e,t,r){var n=tr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ufe(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $fe(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zfe(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function OU(e,t,r){var n=tr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function PU(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Bfe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hfe(e,t,r){var n=tr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Wfe(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function NU(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function qfe(e,t,r){var n=tr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function RU(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Gfe(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Yfe(e,t,r){var n=tr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Zfe(e,t,r){var n=tr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Xfe(e,t,r){var n=tr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Qfe(e,t,r){var n=Rfe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kfe(e,t,r){var n=tr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Jfe(e,t,r){var n=tr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function FU(e,t){return kt(e.getDate(),t,2)}function ehe(e,t){return kt(e.getHours(),t,2)}function the(e,t){return kt(e.getHours()%12||12,t,2)}function nhe(e,t){return kt(1+ra.count(Ui(e),e),t,3)}function $U(e,t){return kt(e.getMilliseconds(),t,3)}function rhe(e,t){return $U(e,t)+"000"}function ihe(e,t){return kt(e.getMonth()+1,t,2)}function ohe(e,t){return kt(e.getMinutes(),t,2)}function she(e,t){return kt(e.getSeconds(),t,2)}function ahe(e){var t=e.getDay();return t===0?7:t}function lhe(e,t){return kt(us.count(Ui(e)-1,e),t,2)}function zU(e){var t=e.getDay();return t>=4||t===0?ia(e):ia.ceil(e)}function che(e,t){return e=zU(e),kt(ia.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function uhe(e){return e.getDay()}function dhe(e,t){return kt(Vc.count(Ui(e)-1,e),t,2)}function fhe(e,t){return kt(e.getFullYear()%100,t,2)}function hhe(e,t){return e=zU(e),kt(e.getFullYear()%100,t,2)}function phe(e,t){return kt(e.getFullYear()%1e4,t,4)}function mhe(e,t){var r=e.getDay();return e=r>=4||r===0?ia(e):ia.ceil(e),kt(e.getFullYear()%1e4,t,4)}function ghe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function LU(e,t){return kt(e.getUTCDate(),t,2)}function yhe(e,t){return kt(e.getUTCHours(),t,2)}function vhe(e,t){return kt(e.getUTCHours()%12||12,t,2)}function xhe(e,t){return kt(1+oa.count($i(e),e),t,3)}function BU(e,t){return kt(e.getUTCMilliseconds(),t,3)}function bhe(e,t){return BU(e,t)+"000"}function _he(e,t){return kt(e.getUTCMonth()+1,t,2)}function whe(e,t){return kt(e.getUTCMinutes(),t,2)}function Che(e,t){return kt(e.getUTCSeconds(),t,2)}function Dhe(e){var t=e.getUTCDay();return t===0?7:t}function Mhe(e,t){return kt(ds.count($i(e)-1,e),t,2)}function HU(e){var t=e.getUTCDay();return t>=4||t===0?sa(e):sa.ceil(e)}function She(e,t){return e=HU(e),kt(sa.count($i(e),e)+($i(e).getUTCDay()===4),t,2)}function Ehe(e){return e.getUTCDay()}function The(e,t){return kt($c.count($i(e)-1,e),t,2)}function khe(e,t){return kt(e.getUTCFullYear()%100,t,2)}function Ihe(e,t){return e=HU(e),kt(e.getUTCFullYear()%100,t,2)}function Ahe(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function Ohe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?sa(e):sa.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function Phe(){return"+0000"}function jU(){return"%"}function VU(e){return+e}function UU(e){return Math.floor(+e/1e3)}var mf,zc,w8,Sr,Fm;b3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b3(e){return mf=Rm(e),zc=mf.format,w8=mf.parse,Sr=mf.utcFormat,Fm=mf.utcParse,mf}var C8="%Y-%m-%dT%H:%M:%S.%LZ";function Nhe(e){return e.toISOString()}var Rhe=Date.prototype.toISOString?Nhe:Sr(C8),_3=Rhe;function Fhe(e){var t=new Date(e);return isNaN(t)?null:t}var Lhe=+new Date("2000-01-01T00:00:00.000Z")?Fhe:Fm(C8),w3=Lhe;function jhe(e){return new Date(e)}function Vhe(e){return e instanceof Date?+e:+new Date(+e)}function C3(e,t,r,n,i,o,s,a,l,c){var u=Rc(),d=u.invert,f=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),_=c("%b %d"),w=c("%B"),b=c("%Y");function k(E){return(l(E)<E?p:a(E)<E?m:s(E)<E?v:o(E)<E?g:n(E)<E?i(E)<E?x:_:r(E)<E?w:b)(E)}return u.invert=function(E){return new Date(d(E))},u.domain=function(E){return arguments.length?f(Array.from(E,Vhe)):f().map(jhe)},u.ticks=function(E){var V=f();return e(V[0],V[V.length-1],E??10)},u.tickFormat=function(E,V){return V==null?k:c(V)},u.nice=function(E){var V=f();return(!E||typeof E.range!="function")&&(E=t(V[0],V[V.length-1],E??10)),E?f(Sm(V,E)):u},u.copy=function(){return ls(u,C3(e,t,r,n,i,o,s,a,l,c))},u}function aa(){return pn.apply(C3(v3,x3,Ui,df,us,ra,uf,cf,Vi,zc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function D3(){return pn.apply(C3(g3,y3,$i,pf,ds,oa,hf,ff,Vi,Sr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function M3(){var e=0,t=1,r,n,i,o,s=Gn,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-r)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var p,m;return arguments.length?([p,m]=f,s=d(p,m),c):[s(0),s(1)]}}return c.range=u(Ht),c.rangeRound=u(tl),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function la(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ci(){var e=$r(M3()(Gn));return e.copy=function(){return la(e,ci())},ji.apply(e,arguments)}function D8(){var e=Em(M3()).domain([1,10]);return e.copy=function(){return la(e,D8()).base(e.base())},ji.apply(e,arguments)}function M8(){var e=Tm(M3());return e.copy=function(){return la(e,M8()).constant(e.constant())},ji.apply(e,arguments)}function S3(){var e=km(M3());return e.copy=function(){return la(e,S3()).exponent(e.exponent())},ji.apply(e,arguments)}function WU(){return S3.apply(null,arguments).exponent(.5)}on();function E3(){var e=[],t=Gn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Rr(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qe),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>mo(e,o/n))},r.copy=function(){return E3(t).domain(e)},ji.apply(r,arguments)}function T3(){var e=0,t=.5,r=1,n=1,i,o,s,a,l,c=Gn,u,d=!1,f;function p(v){return isNaN(v=+v)?f:(v=.5+((v=+u(v))-o)*(n*v<n*o?a:l),c(d?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,i=u(e=+e),o=u(t=+t),s=u(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(d=!!v,p):d},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(g){var x,_,w;return arguments.length?([x,_,w]=g,c=Vp(v,[x,_,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ht),p.rangeRound=m(tl),p.unknown=function(v){return arguments.length?(f=v,p):f},function(v){return u=v,i=v(e),o=v(t),s=v(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,p}}function k3(){var e=$r(T3()(Gn));return e.copy=function(){return la(e,k3())},ji.apply(e,arguments)}function S8(){var e=Em(T3()).domain([.1,1,10]);return e.copy=function(){return la(e,S8()).base(e.base())},ji.apply(e,arguments)}function E8(){var e=Tm(T3());return e.copy=function(){return la(e,E8()).constant(e.constant())},ji.apply(e,arguments)}function I3(){var e=km(T3());return e.copy=function(){return la(e,I3()).exponent(e.exponent())},ji.apply(e,arguments)}function qU(){return I3.apply(null,arguments).exponent(.5)}function ge(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var fr=ge("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var A3=ge("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var O3=ge("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var gf=ge("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var GU=ge("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var YU=ge("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var P3=ge("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var Lm=ge("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var ZU=ge("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Bc=ge("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var Re=e=>m2(e[e.length-1]);var T8=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ge),XU=Re(T8);var k8=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ge),QU=Re(k8);var I8=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ge),KU=Re(I8);var A8=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ge),JU=Re(A8);var jm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ge),N3=Re(jm);var O8=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ge),e$=Re(O8);var P8=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ge),t$=Re(P8);var N8=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ge),Vm=Re(N8);var Um=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ge),yf=Re(Um);var R8=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ge),n$=Re(R8);var F8=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ge),r$=Re(F8);var L8=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ge),i$=Re(L8);var j8=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ge),o$=Re(j8);var V8=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ge),s$=Re(V8);var U8=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ge),a$=Re(U8);var $8=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ge),l$=Re($8);var z8=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ge),c$=Re(z8);var B8=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ge),u$=Re(B8);var H8=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ge),d$=Re(H8);var W8=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ge),f$=Re(W8);var q8=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ge),R3=Re(q8);var G8=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ge),F3=Re(G8);var Y8=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ge),h$=Re(Y8);var Z8=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ge),p$=Re(Z8);var X8=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ge),m$=Re(X8);var Q8=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ge),L3=Re(Q8);var K8=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ge),g$=Re(K8);function y$(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var v$=uc(_r(300,.5,0),_r(-240,.5,1));var x$=uc(_r(-100,.75,.35),_r(80,1.5,.8)),b$=uc(_r(260,.75,.35),_r(80,1.5,.8)),j3=_r();function _$(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return j3.h=360*e-100,j3.s=1.5-1.5*t,j3.l=.8-.9*t,j3+""}var V3=Bs(),Uhe=Math.PI/3,$he=Math.PI*2/3;function w$(e){var t;return e=(.5-e)*Math.PI,V3.r=255*(t=Math.sin(e))*t,V3.g=255*(t=Math.sin(e+Uhe))*t,V3.b=255*(t=Math.sin(e+$he))*t,V3+""}function C$(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function U3(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var zi=U3(ge("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),D$=U3(ge("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),M$=U3(ge("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),S$=U3(ge("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Be(e){return function(){return e}}var J8=Math.abs,hr=Math.atan2,vl=Math.cos,E$=Math.max,$3=Math.min,Co=Math.sin,Hc=Math.sqrt,nr=1e-12,Do=Math.PI,$m=Do/2,Bi=2*Do;function T$(e){return e>1?0:e<-1?Do:Math.acos(e)}function eM(e){return e>=1?$m:e<=-1?-$m:Math.asin(e)}function zhe(e){return e.innerRadius}function Bhe(e){return e.outerRadius}function Hhe(e){return e.startAngle}function Whe(e){return e.endAngle}function qhe(e){return e&&e.padAngle}function Ghe(e,t,r,n,i,o,s,a){var l=r-e,c=n-t,u=s-i,d=a-o,f=d*l-u*c;if(!(f*f<nr))return f=(u*(t-o)-d*(e-i))/f,[e+f*l,t+f*c]}function z3(e,t,r,n,i,o,s){var a=e-r,l=t-n,c=(s?o:-o)/Hc(a*a+l*l),u=c*l,d=-c*a,f=e+u,p=t+d,m=r+u,v=n+d,g=(f+m)/2,x=(p+v)/2,_=m-f,w=v-p,b=_*_+w*w,k=i-o,E=f*v-m*p,V=(w<0?-1:1)*Hc(E$(0,k*k*b-E*E)),z=(E*w-_*V)/b,B=(-E*_-w*V)/b,$=(E*w+_*V)/b,D=(-E*_+w*V)/b,I=z-g,L=B-x,O=$-g,S=D-x;return I*I+L*L>O*O+S*S&&(z=$,B=D),{cx:z,cy:B,x01:-u,y01:-d,x11:z*(i/k-1),y11:B*(i/k-1)}}function On(){var e=zhe,t=Bhe,r=Be(0),n=null,i=Hhe,o=Whe,s=qhe,a=null;function l(){var c,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),p=i.apply(this,arguments)-$m,m=o.apply(this,arguments)-$m,v=J8(m-p),g=m>p;if(a||(a=c=si()),f<d&&(u=f,f=d,d=u),!(f>nr))a.moveTo(0,0);else if(v>Bi-nr)a.moveTo(f*vl(p),f*Co(p)),a.arc(0,0,f,p,m,!g),d>nr&&(a.moveTo(d*vl(m),d*Co(m)),a.arc(0,0,d,m,p,g));else{var x=p,_=m,w=p,b=m,k=v,E=v,V=s.apply(this,arguments)/2,z=V>nr&&(n?+n.apply(this,arguments):Hc(d*d+f*f)),B=$3(J8(f-d)/2,+r.apply(this,arguments)),$=B,D=B,I,L;if(z>nr){var O=eM(z/d*Co(V)),S=eM(z/f*Co(V));(k-=O*2)>nr?(O*=g?1:-1,w+=O,b-=O):(k=0,w=b=(p+m)/2),(E-=S*2)>nr?(S*=g?1:-1,x+=S,_-=S):(E=0,x=_=(p+m)/2)}var T=f*vl(x),P=f*Co(x),U=d*vl(b),F=d*Co(b);if(B>nr){var j=f*vl(_),G=f*Co(_),J=d*vl(w),X=d*Co(w),se;if(v<Do&&(se=Ghe(T,P,J,X,j,G,U,F))){var Me=T-se[0],_e=P-se[1],pe=j-se[0],Fe=G-se[1],te=1/Co(T$((Me*pe+_e*Fe)/(Hc(Me*Me+_e*_e)*Hc(pe*pe+Fe*Fe)))/2),be=Hc(se[0]*se[0]+se[1]*se[1]);$=$3(B,(d-be)/(te-1)),D=$3(B,(f-be)/(te+1))}}E>nr?D>nr?(I=z3(J,X,T,P,f,D,g),L=z3(j,G,U,F,f,D,g),a.moveTo(I.cx+I.x01,I.cy+I.y01),D<B?a.arc(I.cx,I.cy,D,hr(I.y01,I.x01),hr(L.y01,L.x01),!g):(a.arc(I.cx,I.cy,D,hr(I.y01,I.x01),hr(I.y11,I.x11),!g),a.arc(0,0,f,hr(I.cy+I.y11,I.cx+I.x11),hr(L.cy+L.y11,L.cx+L.x11),!g),a.arc(L.cx,L.cy,D,hr(L.y11,L.x11),hr(L.y01,L.x01),!g))):(a.moveTo(T,P),a.arc(0,0,f,x,_,!g)):a.moveTo(T,P),!(d>nr)||!(k>nr)?a.lineTo(U,F):$>nr?(I=z3(U,F,j,G,d,-$,g),L=z3(T,P,J,X,d,-$,g),a.lineTo(I.cx+I.x01,I.cy+I.y01),$<B?a.arc(I.cx,I.cy,$,hr(I.y01,I.x01),hr(L.y01,L.x01),!g):(a.arc(I.cx,I.cy,$,hr(I.y01,I.x01),hr(I.y11,I.x11),!g),a.arc(0,0,d,hr(I.cy+I.y11,I.cx+I.x11),hr(L.cy+L.y11,L.cx+L.x11),g),a.arc(L.cx,L.cy,$,hr(L.y11,L.x11),hr(L.y01,L.x01),!g))):a.arc(0,0,d,b,w,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Do/2;return[vl(u)*c,Co(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Be(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Be(+c),l):t},l.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:Be(+c),l):r},l.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Be(+c),l):n},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Be(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Be(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Be(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}var k$=Array.prototype.slice;function xl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function I$(e){this._context=e}I$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ui(e){return new I$(e)}function vf(e){return e[0]}function xf(e){return e[1]}function zr(e,t){var r=Be(!0),n=null,i=ui,o=null;e=typeof e=="function"?e:e===void 0?vf:Be(e),t=typeof t=="function"?t:t===void 0?xf:Be(t);function s(a){var l,c=(a=xl(a)).length,u,d=!1,f;for(n==null&&(o=i(f=si())),l=0;l<=c;++l)!(l<c&&r(u=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,l,a),+t(u,l,a));if(f)return o=null,f+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Be(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:Be(+a),s):t},s.defined=function(a){return arguments.length?(r=typeof a=="function"?a:Be(!!a),s):r},s.curve=function(a){return arguments.length?(i=a,n!=null&&(o=i(n)),s):i},s.context=function(a){return arguments.length?(a==null?n=o=null:o=i(n=a),s):n},s}function fs(e,t,r){var n=null,i=Be(!0),o=null,s=ui,a=null;e=typeof e=="function"?e:e===void 0?vf:Be(+e),t=typeof t=="function"?t:t===void 0?Be(0):Be(+t),r=typeof r=="function"?r:r===void 0?xf:Be(+r);function l(u){var d,f,p,m=(u=xl(u)).length,v,g=!1,x,_=new Array(m),w=new Array(m);for(o==null&&(a=s(x=si())),d=0;d<=m;++d){if(!(d<m&&i(v=u[d],d,u))===g)if(g=!g)f=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=f;--p)a.point(_[p],w[p]);a.lineEnd(),a.areaEnd()}g&&(_[d]=+e(v,d,u),w[d]=+t(v,d,u),a.point(n?+n(v,d,u):_[d],r?+r(v,d,u):w[d]))}if(x)return a=null,x+""||null}function c(){return zr().defined(i).curve(s).context(o)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Be(+u),n=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Be(+u),l):e},l.x1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Be(+u),l):n},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Be(+u),r=null,l):t},l.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Be(+u),l):t},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Be(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(n).y(t)},l.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Be(!!u),l):i},l.curve=function(u){return arguments.length?(s=u,o!=null&&(a=s(o)),l):s},l.context=function(u){return arguments.length?(u==null?o=a=null:a=s(o=u),l):o},l}function A$(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function O$(e){return e}function hs(){var e=O$,t=A$,r=null,n=Be(0),i=Be(Bi),o=Be(0);function s(a){var l,c=(a=xl(a)).length,u,d,f=0,p=new Array(c),m=new Array(c),v=+n.apply(this,arguments),g=Math.min(Bi,Math.max(-Bi,i.apply(this,arguments)-v)),x,_=Math.min(Math.abs(g)/c,o.apply(this,arguments)),w=_*(g<0?-1:1),b;for(l=0;l<c;++l)(b=m[p[l]=l]=+e(a[l],l,a))>0&&(f+=b);for(t!=null?p.sort(function(k,E){return t(m[k],m[E])}):r!=null&&p.sort(function(k,E){return r(a[k],a[E])}),l=0,d=f?(g-c*w)/f:0;l<c;++l,v=x)u=p[l],b=m[u],x=v+(b>0?b*d:0)+w,m[u]={data:a[u],index:l,value:b,startAngle:v,endAngle:x,padAngle:_};return m}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:Be(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,r=null,s):t},s.sort=function(a){return arguments.length?(r=a,t=null,s):r},s.startAngle=function(a){return arguments.length?(n=typeof a=="function"?a:Be(+a),s):n},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Be(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:Be(+a),s):o},s}var B3=bf(ui);function P$(e){this._curve=e}P$.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function bf(e){function t(r){return new P$(e(r))}return t._curve=e,t}function _f(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(bf(r)):t()._curve},e}function tM(){return _f(zr().curve(B3))}function nM(){var e=fs().curve(B3),t=e.curve,r=e.lineX0,n=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return _f(r())},delete e.lineX0,e.lineEndAngle=function(){return _f(n())},delete e.lineX1,e.lineInnerRadius=function(){return _f(i())},delete e.lineY0,e.lineOuterRadius=function(){return _f(o())},delete e.lineY1,e.curve=function(s){return arguments.length?t(bf(s)):t()._curve},e}function Er(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}function Yhe(e){return e.source}function Zhe(e){return e.target}function rM(e){var t=Yhe,r=Zhe,n=vf,i=xf,o=null;function s(){var a,l=k$.call(arguments),c=t.apply(this,l),u=r.apply(this,l);if(o||(o=a=si()),e(o,+n.apply(this,(l[0]=c,l)),+i.apply(this,l),+n.apply(this,(l[0]=u,l)),+i.apply(this,l)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(r=a,s):r},s.x=function(a){return arguments.length?(n=typeof a=="function"?a:Be(+a),s):n},s.y=function(a){return arguments.length?(i=typeof a=="function"?a:Be(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function Xhe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function Qhe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+i)/2,n,r,n,i)}function Khe(e,t,r,n,i){var o=Er(t,r),s=Er(t,r=(r+i)/2),a=Er(n,r),l=Er(n,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function zm(){return rM(Xhe)}function N$(){return rM(Qhe)}function R$(){var e=rM(Khe);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var Bm={draw:function(e,t){var r=Math.sqrt(t/Do);e.moveTo(r,0),e.arc(0,0,r,0,Bi)}};var H3={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}};var F$=Math.sqrt(.3333333333333333),Jhe=F$*2,W3={draw:function(e,t){var r=Math.sqrt(t/Jhe),n=r*F$;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}};var epe=.8908130915292852,L$=Math.sin(Do/10)/Math.sin(7*Do/10),tpe=Math.sin(Bi/10)*L$,npe=-Math.cos(Bi/10)*L$,q3={draw:function(e,t){var r=Math.sqrt(t*epe),n=tpe*r,i=npe*r;e.moveTo(0,-r),e.lineTo(n,i);for(var o=1;o<5;++o){var s=Bi*o/5,a=Math.cos(s),l=Math.sin(s);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*i,l*n+a*i)}e.closePath()}};var G3={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}};var iM=Math.sqrt(3),Y3={draw:function(e,t){var r=-Math.sqrt(t/(iM*3));e.moveTo(0,r*2),e.lineTo(-iM*r,-r),e.lineTo(iM*r,-r),e.closePath()}};var Hi=-.5,Wi=Math.sqrt(3)/2,oM=1/Math.sqrt(12),rpe=(oM/2+1)*3,Z3={draw:function(e,t){var r=Math.sqrt(t/rpe),n=r/2,i=r*oM,o=n,s=r*oM+r,a=-o,l=s;e.moveTo(n,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Hi*n-Wi*i,Wi*n+Hi*i),e.lineTo(Hi*o-Wi*s,Wi*o+Hi*s),e.lineTo(Hi*a-Wi*l,Wi*a+Hi*l),e.lineTo(Hi*n+Wi*i,Hi*i-Wi*n),e.lineTo(Hi*o+Wi*s,Hi*s-Wi*o),e.lineTo(Hi*a+Wi*l,Hi*l-Wi*a),e.closePath()}};var j$=[Bm,H3,W3,G3,q3,Y3,Z3];function V$(e,t){var r=null;e=typeof e=="function"?e:Be(e||Bm),t=typeof t=="function"?t:Be(t===void 0?64:+t);function n(){var i;if(r||(r=i=si()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Be(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Be(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function qi(){}function wf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Hm(e){this._context=e}Hm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function U$(e){return new Hm(e)}function $$(e){this._context=e}$$.prototype={areaStart:qi,areaEnd:qi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z$(e){return new $$(e)}function B$(e){this._context=e}B$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H$(e){return new B$(e)}var X3=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}};function W$(e){return new X3(e,!0)}function q$(e){return new X3(e,!1)}function G$(e,t){this._basis=new Hm(e),this._beta=t}G$.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,s=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Y$=function e(t){function r(n){return t===1?new Hm(n):new G$(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Cf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Q3(e,t){this._context=e,this._k=(1-t)/6}Q3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Z$=function e(t){function r(n){return new Q3(n,t)}return r.tension=function(n){return e(+n)},r}(0);function K3(e,t){this._context=e,this._k=(1-t)/6}K3.prototype={areaStart:qi,areaEnd:qi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var X$=function e(t){function r(n){return new K3(n,t)}return r.tension=function(n){return e(+n)},r}(0);function J3(e,t){this._context=e,this._k=(1-t)/6}J3.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Q$=function e(t){function r(n){return new J3(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Wm(e,t,r){var n=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>nr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>nr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(n,i,o,s,e._x2,e._y2)}function K$(e,t){this._context=e,this._alpha=t}K$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Wm(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var J$=function e(t){function r(n){return t?new K$(n,t):new Q3(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function ez(e,t){this._context=e,this._alpha=t}ez.prototype={areaStart:qi,areaEnd:qi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Wm(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tz=function e(t){function r(n){return t?new ez(n,t):new K3(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function nz(e,t){this._context=e,this._alpha=t}nz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wm(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rz=function e(t){function r(n){return t?new nz(n,t):new J3(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function iz(e){this._context=e}iz.prototype={areaStart:qi,areaEnd:qi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oz(e){return new iz(e)}function sz(e){return e<0?-1:1}function az(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(sz(o)+sz(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function lz(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sM(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function ex(e){this._context=e}ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sM(this,this._t0,lz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sM(this,lz(this,r=az(this,e,t)),r);break;default:sM(this,this._t0,r=az(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cz(e){this._context=new uz(e)}(cz.prototype=Object.create(ex.prototype)).point=function(e,t){ex.prototype.point.call(this,t,e)};function uz(e){this._context=e}uz.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function tx(e){return new ex(e)}function dz(e){return new cz(e)}function hz(e){this._context=e}hz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fz(e),i=fz(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fz(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function pz(e){return new hz(e)}function nx(e,t){this._context=e,this._t=t}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mz(e){return new nx(e,.5)}function gz(e){return new nx(e,0)}function yz(e){return new nx(e,1)}function Mo(e,t){if((s=e.length)>1)for(var r=1,n,i,o=e[t[0]],s,a=o.length;r<s;++r)for(i=o,o=e[t[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function So(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ipe(e,t){return e[t]}function ope(e){let t=[];return t.key=e,t}function ps(){var e=Be([]),t=So,r=Mo,n=ipe;function i(o){var s=Array.from(e.apply(this,arguments),ope),a,l=s.length,c=-1,u;for(let d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(d,s[a].key,c,o)]).data=d;for(a=0,u=xl(t(s));a<l;++a)s[u[a]].index=a;return r(s,u),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Be(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Be(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?So:typeof o=="function"?o:Be(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Mo,i):r},i}function vz(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Mo(e,t)}}function xz(e,t){if((l=e.length)>0)for(var r,n=0,i,o,s,a,l,c=e[t[0]].length;n<c;++n)for(s=a=0,r=0;r<l;++r)(o=(i=e[t[r]][n])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function bz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=e[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}Mo(e,t)}}function _z(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,c=0;a<s;++a){for(var u=e[t[a]],d=u[n][1]||0,f=u[n-1][1]||0,p=(d-f)/2,m=0;m<a;++m){var v=e[t[m]],g=v[n][1]||0,x=v[n-1][1]||0;p+=g-x}l+=d,c+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Mo(e,t)}}function rx(e){var t=e.map(spe);return So(e).sort(function(r,n){return t[r]-t[n]})}function spe(e){for(var t=-1,r=0,n=e.length,i,o=-1/0;++t<n;)(i=+e[t][1])>o&&(o=i,r=t);return r}function ix(e){var t=e.map(aM);return So(e).sort(function(r,n){return t[r]-t[n]})}function aM(e){for(var t=0,r=-1,n=e.length,i;++r<n;)(i=+e[r][1])&&(t+=i);return t}function wz(e){return ix(e).reverse()}function Cz(e){var t=e.length,r,n,i=e.map(aM),o=rx(e),s=0,a=0,l=[],c=[];for(r=0;r<t;++r)n=o[r],s<a?(s+=i[n],l.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(l)}function Dz(e){return So(e).reverse()}Ld();Wa();var qm=e=>()=>e;function lM(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function ms(e,t,r){this.k=e,this.x=t,this.y=r}ms.prototype={constructor:ms,scale:function(e){return e===1?this:new ms(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ms(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Df=new ms(1,0,0);ox.prototype=ms.prototype;function ox(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Df;return e.__zoom}function sx(e){e.stopImmediatePropagation()}function Mf(e){e.preventDefault(),e.stopImmediatePropagation()}function ape(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function lpe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Mz(){return this.__zoom||Df}function cpe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function upe(){return navigator.maxTouchPoints||"ontouchstart"in this}function dpe(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function di(){var e=ape,t=lpe,r=dpe,n=cpe,i=upe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=C2,c=Ci("start","zoom","end"),u,d,f,p=500,m=150,v=0,g=10;function x(O){O.property("__zoom",Mz).on("wheel.zoom",z).on("mousedown.zoom",B).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(O,S,T,P){var U=O.selection?O.selection():O;U.property("__zoom",Mz),O!==U?k(O,S,T,P):U.interrupt().each(function(){E(this,arguments).event(P).start().zoom(null,typeof S=="function"?S.apply(this,arguments):S).end()})},x.scaleBy=function(O,S,T,P){x.scaleTo(O,function(){var U=this.__zoom.k,F=typeof S=="function"?S.apply(this,arguments):S;return U*F},T,P)},x.scaleTo=function(O,S,T,P){x.transform(O,function(){var U=t.apply(this,arguments),F=this.__zoom,j=T==null?b(U):typeof T=="function"?T.apply(this,arguments):T,G=F.invert(j),J=typeof S=="function"?S.apply(this,arguments):S;return r(w(_(F,J),j,G),U,s)},T,P)},x.translateBy=function(O,S,T,P){x.transform(O,function(){return r(this.__zoom.translate(typeof S=="function"?S.apply(this,arguments):S,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,P)},x.translateTo=function(O,S,T,P,U){x.transform(O,function(){var F=t.apply(this,arguments),j=this.__zoom,G=P==null?b(F):typeof P=="function"?P.apply(this,arguments):P;return r(Df.translate(G[0],G[1]).scale(j.k).translate(typeof S=="function"?-S.apply(this,arguments):-S,typeof T=="function"?-T.apply(this,arguments):-T),F,s)},P,U)};function _(O,S){return S=Math.max(o[0],Math.min(o[1],S)),S===O.k?O:new ms(S,O.x,O.y)}function w(O,S,T){var P=S[0]-T[0]*O.k,U=S[1]-T[1]*O.k;return P===O.x&&U===O.y?O:new ms(O.k,P,U)}function b(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function k(O,S,T,P){O.on("start.zoom",function(){E(this,arguments).event(P).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(P).end()}).tween("zoom",function(){var U=this,F=arguments,j=E(U,F).event(P),G=t.apply(U,F),J=T==null?b(G):typeof T=="function"?T.apply(U,F):T,X=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),se=U.__zoom,Me=typeof S=="function"?S.apply(U,F):S,_e=l(se.invert(J).concat(X/se.k),Me.invert(J).concat(X/Me.k));return function(pe){if(pe===1)pe=Me;else{var Fe=_e(pe),te=X/Fe[2];pe=new ms(te,J[0]-Fe[0]*te,J[1]-Fe[1]*te)}j.zoom(null,pe)}})}function E(O,S,T){return!T&&O.__zooming||new V(O,S)}function V(O,S){this.that=O,this.args=S,this.active=0,this.sourceEvent=null,this.extent=t.apply(O,S),this.taps=0}V.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,S){return this.mouse&&O!=="mouse"&&(this.mouse[1]=S.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=S.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=S.invert(this.touch1[0])),this.that.__zoom=S,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var S=Q(this.that).datum();c.call(O,this.that,new lM(O,{sourceEvent:this.sourceEvent,target:x,type:O,transform:this.that.__zoom,dispatch:c}),S)}};function z(O,...S){if(!e.apply(this,arguments))return;var T=E(this,S).event(O),P=this.__zoom,U=Math.max(o[0],Math.min(o[1],P.k*Math.pow(2,n.apply(this,arguments)))),F=Kn(O);if(T.wheel)(T.mouse[0][0]!==F[0]||T.mouse[0][1]!==F[1])&&(T.mouse[1]=P.invert(T.mouse[0]=F)),clearTimeout(T.wheel);else{if(P.k===U)return;T.mouse=[F,P.invert(F)],yo(this),T.start()}Mf(O),T.wheel=setTimeout(j,m),T.zoom("mouse",r(w(_(P,U),T.mouse[0],T.mouse[1]),T.extent,s));function j(){T.wheel=null,T.end()}}function B(O,...S){if(f||!e.apply(this,arguments))return;var T=E(this,S,!0).event(O),P=Q(O.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",X,!0),U=Kn(O,F),F=O.currentTarget,j=O.clientX,G=O.clientY;Za(O.view),sx(O),T.mouse=[U,this.__zoom.invert(U)],yo(this),T.start();function J(se){if(Mf(se),!T.moved){var Me=se.clientX-j,_e=se.clientY-G;T.moved=Me*Me+_e*_e>v}T.event(se).zoom("mouse",r(w(T.that.__zoom,T.mouse[0]=Kn(se,F),T.mouse[1]),T.extent,s))}function X(se){P.on("mousemove.zoom mouseup.zoom",null),Xa(se.view,T.moved),Mf(se),T.event(se).end()}}function $(O,...S){if(e.apply(this,arguments)){var T=this.__zoom,P=Kn(O.changedTouches?O.changedTouches[0]:O,this),U=T.invert(P),F=T.k*(O.shiftKey?.5:2),j=r(w(_(T,F),P,U),t.apply(this,S),s);Mf(O),a>0?Q(this).transition().duration(a).call(k,j,P,O):Q(this).call(x.transform,j,P,O)}}function D(O,...S){if(e.apply(this,arguments)){var T=O.touches,P=T.length,U=E(this,S,O.changedTouches.length===P).event(O),F,j,G,J;for(sx(O),j=0;j<P;++j)G=T[j],J=Kn(G,this),J=[J,this.__zoom.invert(J),G.identifier],U.touch0?!U.touch1&&U.touch0[2]!==J[2]&&(U.touch1=J,U.taps=0):(U.touch0=J,F=!0,U.taps=1+!!u);u&&(u=clearTimeout(u)),F&&(U.taps<2&&(d=J[0],u=setTimeout(function(){u=null},p)),yo(this),U.start())}}function I(O,...S){if(this.__zooming){var T=E(this,S).event(O),P=O.changedTouches,U=P.length,F,j,G,J;for(Mf(O),F=0;F<U;++F)j=P[F],G=Kn(j,this),T.touch0&&T.touch0[2]===j.identifier?T.touch0[0]=G:T.touch1&&T.touch1[2]===j.identifier&&(T.touch1[0]=G);if(j=T.that.__zoom,T.touch1){var X=T.touch0[0],se=T.touch0[1],Me=T.touch1[0],_e=T.touch1[1],pe=(pe=Me[0]-X[0])*pe+(pe=Me[1]-X[1])*pe,Fe=(Fe=_e[0]-se[0])*Fe+(Fe=_e[1]-se[1])*Fe;j=_(j,Math.sqrt(pe/Fe)),G=[(X[0]+Me[0])/2,(X[1]+Me[1])/2],J=[(se[0]+_e[0])/2,(se[1]+_e[1])/2]}else if(T.touch0)G=T.touch0[0],J=T.touch0[1];else return;T.zoom("touch",r(w(j,G,J),T.extent,s))}}function L(O,...S){if(this.__zooming){var T=E(this,S).event(O),P=O.changedTouches,U=P.length,F,j;for(sx(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},p),F=0;F<U;++F)j=P[F],T.touch0&&T.touch0[2]===j.identifier?delete T.touch0:T.touch1&&T.touch1[2]===j.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(j=Kn(j,this),Math.hypot(d[0]-j[0],d[1]-j[1])<g)){var G=Q(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return x.wheelDelta=function(O){return arguments.length?(n=typeof O=="function"?O:qm(+O),x):n},x.filter=function(O){return arguments.length?(e=typeof O=="function"?O:qm(!!O),x):e},x.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:qm(!!O),x):i},x.extent=function(O){return arguments.length?(t=typeof O=="function"?O:qm([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),x):t},x.scaleExtent=function(O){return arguments.length?(o[0]=+O[0],o[1]=+O[1],x):[o[0],o[1]]},x.translateExtent=function(O){return arguments.length?(s[0][0]=+O[0][0],s[1][0]=+O[1][0],s[0][1]=+O[0][1],s[1][1]=+O[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(O){return arguments.length?(r=O,x):r},x.duration=function(O){return arguments.length?(a=+O,x):a},x.interpolate=function(O){return arguments.length?(l=O,x):l},x.on=function(){var O=c.on.apply(c,arguments);return O===c?x:O},x.clickDistance=function(O){return arguments.length?(v=(O=+O)*O,x):Math.sqrt(v)},x.tapDistance=function(O){return arguments.length?(g=+O,x):g},x}var cM=[{name:"Mosaic",image:"../../../assets/browsers/Mosaic.png"},{name:"Safari",image:"../../../assets/browsers/Safari.png"},{name:"Netscape",image:"../../../assets/browsers/Netscape.png"},{name:"Opera",image:"../../../assets/browsers/opera.png"},{name:"Chrome",image:"../../../assets/browsers/Chrome.png"},{name:"Mozilla",image:"../../../assets/browsers/Mozilla.png"},{name:"Firefox",image:"../../../assets/browsers/Firefox.png"},{name:"Internet Explorer",image:"../../../assets/browsers/IE.png"},{name:"Edge",image:"../../../assets/browsers/Edge.png"}],uXe=new Date("1994-01-01").getTime(),dXe=new Date("2023-01-01").getTime();function uM(e){return e}function ax(e){if(e==null)return uM;var t,r,n=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=r=0);var c=2,u=a.length,d=new Array(u);for(d[0]=(t+=a[0])*n+o,d[1]=(r+=a[1])*i+s;c<u;)d[c]=a[c],++c;return d}}function Sz(e,t){for(var r,n=e.length,i=n-t;i<--n;)r=e[i],e[i++]=e[n],e[n]=r}function lx(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return Ez(e,r)})}:Ez(e,t)}function Ez(e,t){var r=t.id,n=t.bbox,i=t.properties==null?{}:t.properties,o=dM(e,t);return r==null&&n==null?{type:"Feature",properties:i,geometry:o}:n==null?{type:"Feature",id:r,properties:i,geometry:o}:{type:"Feature",id:r,bbox:n,properties:i,geometry:o}}function dM(e,t){var r=ax(e.transform),n=e.arcs;function i(u,d){d.length&&d.pop();for(var f=n[u<0?~u:u],p=0,m=f.length;p<m;++p)d.push(r(f[p],p));u<0&&Sz(d,m)}function o(u){return r(u)}function s(u){for(var d=[],f=0,p=u.length;f<p;++f)i(u[f],d);return d.length<2&&d.push(d[0]),d}function a(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(a)}function c(u){var d=u.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":f=o(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(o);break;case"LineString":f=s(u.arcs);break;case"MultiLineString":f=u.arcs.map(s);break;case"Polygon":f=l(u.arcs);break;case"MultiPolygon":f=u.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return c(t)}var fM={};iu(fM,{arcs:()=>ype,bbox:()=>vpe,default:()=>bpe,objects:()=>hM,transform:()=>xpe,type:()=>gpe});var gpe="Topology",hM={countries:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1]]],id:"242",properties:{name:"Fiji"}},{type:"Polygon",arcs:[[2,3,4,5,6,7,8,9,10]],id:"834",properties:{name:"Tanzania"}},{type:"Polygon",arcs:[[11,12,13,14]],id:"732",properties:{name:"W. Sahara"}},{type:"MultiPolygon",arcs:[[[15,16,17,18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]]],id:"124",properties:{name:"Canada"}},{type:"MultiPolygon",arcs:[[[-19,48,49,50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[-17,58]],[[59]]],id:"840",properties:{name:"United States of America"}},{type:"Polygon",arcs:[[60,61,62,63,64,65]],id:"398",properties:{name:"Kazakhstan"}},{type:"Polygon",arcs:[[-63,66,67,68,69]],id:"860",properties:{name:"Uzbekistan"}},{type:"MultiPolygon",arcs:[[[70,71]],[[72]],[[73]],[[74]]],id:"598",properties:{name:"Papua New Guinea"}},{type:"MultiPolygon",arcs:[[[-72,75]],[[76,77]],[[78]],[[79,80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]]],id:"360",properties:{name:"Indonesia"}},{type:"MultiPolygon",arcs:[[[90,91]],[[92,93,94,95,96,97]]],id:"032",properties:{name:"Argentina"}},{type:"MultiPolygon",arcs:[[[-92,98]],[[99,-95,100,101]]],id:"152",properties:{name:"Chile"}},{type:"Polygon",arcs:[[-8,102,103,104,105,106,107,108,109,110,111]],id:"180",properties:{name:"Dem. Rep. Congo"}},{type:"Polygon",arcs:[[112,113,114,115]],id:"706",properties:{name:"Somalia"}},{type:"Polygon",arcs:[[-3,116,117,118,-113,119]],id:"404",properties:{name:"Kenya"}},{type:"Polygon",arcs:[[120,121,122,123,124,125,126,127]],id:"729",properties:{name:"Sudan"}},{type:"Polygon",arcs:[[-122,128,129,130,131]],id:"148",properties:{name:"Chad"}},{type:"Polygon",arcs:[[132,133]],id:"332",properties:{name:"Haiti"}},{type:"Polygon",arcs:[[-133,134]],id:"214",properties:{name:"Dominican Rep."}},{type:"MultiPolygon",arcs:[[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141,142,143]],[[144]],[[145]],[[146,147,148,149,-66,150,151,152,153,154,155,156,157,158,159,160,161]],[[162]],[[163,164]]],id:"643",properties:{name:"Russia"}},{type:"MultiPolygon",arcs:[[[165]],[[166]],[[167]]],id:"044",properties:{name:"Bahamas"}},{type:"Polygon",arcs:[[168]],id:"238",properties:{name:"Falkland Is."}},{type:"MultiPolygon",arcs:[[[169]],[[-161,170,171,172]],[[173]],[[174]]],id:"578",properties:{name:"Norway"}},{type:"Polygon",arcs:[[175]],id:"304",properties:{name:"Greenland"}},{type:"Polygon",arcs:[[176]],id:"260",properties:{name:"Fr. S. Antarctic Lands"}},{type:"Polygon",arcs:[[177,-77]],id:"626",properties:{name:"Timor-Leste"}},{type:"Polygon",arcs:[[178,179,180,181,182,183,184],[185]],id:"710",properties:{name:"South Africa"}},{type:"Polygon",arcs:[[-186]],id:"426",properties:{name:"Lesotho"}},{type:"Polygon",arcs:[[-50,186,187,188,189]],id:"484",properties:{name:"Mexico"}},{type:"Polygon",arcs:[[190,191,-93]],id:"858",properties:{name:"Uruguay"}},{type:"Polygon",arcs:[[-191,-98,192,193,194,195,196,197,198,199,200]],id:"076",properties:{name:"Brazil"}},{type:"Polygon",arcs:[[-194,201,-96,-100,202]],id:"068",properties:{name:"Bolivia"}},{type:"Polygon",arcs:[[-195,-203,-102,203,204,205]],id:"604",properties:{name:"Peru"}},{type:"Polygon",arcs:[[-196,-206,206,207,208,209,210]],id:"170",properties:{name:"Colombia"}},{type:"Polygon",arcs:[[-209,211,212,213]],id:"591",properties:{name:"Panama"}},{type:"Polygon",arcs:[[-213,214,215,216]],id:"188",properties:{name:"Costa Rica"}},{type:"Polygon",arcs:[[-216,217,218,219]],id:"558",properties:{name:"Nicaragua"}},{type:"Polygon",arcs:[[-219,220,221,222,223]],id:"340",properties:{name:"Honduras"}},{type:"Polygon",arcs:[[-222,224,225]],id:"222",properties:{name:"El Salvador"}},{type:"Polygon",arcs:[[-189,226,227,-223,-226,228]],id:"320",properties:{name:"Guatemala"}},{type:"Polygon",arcs:[[-188,229,-227]],id:"084",properties:{name:"Belize"}},{type:"Polygon",arcs:[[-197,-211,230,231]],id:"862",properties:{name:"Venezuela"}},{type:"Polygon",arcs:[[-198,-232,232,233]],id:"328",properties:{name:"Guyana"}},{type:"Polygon",arcs:[[-199,-234,234,235]],id:"740",properties:{name:"Suriname"}},{type:"MultiPolygon",arcs:[[[-200,-236,236]],[[237,238,239,240,241,242,243,244]],[[245]]],id:"250",properties:{name:"France"}},{type:"Polygon",arcs:[[-205,246,-207]],id:"218",properties:{name:"Ecuador"}},{type:"Polygon",arcs:[[247]],id:"630",properties:{name:"Puerto Rico"}},{type:"Polygon",arcs:[[248]],id:"388",properties:{name:"Jamaica"}},{type:"Polygon",arcs:[[249]],id:"192",properties:{name:"Cuba"}},{type:"Polygon",arcs:[[-181,250,251,252]],id:"716",properties:{name:"Zimbabwe"}},{type:"Polygon",arcs:[[-180,253,254,-251]],id:"072",properties:{name:"Botswana"}},{type:"Polygon",arcs:[[-179,255,256,257,-254]],id:"516",properties:{name:"Namibia"}},{type:"Polygon",arcs:[[258,259,260,261,262,263,264]],id:"686",properties:{name:"Senegal"}},{type:"Polygon",arcs:[[-261,265,266,267,268,269,270]],id:"466",properties:{name:"Mali"}},{type:"Polygon",arcs:[[-13,271,-266,-260,272]],id:"478",properties:{name:"Mauritania"}},{type:"Polygon",arcs:[[273,274,275,276,277]],id:"204",properties:{name:"Benin"}},{type:"Polygon",arcs:[[-131,278,279,-277,280,-268,281,282]],id:"562",properties:{name:"Niger"}},{type:"Polygon",arcs:[[-278,-280,283,284]],id:"566",properties:{name:"Nigeria"}},{type:"Polygon",arcs:[[-130,285,286,287,288,289,-284,-279]],id:"120",properties:{name:"Cameroon"}},{type:"Polygon",arcs:[[-275,290,291,292]],id:"768",properties:{name:"Togo"}},{type:"Polygon",arcs:[[-292,293,294,295]],id:"288",properties:{name:"Ghana"}},{type:"Polygon",arcs:[[-270,296,-295,297,298,299]],id:"384",properties:{name:"C\xF4te d'Ivoire"}},{type:"Polygon",arcs:[[-262,-271,-300,300,301,302,303]],id:"324",properties:{name:"Guinea"}},{type:"Polygon",arcs:[[-263,-304,304]],id:"624",properties:{name:"Guinea-Bissau"}},{type:"Polygon",arcs:[[-299,305,306,-301]],id:"430",properties:{name:"Liberia"}},{type:"Polygon",arcs:[[-302,-307,307]],id:"694",properties:{name:"Sierra Leone"}},{type:"Polygon",arcs:[[-269,-281,-276,-293,-296,-297]],id:"854",properties:{name:"Burkina Faso"}},{type:"Polygon",arcs:[[-108,308,-286,-129,-121,309]],id:"140",properties:{name:"Central African Rep."}},{type:"Polygon",arcs:[[-107,310,311,312,-287,-309]],id:"178",properties:{name:"Congo"}},{type:"Polygon",arcs:[[-288,-313,313,314]],id:"266",properties:{name:"Gabon"}},{type:"Polygon",arcs:[[-289,-315,315]],id:"226",properties:{name:"Eq. Guinea"}},{type:"Polygon",arcs:[[-7,316,317,-252,-255,-258,318,-103]],id:"894",properties:{name:"Zambia"}},{type:"Polygon",arcs:[[-6,319,-317]],id:"454",properties:{name:"Malawi"}},{type:"Polygon",arcs:[[-5,320,-184,321,-182,-253,-318,-320]],id:"508",properties:{name:"Mozambique"}},{type:"Polygon",arcs:[[-183,-322]],id:"748",properties:{name:"eSwatini"}},{type:"MultiPolygon",arcs:[[[-106,322,-311]],[[-104,-319,-257,323]]],id:"024",properties:{name:"Angola"}},{type:"Polygon",arcs:[[-9,-112,324]],id:"108",properties:{name:"Burundi"}},{type:"Polygon",arcs:[[325,326,327,328,329,330,331]],id:"376",properties:{name:"Israel"}},{type:"Polygon",arcs:[[-331,332,333]],id:"422",properties:{name:"Lebanon"}},{type:"Polygon",arcs:[[334]],id:"450",properties:{name:"Madagascar"}},{type:"Polygon",arcs:[[-327,335]],id:"275",properties:{name:"Palestine"}},{type:"Polygon",arcs:[[-265,336]],id:"270",properties:{name:"Gambia"}},{type:"Polygon",arcs:[[337,338,339]],id:"788",properties:{name:"Tunisia"}},{type:"Polygon",arcs:[[-12,340,341,-338,342,-282,-267,-272]],id:"012",properties:{name:"Algeria"}},{type:"Polygon",arcs:[[-326,343,344,345,346,-328,-336]],id:"400",properties:{name:"Jordan"}},{type:"Polygon",arcs:[[347,348,349,350,351]],id:"784",properties:{name:"United Arab Emirates"}},{type:"Polygon",arcs:[[352,353]],id:"634",properties:{name:"Qatar"}},{type:"Polygon",arcs:[[354,355,356]],id:"414",properties:{name:"Kuwait"}},{type:"Polygon",arcs:[[-345,357,358,359,360,-357,361]],id:"368",properties:{name:"Iraq"}},{type:"MultiPolygon",arcs:[[[-351,362,363,364]],[[-349,365]]],id:"512",properties:{name:"Oman"}},{type:"MultiPolygon",arcs:[[[366]],[[367]]],id:"548",properties:{name:"Vanuatu"}},{type:"Polygon",arcs:[[368,369,370,371]],id:"116",properties:{name:"Cambodia"}},{type:"Polygon",arcs:[[-369,372,373,374,375,376]],id:"764",properties:{name:"Thailand"}},{type:"Polygon",arcs:[[-370,-377,377,378,379]],id:"418",properties:{name:"Laos"}},{type:"Polygon",arcs:[[-376,380,381,382,383,-378]],id:"104",properties:{name:"Myanmar"}},{type:"Polygon",arcs:[[-371,-380,384,385]],id:"704",properties:{name:"Vietnam"}},{type:"MultiPolygon",arcs:[[[386,386,386]],[[-147,387,388,389,390]]],id:"408",properties:{name:"North Korea"}},{type:"Polygon",arcs:[[-389,391]],id:"410",properties:{name:"South Korea"}},{type:"Polygon",arcs:[[-149,392]],id:"496",properties:{name:"Mongolia"}},{type:"Polygon",arcs:[[-383,393,394,395,396,397,398,399,400]],id:"356",properties:{name:"India"}},{type:"Polygon",arcs:[[-382,401,-394]],id:"050",properties:{name:"Bangladesh"}},{type:"Polygon",arcs:[[-400,402]],id:"064",properties:{name:"Bhutan"}},{type:"Polygon",arcs:[[-398,403]],id:"524",properties:{name:"Nepal"}},{type:"Polygon",arcs:[[-396,404,405,406,407]],id:"586",properties:{name:"Pakistan"}},{type:"Polygon",arcs:[[-69,408,409,-407,410,411]],id:"004",properties:{name:"Afghanistan"}},{type:"Polygon",arcs:[[-68,412,413,-409]],id:"762",properties:{name:"Tajikistan"}},{type:"Polygon",arcs:[[-62,414,-413,-67]],id:"417",properties:{name:"Kyrgyzstan"}},{type:"Polygon",arcs:[[-64,-70,-412,415,416]],id:"795",properties:{name:"Turkmenistan"}},{type:"Polygon",arcs:[[-360,417,418,419,420,421,-416,-411,-406,422]],id:"364",properties:{name:"Iran"}},{type:"Polygon",arcs:[[-332,-334,423,424,-358,-344]],id:"760",properties:{name:"Syria"}},{type:"Polygon",arcs:[[-420,425,426,427,428]],id:"051",properties:{name:"Armenia"}},{type:"Polygon",arcs:[[-172,429,430]],id:"752",properties:{name:"Sweden"}},{type:"Polygon",arcs:[[-156,431,432,433,434]],id:"112",properties:{name:"Belarus"}},{type:"Polygon",arcs:[[-155,435,-164,436,437,438,439,440,441,442,-432]],id:"804",properties:{name:"Ukraine"}},{type:"Polygon",arcs:[[-433,-443,443,444,445,446,-142,447]],id:"616",properties:{name:"Poland"}},{type:"Polygon",arcs:[[448,449,450,451,452,453,454]],id:"040",properties:{name:"Austria"}},{type:"Polygon",arcs:[[-441,455,456,457,458,-449,459]],id:"348",properties:{name:"Hungary"}},{type:"Polygon",arcs:[[-439,460]],id:"498",properties:{name:"Moldova"}},{type:"Polygon",arcs:[[-438,461,462,463,-456,-440,-461]],id:"642",properties:{name:"Romania"}},{type:"Polygon",arcs:[[-434,-448,-144,464,465]],id:"440",properties:{name:"Lithuania"}},{type:"Polygon",arcs:[[-157,-435,-466,466,467]],id:"428",properties:{name:"Latvia"}},{type:"Polygon",arcs:[[-158,-468,468]],id:"233",properties:{name:"Estonia"}},{type:"Polygon",arcs:[[-446,469,-453,470,-238,471,472,473,474,475,476]],id:"276",properties:{name:"Germany"}},{type:"Polygon",arcs:[[-463,477,478,479,480,481]],id:"100",properties:{name:"Bulgaria"}},{type:"MultiPolygon",arcs:[[[482]],[[-480,483,484,485,486]]],id:"300",properties:{name:"Greece"}},{type:"MultiPolygon",arcs:[[[-359,-425,487,488,-427,-418]],[[-479,489,-484]]],id:"792",properties:{name:"Turkey"}},{type:"Polygon",arcs:[[-486,490,491,492,493]],id:"008",properties:{name:"Albania"}},{type:"Polygon",arcs:[[-458,494,495,496,497,498]],id:"191",properties:{name:"Croatia"}},{type:"Polygon",arcs:[[-452,499,-239,-471]],id:"756",properties:{name:"Switzerland"}},{type:"Polygon",arcs:[[-472,-245,500]],id:"442",properties:{name:"Luxembourg"}},{type:"Polygon",arcs:[[-473,-501,-244,501,502]],id:"056",properties:{name:"Belgium"}},{type:"Polygon",arcs:[[-474,-503,503]],id:"528",properties:{name:"Netherlands"}},{type:"Polygon",arcs:[[504,505]],id:"620",properties:{name:"Portugal"}},{type:"Polygon",arcs:[[-505,506,-242,507]],id:"724",properties:{name:"Spain"}},{type:"Polygon",arcs:[[508,509]],id:"372",properties:{name:"Ireland"}},{type:"Polygon",arcs:[[510]],id:"540",properties:{name:"New Caledonia"}},{type:"MultiPolygon",arcs:[[[511]],[[512]],[[513]],[[514]],[[515]]],id:"090",properties:{name:"Solomon Is."}},{type:"MultiPolygon",arcs:[[[516]],[[517]]],id:"554",properties:{name:"New Zealand"}},{type:"MultiPolygon",arcs:[[[518]],[[519]]],id:"036",properties:{name:"Australia"}},{type:"Polygon",arcs:[[520]],id:"144",properties:{name:"Sri Lanka"}},{type:"MultiPolygon",arcs:[[[521]],[[-61,-150,-393,-148,-391,522,-385,-379,-384,-401,-403,-399,-404,-397,-408,-410,-414,-415]]],id:"156",properties:{name:"China"}},{type:"Polygon",arcs:[[523]],id:"158",properties:{name:"Taiwan"}},{type:"MultiPolygon",arcs:[[[-451,524,525,-240,-500]],[[526]],[[527]]],id:"380",properties:{name:"Italy"}},{type:"MultiPolygon",arcs:[[[-476,528]],[[529]]],id:"208",properties:{name:"Denmark"}},{type:"MultiPolygon",arcs:[[[-510,530]],[[531]]],id:"826",properties:{name:"United Kingdom"}},{type:"Polygon",arcs:[[532]],id:"352",properties:{name:"Iceland"}},{type:"MultiPolygon",arcs:[[[-152,533,-421,-429,534]],[[-419,-426]]],id:"031",properties:{name:"Azerbaijan"}},{type:"Polygon",arcs:[[-153,-535,-428,-489,535]],id:"268",properties:{name:"Georgia"}},{type:"MultiPolygon",arcs:[[[536]],[[537]],[[538]],[[539]],[[540]],[[541]],[[542]]],id:"608",properties:{name:"Philippines"}},{type:"MultiPolygon",arcs:[[[-374,543]],[[-81,544,545,546]]],id:"458",properties:{name:"Malaysia"}},{type:"Polygon",arcs:[[-546,547]],id:"096",properties:{name:"Brunei"}},{type:"Polygon",arcs:[[-450,-459,-499,548,-525]],id:"705",properties:{name:"Slovenia"}},{type:"Polygon",arcs:[[-160,549,-430,-171]],id:"246",properties:{name:"Finland"}},{type:"Polygon",arcs:[[-442,-460,-455,550,-444]],id:"703",properties:{name:"Slovakia"}},{type:"Polygon",arcs:[[-445,-551,-454,-470]],id:"203",properties:{name:"Czechia"}},{type:"Polygon",arcs:[[-126,551,552,553]],id:"232",properties:{name:"Eritrea"}},{type:"MultiPolygon",arcs:[[[554]],[[555]],[[556]]],id:"392",properties:{name:"Japan"}},{type:"Polygon",arcs:[[-193,-97,-202]],id:"600",properties:{name:"Paraguay"}},{type:"Polygon",arcs:[[-364,557,558]],id:"887",properties:{name:"Yemen"}},{type:"Polygon",arcs:[[-346,-362,-356,559,-354,560,-352,-365,-559,561]],id:"682",properties:{name:"Saudi Arabia"}},{type:"MultiPolygon",arcs:[[[562]],[[563]],[[564]],[[565]],[[566]],[[567]],[[568]],[[569]]],id:"010",properties:{name:"Antarctica"}},{type:"Polygon",arcs:[[570,571]],properties:{name:"N. Cyprus"}},{type:"Polygon",arcs:[[-572,572]],id:"196",properties:{name:"Cyprus"}},{type:"Polygon",arcs:[[-341,-15,573]],id:"504",properties:{name:"Morocco"}},{type:"Polygon",arcs:[[-124,574,575,-329,576]],id:"818",properties:{name:"Egypt"}},{type:"Polygon",arcs:[[-123,-132,-283,-343,-340,577,-575]],id:"434",properties:{name:"Libya"}},{type:"Polygon",arcs:[[-114,-119,578,-127,-554,579,580]],id:"231",properties:{name:"Ethiopia"}},{type:"Polygon",arcs:[[-553,581,582,-580]],id:"262",properties:{name:"Djibouti"}},{type:"Polygon",arcs:[[-115,-581,-583,583]],properties:{name:"Somaliland"}},{type:"Polygon",arcs:[[-11,584,-110,585,-117]],id:"800",properties:{name:"Uganda"}},{type:"Polygon",arcs:[[-10,-325,-111,-585]],id:"646",properties:{name:"Rwanda"}},{type:"Polygon",arcs:[[-496,586,587]],id:"070",properties:{name:"Bosnia and Herz."}},{type:"Polygon",arcs:[[-481,-487,-494,588,589]],id:"807",properties:{name:"Macedonia"}},{type:"Polygon",arcs:[[-457,-464,-482,-590,590,591,-587,-495]],id:"688",properties:{name:"Serbia"}},{type:"Polygon",arcs:[[-492,592,-497,-588,-592,593]],id:"499",properties:{name:"Montenegro"}},{type:"Polygon",arcs:[[-493,-594,-591,-589]],properties:{name:"Kosovo"}},{type:"Polygon",arcs:[[594]],id:"780",properties:{name:"Trinidad and Tobago"}},{type:"Polygon",arcs:[[-109,-310,-128,-579,-118,-586]],id:"728",properties:{name:"S. Sudan"}}]},land:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1]],[[3,320,184,255,323,104,322,311,313,315,289,284,273,290,293,297,305,307,302,304,263,336,258,272,13,573,341,338,577,575,329,332,423,487,535,153,435,164,436,461,477,489,484,490,592,497,548,525,240,507,505,506,242,501,503,474,528,476,446,142,464,466,468,158,549,430,172,161,387,391,389,522,385,371,372,543,374,380,401,394,404,422,360,354,559,352,560,347,365,349,362,557,561,346,576,124,551,581,583,115,119],[421,416,64,150,533]],[[17,48,186,229,227,223,219,216,213,209,230,232,234,236,200,191,93,100,203,246,207,211,214,217,220,224,228,189,50,15,58]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[59]],[[70,75]],[[72]],[[73]],[[74]],[[77,177]],[[78]],[[546,79,544,547]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90,98]],[[133,134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[144]],[[145]],[[162]],[[165]],[[166]],[[167]],[[168]],[[169]],[[173]],[[174]],[[175]],[[176]],[[245]],[[247]],[[248]],[[249]],[[334]],[[366]],[[367]],[[482]],[[508,530]],[[510]],[[511]],[[512]],[[513]],[[514]],[[515]],[[516]],[[517]],[[518]],[[519]],[[520]],[[521]],[[523]],[[526]],[[527]],[[529]],[[531]],[[532]],[[536]],[[537]],[[538]],[[539]],[[540]],[[541]],[[542]],[[554]],[[555]],[[556]],[[562]],[[563]],[[564]],[[565]],[[566]],[[567]],[[568]],[[569]],[[570,572]],[[594]]]}]}},ype=[[[99478,40237],[69,98],[96,-171],[-46,-308],[-172,-81],[-153,73],[-27,260],[107,203],[126,-74]],[[0,41087],[57,27],[-34,-284],[-23,-32],[99822,-145],[-177,-124],[-36,220],[139,121],[88,33],[163,184],[-99999,0]],[[59417,50018],[47,-65],[1007,-1203],[19,-343],[399,-590]],[[60889,47817],[-128,-728],[16,-335],[178,-216],[8,-153],[-76,-357],[16,-180],[-18,-282],[97,-370],[115,-583],[101,-129]],[[61198,44484],[-221,-342],[-303,-230],[-167,10],[-99,-177],[-193,-16],[-73,-74],[-334,166],[-209,-48]],[[59599,43773],[-77,804],[-95,275],[-55,164],[-273,110]],[[59099,45126],[-157,177],[-177,100],[-111,99],[-116,150]],[[58538,45652],[-150,745],[-161,330],[-55,343],[27,307],[-50,544]],[[58149,47921],[115,28],[101,214],[108,308],[69,124],[-3,192],[-60,134],[-16,233]],[[58463,49154],[80,74],[16,348],[-110,333]],[[58449,49909],[98,71],[304,-7],[566,45]],[[47592,66920],[1,-40],[-6,-114]],[[47587,66766],[-1,-895],[-911,31],[9,-1512],[-261,-53],[-68,-304],[53,-853],[-1088,4],[-60,-197]],[[45260,62987],[12,249]],[[45272,63236],[5,-1],[625,48],[33,213],[114,265],[92,816],[386,637],[131,745],[86,44],[91,460],[234,63],[100,-76],[126,0],[90,134],[172,19],[-7,317],[42,0]],[[15878,79530],[-38,1],[-537,581],[-199,255],[-503,244],[-155,523],[40,363],[-356,252],[-48,476],[-336,429],[-6,304]],[[13740,82958],[154,285],[-7,373],[-473,376],[-284,674],[-173,424],[-255,266],[-187,242],[-147,306],[-279,-192],[-270,-330],[-247,388],[-194,259],[-271,164],[-273,17],[1,3364],[2,2193]],[[10837,91767],[518,-142],[438,-285],[289,-54],[244,247],[336,184],[413,-72],[416,259],[455,148],[191,-245],[207,138],[62,278],[192,-63],[470,-530],[369,401],[38,-449],[341,97],[105,173],[337,-34],[424,-248],[650,-217],[383,-100],[272,38],[374,-300],[-390,-293],[502,-127],[750,70],[236,103],[296,-354],[302,299],[-283,251],[179,202],[338,27],[223,59],[224,-141],[279,-321],[310,47],[491,-266],[431,94],[405,-14],[-32,367],[247,103],[431,-200],[-2,-559],[177,471],[223,-16],[126,594],[-298,364],[-324,239],[22,653],[329,429],[366,-95],[281,-261],[378,-666],[-247,-290],[517,-120],[-1,-604],[371,463],[332,-380],[-83,-438],[269,-399],[290,427],[202,510],[16,649],[394,-46],[411,-87],[373,-293],[17,-293],[-207,-315],[196,-316],[-36,-288],[-544,-413],[-386,-91],[-287,178],[-83,-297],[-268,-498],[-81,-259],[-322,-399],[-397,-39],[-220,-250],[-18,-384],[-323,-74],[-340,-479],[-301,-665],[-108,-466],[-16,-686],[409,-99],[125,-553],[130,-448],[388,117],[517,-256],[277,-225],[199,-279],[348,-163],[294,-248],[459,-34],[302,-58],[-45,-511],[86,-594],[201,-661],[414,-561],[214,192],[150,607],[-145,934],[-196,311],[445,276],[314,415],[154,411],[-23,395],[-188,502],[-338,445],[328,619],[-121,535],[-93,922],[194,137],[476,-161],[286,-57],[230,155],[258,-200],[342,-343],[85,-229],[495,-45],[-8,-496],[92,-747],[254,-92],[201,-348],[402,328],[266,652],[184,274],[216,-527],[362,-754],[307,-709],[-112,-371],[370,-333],[250,-338],[442,-152],[179,-189],[110,-500],[216,-78],[112,-223],[20,-664],[-202,-222],[-199,-207],[-458,-210],[-349,-486],[-470,-96],[-594,125],[-417,4],[-287,-41],[-233,-424],[-354,-262],[-401,-782],[-320,-545],[236,97],[446,776],[583,493],[415,58],[246,-289],[-262,-397],[88,-637],[91,-446],[361,-295],[459,86],[278,664],[19,-429],[180,-214],[-344,-387],[-615,-351],[-276,-239],[-310,-426],[-211,44],[-11,500],[483,488],[-445,-19],[-309,-72]],[[31350,77248],[-181,334],[0,805],[-123,171],[-187,-100],[-92,155],[-212,-446],[-84,-460],[-99,-269],[-118,-91],[-89,-30],[-28,-146],[-512,0],[-422,-4],[-125,-109],[-294,-425],[-34,-46],[-89,-231],[-255,1],[-273,-3],[-125,-93],[44,-116],[25,-181],[-5,-60],[-363,-293],[-286,-93],[-323,-316],[-70,0],[-94,93],[-31,85],[6,61],[61,207],[131,325],[81,349],[-56,514],[-59,536],[-290,277],[35,105],[-41,73],[-76,0],[-56,93],[-14,140],[-54,-61],[-75,18],[17,59],[-65,58],[-27,155],[-216,189],[-224,197],[-272,229],[-261,214],[-248,-167],[-91,-6],[-342,154],[-225,-77],[-269,183],[-284,94],[-194,36],[-86,100],[-49,325],[-94,-3],[-1,-227],[-575,0],[-951,0],[-944,0],[-833,0],[-834,0],[-819,0],[-847,0],[-273,0],[-824,0],[-789,0]],[[26668,87478],[207,273],[381,-6],[-6,-114],[-325,-326],[-196,13],[-61,160]],[[27840,93593],[-306,313],[12,213],[133,39],[636,-63],[479,-325],[25,-163],[-296,17],[-299,13],[-304,-80],[-80,36]],[[27690,87261],[107,177],[114,-13],[70,-121],[-108,-310],[-123,50],[-73,176],[13,41]],[[23996,94879],[-151,-229],[-403,44],[-337,155],[148,266],[399,159],[243,-208],[101,-187]],[[23933,96380],[-126,-17],[-521,38],[-74,165],[559,-9],[195,-109],[-33,-68]],[[23124,97116],[332,-205],[-76,-214],[-411,-122],[-226,138],[-119,221],[-22,245],[360,-24],[162,-39]],[[25514,94532],[-449,73],[-738,190],[-96,325],[-34,293],[-279,258],[-574,72],[-322,183],[104,242],[573,-37],[308,-190],[547,1],[240,-194],[-64,-222],[319,-134],[177,-140],[374,-26],[406,-50],[441,128],[566,51],[451,-42],[298,-223],[62,-244],[-174,-157],[-414,-127],[-355,72],[-797,-91],[-570,-11]],[[19093,96754],[392,-92],[-93,-177],[-518,-170],[-411,191],[224,188],[406,60]],[[19177,97139],[361,-120],[-339,-115],[-461,1],[5,84],[285,177],[149,-27]],[[34555,80899],[-148,-372],[-184,-517],[181,199],[187,-126],[-98,-206],[247,-162],[128,144],[277,-182],[-86,-433],[194,101],[36,-313],[86,-367],[-117,-520],[-125,-22],[-183,111],[60,484],[-77,75],[-322,-513],[-166,21],[196,277],[-267,144],[-298,-35],[-539,18],[-43,175],[173,208],[-121,160],[234,356],[287,941],[172,336],[241,204],[129,-26],[-54,-160]],[[26699,89048],[304,-203],[318,-184],[25,-281],[204,46],[199,-196],[-247,-186],[-432,142],[-156,266],[-275,-314],[-396,-306],[-95,346],[-377,-57],[242,292],[35,465],[95,542],[201,-49],[51,-259],[143,91],[161,-155]],[[28119,93327],[263,235],[616,-299],[383,-282],[36,-258],[515,134],[290,-376],[670,-234],[242,-238],[263,-553],[-510,-275],[654,-386],[441,-130],[400,-543],[437,-39],[-87,-414],[-487,-687],[-342,253],[-437,568],[-359,-74],[-35,-338],[292,-344],[377,-272],[114,-157],[181,-584],[-96,-425],[-350,160],[-697,473],[393,-509],[289,-357],[45,-206],[-753,236],[-596,343],[-337,287],[97,167],[-414,304],[-405,286],[5,-171],[-803,-94],[-235,203],[183,435],[522,10],[571,76],[-92,211],[96,294],[360,576],[-77,261],[-107,203],[-425,286],[-563,201],[178,150],[-294,367],[-245,34],[-219,201],[-149,-175],[-503,-76],[-1011,132],[-588,174],[-450,89],[-231,207],[290,270],[-394,2],[-88,599],[213,528],[286,241],[717,158],[-204,-382],[219,-369],[256,477],[704,242],[477,-611],[-42,-387],[550,172]],[[23749,94380],[579,-20],[530,-144],[-415,-526],[-331,-115],[-298,-442],[-317,22],[-173,519],[4,294],[145,251],[276,161]],[[15873,95551],[472,442],[570,383],[426,-9],[381,87],[-38,-454],[-214,-205],[-259,-29],[-517,-252],[-444,-91],[-377,128]],[[13136,82508],[267,47],[-84,-671],[242,-475],[-111,1],[-167,270],[-103,272],[-140,184],[-51,260],[16,188],[131,-76]],[[20696,97433],[546,-81],[751,-215],[212,-281],[108,-247],[-453,66],[-457,192],[-619,21],[268,176],[-335,142],[-21,227]],[[15692,79240],[-140,-82],[-456,269],[-84,209],[-248,207],[-50,168],[-286,107],[-107,321],[24,137],[291,-129],[171,-89],[261,-63],[94,-204],[138,-280],[277,-244],[115,-327]],[[16239,94566],[397,-123],[709,-33],[270,-171],[298,-249],[-349,-149],[-681,-415],[-344,-414],[0,-257],[-731,-285],[-147,259],[-641,312],[119,250],[192,432],[241,388],[-272,362],[939,93]],[[20050,95391],[247,99],[291,-26],[49,-289],[-169,-281],[-940,-91],[-701,-256],[-423,-14],[-35,193],[577,261],[-1255,-70],[-389,106],[379,577],[262,165],[782,-199],[493,-350],[485,-45],[-397,565],[255,215],[286,-68],[94,-282],[109,-210]],[[20410,93755],[311,-239],[175,-575],[86,-417],[466,-293],[502,-279],[-31,-260],[-456,-48],[178,-227],[-94,-217],[-503,93],[-478,160],[-322,-36],[-522,-201],[-704,-88],[-494,-56],[-151,279],[-379,161],[-246,-66],[-343,468],[185,62],[429,101],[392,-26],[362,103],[-537,138],[-594,-47],[-394,12],[-146,217],[644,237],[-428,-9],[-485,156],[233,443],[193,235],[744,359],[284,-114],[-139,-277],[618,179],[386,-298],[314,302],[254,-194],[227,-580],[140,244],[-197,606],[244,86],[276,-94]],[[22100,93536],[-306,386],[329,286],[331,-124],[496,75],[72,-172],[-259,-283],[420,-254],[-50,-532],[-455,-229],[-268,50],[-192,225],[-690,456],[5,189],[567,-73]],[[20389,94064],[372,24],[211,-130],[-244,-390],[-434,413],[95,83]],[[22639,95907],[212,-273],[9,-303],[-127,-440],[-458,-60],[-298,94],[5,345],[-455,-46],[-18,457],[299,-18],[419,201],[390,-34],[22,77]],[[23329,98201],[192,180],[285,42],[-122,135],[646,30],[355,-315],[468,-127],[455,-112],[220,-390],[334,-190],[-381,-176],[-513,-445],[-492,-42],[-575,76],[-299,240],[4,215],[220,157],[-508,-4],[-306,196],[-176,268],[193,262]],[[24559,98965],[413,112],[324,19],[545,96],[409,220],[344,-30],[300,-166],[211,319],[367,95],[498,65],[849,24],[148,-63],[802,100],[601,-38],[602,-37],[742,-47],[597,-75],[508,-161],[-12,-157],[-678,-257],[-672,-119],[-251,-133],[605,3],[-656,-358],[-452,-167],[-476,-483],[-573,-98],[-177,-120],[-841,-64],[383,-74],[-192,-105],[230,-292],[-264,-202],[-429,-167],[-132,-232],[-388,-176],[39,-134],[475,23],[6,-144],[-742,-355],[-726,163],[-816,-91],[-414,71],[-525,31],[-35,284],[514,133],[-137,427],[170,41],[742,-255],[-379,379],[-450,113],[225,229],[492,141],[79,206],[-392,231],[-118,304],[759,-26],[220,-64],[433,216],[-625,68],[-972,-38],[-491,201],[-232,239],[-324,173],[-61,202]],[[29106,90427],[-180,-174],[-312,-30],[-69,289],[118,331],[255,82],[217,-163],[3,-253],[-32,-82]],[[23262,91636],[169,-226],[-173,-207],[-374,179],[-226,-65],[-380,266],[245,183],[194,256],[295,-168],[166,-106],[84,-112]],[[32078,80046],[96,49],[365,-148],[284,-247],[8,-108],[-135,-11],[-360,186],[-258,279]],[[32218,78370],[97,-288],[202,-79],[257,16],[-137,-242],[-102,-38],[-353,250],[-69,198],[105,183]],[[31350,77248],[48,-194],[-296,-286],[-286,-204],[-293,-175],[-147,-351],[-47,-133],[-3,-313],[92,-313],[115,-15],[-29,216],[83,-131],[-22,-169],[-188,-96],[-133,11],[-205,-103],[-121,-29],[-162,-29],[-231,-171],[408,111],[82,-112],[-389,-177],[-177,-1],[8,72],[-84,-164],[82,-27],[-60,-424],[-203,-455],[-20,152],[-61,30],[-91,148],[57,-318],[69,-105],[5,-223],[-89,-230],[-157,-472],[-25,24],[86,402],[-142,225],[-33,491],[-53,-255],[59,-375],[-183,93],[191,-191],[12,-562],[79,-41],[29,-204],[39,-591],[-176,-439],[-288,-175],[-182,-346],[-139,-38],[-141,-217],[-39,-199],[-305,-383],[-157,-281],[-131,-351],[-43,-419],[50,-411],[92,-505],[124,-418],[1,-256],[132,-685],[-9,-398],[-12,-230],[-69,-361],[-83,-75],[-137,72],[-44,259],[-105,136],[-148,508],[-129,452],[-42,231],[57,393],[-77,325],[-217,494],[-108,90],[-281,-268],[-49,30],[-135,275],[-174,147],[-314,-75],[-247,66],[-212,-41],[-114,-92],[50,-157],[-5,-240],[59,-117],[-53,-77],[-103,87],[-104,-112],[-202,18],[-207,312],[-242,-73],[-202,137],[-173,-42],[-234,-138],[-253,-438],[-276,-255],[-152,-282],[-63,-266],[-3,-407],[14,-284],[52,-201]],[[23016,65864],[-108,-18],[-197,130],[-217,184],[-78,277],[-61,414],[-164,337],[-96,346],[-139,404],[-196,236],[-227,-11],[-175,-467],[-230,177],[-144,178],[-69,325],[-92,309],[-165,260],[-142,186],[-102,210],[-481,0],[0,-244],[-221,0],[-552,-4],[-634,416],[-419,287],[26,116],[-353,-64],[-316,-46]],[[17464,69802],[-46,302],[-180,340],[-130,71],[-30,169],[-156,30],[-100,159],[-258,59],[-71,95],[-33,324],[-270,594],[-231,821],[10,137],[-123,195],[-215,495],[-38,482],[-148,323],[61,489],[-10,507],[-89,453],[109,557],[34,536],[33,536],[-50,792],[-88,506],[-80,274],[33,115],[402,-200],[148,-558],[69,156],[-45,484],[-94,485]],[[6833,62443],[49,-51],[45,-79],[71,-207],[-7,-33],[-108,-126],[-89,-92],[-41,-99],[-69,84],[8,165],[-46,216],[14,65],[48,97],[-19,116],[16,55],[21,-11],[107,-100]],[[6668,62848],[-23,-71],[-94,-43],[-47,125],[-32,48],[-3,37],[27,50],[99,-56],[73,-90]],[[6456,63091],[-9,-63],[-149,17],[21,72],[137,-26]],[[6104,63411],[23,-38],[80,-196],[-15,-34],[-19,8],[-97,21],[-35,133],[-11,24],[74,82]],[[5732,63705],[5,-138],[-33,-58],[-93,107],[14,43],[43,58],[64,-12]],[[3759,86256],[220,-54],[27,-226],[-171,-92],[-182,110],[-168,161],[274,101]],[[7436,84829],[185,-40],[117,-183],[-240,-281],[-277,-225],[-142,152],[-43,277],[252,210],[148,90]],[[13740,82958],[-153,223],[-245,188],[-78,515],[-358,478],[-150,558],[-267,38],[-441,15],[-326,170],[-574,613],[-266,112],[-486,211],[-385,-51],[-546,272],[-330,252],[-309,-125],[58,-411],[-154,-38],[-321,-123],[-245,-199],[-308,-126],[-39,348],[125,580],[295,182],[-76,148],[-354,-329],[-190,-394],[-400,-420],[203,-287],[-262,-424],[-299,-248],[-278,-180],[-69,-261],[-434,-305],[-87,-278],[-325,-252],[-191,45],[-259,-165],[-282,-201],[-231,-197],[-477,-169],[-43,99],[304,276],[271,182],[296,324],[345,66],[137,243],[385,353],[62,119],[205,208],[48,448],[141,349],[-320,-179],[-90,102],[-150,-215],[-181,300],[-75,-212],[-104,294],[-278,-236],[-170,0],[-24,352],[50,216],[-179,211],[-361,-113],[-235,277],[-190,142],[-1,334],[-214,252],[108,340],[226,330],[99,303],[225,43],[191,-94],[224,285],[201,-51],[212,183],[-52,270],[-155,106],[205,228],[-170,-7],[-295,-128],[-85,-131],[-219,131],[-392,-67],[-407,142],[-117,238],[-351,343],[390,247],[620,289],[228,0],[-38,-296],[586,23],[-225,366],[-342,225],[-197,296],[-267,252],[-381,187],[155,309],[493,19],[350,270],[66,287],[284,281],[271,68],[526,262],[256,-40],[427,315],[421,-124],[201,-266],[123,114],[469,-35],[-16,-136],[425,-101],[283,59],[585,-186],[534,-56],[214,-77],[370,96],[421,-177],[302,-83]],[[2297,88264],[171,-113],[173,61],[225,-156],[276,-79],[-23,-64],[-211,-125],[-211,128],[-106,107],[-245,-34],[-66,52],[17,223]],[[74266,79657],[-212,-393],[-230,-56],[-13,-592],[-155,-267],[-551,194],[-200,-1058],[-143,-131],[-550,-236],[250,-1026],[-190,-154],[22,-337]],[[72294,75601],[-171,87],[-140,212],[-412,62],[-461,16],[-100,-65],[-396,248],[-158,-122],[-43,-349],[-457,204],[-183,-84],[-62,-259]],[[69711,75551],[-159,-109],[-367,-412],[-121,-422],[-104,-4],[-76,280],[-353,19],[-57,484],[-135,4],[21,593],[-333,431],[-476,-46],[-326,-86],[-265,533],[-227,223],[-431,423],[-52,51],[-715,-349],[11,-2178]],[[65546,74986],[-142,-29],[-195,463],[-188,166],[-315,-123],[-123,-197]],[[64583,75266],[-15,144],[68,246],[-53,206],[-322,202],[-125,530],[-154,150],[-9,192],[270,-56],[11,432],[236,96],[243,-88],[50,576],[-50,365],[-278,-28],[-236,144],[-321,-260],[-259,-124]],[[63639,77993],[-142,96],[29,304],[-177,395],[-207,-17],[-235,401],[160,448],[-81,120],[222,649],[285,-342],[35,431],[573,643],[434,15],[612,-409],[329,-239],[295,249],[440,12],[356,-306],[80,175],[391,-25],[69,280],[-450,406],[267,288],[-52,161],[266,153],[-200,405],[127,202],[1039,205],[136,146],[695,218],[250,245],[499,-127],[88,-612],[290,144],[356,-202],[-23,-322],[267,33],[696,558],[-102,-185],[355,-457],[620,-1500],[148,309],[383,-340],[399,151],[154,-106],[133,-341],[194,-115],[119,-251],[358,79],[147,-361]],[[69711,75551],[83,-58],[-234,-382],[205,-223],[198,147],[329,-311],[-355,-425],[-212,58]],[[69725,74357],[-114,-15],[-40,164],[58,274],[-371,-137],[-89,-380],[-132,-326],[-232,28],[-72,-261],[204,-140],[60,-440],[-156,-598]],[[68841,72526],[-210,124],[-154,4]],[[68477,72654],[7,362],[-369,253],[-291,289],[-181,278],[-317,408],[-137,609],[-93,108],[-301,-27],[-106,121],[-30,471],[-374,312],[-234,-343],[-237,-204],[45,-297],[-313,-8]],[[89166,49043],[482,-407],[513,-338],[192,-302],[154,-297],[43,-349],[462,-365],[68,-313],[-256,-64],[62,-393],[248,-388],[180,-627],[159,20],[-11,-262],[215,-100],[-84,-111],[295,-249],[-30,-171],[-184,-41],[-69,153],[-238,66],[-281,89],[-216,377],[-158,325],[-144,517],[-362,259],[-235,-169],[-170,-195],[35,-436],[-218,-203],[-155,99],[-288,25]],[[89175,45193],[-4,1925],[-5,1925]],[[92399,48417],[106,-189],[33,-307],[-87,-157],[-52,348],[-65,229],[-126,193],[-158,252],[-200,174],[77,143],[150,-166],[94,-130],[117,-142],[111,-248]],[[92027,47129],[-152,-144],[-142,-138],[-148,1],[-228,171],[-158,165],[23,183],[249,-86],[152,46],[42,283],[40,15],[27,-314],[158,45],[78,202],[155,211],[-30,348],[166,11],[56,-97],[-5,-327],[-93,-361],[-146,-48],[-44,-166]],[[92988,47425],[84,-134],[135,-375],[131,-200],[-39,-166],[-78,-59],[-120,227],[-122,375],[-59,450],[38,57],[30,-175]],[[89175,45193],[-247,485],[-282,118],[-69,-168],[-352,-18],[118,481],[175,164],[-72,642],[-134,496],[-538,500],[-229,50],[-417,546],[-82,-287],[-107,-52],[-63,216],[-1,257],[-212,290],[299,213],[198,-11],[-23,156],[-407,1],[-110,352],[-248,109],[-117,293],[374,143],[142,192],[446,-242],[44,-220],[78,-955],[287,-354],[232,627],[319,356],[247,1],[238,-206],[206,-212],[298,-113]],[[84713,45326],[28,-117],[5,-179]],[[84746,45030],[-181,-441],[-238,-130],[-33,71],[25,201],[119,360],[275,235]],[[87280,46506],[-27,445],[49,212],[58,200],[63,-173],[0,-282],[-143,-402]],[[82744,53024],[-158,-533],[204,-560],[-48,-272],[312,-546],[-329,-70],[-93,-403],[12,-535],[-267,-404],[-7,-589],[-107,-903],[-41,210],[-316,-266],[-110,361],[-198,34],[-139,189],[-330,-212],[-101,285],[-182,-32],[-229,68],[-43,793],[-138,164],[-134,505],[-38,517],[32,548],[165,392]],[[80461,51765],[47,-395],[190,-334],[179,121],[177,-43],[162,299],[133,52],[263,-166],[226,126],[143,822],[107,205],[96,672],[319,0],[241,-100]],[[85936,48924],[305,-172],[101,-452],[-234,244],[-232,49],[-157,-39],[-192,21],[65,325],[344,24]],[[85242,48340],[-192,108],[-54,254],[281,29],[69,-195],[-104,-196]],[[85536,51864],[20,-322],[164,-52],[26,-241],[-15,-517],[-143,58],[-42,-359],[114,-312],[-78,-71],[-112,374],[-82,755],[56,472],[92,215]],[[84146,51097],[319,25],[275,429],[48,-132],[-223,-587],[-209,-113],[-267,115],[-463,-29],[-243,-85],[-39,-447],[248,-526],[150,268],[518,201],[-22,-272],[-121,86],[-121,-347],[-245,-229],[263,-757],[-50,-203],[249,-682],[-2,-388],[-148,-173],[-109,207],[134,484],[-273,-229],[-69,164],[36,228],[-200,346],[21,576],[-186,-179],[24,-689],[11,-846],[-176,-85],[-119,173],[79,544],[-43,570],[-117,4],[-86,405],[115,387],[40,469],[139,891],[58,243],[237,439],[217,-174],[350,-82]],[[83414,44519],[-368,414],[259,116],[146,-180],[97,-180],[-17,-159],[-117,-11]],[[83705,45536],[185,45],[249,216],[-41,-328],[-417,-168],[-370,73],[0,216],[220,123],[174,-177]],[[82849,45639],[172,48],[69,-251],[-321,-119],[-193,-79],[-149,5],[95,340],[153,5],[74,209],[100,-158]],[[80134,46785],[38,-210],[533,-59],[61,244],[515,-284],[101,-383],[417,-108],[341,-351],[-317,-225],[-306,238],[-251,-16],[-288,44],[-260,106],[-322,225],[-204,59],[-116,-74],[-506,243],[-48,254],[-255,44],[191,564],[337,-35],[224,-231],[115,-45]],[[78991,49939],[47,-412],[97,-330],[204,-52],[135,-374],[-70,-735],[-11,-914],[-308,-12],[-234,494],[-356,482],[-119,358],[-210,481],[-138,443],[-212,827],[-244,493],[-81,508],[-103,461],[-250,372],[-145,506],[-209,330],[-290,652],[-24,300],[178,-24],[430,-114],[246,-577],[215,-401],[153,-246],[263,-635],[283,-9],[233,-405],[161,-495],[211,-270],[-111,-482],[159,-205],[100,-15]],[[30935,19481],[106,-274],[139,-443],[361,-355],[389,-147],[-125,-296],[-264,-29],[-141,208]],[[31400,18145],[-168,16],[-297,1],[0,1319]],[[33993,32727],[-70,-473],[-74,-607],[3,-588],[-61,-132],[-21,-382]],[[33770,30545],[-19,-308],[353,-506],[-38,-408],[173,-257],[-14,-289],[-267,-757],[-412,-317],[-557,-123],[-305,59],[59,-352],[-57,-442],[51,-298],[-167,-208],[-284,-82],[-267,216],[-108,-155],[39,-587],[188,-178],[152,186],[82,-307],[-255,-183],[-223,-367],[-41,-595],[-66,-316],[-262,-2],[-218,-302],[-80,-443],[273,-433],[266,-119],[-96,-531],[-328,-333],[-180,-692],[-254,-234],[-113,-276],[89,-614],[185,-342],[-117,30]],[[30952,19680],[-257,93],[-672,79],[-115,344],[6,443],[-185,-38],[-98,214],[-24,626],[213,260],[88,375],[-33,299],[148,504],[101,782],[-30,347],[122,112],[-30,223],[-129,118],[92,248],[-126,224],[-65,682],[112,120],[-47,720],[65,605],[75,527],[166,215],[-84,576],[-1,543],[210,386],[-7,494],[159,576],[1,544],[-72,108],[-128,1020],[171,607],[-27,572],[100,537],[182,555],[196,367],[-83,232],[58,190],[-9,985],[302,291],[96,614],[-34,148]],[[31359,37147],[231,534],[364,-144],[163,-427],[109,475],[316,-24],[45,-127]],[[32587,37434],[511,-964],[227,-89],[339,-437],[286,-231],[40,-261],[-273,-898],[280,-160],[312,-91],[220,95],[252,453],[45,521]],[[34826,35372],[138,114],[139,-341],[-6,-472],[-234,-326],[-186,-241],[-314,-573],[-370,-806]],[[31400,18145],[-92,-239],[-238,-183],[-137,19],[-164,48],[-202,177],[-291,86],[-350,330],[-283,317],[-383,662],[229,-124],[390,-395],[369,-212],[143,271],[90,405],[256,244],[198,-70]],[[30669,40193],[136,-402],[37,-426],[146,-250],[-88,-572],[150,-663],[109,-814],[200,81]],[[30952,19680],[-247,4],[-134,-145],[-250,-213],[-45,-552],[-118,-14],[-313,192],[-318,412],[-346,338],[-87,374],[79,346],[-140,393],[-36,1007],[119,568],[293,457],[-422,172],[265,522],[94,982],[309,-208],[145,1224],[-186,157],[-87,-738],[-175,83],[87,845],[95,1095],[127,404],[-80,576],[-22,666],[117,19],[170,954],[192,945],[118,881],[-64,885],[83,487],[-34,730],[163,721],[50,1143],[89,1227],[87,1321],[-20,967],[-58,832]],[[30452,39739],[143,151],[74,303]],[[58538,45652],[-109,60],[-373,-99],[-75,-71],[-79,-377],[62,-261],[-49,-699],[-34,-593],[75,-105],[194,-230],[76,107],[23,-637],[-212,5],[-114,325],[-103,252],[-213,82],[-62,310],[-170,-187],[-222,83],[-93,268],[-176,55],[-131,-15],[-15,184],[-96,15]],[[56642,44124],[-127,35],[-172,-89],[-121,15],[-68,-54],[15,703],[-93,219],[-21,363],[41,356],[-56,228],[-5,372],[-337,-5],[24,213],[-142,-2],[-15,-103],[-172,-23],[-69,-344],[-42,-148],[-154,83],[-91,-83],[-184,-47],[-106,309],[-64,191],[-80,354],[-68,440],[-820,8],[-98,-71],[-80,11],[-115,-79]],[[53422,46976],[-39,183]],[[53383,47159],[71,62],[9,258],[45,152],[101,124]],[[53609,47755],[73,-60],[95,226],[152,-6],[17,-167],[104,-105],[164,370],[161,289],[71,189],[-10,486],[121,574],[127,304],[183,285],[32,189],[7,216],[45,205],[-14,335],[34,524],[55,368],[83,316],[16,357]],[[55125,52650],[25,412],[108,300],[149,190],[229,-200],[177,-218],[203,-59],[207,-115],[83,357],[38,46],[127,-60],[309,295],[110,-125],[90,18],[41,143],[104,51],[209,-62],[178,-14],[91,63]],[[57603,53672],[169,-488],[124,-71],[75,99],[128,-39],[155,125],[66,-252],[244,-393]],[[58564,52653],[-16,-691],[111,-80],[-89,-210],[-107,-157],[-106,-308],[-59,-274],[-15,-475],[-65,-225],[-2,-446]],[[58216,49787],[-80,-165],[-10,-351],[-38,-46],[-26,-323]],[[58062,48902],[70,-268],[17,-713]],[[61551,49585],[-165,488],[-3,2152],[243,670]],[[61626,52895],[76,186],[178,11],[247,417],[362,26],[785,1773]],[[63274,55308],[194,493],[125,363],[0,308],[0,596],[1,244],[2,9]],[[63596,57321],[89,12],[128,88],[147,59],[132,202],[105,2],[6,-163],[-25,-344],[1,-310],[-59,-214],[-78,-639],[-134,-659],[-172,-755],[-238,-866],[-237,-661],[-327,-806],[-278,-479],[-415,-586],[-259,-450],[-304,-715],[-64,-312],[-63,-140]],[[59417,50018],[-3,627],[80,239],[137,391],[101,431],[-123,678],[-32,296],[-132,411]],[[59445,53091],[171,352],[188,390]],[[59804,53833],[145,-99],[0,-332],[95,-194],[193,0],[352,-502],[87,-6],[65,16],[62,-68],[185,-47],[82,247],[254,247],[112,-200],[190,0]],[[61551,49585],[-195,-236],[-68,-246],[-104,-44],[-40,-416],[-89,-238],[-54,-393],[-112,-195]],[[56824,55442],[-212,258],[-96,170],[-18,184],[45,246],[-1,241],[-160,369],[-31,253]],[[56351,57163],[3,143],[-102,174],[-3,343],[-58,228],[-98,-34],[28,217],[72,246],[-32,245],[92,181],[-58,138],[73,365],[127,435],[240,-41],[-14,2345]],[[56621,62148],[3,248],[320,2],[0,1180]],[[56944,63578],[1117,0],[1077,0],[1102,0]],[[60240,63578],[90,-580],[-61,-107],[40,-608],[102,-706],[106,-145],[152,-219]],[[60669,61213],[-141,-337],[-204,-97],[-88,-181],[-27,-393],[-120,-868],[30,-236]],[[60119,59101],[-45,-508],[-112,-582],[-168,-293],[-119,-451],[-28,-241],[-132,-166],[-82,-618],[4,-531]],[[59437,55711],[-3,460],[-39,12],[5,294],[-33,203],[-143,233],[-34,426],[34,436],[-129,41],[-19,-132],[-167,-30],[67,-173],[23,-355],[-152,-324],[-138,-426],[-144,-61],[-233,345],[-105,-122],[-29,-172],[-143,-112],[-9,-122],[-277,0],[-38,122],[-200,20],[-100,-101],[-77,51],[-143,344],[-48,163],[-200,-81],[-76,-274],[-72,-528],[-95,-111],[-85,-65],[189,-230]],[[56351,57163],[-176,-101],[-141,-239],[-201,-645],[-261,-273],[-269,36],[-78,-54],[28,-208],[-145,-207],[-118,-230],[-350,-226],[-69,134],[-46,11],[-52,-152],[-229,-44]],[[54244,54965],[43,160],[-87,407],[-39,245],[-121,100],[-164,345],[60,279],[127,-60],[78,42],[155,-6],[-151,537],[10,393],[-18,392],[-111,378]],[[54026,58177],[28,279],[-178,13],[0,380],[-115,219],[120,778],[354,557],[15,769],[107,1199],[60,254],[-116,203],[-4,188],[-104,153],[-68,919]],[[54125,64088],[280,323],[1108,-1132],[1108,-1131]],[[30080,62227],[24,-321],[-21,-228],[-68,-99],[71,-177],[-5,-161]],[[30081,61241],[-185,100],[-131,-41],[-169,43],[-130,-110],[-149,184],[24,190],[256,-82],[210,-47],[100,131],[-127,256],[2,226],[-175,92],[62,163],[170,-26],[241,-93]],[[30080,62227],[34,101],[217,-3],[165,-152],[73,15],[50,-209],[152,11],[-9,-176],[124,-21],[136,-217],[-103,-240],[-132,128],[-127,-25],[-92,28],[-50,-107],[-106,-37],[-43,144],[-92,-85],[-111,-405],[-71,94],[-14,170]],[[76049,98451],[600,133],[540,-297],[640,-572],[-69,-531],[-606,-73],[-773,170],[-462,226],[-213,423],[-379,117],[722,404]],[[78565,97421],[704,-336],[-82,-240],[-1566,-228],[507,776],[229,66],[208,-38]],[[88563,95563],[734,-26],[1004,-313],[-219,-439],[-1023,16],[-461,-139],[-550,384],[149,406],[366,111]],[[91172,95096],[697,-155],[-321,-234],[-444,53],[-516,233],[66,192],[518,-89]],[[88850,93928],[263,234],[348,54],[394,-226],[34,-155],[-421,-4],[-569,66],[-49,31]],[[62457,98194],[542,107],[422,8],[57,-160],[159,142],[262,97],[412,-129],[-107,-90],[-373,-78],[-250,-45],[-39,-97],[-324,-98],[-301,140],[158,185],[-618,18]],[[56314,82678],[-511,-9],[-342,67]],[[55461,82736],[63,260],[383,191]],[[55907,83187],[291,-103],[123,-94],[-30,-162],[23,-150]],[[64863,94153],[665,518],[-75,268],[621,312],[917,380],[925,110],[475,220],[541,76],[193,-233],[-187,-184],[-984,-293],[-848,-282],[-863,-562],[-414,-577],[-435,-568],[56,-491],[531,-484],[-164,-52],[-907,77],[-74,262],[-503,158],[-40,320],[284,126],[-10,323],[551,503],[-255,73]],[[89698,82309],[96,-569],[-7,-581],[114,-597],[280,-1046],[-411,195],[-171,-854],[271,-605],[-8,-413],[-211,356],[-182,-457],[-51,496],[31,575],[-32,638],[64,446],[13,790],[-163,581],[24,808],[257,271],[-110,274],[123,83],[73,-391]],[[86327,75524],[-39,104]],[[86288,75628],[-2,300],[142,16],[40,698],[-73,506],[238,208],[338,-104],[186,575],[96,647],[107,216],[146,532],[-459,-175],[-240,-233],[-423,1],[-112,555],[-329,420],[-483,189],[-103,579],[-97,363],[-104,254],[-172,596],[-244,217],[-415,176],[-369,-16],[-345,-106],[-229,-294],[152,-141],[4,-326],[-155,-189],[-251,-627],[3,-260],[-392,-373],[-333,223]],[[82410,80055],[-331,-49],[-146,198],[-166,63],[-407,-416],[-366,-98],[-255,-146],[-350,96],[-258,-6],[-168,302],[-272,284],[-279,78],[-351,-78],[-263,-109],[-394,248],[-53,443],[-327,152],[-252,69],[-311,244],[-288,-612],[113,-348],[-270,-411],[-402,148],[-277,22],[-186,276],[-289,8],[-242,182],[-423,-278],[-530,-509],[-292,-102]],[[74375,79706],[-109,-49]],[[63639,77993],[-127,-350],[-269,-97],[-276,-610],[252,-561],[-27,-398],[303,-696]],[[63495,75281],[-166,-238],[-48,-150],[-122,40],[-191,359],[-78,20]],[[62890,75312],[-175,137],[-85,242],[-259,124],[-169,-93],[-48,110],[-378,283],[-409,96],[-235,101],[-34,-70]],[[61098,76242],[-354,499],[-317,223],[-240,347],[202,95],[231,494],[-156,234],[410,241],[-8,129],[-249,-95]],[[60617,78409],[9,262],[143,165],[269,43],[44,197],[-62,326],[113,310],[-3,173],[-410,192],[-162,-6],[-172,277],[-213,-94],[-352,208],[6,116],[-99,256],[-222,29],[-23,183],[70,120],[-178,334],[-288,-57],[-84,30],[-70,-134],[-104,23]],[[58829,81362],[-68,379],[-66,196],[54,55],[224,-20],[108,129],[-80,157],[-187,104],[16,107],[-113,108],[-174,387],[60,159],[-27,277],[-272,141],[-146,-70],[-39,146],[-293,149]],[[57826,83766],[-89,348],[-24,287],[-134,136]],[[57579,84537],[120,187],[-83,551],[198,341],[-42,103]],[[57772,85719],[316,327],[-291,280]],[[57797,86326],[594,755],[258,341],[105,301],[-411,405],[113,385],[-250,440],[187,506],[-323,673],[256,445],[-425,394],[41,414]],[[57942,91385],[224,54],[473,237]],[[58639,91676],[286,206],[456,-358],[761,-140],[1050,-668],[213,-281],[18,-393],[-308,-311],[-454,-157],[-1240,449],[-204,-75],[453,-433],[18,-274],[18,-604],[358,-180],[217,-153],[36,286],[-168,254],[177,224],[672,-368],[233,144],[-186,433],[647,578],[256,-34],[260,-206],[161,406],[-231,352],[136,353],[-204,367],[777,-190],[158,-331],[-351,-73],[1,-328],[219,-203],[429,128],[68,377],[580,282],[970,507],[209,-29],[-273,-359],[344,-61],[199,202],[521,16],[412,245],[317,-356],[315,391],[-291,343],[145,195],[820,-179],[385,-185],[1006,-675],[186,309],[-282,313],[-8,125],[-335,58],[92,280],[-149,461],[-8,189],[512,535],[183,537],[206,116],[736,-156],[57,-328],[-263,-479],[173,-189],[89,-413],[-63,-809],[307,-362],[-120,-395],[-544,-839],[318,-87],[110,213],[306,151],[74,293],[240,281],[-162,336],[130,390],[-304,49],[-67,328],[222,593],[-361,482],[497,398],[-64,421],[139,13],[145,-328],[-109,-570],[297,-108],[-127,426],[465,233],[577,31],[513,-337],[-247,492],[-28,630],[483,119],[669,-26],[602,77],[-226,309],[321,388],[319,16],[540,293],[734,79],[93,162],[729,55],[227,-133],[624,314],[510,-10],[77,255],[265,252],[656,242],[476,-191],[-378,-146],[629,-90],[75,-292],[254,143],[812,-7],[626,-289],[223,-221],[-69,-307],[-307,-175],[-730,-328],[-209,-175],[345,-83],[410,-149],[251,112],[141,-379],[122,153],[444,93],[892,-97],[67,-276],[1162,-88],[15,451],[590,-104],[443,4],[449,-312],[128,-378],[-165,-247],[349,-465],[437,-240],[268,620],[446,-266],[473,159],[538,-182],[204,166],[455,-83],[-201,549],[367,256],[2509,-384],[236,-351],[727,-451],[1122,112],[553,-98],[231,-244],[-33,-432],[342,-168],[372,121],[492,15],[525,-116],[526,66],[484,-526],[344,189],[-224,378],[123,262],[886,-165],[578,36],[799,-282],[-99610,-258],[681,-451],[728,-588],[-24,-367],[187,-147],[-64,429],[754,-88],[544,-553],[-276,-257],[-455,-61],[-7,-578],[-111,-122],[-260,17],[-212,206],[-369,172],[-62,257],[-283,96],[-315,-76],[-151,207],[60,219],[-333,-140],[126,-278],[-158,-251],[99997,-3],[-357,-260],[-360,44],[250,-315],[166,-487],[128,-159],[32,-244],[-71,-157],[-518,129],[-777,-445],[-247,-69],[-425,-415],[-403,-362],[-102,-269],[-397,409],[-724,-464],[-126,219],[-268,-253],[-371,81],[-90,-388],[-333,-572],[10,-239],[316,-132],[-37,-860],[-258,-22],[-119,-494],[116,-255],[-486,-302],[-96,-674],[-415,-144],[-83,-600],[-400,-551],[-103,407],[-119,862],[-155,1313],[134,819],[234,353],[14,276],[432,132],[496,744],[479,608],[499,471],[223,833],[-337,-50],[-167,-487],[-705,-649],[-227,727],[-717,-201],[-696,-990],[230,-362],[-620,-154],[-430,-61],[20,427],[-431,90],[-344,-291],[-850,102],[-914,-175],[-899,-1153],[-1065,-1394],[438,-74],[136,-370],[270,-132],[178,295],[305,-38],[401,-650],[9,-503],[-217,-590],[-23,-705],[-126,-945],[-418,-855],[-94,-409],[-377,-688],[-374,-682],[-179,-349],[-370,-346],[-175,-8],[-175,287],[-373,-432],[-43,-197]],[[0,92833],[36,24],[235,-1],[402,-169],[-24,-81],[-286,-141],[-363,-36],[99694,-30],[-49,187],[-99645,247]],[[59287,77741],[73,146],[198,-127],[89,-23],[36,-117],[42,-18]],[[59725,77602],[2,-51],[136,-142],[284,35],[-55,-210],[-304,-103],[-377,-342],[-154,121],[61,277],[-304,173],[50,113],[265,197],[-42,71]],[[28061,66408],[130,47],[184,-18],[8,-153],[-303,-95],[-19,219]],[[28391,66555],[220,-265],[-48,-420],[-51,75],[4,309],[-124,234],[-1,67]],[[28280,65474],[84,-23],[97,-491],[1,-343],[-68,-29],[-70,340],[-104,171],[60,375]],[[33e3,19946],[333,354],[236,-148],[167,237],[222,-266],[-83,-207],[-375,-177],[-125,207],[-236,-266],[-139,266]],[[54206,97653],[105,202],[408,20],[350,-206],[915,-440],[-699,-233],[-155,-435],[-243,-111],[-132,-490],[-335,-23],[-598,361],[252,210],[-416,170],[-541,499],[-216,463],[757,212],[152,-207],[396,8]],[[57942,91385],[117,414],[-356,235],[-431,-200],[-137,-433],[-265,-262],[-298,143],[-362,-29],[-309,312],[-167,-156]],[[55734,91409],[-172,-24],[-41,-389],[-523,95],[-74,-329],[-267,2],[-183,-421],[-278,-655],[-431,-831],[101,-202],[-97,-234],[-275,10],[-180,-554],[17,-784],[177,-300],[-92,-694],[-231,-405],[-122,-341]],[[53063,85353],[-187,363],[-548,-684],[-371,-138],[-384,301],[-99,635],[-88,1363],[256,381],[733,496],[549,609],[508,824],[668,1141],[465,444],[763,741],[610,259],[457,-31],[423,489],[506,-26],[499,118],[869,-433],[-358,-158],[305,-371]],[[57613,97879],[-412,-318],[-806,-70],[-819,98],[-50,163],[-398,11],[-304,271],[858,165],[403,-142],[281,177],[702,-148],[545,-207]],[[56867,96577],[-620,-241],[-490,137],[191,152],[-167,189],[575,119],[110,-222],[401,-134]],[[37010,99398],[932,353],[975,-27],[354,218],[982,57],[2219,-74],[1737,-469],[-513,-227],[-1062,-26],[-1496,-58],[140,-105],[984,65],[836,-204],[540,181],[231,-212],[-305,-344],[707,220],[1348,229],[833,-114],[156,-253],[-1132,-420],[-157,-136],[-888,-102],[643,-28],[-324,-431],[-224,-383],[9,-658],[333,-386],[-434,-24],[-457,-187],[513,-313],[65,-502],[-297,-55],[360,-508],[-617,-42],[322,-241],[-91,-208],[-391,-91],[-388,-2],[348,-400],[4,-263],[-549,244],[-143,-158],[375,-148],[364,-361],[105,-476],[-495,-114],[-214,228],[-344,340],[95,-401],[-322,-311],[732,-25],[383,-32],[-745,-515],[-755,-466],[-813,-204],[-306,-2],[-288,-228],[-386,-624],[-597,-414],[-192,-24],[-370,-145],[-399,-138],[-238,-365],[-4,-415],[-141,-388],[-453,-472],[112,-462],[-125,-488],[-142,-577],[-391,-36],[-410,482],[-556,3],[-269,324],[-186,577],[-481,735],[-141,385],[-38,530],[-384,546],[100,435],[-186,208],[275,691],[418,220],[110,247],[58,461],[-318,-209],[-151,-88],[-249,-84],[-341,193],[-19,401],[109,314],[258,9],[567,-157],[-478,375],[-249,202],[-276,-83],[-232,147],[310,550],[-169,220],[-220,409],[-335,626],[-353,230],[3,247],[-745,346],[-590,43],[-743,-24],[-677,-44],[-323,188],[-482,372],[729,186],[559,31],[-1188,154],[-627,241],[39,229],[1051,285],[1018,284],[107,214],[-750,213],[243,235],[961,413],[404,63],[-115,265],[658,156],[854,93],[853,5],[303,-184],[737,325],[663,-221],[390,-46],[577,-192],[-660,318],[38,253]],[[69148,21851],[179,-186],[263,-74],[9,-112],[-77,-269],[-427,-38],[-7,314],[41,244],[19,121]],[[84713,45326],[32,139],[239,133],[194,20],[87,74],[105,-74],[-102,-160],[-289,-258],[-233,-170]],[[54540,33696],[133,292],[109,-162],[47,-252],[125,-43],[175,-112],[149,43],[248,302],[0,2182]],[[55526,35946],[75,-88],[165,-562],[-26,-360],[62,-207],[199,60],[139,264],[132,177],[68,283],[135,137],[117,-71],[133,-166],[226,-29],[178,138],[28,184],[48,283],[152,47],[83,222],[93,393],[249,442],[393,435]],[[58175,37528],[113,-7],[134,-100],[94,71],[148,-59]],[[58664,37433],[133,-832],[72,-419],[-49,-659],[23,-212]],[[58843,35311],[-140,108],[-80,-42],[-26,-172],[-76,-222],[2,-204],[166,-320],[163,63],[56,263]],[[58908,34785],[211,-5]],[[59119,34780],[-70,-430],[-32,-491],[-72,-267],[-190,-298],[-54,-86],[-118,-300],[-77,-303],[-158,-424],[-314,-609],[-196,-355],[-210,-269],[-290,-229],[-141,-31],[-36,-164],[-169,88],[-138,-113],[-301,114],[-168,-72],[-115,31],[-286,-233],[-238,-94],[-171,-223],[-127,-14],[-117,210],[-94,11],[-120,264],[-13,-82],[-37,159],[2,346],[-90,396],[89,108],[-7,453],[-182,553],[-139,501],[-1,1],[-199,768]],[[58049,33472],[-121,182],[-130,-120],[-151,-232],[-148,-374],[209,-454],[99,59],[51,188],[155,93],[47,192],[85,288],[-96,178]],[[23016,65864],[-107,-518],[-49,-426],[-20,-791],[-27,-289],[48,-322],[86,-288],[56,-458],[184,-440],[65,-337],[109,-291],[295,-157],[114,-247],[244,165],[212,60],[208,106],[175,101],[176,241],[67,345],[22,496],[48,173],[188,155],[294,137],[246,-21],[169,50],[66,-125],[-9,-285],[-149,-351],[-66,-360],[51,-103],[-42,-255],[-69,-461],[-71,152],[-58,-10]],[[25472,61510],[-53,-8],[-99,-357],[-51,70],[-33,-27],[2,-87]],[[25238,61101],[-257,7],[-259,-1],[-1,-333],[-125,-1],[103,-198],[103,-136],[31,-128],[45,-36],[-7,-201],[-357,-2],[-133,-481],[39,-111],[-32,-138],[-7,-172]],[[24381,59170],[-314,636],[-144,191],[-226,155],[-156,-43],[-223,-223],[-140,-58],[-196,156],[-208,112],[-260,271],[-208,83],[-314,275],[-233,282],[-70,158],[-155,35],[-284,187],[-116,270],[-299,335],[-139,373],[-66,288],[93,57],[-29,169],[64,153],[1,204],[-93,266],[-25,235],[-94,298],[-244,587],[-280,462],[-135,368],[-238,241],[-51,145],[42,365],[-142,138],[-164,287],[-69,412],[-149,48],[-162,311],[-130,288],[-12,184],[-149,446],[-99,452],[5,227],[-201,234],[-93,-25],[-159,163],[-44,-240],[46,-284],[27,-444],[95,-243],[206,-407],[46,-139],[42,-42],[37,-203],[49,8],[56,-381],[85,-150],[59,-210],[174,-300],[92,-550],[83,-259],[77,-277],[15,-311],[134,-20],[112,-268],[100,-264],[-6,-106],[-117,-217],[-49,3],[-74,359],[-181,337],[-201,286],[-142,150],[9,432],[-42,320],[-132,183],[-191,264],[-37,-76],[-70,154],[-171,143],[-164,343],[20,44],[115,-33],[103,221],[10,266],[-214,422],[-163,163],[-102,369],[-103,388],[-129,472],[-113,531]],[[33993,32727],[180,63],[279,-457],[103,18],[286,-379],[218,-327],[160,-402],[-122,-280],[77,-334]],[[35174,30629],[-121,-372],[-313,-328],[-205,118],[-151,-63],[-256,253],[-189,-19],[-169,327]],[[34826,35372],[54,341],[38,350],[0,325],[-100,107],[-104,-96],[-103,26],[-33,228],[-26,541],[-52,177],[-187,160],[-114,-116],[-293,113],[18,802],[-82,329]],[[33842,38659],[87,122],[-27,337],[77,259],[49,465],[-66,367],[-151,166],[-30,233],[41,342],[-533,24],[-107,688],[81,10],[-3,255],[-55,172],[-12,342],[-161,175],[-175,-6],[-115,172],[-188,117],[-109,220],[-311,98],[-302,529],[23,396],[-34,227],[29,443],[-363,-100],[-147,-222],[-243,-239],[-62,-179],[-143,-13],[-206,50]],[[30686,44109],[-157,-102],[-126,68],[18,898],[-228,-348],[-245,15],[-105,315],[-184,34],[59,254],[-155,359],[-115,532],[73,108],[0,250],[168,171],[-28,319],[71,206],[20,275],[318,402],[227,114],[37,89],[251,-28]],[[30585,48040],[125,1620],[6,256],[-43,339],[-123,215],[1,430],[156,97],[56,-61],[9,226],[-162,61],[-4,370],[541,-13],[92,203],[77,-187],[55,-349],[52,73]],[[31423,51320],[153,-312],[216,38],[54,181],[206,138],[115,97],[32,250],[198,168],[-15,124],[-235,51],[-39,372],[12,396],[-125,153],[52,55],[206,-76],[221,-148],[80,140],[200,92],[310,221],[102,225],[-37,167]],[[33129,53652],[145,26],[64,-136],[-36,-259],[96,-90],[63,-274],[-77,-209],[-44,-502],[71,-299],[20,-274],[171,-277],[137,-29],[30,116],[88,25],[126,104],[90,157],[154,-50],[67,21]],[[34294,51702],[151,-48],[25,120],[-46,118],[28,171],[112,-53],[131,61],[159,-125]],[[34854,51946],[121,-122],[86,160],[62,-25],[38,-166],[133,42],[107,224],[85,436],[164,540]],[[35650,53035],[95,28],[69,-327],[155,-1033],[149,-97],[7,-408],[-208,-487],[86,-178],[491,-92],[10,-593],[211,388],[349,-212],[462,-361],[135,-346],[-45,-327],[323,182],[540,-313],[415,23],[411,-489],[355,-662],[214,-170],[237,-24],[101,-186],[94,-752],[46,-358],[-110,-977],[-142,-385],[-391,-822],[-177,-668],[-206,-513],[-69,-11],[-78,-435],[20,-1107],[-77,-910],[-30,-390],[-88,-233],[-49,-790],[-282,-771],[-47,-610],[-225,-256],[-65,-355],[-302,2],[-437,-227],[-195,-263],[-311,-173],[-327,-470],[-235,-586],[-41,-441],[46,-326],[-51,-597],[-63,-289],[-195,-325],[-308,-1040],[-244,-468],[-189,-277],[-127,-562],[-183,-337]],[[33842,38659],[-4,182],[-259,302],[-258,9],[-484,-172],[-133,-520],[-7,-318],[-110,-708]],[[30669,40193],[175,638],[-119,496],[63,199],[-49,219],[108,295],[6,503],[13,415],[60,200],[-240,951]],[[30452,39739],[-279,340],[-24,242],[-551,593],[-498,646],[-214,365],[-115,488],[46,170],[-236,775],[-274,1090],[-262,1177],[-114,269],[-87,435],[-216,386],[-198,239],[90,264],[-134,563],[86,414],[221,373]],[[27693,48568],[33,-246],[-79,-141],[8,-216],[114,47],[113,-64],[116,-298],[157,243],[53,398],[170,514],[334,233],[303,619],[86,384],[-38,449]],[[29063,50490],[74,56],[184,-280],[89,-279],[129,-152],[163,-620],[207,-74],[153,157],[101,-103],[166,51],[213,-276],[-179,-602],[83,-14],[139,-314]],[[29063,50490],[-119,140],[-137,195],[-79,-94],[-235,82],[-68,255],[-52,-10],[-278,338]],[[28095,51396],[-37,183],[103,44],[-12,296],[65,214],[138,40],[117,371],[106,310],[-102,141],[52,343],[-62,540],[59,155],[-44,500],[-112,315]],[[28366,54848],[36,287],[89,-43],[52,176],[-64,348],[34,86]],[[28513,55702],[143,-18],[209,412],[114,63],[3,195],[51,500],[159,274],[175,11],[22,123],[218,-49],[218,298],[109,132],[134,285],[98,-36],[73,-156],[-54,-199]],[[30185,57537],[-178,-99],[-71,-295],[-107,-169],[-81,-220],[-34,-422],[-77,-345],[144,-40],[35,-271],[62,-130],[21,-238],[-33,-219],[10,-123],[69,-49],[66,-207],[357,57],[161,-75],[196,-508],[112,63],[200,-32],[158,68],[99,-102],[-50,-318],[-62,-199],[-22,-423],[56,-393],[79,-175],[9,-133],[-140,-294],[100,-130],[74,-207],[85,-589]],[[28366,54848],[-93,170],[-59,319],[68,158],[-70,40],[-52,196],[-138,164],[-122,-38],[-56,-205],[-112,-149],[-61,-20],[-27,-123],[132,-321],[-75,-76],[-40,-87],[-130,-30],[-48,353],[-36,-101],[-92,35],[-56,238],[-114,39],[-72,69],[-119,-1],[-8,-128],[-32,89]],[[26954,55439],[14,117],[23,120],[-10,107],[41,70],[-58,88],[-1,238],[107,53]],[[27070,56232],[100,-212],[-6,-126],[111,-26],[26,48],[77,-145],[136,42],[119,150],[168,119],[95,176],[153,-34],[-10,-58],[155,-21],[124,-102],[90,-177],[105,-164]],[[26954,55439],[-151,131],[-56,124],[32,103],[-11,130],[-77,142],[-109,116],[-95,76],[-19,173],[-73,105],[18,-172],[-55,-141],[-64,164],[-89,58],[-38,120],[2,179],[36,187],[-78,83],[64,114]],[[26191,57131],[42,76],[183,-156],[63,77],[89,-50],[46,-121],[82,-40],[66,126]],[[26762,57043],[70,-321],[108,-238],[130,-252]],[[26191,57131],[-96,186],[-130,238],[-61,200],[-117,185],[-140,267],[31,91],[46,-88],[21,41]],[[25745,58251],[86,25],[35,135],[41,5],[-6,290],[65,14],[58,-4],[60,158],[82,-120],[29,74],[51,70],[97,163],[4,121],[27,-5],[36,141],[29,17],[47,-90],[56,-27],[61,76],[70,0],[97,77],[38,81],[95,-12]],[[26903,59440],[-24,-57],[-14,-132],[29,-216],[-64,-202],[-30,-237],[-9,-261],[15,-152],[7,-266],[-43,-58],[-26,-253],[19,-156],[-56,-151],[12,-159],[43,-97]],[[25745,58251],[-48,185],[-84,51]],[[25613,58487],[19,237],[-38,64],[-57,42],[-122,-70],[-10,79],[-84,95],[-60,118],[-82,50]],[[25179,59102],[58,150],[-22,116],[20,113],[131,166],[127,225]],[[25493,59872],[29,-23],[61,104],[79,8],[26,-48],[43,29],[129,-53],[128,15],[90,66],[32,66],[89,-31],[66,-40],[73,14],[55,51],[127,-82],[44,-13],[85,-110],[80,-132],[101,-91],[73,-162]],[[25613,58487],[-31,-139],[-161,9],[-100,57],[-115,117],[-154,37],[-79,127]],[[24973,58695],[9,86],[95,149],[52,66],[-15,69],[65,37]],[[25238,61101],[-2,-468],[-22,-667],[83,0]],[[25297,59966],[90,-107],[24,88],[82,-75]],[[24973,58695],[-142,103],[-174,11],[-127,117],[-149,244]],[[25472,61510],[1,-87],[53,-3],[-5,-160],[-45,-256],[24,-91],[-29,-212],[18,-56],[-32,-299],[-55,-156],[-50,-19],[-55,-205]],[[30185,57537],[-8,-139],[-163,-69],[91,-268],[-3,-309],[-123,-344],[105,-468],[120,38],[62,427],[-86,208],[-14,447],[346,241],[-38,278],[97,186],[100,-415],[195,-9],[180,-330],[11,-195],[249,-6],[297,61],[159,-264],[213,-74],[155,185],[4,149],[344,35],[333,9],[-236,-175],[95,-279],[222,-44],[210,-291],[45,-473],[144,13],[109,-139]],[[33400,55523],[-220,-347],[-24,-215],[95,-220],[-69,-110],[-171,-95],[5,-273],[-75,-163],[188,-448]],[[33400,55523],[183,-217],[171,-385],[8,-304],[105,-14],[149,-289],[109,-205]],[[34125,54109],[-44,-532],[-169,-154],[15,-139],[-51,-305],[123,-429],[89,-1],[37,-333],[169,-514]],[[34125,54109],[333,-119],[30,107],[225,43],[298,-159]],[[35011,53981],[-144,-508],[22,-404],[109,-351],[-49,-254],[-24,-270],[-71,-248]],[[35011,53981],[95,-65],[204,-140],[294,-499],[46,-242]],[[51718,79804],[131,-155],[400,-109],[-140,-404],[-35,-421]],[[52074,78715],[-77,-101],[-126,54],[9,-150],[-203,-332],[-5,-267],[133,92],[95,-259]],[[51900,77752],[-11,-167],[82,-222],[-97,-180],[72,-457],[151,-75],[-32,-256]],[[52065,76395],[-252,-334],[-548,160],[-404,-192],[-32,-355]],[[50829,75674],[-322,-77],[-313,267],[-101,-127],[-511,268],[-111,230]],[[49471,76235],[144,354],[53,1177],[-287,620],[-205,299],[-424,227],[-28,431],[360,129],[466,-152],[-88,669],[263,-254],[646,461],[84,484],[243,119]],[[50698,80799],[40,-207],[129,-10],[129,-237],[194,-279],[143,46],[243,-269]],[[51576,79843],[62,-52],[80,13]],[[52429,75765],[179,226],[47,-507],[-92,-456],[-126,120],[-64,398],[56,219]],[[27693,48568],[148,442],[-60,258],[-106,-275],[-166,259],[56,167],[-47,536],[97,89],[52,368],[105,381],[-20,241],[153,126],[190,236]],[[31588,61519],[142,-52],[50,-118],[-71,-149],[-209,4],[-163,-21],[-16,253],[40,86],[227,-3]],[[28453,61504],[187,-53],[147,-142],[46,-161],[-195,-11],[-84,-99],[-156,95],[-159,215],[34,135],[116,41],[64,-20]],[[27147,64280],[240,-42],[219,-7],[261,-201],[110,-216],[260,66],[98,-138],[235,-366],[173,-267],[92,8],[165,-120],[-20,-167],[205,-24],[210,-242],[-33,-138],[-185,-75],[-187,-29],[-191,46],[-398,-57],[186,329],[-113,154],[-179,39],[-96,171],[-66,336],[-157,-23],[-259,159],[-83,124],[-362,91],[-97,115],[104,148],[-273,30],[-199,-307],[-115,-8],[-40,-144],[-138,-65],[-118,56],[146,183],[60,213],[126,131],[142,116],[210,56],[67,65]],[[58175,37528],[-177,267],[-215,90],[-82,375],[0,208],[-119,64],[-315,649],[-87,342],[-56,105],[-107,473]],[[57017,40101],[311,-65],[90,-68],[94,13],[154,383],[241,486],[100,46],[33,205],[159,235],[210,81]],[[58409,41417],[18,-220],[232,12],[128,-125],[60,-146],[132,-43],[145,-190],[0,-748],[-54,-409],[-12,-442],[45,-175],[-31,-348],[-42,-53],[-74,-426],[-292,-671]],[[55526,35946],[0,1725],[274,20],[8,2105],[207,19],[428,207],[106,-243],[177,231],[85,2],[156,133]],[[56967,40145],[50,-44]],[[54540,33696],[-207,446],[-108,432],[-62,575],[-68,428],[-93,910],[-7,707],[-35,322],[-108,243],[-144,489],[-146,708],[-60,371],[-226,577],[-17,453]],[[53259,40357],[134,113],[166,100],[180,-17],[166,-267],[42,41],[1126,26],[192,-284],[673,-83],[510,241]],[[56448,40227],[228,134],[180,-34],[109,-133],[2,-49]],[[45357,58612],[-115,460],[-138,210],[122,112],[134,415],[66,304]],[[45426,60113],[96,189],[138,-51],[135,129],[155,6],[133,-173],[184,-157],[168,-435],[184,-405]],[[46619,59216],[13,-368],[54,-338],[104,-166],[24,-229],[-13,-184]],[[46801,57931],[-40,-33],[-151,47],[-21,-66],[-61,-13],[-200,144],[-134,6]],[[46194,58016],[-513,25],[-75,-67],[-92,19],[-147,-96]],[[45367,57897],[-46,453]],[[45321,58350],[253,-13],[67,83],[50,5],[103,136],[119,-124],[121,-11],[120,133],[-56,170],[-92,-99],[-86,3],[-110,145],[-88,-9],[-63,-140],[-302,-17]],[[46619,59216],[93,107],[47,348],[88,14],[194,-165],[157,117],[107,-39],[42,131],[1114,9],[62,414],[-48,73],[-134,2550],[-134,2550],[425,10]],[[48632,65335],[937,-1289],[937,-1289],[66,-277],[173,-169],[129,-96],[3,-376],[308,58]],[[51185,61897],[1,-1361],[-152,-394],[-24,-364],[-247,-94],[-379,-51],[-102,-210],[-178,-23]],[[50104,59400],[-178,-3],[-70,114],[-153,-84],[-259,-246],[-53,-184],[-216,-265],[-38,-152],[-116,-120],[-134,79],[-76,-144],[-41,-405],[-221,-490],[7,-200],[-76,-250],[18,-343]],[[48498,56707],[-114,-88],[-65,-74],[-43,253],[-80,-67],[-48,11],[-51,-172],[-215,5],[-77,89],[-36,-54]],[[47769,56610],[-85,170],[15,176],[-35,69],[-59,-58],[11,192],[57,152],[-114,248],[-33,163],[-62,130],[-55,15],[-67,-83],[-90,-79],[-76,-128],[-119,48],[-77,150],[-46,19],[-73,-78],[-44,-1],[-16,216]],[[47587,66766],[1045,-1431]],[[45426,60113],[-24,318],[78,291],[34,557],[-30,583],[-34,294],[28,295],[-72,281],[-146,255]],[[50747,54278],[-229,-69]],[[50518,54209],[-69,407],[13,1357],[-56,122],[-11,290],[-96,207],[-85,174],[35,311]],[[50249,57077],[96,67],[56,258],[136,56],[61,176]],[[50598,57634],[93,173],[100,2],[212,-340]],[[51003,57469],[-11,-197],[62,-350],[-54,-238],[29,-159],[-135,-366],[-86,-181],[-52,-372],[7,-376],[-16,-952]],[[54026,58177],[-78,-34],[-9,-188]],[[53939,57955],[-52,-13],[-188,647],[-65,24],[-217,-331],[-215,173],[-150,34],[-80,-83],[-163,18],[-164,-252],[-141,-14],[-337,305],[-131,-145],[-142,10],[-104,223],[-279,221],[-298,-70],[-72,-128],[-39,-340],[-80,-238],[-19,-527]],[[50598,57634],[6,405],[-320,134],[-9,286],[-156,386],[-37,269],[22,286]],[[51185,61897],[392,263],[804,1161],[952,1126]],[[53333,64447],[439,-255],[156,-324],[197,220]],[[53939,57955],[110,-235],[-31,-107],[-14,-196],[-234,-457],[-74,-377],[-39,-307],[-59,-132],[-56,-414],[-148,-243],[-43,-299],[-63,-238],[-26,-246],[-191,-199],[-156,243],[-105,-10],[-165,-345],[-81,-6],[-132,-570],[-71,-418]],[[52361,53399],[-289,-213],[-105,31],[-107,-132],[-222,13],[-149,370],[-91,427],[-197,389],[-209,-7],[-245,1]],[[54244,54965],[-140,-599],[-67,-107],[-21,-458],[28,-249],[-23,-176],[132,-309],[23,-212],[103,-305],[127,-190],[12,-269],[29,-172]],[[54447,51919],[-20,-319],[-220,140],[-225,156],[-350,23]],[[53632,51919],[-35,32],[-164,-76],[-169,79],[-132,-38]],[[53132,51916],[-452,13]],[[52680,51929],[40,466],[-108,391],[-127,100],[-56,265],[-72,85],[4,163]],[[50518,54209],[-224,-126]],[[50294,54083],[-62,207],[-74,375],[-22,294],[61,532],[-69,215],[-27,466],[1,429],[-116,305],[20,184]],[[50006,57090],[243,-13]],[[50294,54083],[-436,-346],[-154,-203],[-250,-171],[-248,168]],[[49206,53531],[13,233],[-121,509],[73,667],[117,496],[-74,841]],[[49214,56277],[-38,444],[7,336],[482,27],[123,-43],[90,96],[128,-47]],[[48498,56707],[125,-129],[49,-195],[125,-125],[97,149],[130,22],[190,-152]],[[49206,53531],[-126,-7],[-194,116],[-178,-7],[-329,-103],[-193,-170],[-275,-217],[-54,15]],[[47857,53158],[22,487],[26,74],[-8,233],[-118,247],[-88,40],[-81,162],[60,262],[-28,286],[13,172]],[[47655,55121],[44,0],[17,258],[-22,114],[27,82],[103,71],[-69,473],[-64,245],[23,200],[55,46]],[[47655,55121],[-78,15],[-57,-238],[-78,3],[-55,126],[19,237],[-116,362],[-73,-67],[-59,-13]],[[47158,55546],[-77,-34],[3,217],[-44,155],[9,171],[-60,249],[-78,211],[-222,1],[-65,-112],[-76,-13],[-48,-128],[-32,-163],[-148,-260]],[[46320,55840],[-122,349],[-108,232],[-71,76],[-69,118],[-32,261],[-41,130],[-80,97]],[[45797,57103],[123,288],[84,-11],[73,99],[61,1],[44,78],[-24,196],[31,62],[5,200]],[[45797,57103],[-149,247],[-117,39],[-63,166],[1,90],[-84,125],[-18,127]],[[47857,53158],[-73,-5],[-286,282],[-252,449],[-237,324],[-187,381]],[[46822,54589],[66,189],[15,172],[126,320],[129,276]],[[46822,54589],[-75,44],[-200,238],[-144,316],[-49,216],[-34,437]],[[55125,52650],[-178,33],[-188,99],[-166,-313],[-146,-550]],[[56824,55442],[152,-239],[2,-192],[187,-308],[116,-255],[70,-355],[208,-234],[44,-187]],[[53609,47755],[-104,203],[-84,-100],[-112,-255]],[[53309,47603],[-228,626]],[[53081,48229],[212,326],[-105,391],[95,148],[187,73],[23,261],[148,-283],[245,-25],[85,279],[36,393],[-31,461],[-131,350],[120,684],[-69,117],[-207,-48],[-78,305],[21,258]],[[53081,48229],[-285,596],[-184,488],[-169,610],[9,196],[61,189],[67,430],[56,438]],[[52636,51176],[94,35],[404,-6],[-2,711]],[[52636,51176],[-52,90],[96,663]],[[59099,45126],[131,-264],[71,-501],[-47,-160],[-56,-479],[53,-490],[-87,-205],[-85,-549],[147,-153]],[[59226,42325],[-843,-487],[26,-421]],[[56448,40227],[-181,369],[-188,483],[13,1880],[579,-7],[-24,203],[41,222],[-49,277],[32,286],[-29,184]],[[59599,43773],[-77,-449],[77,-768],[97,9],[100,-191],[116,-427],[24,-760],[-120,-124],[-85,-410],[-181,365],[-21,417],[59,274],[-16,237],[-110,149],[-77,-54],[-159,284]],[[61198,44484],[45,-265],[-11,-588],[34,-519],[11,-923],[49,-290],[-83,-422],[-108,-410],[-177,-366],[-254,-225],[-313,-287],[-313,-634],[-107,-108],[-194,-420],[-115,-136],[-23,-421],[132,-448],[54,-346],[4,-177],[49,29],[-8,-579],[-45,-275],[65,-101],[-41,-245],[-116,-211],[-229,-199],[-334,-320],[-122,-219],[24,-248],[71,-40],[-24,-311]],[[58908,34785],[-24,261],[-41,265]],[[53383,47159],[-74,444]],[[53259,40357],[-26,372],[38,519],[96,541],[15,254],[90,532],[66,243],[159,386],[90,263],[29,438],[-15,335],[-83,211],[-74,358],[-68,355],[15,122],[85,235],[-84,570],[-57,396],[-139,374],[26,115]],[[58062,48902],[169,-46],[85,336],[147,-38]],[[59922,69905],[-49,-186]],[[59873,69719],[-100,82],[-58,-394],[69,-66],[-71,-81],[-12,-156],[131,80]],[[59832,69184],[7,-230],[-139,-944]],[[59700,68010],[-27,153],[-155,862]],[[59518,69025],[80,194],[-19,34],[74,276],[56,446],[40,149],[8,6]],[[59757,70130],[93,-1],[25,104],[75,8]],[[59950,70241],[4,-242],[-38,-90],[6,-4]],[[59757,70130],[99,482],[138,416],[5,21]],[[59999,71049],[125,-31],[45,-231],[-151,-223],[-68,-323]],[[63761,43212],[74,-251],[69,-390],[45,-711],[72,-276],[-28,-284],[-49,-174],[-94,347],[-53,-175],[53,-438],[-24,-250],[-77,-137],[-18,-500],[-109,-689],[-137,-814],[-172,-1120],[-106,-821],[-125,-685],[-226,-140],[-243,-250],[-160,151],[-220,211],[-77,312],[-18,524],[-98,471],[-26,425],[50,426],[128,102],[1,197],[133,447],[25,377],[-65,280],[-52,372],[-23,544],[97,331],[38,375],[138,22],[155,121],[103,107],[122,7],[158,337],[229,364],[83,297],[-38,253],[118,-71],[153,410],[6,356],[92,264],[96,-254]],[[59873,69719],[0,-362],[-41,-173]],[[45321,58350],[36,262]],[[52633,68486],[-118,1061],[-171,238],[-3,143],[-227,352],[-24,445],[171,330],[65,487],[-44,563],[57,303]],[[52339,72408],[302,239],[195,-71],[-9,-299],[236,217],[20,-113],[-139,-290],[-2,-273],[96,-147],[-36,-511],[-183,-297],[53,-322],[143,-10],[70,-281],[106,-92]],[[53191,70158],[-16,-454],[-135,-170],[-86,-189],[-191,-228],[30,-244],[-24,-250],[-136,-137]],[[47592,66920],[-2,700],[449,436],[277,90],[227,159],[107,295],[324,234],[12,438],[161,51],[126,219],[363,99],[51,230],[-73,125],[-96,624],[-17,359],[-104,379]],[[49397,71358],[267,323],[300,102],[175,244],[268,180],[471,105],[459,48],[140,-87],[262,232],[297,5],[113,-137],[190,35]],[[52633,68486],[90,-522],[15,-274],[-49,-482],[21,-270],[-36,-323],[24,-371],[-110,-247],[164,-431],[11,-253],[99,-330],[130,109],[219,-275],[122,-370]],[[59922,69905],[309,-234],[544,630]],[[60775,70301],[112,-720]],[[60887,69581],[-53,-89],[-556,-296],[277,-591],[-92,-101],[-46,-197],[-212,-82],[-66,-213],[-120,-182],[-310,94]],[[59709,67924],[-9,86]],[[64327,64904],[49,29],[11,-162],[217,93],[230,-15],[168,-18],[190,400],[207,379],[176,364]],[[65575,65974],[52,-202]],[[65627,65772],[38,-466]],[[65665,65306],[-142,-3],[-23,-384],[50,-82],[-126,-117],[-1,-241],[-81,-245],[-7,-238]],[[65335,63996],[-56,-125],[-835,298],[-106,599],[-11,136]],[[64113,65205],[-18,430],[75,310],[76,64],[84,-185],[5,-346],[-61,-348]],[[64274,65130],[-77,-42],[-84,117]],[[63326,68290],[58,-261],[-25,-135],[89,-445]],[[63448,67449],[-196,-16],[-69,282],[-248,57]],[[62935,67772],[204,567],[187,-49]],[[60775,70301],[615,614],[105,715],[-26,431],[152,146],[142,369]],[[61763,72576],[119,92],[324,-77],[97,-150],[133,100]],[[62436,72541],[180,-705],[182,-177],[21,-345],[-139,-204],[-65,-461],[193,-562],[340,-324],[143,-449],[-46,-428],[89,0],[3,-314],[153,-311]],[[63490,68261],[-164,29]],[[62935,67772],[-516,47],[-784,1188],[-413,414],[-335,160]],[[65665,65306],[125,-404],[155,-214],[203,-78],[165,-107],[125,-339],[75,-196],[100,-75],[-1,-132],[-101,-352],[-44,-166],[-117,-189],[-104,-404],[-126,31],[-58,-141],[-44,-300],[34,-395],[-26,-72],[-128,2],[-174,-221],[-27,-288],[-63,-125],[-173,5],[-109,-149],[1,-238],[-134,-165],[-153,56],[-186,-199],[-128,-34]],[[64752,60417],[-91,413],[-217,975]],[[64444,61805],[833,591],[185,1182],[-127,418]],[[65575,65974],[80,201],[35,-51],[-26,-244],[-37,-108]],[[96448,41190],[175,-339],[-92,-78],[-93,259],[10,158]],[[96330,41322],[-39,163],[-6,453],[133,-182],[45,-476],[-75,74],[-58,-32]],[[78495,57780],[-66,713],[178,492],[359,112],[261,-84]],[[79227,59013],[229,-232],[126,407],[246,-217]],[[79828,58971],[64,-394],[-34,-708],[-467,-455],[122,-358],[-292,-43],[-240,-238]],[[78981,56775],[-233,87],[-112,307],[-141,611]],[[78495,57780],[-249,271],[-238,-11],[41,464],[-245,-3],[-22,-650],[-150,-863],[-90,-522],[19,-428],[181,-18],[113,-539],[50,-512],[155,-338],[168,-69],[144,-306]],[[78372,54256],[-91,-243],[-183,-71],[-22,304],[-227,258],[-48,-105]],[[77801,54399],[-110,227],[-47,292],[-148,334],[-135,280],[-45,-347],[-53,328],[30,369],[82,566]],[[77375,56448],[135,607],[152,551],[-108,539],[4,274],[-32,330],[-185,470],[-66,296],[96,109],[101,514],[-113,390],[-177,431],[-134,519],[117,107],[127,639],[196,26],[162,256],[159,137]],[[77809,62643],[120,-182],[16,-355],[188,-27],[-68,-623],[6,-530],[293,353],[83,-104],[163,17],[56,205],[210,-40],[211,-480],[18,-583],[224,-515],[-12,-500],[-90,-266]],[[77809,62643],[59,218],[237,384]],[[78105,63245],[25,-139],[148,-16],[-42,676],[144,86]],[[78380,63852],[162,-466],[125,-537],[342,-5],[108,-515],[-178,-155],[-80,-212],[333,-353],[231,-699],[175,-520],[210,-411],[70,-418],[-50,-590]],[[77375,56448],[-27,439],[86,452],[-94,350],[23,644],[-113,306],[-90,707],[-50,746],[-121,490],[-183,-297],[-315,-421],[-156,53],[-172,138],[96,732],[-58,554],[-218,681],[34,213],[-163,76],[-197,481]],[[75657,62792],[-18,476],[97,-90],[6,424]],[[75742,63602],[137,140],[-30,251],[63,201],[11,612],[217,-135],[124,487],[14,288],[153,496],[-8,338],[359,408],[199,-107],[-23,364],[97,108],[-20,224]],[[77035,67277],[162,44],[93,-348],[121,-141],[8,-452],[-11,-487],[-263,-493],[-33,-701],[293,98],[66,-544],[176,-115],[-81,-490],[206,-222],[121,-109],[203,172],[9,-244]],[[78380,63852],[149,145],[221,-3],[271,68],[236,315],[134,-222],[254,-108],[-44,-340],[132,-240],[280,-154]],[[80013,63313],[-371,-505],[-231,-558],[-61,-410],[212,-623],[260,-772],[252,-365],[169,-475],[127,-1093],[-37,-1039],[-232,-389],[-318,-381],[-227,-492],[-346,-550],[-101,378],[78,401],[-206,335]],[[86327,75524],[0,0]],[[86327,75524],[-106,36],[-120,-200],[-83,-202],[10,-424],[-143,-130],[-50,-105],[-104,-174],[-185,-97],[-121,-159],[-9,-256],[-32,-65],[111,-96],[157,-259]],[[85652,73393],[-40,-143],[-118,-39],[-197,-29],[-108,-266],[-124,21],[-17,-54]],[[85048,72883],[-135,112],[-34,-111],[-81,-49],[-10,112],[-72,54],[-75,94],[76,260],[66,69],[-25,108],[71,319],[-18,96],[-163,65],[-131,158]],[[84517,74170],[227,379],[306,318],[191,419],[131,-185],[241,-22],[-44,312],[429,254],[111,331],[179,-348]],[[85652,73393],[240,-697],[68,-383],[3,-681],[-105,-325],[-252,-113],[-222,-245],[-250,-51],[-31,322],[51,443],[-122,615],[206,99],[-190,506]],[[82410,80055],[-135,-446],[-197,-590],[72,-241],[157,74],[274,-92],[214,219],[223,-189],[251,-413],[-30,-210],[-219,66],[-404,-78],[-195,-168],[-204,-391],[-423,-229],[-277,-313],[-286,120],[-156,53],[-146,-381],[89,-227],[45,-195],[-194,-199],[-200,-316],[-324,-208],[-417,-22],[-448,-205],[-324,-318],[-123,184],[-336,-1],[-411,359],[-274,88],[-369,-82],[-574,133],[-306,-14],[-163,351],[-127,544],[-171,66],[-336,368],[-374,83],[-330,101],[-100,256],[107,690],[-192,476],[-396,222],[-233,313],[-73,413]],[[75742,63602],[-147,937],[-76,-2],[-46,-377],[-152,306],[86,336],[124,34],[128,500],[-160,101],[-257,-8],[-265,81],[-24,410],[-133,30],[-220,255],[-98,-401],[200,-313],[-173,-220],[-62,-215],[171,-159],[-47,-356],[96,-444],[43,-486]],[[74730,63611],[-39,-216],[-189,7],[-343,-122],[16,-445],[-148,-349],[-400,-398],[-311,-695],[-209,-373],[-276,-387],[-1,-271],[-138,-146],[-251,-212],[-129,-31],[-84,-450],[58,-769],[15,-490],[-118,-561],[-1,-1004],[-144,-29],[-126,-450],[84,-195],[-253,-168],[-93,-401],[-112,-170],[-263,552],[-128,827],[-107,596],[-97,279],[-148,568],[-69,739],[-48,369],[-253,811],[-115,1145],[-83,756],[1,716],[-54,553],[-404,-353],[-196,70],[-362,716],[133,214],[-82,232],[-326,501]],[[68937,64577],[185,395],[612,-2],[-56,507],[-156,300],[-31,455],[-182,265],[306,619],[323,-45],[290,620],[174,599],[270,593],[-4,421],[236,342],[-224,292],[-96,400],[-99,517],[137,255],[421,-144],[310,88],[268,496]],[[71621,71550],[298,-692],[-28,-482],[111,-303],[-9,-301],[-200,79],[78,-651],[273,-374],[386,-413]],[[72530,68413],[-176,-268],[-108,-553],[269,-224],[262,-289],[362,-332],[381,-76],[160,-301],[215,-56],[334,-138],[231,10],[32,234],[-36,375],[21,255]],[[74477,67050],[170,124],[23,-465]],[[74670,66709],[6,-119],[252,-224],[175,92],[234,-39],[227,17],[20,363],[-113,189]],[[75471,66988],[224,74],[252,439],[321,376],[233,-145],[198,249],[130,-367],[-94,-248],[300,-89]],[[75657,62792],[-79,308],[-16,301],[-53,285],[-116,344],[-256,23],[25,-243],[-87,-329],[-118,120],[-41,-108],[-78,65],[-108,53]],[[74670,66709],[184,439],[150,150],[198,-137],[147,-14],[122,-159]],[[72530,68413],[115,141],[223,-182],[280,-385],[157,-84],[93,-284],[216,-117],[225,-259],[314,-136],[324,-57]],[[68937,64577],[-203,150],[-83,424],[-215,450],[-512,-111],[-451,-11],[-391,-83]],[[67082,65396],[105,687],[400,305],[-23,272],[-133,96],[-7,520],[-266,260],[-112,357],[-137,310]],[[66909,68203],[465,-301],[278,88],[166,-75],[56,129],[194,-52],[361,246],[10,503],[154,334],[207,-1],[31,166],[212,77],[103,-55],[108,166],[-15,355],[118,356],[177,150],[-110,390],[265,-18],[76,213],[-12,227],[139,248],[-32,294],[-66,250],[163,258],[298,124],[319,68],[141,109],[162,67]],[[70877,72519],[205,-276],[82,-454],[457,-239]],[[68841,72526],[85,-72],[201,189],[93,-114],[90,271],[166,-12],[43,86],[29,239],[120,205],[150,-134],[-30,-181],[84,-28],[-26,-496],[110,-194],[97,125],[123,58],[173,265],[192,-44],[286,-1]],[[70827,72688],[50,-169]],[[66909,68203],[252,536],[-23,380],[-210,100],[-22,375],[-91,472],[119,323],[-121,87],[76,430],[113,736]],[[67002,71642],[284,-224],[209,79],[58,268],[219,89],[157,180],[55,472],[234,114],[44,211],[131,-158],[84,-19]],[[69725,74357],[-101,-182],[-303,98],[-26,-340],[301,46],[343,-192],[526,89]],[[70465,73876],[70,-546],[91,59],[169,-134],[-10,-230],[42,-337]],[[72294,75601],[-39,-134],[-438,-320],[-99,-234],[-356,-70],[-105,-378],[-294,80],[-192,-116],[-266,-279],[39,-138],[-79,-136]],[[67002,71642],[-24,498],[-207,21],[-318,523],[-221,65],[-308,299],[-197,55],[-122,-110],[-186,17],[-197,-338],[-244,-114]],[[64978,72558],[-52,417],[40,618],[-216,200],[71,405],[-184,34],[61,498],[262,-145],[244,189],[-202,355],[-80,338],[-224,-151],[-28,-433],[-87,383]],[[62436,72541],[-152,473],[55,183],[-87,678],[190,168]],[[62442,74043],[44,-223],[141,-273],[190,-78]],[[62817,73469],[101,17]],[[62918,73486],[327,436],[104,44],[82,-174],[-95,-292],[173,-309],[69,29]],[[63578,73220],[88,-436],[263,-123],[193,-296],[395,-102],[434,156],[27,139]],[[67082,65396],[-523,179],[-303,136],[-313,76],[-118,725],[-133,105],[-214,-106],[-280,-286],[-339,196],[-281,454],[-267,168],[-186,561],[-205,788],[-149,-96],[-177,196],[-104,-231]],[[59999,71049],[-26,452],[68,243]],[[60041,71744],[74,129],[75,130],[15,329],[91,-115],[306,165],[147,-112],[229,2],[320,222],[149,-10],[316,92]],[[62817,73469],[-113,342],[1,91],[-123,-2],[-82,159],[-58,-16]],[[62442,74043],[-109,172],[-207,147],[27,288],[-47,208]],[[62106,74858],[386,92]],[[62492,74950],[57,-155],[106,-103],[-56,-148],[148,-202],[-78,-189],[118,-160],[124,-97],[7,-410]],[[55734,91409],[371,-289],[433,-402],[8,-910],[93,-230]],[[56639,89578],[-478,-167],[-269,-413],[43,-361],[-441,-475],[-537,-509],[-202,-832],[198,-416],[265,-328],[-255,-666],[-289,-138],[-106,-992],[-157,-554],[-337,57],[-158,-468],[-321,-27],[-89,558],[-232,671],[-211,835]],[[58829,81362],[-239,-35],[-85,-129],[-18,-298],[-111,57],[-250,-28],[-73,138],[-104,-103],[-105,86],[-218,12],[-310,141],[-281,47],[-215,-14],[-152,-160],[-133,-23]],[[56535,81053],[-6,263],[-85,274],[166,121],[2,235],[-77,225],[-12,261]],[[56523,82432],[268,-4],[302,223],[64,333],[228,190],[-26,264]],[[57359,83438],[169,100],[298,228]],[[60617,78409],[-222,-48],[-185,-191],[-260,-31],[-239,-220],[14,-317]],[[59287,77741],[-38,64],[-432,149],[-19,221],[-257,-73],[-103,-325],[-215,-437]],[[58223,77340],[-126,101],[-131,-95],[-124,109]],[[57842,77455],[70,64],[49,203],[76,188],[-20,106],[58,47],[27,-81],[164,-18],[74,44],[-52,60],[19,88],[-97,150],[-40,247],[-101,97],[20,200],[-125,159],[-115,22],[-204,184],[-185,-58],[-66,-87]],[[57394,79070],[-118,0],[-69,-139],[-205,-56],[-95,-91],[-129,144],[-178,3],[-172,65],[-120,-127]],[[56308,78869],[-19,159],[-155,161]],[[56134,79189],[55,238],[77,154]],[[56266,79581],[60,-35],[-71,266],[252,491],[138,69],[29,166],[-139,515]],[[56266,79581],[-264,227],[-200,-84],[-131,61],[-165,-127],[-140,210],[-114,-81],[-16,36]],[[55236,79823],[-127,291],[-207,36],[-26,185],[-191,66],[-41,-153],[-151,122],[17,163],[-207,51],[-132,191]],[[54171,80775],[-114,377],[22,204],[-69,316],[-101,210],[77,158],[-64,300]],[[53922,82340],[189,174],[434,273],[350,200],[277,-100],[21,-144],[268,-7]],[[56314,82678],[142,-64],[67,-182]],[[54716,79012],[-21,-241],[-156,-2],[53,-128],[-92,-380]],[[54500,78261],[-53,-100],[-243,-14],[-140,-134],[-229,45]],[[53835,78058],[-398,153],[-62,205],[-274,-102],[-32,-113],[-169,84]],[[52900,78285],[-142,16],[-125,108],[42,145],[-10,104]],[[52665,78658],[83,33],[141,-164],[39,156],[245,-25],[199,106],[133,-18],[87,-121],[26,100],[-40,385],[100,75],[98,272]],[[53776,79457],[206,-190],[157,242],[98,44],[215,-180],[131,30],[128,-111]],[[54711,79292],[-23,-75],[28,-205]],[[56308,78869],[-170,-123],[-131,-401],[-168,-401],[-223,-111]],[[55616,77833],[-173,26],[-213,-155]],[[55230,77704],[-104,-89],[-229,114],[-208,253],[-88,73]],[[54601,78055],[-54,200],[-47,6]],[[54716,79012],[141,-151],[103,-65],[233,73],[22,118],[111,18],[135,92],[30,-38],[130,74],[66,139],[91,36],[297,-180],[59,61]],[[57842,77455],[-50,270],[30,252],[-9,259],[-160,352],[-89,249],[-86,175],[-84,58]],[[58223,77340],[6,-152],[-135,-128],[-84,56],[-78,-713]],[[57932,76403],[-163,62],[-202,215],[-327,-138],[-138,-150],[-408,31],[-213,92],[-108,-43],[-80,243]],[[56293,76715],[-51,103],[65,99],[-69,74],[-87,-133],[-162,172],[-22,244],[-169,139],[-31,188],[-151,232]],[[55907,83187],[-59,497]],[[55848,83684],[318,181],[466,-38],[273,59],[39,-123],[148,-38],[267,-287]],[[55848,83684],[10,445],[136,371],[262,202],[221,-442],[223,12],[53,453]],[[56753,84725],[237,105],[121,-73],[239,-219],[229,-1]],[[56753,84725],[32,349],[-102,-75],[-176,210],[-24,340],[351,164],[350,86],[301,-97],[287,17]],[[54171,80775],[-124,-62],[-73,68],[-70,-113],[-200,-114],[-103,-147],[-202,-129],[49,-176],[30,-249],[141,-142],[157,-254]],[[52665,78658],[-298,181],[-57,-128],[-236,4]],[[51718,79804],[16,259],[-56,133]],[[51678,80196],[32,400]],[[51710,80596],[-47,619],[167,0],[70,222],[69,541],[-51,200]],[[51918,82178],[54,125],[232,32],[52,-130],[188,291],[-63,222],[-13,335]],[[52368,83053],[210,-78],[178,90]],[[52756,83065],[4,-228],[281,-138],[-3,-210],[283,111],[156,162],[313,-233],[132,-189]],[[57932,76403],[-144,-245],[-101,-422],[89,-337]],[[57776,75399],[-239,79],[-283,-186]],[[57254,75292],[-3,-294],[-252,-56],[-196,206],[-222,-162],[-206,17]],[[56375,75003],[-20,391],[-139,189]],[[56216,75583],[46,84],[-30,70],[47,188],[105,185],[-135,255],[-24,216],[68,134]],[[57302,71436],[-35,-175],[-400,-50],[3,98],[-339,115],[52,251],[152,-199],[216,34],[207,-42],[-7,-103],[151,71]],[[57254,75292],[135,-157],[-86,-369],[-66,-67]],[[57237,74699],[-169,17],[-145,56],[-336,-154],[192,-332],[-141,-96],[-154,-1],[-147,305],[-52,-130],[62,-353],[139,-277],[-105,-129],[155,-273],[137,-171],[4,-334],[-257,157],[82,-302],[-176,-62],[105,-521],[-184,-8],[-228,257],[-104,473],[-49,393],[-108,272],[-143,337],[-18,168]],[[55597,73991],[129,287],[16,192],[91,85],[5,155]],[[55838,74710],[182,53],[106,129],[150,-12],[46,103],[53,20]],[[60041,71744],[-102,268],[105,222],[-169,-51],[-233,136],[-191,-340],[-421,-66],[-225,317],[-300,20],[-64,-245],[-192,-70],[-268,314],[-303,-11],[-165,588],[-203,328],[135,459],[-176,283],[308,565],[428,23],[117,449],[529,-78],[334,383],[324,167],[459,13],[485,-417],[399,-228],[323,91],[239,-53],[328,309]],[[61542,75120],[296,28],[268,-290]],[[57776,75399],[33,-228],[243,-190],[-51,-145],[-330,-33],[-118,-182],[-232,-319],[-87,276],[3,121]],[[55597,73991],[-48,41],[-5,130],[-154,199],[-24,281],[23,403],[38,184],[-47,93]],[[55380,75322],[-18,188],[120,291],[18,-111],[75,52]],[[55575,75742],[59,-159],[66,-60],[19,-214]],[[55719,75309],[-35,-201],[39,-254],[115,-144]],[[55230,77704],[67,-229],[89,-169],[-107,-222]],[[55279,77084],[-126,131],[-192,-8],[-239,98],[-130,-13],[-60,-123],[-99,136],[-59,-245],[136,-277],[61,-183],[127,-221],[106,-130],[105,-247],[246,-224]],[[55155,75778],[-31,-100]],[[55124,75678],[-261,218],[-161,213],[-254,176],[-233,434],[56,45],[-127,248],[-5,200],[-179,93],[-85,-255],[-82,198],[6,205],[10,9]],[[53809,77462],[194,-20],[51,100],[94,-97],[109,-11],[-1,165],[97,60],[27,239],[221,157]],[[52900,78285],[-22,-242],[-122,-100],[-206,75],[-60,-239],[-132,-19],[-48,94],[-156,-200],[-134,-28],[-120,126]],[[51576,79843],[30,331],[72,22]],[[50698,80799],[222,117]],[[50920,80916],[204,-47],[257,123],[176,-258],[153,-138]],[[50920,80916],[143,162],[244,869],[380,248],[231,-17]],[[47490,75324],[101,150],[113,86],[70,-289],[164,0],[47,75],[162,-21],[78,-296],[-129,-160],[-3,-461],[-45,-86],[-11,-280],[-120,-48],[111,-355],[-77,-388],[96,-175],[-38,-161],[-103,-222],[23,-195]],[[47929,72498],[-112,-153],[-146,83],[-143,-65],[42,462],[-26,363],[-124,55],[-67,224],[22,386],[111,215],[20,239],[58,355],[-6,250],[-56,212],[-12,200]],[[47490,75324],[14,420],[-114,257],[393,426],[340,-106],[373,3],[296,-101],[230,31],[449,-19]],[[50829,75674],[15,-344],[-263,-393],[-356,-125],[-25,-199],[-171,-327],[-107,-481],[108,-338],[-160,-263],[-60,-384],[-210,-118],[-197,-454],[-352,-9],[-265,11],[-174,-209],[-106,-223],[-136,49],[-103,199],[-79,340],[-259,92]],[[48278,82406],[46,-422],[-210,-528],[-493,-349],[-393,89],[225,617],[-145,601],[378,463],[210,276]],[[47896,83153],[57,-317],[-57,-317],[172,9],[210,-122]],[[96049,38125],[228,-366],[144,-272],[-105,-142],[-153,160],[-199,266],[-179,313],[-184,416],[-38,201],[119,-9],[156,-201],[122,-200],[89,-166]],[[95032,44386],[78,-203],[-194,4],[-106,363],[166,-142],[56,-22]],[[94910,44908],[-42,-109],[-206,512],[-57,353],[94,0],[100,-473],[111,-283]],[[94680,44747],[-108,-14],[-170,60],[-58,91],[17,235],[183,-93],[91,-124],[45,-155]],[[94344,45841],[65,-187],[12,-119],[-218,251],[-152,212],[-104,197],[41,60],[128,-142],[228,-272]],[[93649,46431],[111,-193],[-56,-33],[-121,134],[-114,243],[14,99],[166,-250]],[[99134,26908],[-105,-319],[-138,-404],[-214,-236],[-48,155],[-116,85],[160,486],[-91,326],[-299,236],[8,214],[201,206],[47,455],[-13,382],[-113,396],[8,104],[-133,244],[-218,523],[-117,418],[104,46],[151,-328],[216,-153],[78,-526],[202,-622],[5,403],[126,-161],[41,-447],[224,-192],[188,-48],[158,226],[141,-69],[-67,-524],[-85,-345],[-212,12],[-74,-179],[26,-254],[-41,-110]],[[97129,24846],[238,310],[167,306],[123,441],[106,149],[41,330],[195,273],[61,-251],[63,-244],[198,239],[80,-249],[0,-249],[-103,-274],[-182,-435],[-142,-238],[103,-284],[-214,-7],[-238,-223],[-75,-387],[-157,-597],[-219,-264],[-138,-169],[-256,13],[-180,194],[-302,42],[-46,217],[149,438],[349,583],[179,111],[200,225]],[[91024,26469],[166,-39],[20,-702],[-95,-203],[-29,-476],[-97,162],[-193,-412],[-57,32],[-171,19],[-171,505],[-38,390],[-160,515],[7,271],[181,-52],[269,-204],[151,81],[217,113]],[[85040,31546],[-294,-303],[-241,-137],[-53,-309],[-103,-240],[-236,-15],[-174,-52],[-246,107],[-199,-64],[-191,-27],[-165,-315],[-81,26],[-140,-167],[-133,-187],[-203,23],[-186,0],[-295,377],[-149,113],[6,338],[138,81],[47,134],[-10,212],[34,411],[-31,350],[-147,598],[-45,337],[12,336],[-111,385],[-7,174],[-123,235],[-35,463],[-158,467],[-39,252],[122,-255],[-93,548],[137,-171],[83,-229],[-5,303],[-138,465],[-26,186],[-65,177],[31,341],[56,146],[38,295],[-29,346],[114,425],[21,-450],[118,406],[225,198],[136,252],[212,217],[126,46],[77,-73],[219,220],[168,66],[42,129],[74,54],[153,-14],[292,173],[151,262],[71,316],[163,300],[13,236],[7,321],[194,502],[117,-510],[119,118],[-99,279],[87,287],[122,-128],[34,449],[152,291],[67,233],[140,101],[4,165],[122,-69],[5,148],[122,85],[134,80],[205,-271],[155,-350],[173,-4],[177,-56],[-59,325],[133,473],[126,155],[-44,147],[121,338],[168,208],[142,-70],[234,111],[-5,302],[-204,195],[148,86],[184,-147],[148,-242],[234,-151],[79,60],[172,-182],[162,169],[105,-51],[65,113],[127,-292],[-74,-316],[-105,-239],[-96,-20],[32,-236],[-81,-295],[-99,-291],[20,-166],[221,-327],[214,-189],[143,-204],[201,-350],[78,1],[145,-151],[43,-183],[265,-200],[183,202],[55,317],[56,262],[34,324],[85,470],[-39,286],[20,171],[-32,339],[37,445],[53,120],[-43,197],[67,313],[52,325],[7,168],[104,222],[78,-289],[19,-371],[70,-71],[11,-249],[101,-300],[21,-335],[-10,-214],[100,-464],[179,223],[92,-250],[133,-231],[-29,-262],[60,-506],[42,-295],[70,-72],[75,-505],[-27,-307],[90,-400],[301,-309],[197,-281],[186,-257],[-37,-143],[159,-371],[108,-639],[111,130],[113,-256],[68,91],[48,-626],[197,-363],[129,-226],[217,-478],[78,-475],[7,-337],[-19,-365],[132,-502],[-16,-523],[-48,-274],[-75,-527],[6,-339],[-55,-423],[-123,-538],[-205,-290],[-102,-458],[-93,-292],[-82,-510],[-107,-294],[-70,-442],[-36,-407],[14,-187],[-159,-205],[-311,-22],[-257,-242],[-127,-229],[-168,-254],[-230,262],[-170,104],[43,308],[-152,-112],[-243,-428],[-240,160],[-158,94],[-159,42],[-269,171],[-179,364],[-52,449],[-64,298],[-137,240],[-267,71],[91,287],[-67,438],[-136,-408],[-247,-109],[146,327],[42,341],[107,289],[-22,438],[-226,-504],[-174,-202],[-106,-470],[-217,243],[9,313],[-174,429],[-147,221],[52,137],[-356,358],[-195,17],[-267,287],[-498,-56],[-359,-211],[-317,-197],[-265,39]],[[72718,55024],[-42,-615],[-116,-168],[-242,-135],[-132,470],[-49,849],[126,959],[192,-328],[129,-416],[134,-616]],[[80409,61331],[-228,183],[-8,509],[137,267],[304,166],[159,-14],[62,-226],[-122,-260],[-64,-341],[-240,-284]],[[84517,74170],[-388,-171],[-204,-277],[-300,-161],[148,274],[-58,230],[220,397],[-147,310],[-242,-209],[-314,-411],[-171,-381],[-272,-29],[-142,-275],[147,-400],[227,-97],[9,-265],[220,-173],[311,422],[247,-230],[179,-15],[45,-310],[-393,-165],[-130,-319],[-270,-296],[-142,-414],[299,-325],[109,-581],[169,-541],[189,-454],[-5,-439],[-174,-161],[66,-315],[164,-184],[-43,-481],[-71,-468],[-155,-53],[-203,-640],[-225,-775],[-258,-705],[-382,-545],[-386,-498],[-313,-68],[-170,-262],[-96,192],[-157,-294],[-388,-296],[-294,-90],[-95,-624],[-154,-35],[-73,429],[66,228],[-373,189],[-131,-96]],[[83826,64992],[-167,-947],[-119,-485],[-146,499],[-32,438],[163,581],[223,447],[127,-176],[-49,-357]],[[53835,78058],[-31,-291],[67,-251]],[[53871,77516],[-221,86],[-226,-210],[15,-293],[-34,-168],[91,-301],[261,-298],[140,-488],[309,-476],[217,3],[68,-130],[-78,-118],[249,-214],[204,-178],[238,-308],[29,-111],[-52,-211],[-154,276],[-242,97],[-116,-382],[200,-219],[-33,-309],[-116,-35],[-148,-506],[-116,-46],[1,181],[57,317],[60,126],[-108,342],[-85,298],[-115,74],[-82,255],[-179,107],[-120,238],[-206,38],[-217,267],[-254,384],[-189,340],[-86,585],[-138,68],[-226,195],[-128,-80],[-161,-274],[-115,-43]],[[54100,73116],[211,51],[-100,-465],[41,-183],[-58,-303],[-213,222],[-141,64],[-387,300],[38,304],[325,-54],[284,64]],[[52419,74744],[139,183],[166,-419],[-39,-782],[-126,38],[-113,-197],[-105,156],[-11,713],[-64,338],[153,-30]],[[52368,83053],[-113,328],[-8,604],[46,159],[80,177],[244,37],[98,163],[223,167],[-9,-304],[-82,-192],[33,-166],[151,-89],[-68,-223],[-83,64],[-200,-425],[76,-288]],[[53436,83731],[88,-296],[-166,-478],[-291,333],[-39,246],[408,195]],[[47896,83153],[233,24],[298,-365],[-149,-406]],[[49140,82132],[1,0],[40,343],[-186,364],[-4,8],[-337,104],[-66,160],[101,264],[-92,163],[-149,-279],[-17,569],[-140,301],[101,611],[216,480],[222,-47],[335,49],[-297,-639],[283,81],[304,-3],[-72,-481],[-250,-530],[287,-38],[22,-62],[248,-697],[190,-95],[171,-673],[79,-233],[337,-113],[-34,-378],[-142,-173],[111,-305],[-250,-310],[-371,6],[-473,-163],[-130,116],[-183,-276],[-257,67],[-195,-226],[-148,118],[407,621],[249,127],[-2,1],[-434,98],[-79,235],[291,183],[-152,319],[52,387],[413,-54]],[[45969,89843],[-64,-382],[314,-403],[-361,-451],[-801,-405],[-240,-107],[-365,87],[-775,187],[273,261],[-605,289],[492,114],[-12,174],[-583,137],[188,385],[421,87],[433,-400],[422,321],[349,-167],[453,315],[461,-42]],[[63495,75281],[146,-311],[141,-419],[130,-28],[85,-159],[-228,-47],[-49,-459],[-48,-207],[-101,-138],[7,-293]],[[62492,74950],[68,96],[207,-169],[149,-36],[38,70],[-136,319],[72,82]],[[61542,75120],[42,252],[-70,403],[-160,218],[-154,68],[-102,181]],[[83564,58086],[-142,450],[238,-22],[97,-213],[-74,-510],[-119,295]],[[84051,56477],[70,165],[30,367],[153,35],[-44,-398],[205,570],[-26,-563],[-100,-195],[-87,-373],[-87,-175],[-171,409],[57,158]],[[85104,55551],[28,-392],[16,-332],[-94,-540],[-102,602],[-130,-300],[89,-435],[-79,-277],[-327,343],[-78,428],[84,280],[-176,280],[-87,-245],[-131,23],[-205,-330],[-46,173],[109,498],[175,166],[151,223],[98,-268],[212,162],[45,264],[196,15],[-16,457],[225,-280],[23,-297],[20,-218]],[[82917,56084],[-369,-561],[136,414],[200,364],[167,409],[146,587],[49,-482],[-183,-325],[-146,-406]],[[83982,61347],[-46,-245],[95,-423],[-73,-491],[-164,-196],[-43,-476],[62,-471],[147,-65],[123,70],[347,-328],[-27,-321],[91,-142],[-29,-272],[-216,290],[-103,310],[-71,-217],[-177,354],[-253,-87],[-138,130],[14,244],[87,151],[-83,136],[-36,-213],[-137,340],[-41,257],[-11,566],[112,-195],[29,925],[90,535],[169,-1],[171,-168],[85,153],[26,-150]],[[83899,57324],[-43,282],[166,-183],[177,1],[-5,-247],[-129,-251],[-176,-178],[-10,275],[20,301]],[[84861,57766],[78,-660],[-214,157],[5,-199],[68,-364],[-132,-133],[-11,416],[-84,31],[-43,357],[163,-47],[-4,224],[-169,451],[266,-13],[77,-220]],[[78372,54256],[64,-56],[164,-356],[116,-396],[16,-398],[-29,-269],[27,-203],[20,-349],[98,-163],[109,-523],[-5,-199],[-197,-40],[-263,438],[-329,469],[-32,301],[-161,395],[-38,489],[-100,322],[30,431],[-61,250]],[[80461,51765],[204,-202],[214,110],[56,500],[119,112],[333,128],[199,467],[137,374]],[[81723,53254],[126,-307],[58,202],[133,-19],[16,377],[13,291]],[[82069,53798],[214,411],[140,462],[112,2],[143,-299],[13,-257],[183,-165],[231,-177],[-20,-232],[-186,-29],[50,-289],[-205,-201]],[[81723,53254],[110,221],[236,323]],[[53809,77462],[62,54]],[[57797,86326],[-504,-47],[-489,-216],[-452,-125],[-161,323],[-269,193],[62,582],[-135,533],[133,345],[252,371],[635,640],[185,124],[-28,250],[-387,279]],[[54711,79292],[39,130],[123,-10],[95,61],[7,55],[54,28],[18,134],[64,26],[43,106],[82,1]],[[60669,61213],[161,-684],[77,-542],[152,-288],[379,-558],[154,-336],[151,-341],[87,-203],[136,-178]],[[61966,58083],[-83,-144],[-119,51]],[[61764,57990],[-95,191],[-114,346],[-124,190],[-71,204],[-242,237],[-191,7],[-67,124],[-163,-139],[-168,268],[-87,-441],[-323,124]],[[89411,73729],[-256,-595],[4,-610],[-104,-472],[48,-296],[-145,-416],[-355,-278],[-488,-36],[-396,-675],[-186,227],[-12,442],[-483,-130],[-329,-279],[-325,-11],[282,-435],[-186,-1004],[-179,-248],[-135,229],[69,533],[-176,172],[-113,405],[263,182],[145,371],[280,306],[203,403],[553,177],[297,-121],[291,1050],[185,-282],[408,591],[158,229],[174,723],[-47,664],[117,374],[295,108],[152,-819],[-9,-479]],[[90169,76553],[197,250],[62,-663],[-412,-162],[-244,-587],[-436,404],[-152,-646],[-308,-9],[-39,587],[138,455],[296,33],[81,817],[83,460],[326,-615],[213,-198],[195,-126]],[[86769,70351],[154,352],[158,-68],[114,248],[204,-127],[35,-203],[-156,-357],[-114,189],[-143,-137],[-73,-346],[-181,168],[2,281]],[[64752,60417],[-201,-158],[-54,-263],[-6,-201],[-277,-249],[-444,-276],[-249,-417],[-122,-33],[-83,35],[-163,-245],[-177,-114],[-233,-30],[-70,-34],[-61,-156],[-73,-43],[-43,-150],[-137,13],[-89,-80],[-192,30],[-72,345],[8,323],[-46,174],[-54,437],[-80,243],[56,29],[-29,270],[34,114],[-12,257]],[[61883,60238],[121,189],[-28,249],[74,290],[114,-153],[75,53],[321,14],[50,-59],[269,-60],[106,30],[70,-197],[130,99],[199,620],[259,266],[801,226]],[[63448,67449],[109,-510],[137,-135],[47,-207],[190,-249],[16,-243],[-27,-197],[35,-199],[80,-165],[37,-194],[41,-145]],[[64274,65130],[53,-226]],[[61883,60238],[-37,252],[-83,178],[-22,236],[-143,212],[-148,495],[-79,482],[-192,406],[-124,97],[-184,563],[-32,411],[12,350],[-159,655],[-130,231],[-150,122],[-92,339],[15,133],[-77,306],[-81,132],[-108,440],[-170,476],[-141,406],[-139,-3],[44,325],[12,206],[34,236]],[[36483,4468],[141,0],[414,127],[419,-127],[342,-255],[120,-359],[33,-254],[11,-301],[-430,-186],[-452,-150],[-522,-139],[-582,-116],[-658,35],[-365,197],[49,243],[593,162],[239,197],[174,254],[126,220],[168,209],[180,243]],[[31586,3163],[625,-23],[599,-58],[207,243],[147,208],[288,-243],[-82,-301],[-81,-266],[-582,81],[-621,-35],[-348,197],[0,23],[-152,174]],[[29468,8472],[190,70],[321,-23],[82,301],[16,219],[-6,475],[158,278],[256,93],[147,-220],[65,-220],[120,-267],[92,-254],[76,-267],[33,-266],[-49,-231],[-76,-220],[-326,-81],[-311,-116],[-364,11],[136,232],[-327,-81],[-310,-81],[-212,174],[-16,243],[305,231]],[[21575,8103],[174,104],[353,-81],[403,-46],[305,-81],[304,69],[163,-335],[-217,46],[-337,-23],[-343,23],[-376,-35],[-283,116],[-146,243]],[[15938,7061],[60,197],[332,-104],[359,-93],[332,104],[-158,-208],[-261,-151],[-386,47],[-278,208]],[[14643,7177],[202,127],[277,-139],[425,-231],[-164,23],[-359,58],[-381,162]],[[4524,4144],[169,220],[517,-93],[277,-185],[212,-209],[76,-266],[-533,-81],[-364,208],[-163,209],[-11,35],[-180,162]],[[0,529],[16,-5],[245,344],[501,-185],[32,21],[294,188],[38,-7],[32,-4],[402,-246],[352,246],[63,34],[816,104],[265,-138],[130,-71],[419,-196],[789,-151],[625,-185],[1072,-139],[800,162],[1181,-116],[669,-185],[734,174],[773,162],[60,278],[-1094,23],[-898,139],[-234,231],[-745,128],[49,266],[103,243],[104,220],[-55,243],[-462,162],[-212,209],[-430,185],[675,-35],[642,93],[402,-197],[495,173],[457,220],[223,197],[-98,243],[-359,162],[-408,174],[-571,35],[-500,81],[-539,58],[-180,220],[-359,185],[-217,208],[-87,672],[136,-58],[250,-185],[457,58],[441,81],[228,-255],[441,58],[370,127],[348,162],[315,197],[419,58],[-11,220],[-97,220],[81,208],[359,104],[163,-196],[425,115],[321,151],[397,12],[375,57],[376,139],[299,128],[337,127],[218,-35],[190,-46],[414,81],[370,-104],[381,11],[364,81],[375,-57],[414,-58],[386,23],[403,-12],[413,-11],[381,23],[283,174],[337,92],[349,-127],[331,104],[300,208],[179,-185],[98,-208],[180,-197],[288,174],[332,-220],[375,-70],[321,-162],[392,35],[354,104],[418,-23],[376,-81],[381,-104],[147,254],[-180,197],[-136,209],[-359,46],[-158,220],[-60,220],[-98,440],[213,-81],[364,-35],[359,35],[327,-93],[283,-174],[119,-208],[376,-35],[359,81],[381,116],[342,70],[283,-139],[370,46],[239,451],[224,-266],[321,-104],[348,58],[228,-232],[365,-23],[337,-69],[332,-128],[218,220],[108,209],[278,-232],[381,58],[283,-127],[190,-197],[370,58],[288,127],[283,151],[337,81],[392,69],[354,81],[272,127],[163,186],[65,254],[-32,244],[-87,231],[-98,232],[-87,231],[-71,209],[-16,231],[27,232],[130,220],[109,243],[44,231],[-55,255],[-32,232],[136,266],[152,173],[180,220],[190,186],[223,173],[109,255],[152,162],[174,151],[267,34],[174,186],[196,115],[228,70],[202,150],[157,186],[218,69],[163,-151],[-103,-196],[-283,-174],[-120,-127],[-206,92],[-229,-58],[-190,-139],[-202,-150],[-136,-174],[-38,-231],[17,-220],[130,-197],[-190,-139],[-261,-46],[-153,-197],[-163,-185],[-174,-255],[-44,-220],[98,-243],[147,-185],[229,-139],[212,-185],[114,-232],[60,-220],[82,-232],[130,-196],[82,-220],[38,-544],[81,-220],[22,-232],[87,-231],[-38,-313],[-152,-243],[-163,-197],[-370,-81],[-125,-208],[-169,-197],[-419,-220],[-370,-93],[-348,-127],[-376,-128],[-223,-243],[-446,-23],[-489,23],[-441,-46],[-468,0],[87,-232],[424,-104],[311,-162],[174,-208],[-310,-185],[-479,58],[-397,-151],[-17,-243],[-11,-232],[327,-196],[60,-220],[353,-220],[588,-93],[500,-162],[398,-185],[506,-186],[690,-92],[681,-162],[473,-174],[517,-197],[272,-278],[136,-220],[337,209],[457,173],[484,186],[577,150],[495,162],[691,12],[680,-81],[560,-139],[180,255],[386,173],[702,12],[550,127],[522,128],[577,81],[614,104],[430,150],[-196,209],[-119,208],[0,220],[-539,-23],[-571,-93],[-544,0],[-77,220],[39,440],[125,128],[397,138],[468,139],[337,174],[337,174],[251,231],[380,104],[376,81],[190,47],[430,23],[408,81],[343,116],[337,139],[305,139],[386,185],[245,197],[261,173],[82,232],[-294,139],[98,243],[185,185],[288,116],[305,139],[283,185],[217,232],[136,277],[202,163],[331,-35],[136,-197],[332,-23],[11,220],[142,231],[299,-58],[71,-220],[331,-34],[360,104],[348,69],[315,-34],[120,-243],[305,196],[283,105],[315,81],[310,81],[283,139],[310,92],[240,128],[168,208],[207,-151],[288,81],[202,-277],[157,-209],[316,116],[125,232],[283,162],[365,-35],[108,-220],[229,220],[299,69],[326,23],[294,-11],[310,-70],[300,-34],[130,-197],[180,-174],[304,104],[327,24],[315,0],[310,11],[278,81],[294,70],[245,162],[261,104],[283,58],[212,162],[152,324],[158,197],[288,-93],[109,-208],[239,-139],[289,46],[196,-208],[206,-151],[283,139],[98,255],[250,104],[289,197],[272,81],[326,116],[218,127],[228,139],[218,127],[261,-69],[250,208],[180,162],[261,-11],[229,139],[54,208],[234,162],[228,116],[278,93],[256,46],[244,-35],[262,-58],[223,-162],[27,-254],[245,-197],[168,-162],[332,-70],[185,-162],[229,-162],[266,-35],[223,116],[240,243],[261,-127],[272,-70],[261,-69],[272,-46],[277,0],[229,-614],[-11,-150],[-33,-267],[-266,-150],[-218,-220],[38,-232],[310,12],[-38,-232],[-141,-220],[-131,-243],[212,-185],[321,-58],[321,104],[153,232],[92,220],[153,185],[174,174],[70,208],[147,289],[174,58],[316,24],[277,69],[283,93],[136,231],[82,220],[190,220],[272,151],[234,115],[153,197],[157,104],[202,93],[277,-58],[250,58],[272,69],[305,-34],[201,162],[142,393],[103,-162],[131,-278],[234,-115],[266,-47],[267,70],[283,-46],[261,-12],[174,58],[234,-35],[212,-127],[250,81],[300,0],[255,81],[289,-81],[185,197],[141,196],[191,163],[348,439],[179,-81],[212,-162],[185,-208],[354,-359],[272,-12],[256,0],[299,70],[299,81],[229,162],[190,174],[310,23],[207,127],[218,-116],[141,-185],[196,-185],[305,23],[190,-150],[332,-151],[348,-58],[288,47],[218,185],[185,185],[250,46],[251,-81],[288,-58],[261,93],[250,0],[245,-58],[256,-58],[250,104],[299,93],[283,23],[316,0],[255,58],[251,46],[76,290],[11,243],[174,-162],[49,-266],[92,-244],[115,-196],[234,-105],[315,35],[365,12],[250,35],[364,0],[262,11],[364,-23],[310,-46],[196,-186],[-54,-220],[179,-173],[299,-139],[310,-151],[360,-104],[375,-92],[283,-93],[315,-12],[180,197],[245,-162],[212,-185],[245,-139],[337,-58],[321,-69],[136,-232],[316,-139],[212,-208],[310,-93],[321,12],[299,-35],[332,12],[332,-47],[310,-81],[288,-139],[289,-116],[195,-173],[-32,-232],[-147,-208],[-125,-266],[-98,-209],[-131,-243],[-364,-93],[-163,-208],[-360,-127],[-125,-232],[-190,-220],[-201,-185],[-115,-243],[-70,-220],[-28,-266],[6,-220],[158,-232],[60,-220],[130,-208],[517,-81],[109,-255],[-501,-93],[-424,-127],[-528,-23],[-234,-336],[-49,-278],[-119,-220],[-147,-220],[370,-196],[141,-244],[239,-219],[338,-197],[386,-186],[419,-185],[636,-185],[142,-289],[800,-128],[53,-45],[208,-175],[767,151],[636,-186],[479,-142],[-99999,0]],[[59092,71341],[19,3],[40,143],[200,-8],[253,176],[-188,-251],[21,-111]],[[59437,71293],[-30,21],[-53,-45],[-42,12],[-14,-22],[-5,59],[-20,37],[-54,6],[-75,-51],[-52,31]],[[59437,71293],[8,-48],[-285,-240],[-136,77],[-64,237],[132,22]],[[45272,63236],[13,274],[106,161],[91,308],[-18,200],[96,417],[155,376],[93,95],[74,344],[6,315],[100,365],[185,216],[177,603],[5,8],[139,227],[259,65],[218,404],[140,158],[232,493],[-70,735],[106,508],[37,312],[179,399],[278,270],[206,244],[186,612],[87,362],[205,-2],[167,-251],[264,41],[288,-131],[121,-6]],[[56944,63578],[0,2175],[0,2101],[-83,476],[71,365],[-43,253],[101,283]],[[56990,69231],[369,10],[268,-156],[275,-175],[129,-92],[214,188],[114,169],[245,49],[198,-75],[75,-293],[65,193],[222,-140],[217,-33],[137,149]],[[59700,68010],[-78,-238],[-60,-446],[-75,-308],[-65,-103],[-93,191],[-125,263],[-198,847],[-29,-53],[115,-624],[171,-594],[210,-920],[102,-321],[90,-334],[249,-654],[-55,-103],[9,-384],[323,-530],[49,-121]],[[53191,70158],[326,-204],[117,51],[232,-98],[368,-264],[130,-526],[250,-114],[391,-248],[296,-293],[136,153],[133,272],[-65,452],[87,288],[200,277],[192,80],[375,-121],[95,-264],[104,-2],[88,-101],[276,-70],[68,-195]],[[59804,53833],[-164,643],[-127,137],[-48,236],[-141,288],[-171,42],[95,337],[147,14],[42,181]],[[61764,57990],[-98,-261],[-94,-277],[22,-163],[4,-180],[155,-10],[67,42],[62,-106]],[[61882,57035],[-61,-209],[103,-325],[102,-285],[106,-210],[909,-702],[233,4]],[[61966,58083],[66,-183],[-9,-245],[-158,-142],[119,-161]],[[61984,57352],[-102,-317]],[[61984,57352],[91,-109],[54,-245],[125,-247],[138,-2],[262,151],[302,70],[245,184],[138,39],[99,108],[158,20]],[[58449,49909],[-166,-182],[-67,60]],[[58564,52653],[115,161],[176,-132],[224,138],[195,-1],[171,272]],[[55279,77084],[100,2],[-69,-260],[134,-227],[-41,-278],[-65,-27]],[[55338,76294],[-52,-53],[-90,-138],[-41,-325]],[[55719,75309],[35,-5],[13,121],[164,91],[62,23]],[[55993,75539],[95,35],[128,9]],[[55993,75539],[-9,44],[33,71],[31,144],[-39,-4],[-54,110],[-46,28],[-36,94],[-52,36],[-40,84],[-50,-33],[-38,-196],[-66,-43]],[[55627,75874],[22,51],[-106,123],[-91,63],[-40,82],[-74,101]],[[55380,75322],[-58,46],[-78,192],[-120,118]],[[55627,75874],[-52,-132]],[[32866,56937],[160,77],[58,-21],[-11,-440],[-232,-65],[-50,53],[81,163],[-6,233]]],vpe=[-180,-85.60903777459771,180,83.64513000000001],xpe={scale:[.0036000360003600037,.0016925586033320105],translate:[-180,-85.60903777459771]},bpe={type:gpe,objects:hM,arcs:ype,bbox:vpe,transform:xpe};var Tr=(()=>{let t=class t{constructor(n){this.http=n,this.startDate=new Date("1994-01-01").getTime(),this.endDate=new Date("2023-01-01").getTime(),this.browserSubject=new At([]),this.browserArray=[],this.energyArray=[],this.aiDataArray=[]}getWatch(){return this.http.get("assets/datasets/trit.json")}getIndustryData(){return this.http.get("assets/datasets/industryrelation.json")}getAiData(){return this.http.get("assets/datasets/aiddata.csv",{responseType:"text"}).pipe(ye(n=>{let i=n.split(`
`);for(let a=1;a<i.length-1;a++){let l=i[a].split(",");this.aiDataArray.push({country:l[1],year:parseInt(l[2]),donations:parseInt(l[3].trim()),receipts:parseInt(l[4]),net_donations:parseInt(l[5])})}let o=Dn(this.aiDataArray,a=>a.country,a=>a.year),s=lx(fM,hM.countries);return s.features.forEach(a=>{o.get(`"${a.properties.name}"`)!==void 0&&(a.properties.data=o.get(`"${a.properties.name}"`))}),{aiDataArray:this.aiDataArray,countries:s}}))}getEnergyData(){return this.http.get("assets/datasets/energy.csv",{responseType:"text"}).pipe(ye(n=>{let i=n.split(`
`);for(let o=1;o<i.length-1;o++){let s=i[o].split(",");this.energyArray.push({source:s[0],target:s[1],value:parseInt(s[2].trim())})}return this.energyArray}))}getEnergyNodes(){return this.getEnergyData().pipe(ye(n=>({nodes:Array.from(new Set(n.flatMap(i=>[i.source,i.target])),i=>({name:i,category:String(i).replace(/ .*/,"")})),links:n})))}getBrowsersList(){return this.http.get("assets/datasets/web_browsers_1994-2023.csv",{responseType:"text"}).pipe(ye(n=>{let i=n.split(`
`);for(let o=1;o<i.length-1;o++){let s=i[o].split(",");this.browserArray.push({date:s[0],name:s[1],value:parseInt(s[2].trim())})}return this.browserArray}),_n(n=>(console.log(n),n)))}filterBrowserList(){return this.getBrowsersList().pipe(Tn(n=>n.map(i=>{if(new Date(i.date).getTime()>=this.startDate&&new Date(i.date).getTime()<=this.endDate)return i})))}transformedBrowserList(){return this.filterBrowserList().pipe(ye(n=>n.map(i=>{let o=cM.find(s=>i.name===s.name);return ne(ne({},i),o)})))}getImageLinks(){return new Map(cM.map(n=>[n.name,n.image]))}getBrowserNames(){return this.transformedBrowserList().pipe(ye(n=>new Set(n.map(i=>i.name))))}getDateValues(){return this.transformedBrowserList().pipe(ye(n=>({dateValues:Array.from(oi(n,([i])=>i.value,i=>+new Date(i.date),i=>i.name)).map(([i,o])=>[new Date(i),o]).sort(([i],[o])=>Qe(i,o)),browserNames:new Set(n.map(i=>i.name))})))}getKeyFrames(){return this.getDateValues().pipe(ye(n=>{let i=[],s,a,l,c;for([[s,a],[l,c]]of Hn(n.dateValues)){for(let u=0;u<100;++u){let d=u/100;i.push([new Date(s*(1-d)+l*d),this.rank(f=>(a.get(f)||0)*(1-d)+(c.get(f)||0)*d,n.browserNames)])}i.push([new Date(l),this.rank(u=>c.get(u)||0,n.browserNames)])}return i}))}rank(n,i){let o=Array.from(i,s=>({name:s,image:this.getImageLinks().get(s),rank:0,value:n(s)||0}));for(let s=0;s<o.length;++s)o[s].rank=s;return o}};t.\u0275fac=function(i){return new(i||t)(ee(zt))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yn=(()=>{let t=class t{constructor(){this.largeMatchMedia=window.matchMedia("(min-width: 53.8rem)"),this.extendedMatchMedia=window.matchMedia("(min-width: 100rem)"),this.serialize=n=>{let i="http://www.w3.org/2000/xmlns/",o="http://www.w3.org/1999/xlink",s="http://www.w3.org/2000/svg";return this.serialize=a=>{a=n.cloneNode(!0);let l=window.location.href+"#",c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT);for(;c.nextNode();)for(let f of c.currentNode.attributes)f.value.includes(l)&&(f.value=f.value.replace(l,"#"));n.setAttributeNS(i,"xmlns",s),n.setAttributeNS(i,"xmlns:xlink",o);let d=new window.XMLSerializer().serializeToString(n);return new Blob([d],{type:"image/svg+xml;base64"})}},this.windowSize$=new At(this.getWindowSize()),this.windowSize=this.windowSize$.pipe(eo()),ks(window,"resize").pipe(Is(100)).subscribe(n=>this.onResize())}isLargePresentation(){return this.largeMatchMedia.matches}isExtendedPresentation(){return this.extendedMatchMedia.matches}triggerResize(){this.onResize()}onResize(){this.windowSize$.next(this.getWindowSize())}getWindowSize(){return{height:window.innerHeight,width:window.innerWidth}}rasterize(n){let i,o,s=new Promise((l,c)=>(i=l,o=c)),a=new Image;return a.onerror=o,a.onload=l=>{let u=document.createElement("canvas").getContext("2d");u.drawImage(a,0,0,150,150),u.canvas.toBlob(i)},a.src=URL.createObjectURL(this.serialize(n)),s}saveSvgToImage(){let n=o=>new Promise(s=>o.complete?s():o.onload=o.onerror=s),i=o=>{let s=document.querySelector("#svg_container").querySelector("svg"),l=new XMLSerializer().serializeToString(s),c=document.createElement("img");c.src="data:image/svg+xml;charset=utf-8;base64,"+btoa(unescape(encodeURI(l))),n(c).then(u=>{let d=document.createElement("canvas");d.width=s.clientWidth,d.height=s.clientHeight,d.style.background="#FFFFFF",d.style.backgroundColor="white";let f=d.getContext("2d").drawImage(c,0,0,s.clientWidth,s.clientHeight);return d.toDataURL("image/"+o,4)}).then(u=>{document.getElementById("img").setAttribute("src",u),document.getElementById("img").setAttribute("background-color","white"),document.getElementById("anchor").setAttribute("href",u),document.getElementById("anchor").setAttribute("background-color","white"),URL.revokeObjectURL("anchor")}).catch(console.error)};document.querySelector("#map2Jpg").addEventListener("click",o=>i("jpg"))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _pe=e=>({disabled:e});function wpe(e,t){if(e&1){let r=Rt();R(0,"li",8),ie("click",function(){let o=Ot(r).$implicit,s=Ue();return Pt(s.toggleLegendItem(o))}),re(1,"div"),R(2,"label",9),H(3),N()()}if(e&2){let r=t.$implicit,n=Ue();q(1),ka("bullet ",n.legendItem[r]&&n.legendItem[r].className,""),Kr("background-color",n.legendItem[r]&&n.legendItem[r].color),q(1),Y("ngClass",Nr(7,_pe,n.legendItem[r]&&!n.legendItem[r].visible)),q(1),Ft(r)}}var Tf=(()=>{let t=class t{constructor(n,i){this.element=n,this.presentationService=i,this.colorScale=["red","yellow","green","blue","brown"],this.backData=[{category:"Critical",count:0,percent:0},{category:"Major",count:0,percent:0},{category:"Medium",count:0,percent:0},{category:"Minor",count:0,percent:0},{category:"Informational",count:0,percent:0}],this.sortOrder=["Critical","Major","Medium","Minor","Informational"],this.onSetChartFilters=new rt,this.onRandomizeClick=new rt,this.width=160,this.height=195,this.renderedWidth=0,this.PI=Math.PI,this.arcMin=48,this.arcWidth=18,this.arcPad=4,this.noArcs=5,this.legendItem={},this.dataSource=[],this.arcSize=this.noArcs,this.islegendClicked=!1,this.itemsArray=[],this.d3Format=Ze(" ,"),this.parentElement=n.nativeElement}transformData(n){if(!n||!Array.isArray(n))return[];switch(this.detectDataFormat(n)){case"category-count-percent":return this.transformCategoryCountPercentData(n);case"advertiser":return this.transformAdvertiserData(n);case"utm-source":return this.transformUtmSourceData(n);default:return this.transformGenericData(n)}}detectDataFormat(n){if(!n.length)return"unknown";let i=n[0];return i.hasOwnProperty("category")&&i.hasOwnProperty("count")?"category-count-percent":i.hasOwnProperty("name")&&i.hasOwnProperty("data")?"advertiser":i.hasOwnProperty("UTM_SOURCE")?"utm-source":"generic"}transformCategoryCountPercentData(n){return n.map(i=>({category:i.category||i.name||"Unknown",count:isNaN(Number(i.count))?0:Number(i.count),percent:isNaN(Number(i.percent))?0:Number(i.percent)}))}transformAdvertiserData(n){let i=n.reduce((o,s)=>o+(s.data?s.data.length:0),0);return n.map((o,s)=>{let a=o.data?o.data.length:0;return{category:o.name||`Advertiser ${s+1}`,count:isNaN(a)?0:a,percent:i>0?Math.round(a/i*100):0}}).filter(o=>o.count>0)}transformUtmSourceData(n){return n.map(i=>{let o=i.total||"0%",s=parseFloat(o.replace("%",""))||0,a=Math.round(s*100);return{category:i.UTM_SOURCE||"Unknown Source",count:isNaN(a)?0:a,percent:isNaN(s)?0:s}}).filter(i=>i.percent>0&&!isNaN(i.percent))}transformGenericData(n){return n.map((i,o)=>{let s=i.category||i.name||i.label||i.key||`Item ${o+1}`,a=i.count||i.value||i.total||i.amount||1,l=isNaN(Number(a))?1:Number(a),c=n.reduce((d,f)=>{let p=f.count||f.value||f.total||f.amount||1;return d+(isNaN(Number(p))?1:Number(p))},0),u=c>0?Math.round(l/c*100):0;return{category:String(s),count:isNaN(l)?1:l,percent:isNaN(u)?0:u}})}ngOnChanges(n){for(let i in n)if(n.hasOwnProperty(i))switch(i){case"data":{let o=this.transformData(this.data||[]);this.dataSource=o,this.dataSource=this.sortArray(this.dataSource).map((s,a)=>(s.index=a,s)),this.initializeOptions(),this.renderChart(this.dataSource);break}}}ngOnInit(){this.subscription=this.presentationService.windowSize.subscribe(n=>{this.renderedWidth?this.renderedWidth!==n.width&&(this.renderedWidth=n.width,this.onResize(n)):this.renderedWidth=n.width})}onResize(n){this.dataSource&&this.dataSource.length&&this.renderFilteredChart()}sortArray(n){return!n||typeof n[0]>"u"?[]:typeof n[0]=="object"?n.sort((i,o)=>this.sortOrder.indexOf(o.category)-this.sortOrder.indexOf(i.category)):n.sort((i,o)=>this.sortOrder.indexOf(o)-this.sortOrder.indexOf(i))}initializeOptions(){if(this.legendItem={},!this.dataSource||!this.dataSource.length)return;let n=this.getLegendKeys();this.keys=[];for(let i of n)this.keys.push(i),this.legendItem[i]={visible:!0,className:this.getKeyClassName(i)};for(let i of this.keys)this.legendItem[i].color=this.colorScale[this.keys.indexOf(i)]}getLegendKeys(){return this.dataSource&&this.dataSource.length>0?this.sortArray(this.dataSource.map(n=>n.category)).reverse():[]}setAllLegendItems(n){for(let i of this.keys)this.legendItem[i].visible=n}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}legendVisibleCount(){let n=0;for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n++;return n}toggleAllLegendItems(){let n=[],i=[];this.islegendClicked=!0,this.keys.forEach(o=>{this.legendItem[o]&&(this.legendItem[o].visible?i.push(o):(this.legendItem[o].visible=!this.legendItem[o].visible,n.push(o)))}),n.length||i.forEach(o=>{this.legendItem[o].visible=!1}),this.islegendClicked=!1,this.renderFilteredChart()}toggleLegendItem(n){this.islegendClicked=!0,this.keys.length===this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legendItem[n].visible=!this.legendItem[n].visible,this.legendVisibleCount()===0&&(this.setAllLegendItems(!0),this.islegendClicked=!1),this.renderFilteredChart()}renderFilteredChart(){try{let n=JSON.parse(JSON.stringify(this.dataSource)),i=[];this.keys.forEach(o=>{this.legendItem[o]&&!this.legendItem[o].visible&&i.push(o)}),i.length&&(n=n.map((o,s)=>i.includes(o.category)?{category:o.category,count:0,percent:0,index:s}:o)),n=n.filter(o=>o!==void 0&&o.count>0),this.renderChart(n)}catch(n){console.error("Error in renderFilteredChart:",n)}}getEnabledItems(){let n=[];for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n.push(i);return n}legendFilter(){let n=this.getEnabledItems();this.onSetChartFilters.emit({items:n,islegendClicked:this.islegendClicked})}barFilter(n){this.onSetChartFilters.emit({items:[n],islegendClicked:!0})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.destroyChart()}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}getChartWidth(){try{if(!this.parentElement)return console.warn("Parent element not available for width calculation"),160;let n=this.parentElement.querySelector(".chart-wrapper"),i=n?n.getBoundingClientRect().width:this.parentElement.getBoundingClientRect().width;return!i||isNaN(i)?(console.warn("Invalid panel width:",i),160):(this.keys&&this.keys.length>0&&this.presentationService.isLargePresentation()?i-=this.presentationService.isExtendedPresentation()?50:25:i-=5,i>0?i:160)}catch(n){return console.error("Error in getChartWidth:",n),160}}numberFormat(n){return n>=1e9?(n/1e9).toFixed(0).replace(/\.0$/,"")+"G":n>=1e6?(n/1e6).toFixed(0).replace(/\.0$/,"")+"M":n>=1e3?Math.trunc(n/1e3).toFixed(1).replace(/\.0$/,"")+"K":n}renderChart(n){try{if(this.destroyChart(),!this.parentElement){console.warn("Parent element not found for radial chart");return}let i=On().innerRadius((v,g)=>this.arcMin+g*this.arcWidth+this.arcPad).outerRadius((v,g)=>this.arcMin+(g+1)*this.arcWidth).startAngle(0).endAngle((v,g)=>2*this.PI);(!n||!Array.isArray(n))&&(n=this.dataSource||[]),n=n.map(v=>Ee(ne({},v),{count:isNaN(Number(v.count))?0:Number(v.count),percent:isNaN(Number(v.percent))?0:Number(v.percent),category:v.category||"Unknown"})).filter(v=>v.count>0),n.length===0&&(n=this.backData);let o=0;n.forEach(v=>{let g=isNaN(Number(v.count))?0:Number(v.count);o+=g}),this.totalCount=this.numberFormat(o);let s=this.getChartWidth(),a=this.height*1.35;if(s<=0||a<=0){console.warn("Invalid chart dimensions:",{chartWidth:s,chartHeight:a});return}let l=Q(this.parentElement);if(!l||l.empty()){console.warn("Failed to select parent element with d3");return}let c=l.select("svg");c.empty()&&(c=l.append("svg"));let u=this.svg=c.attr("viewBox","-59, -60, 390, 280").attr("preserveAspectRatio","xMidYMin meet").attr("width",s).attr("height",a);if(!this.svg||this.svg.empty()){console.warn("Failed to create or select SVG element");return}if(u.attr("width",s),u.attr("height",a),this.parentElement==null||this.totalCount<1)try{u.selectAll(".arc-backgrounds").data(this.backData).enter().append("svg:path").style("fill","#f3f3f3").text("No data found.").attr("text-anchor","middle").attr("transform","translate(80,80)").attr("viewBox","-59, -60, 390, 280").attr("preserveAspectRatio","xMidYMin meet").attr("d",i)}catch(v){console.warn("Failed to create background arcs:",v)}let d=ct(n,v=>isNaN(Number(v.count))?0:Number(v.count))||1;this.scale=Ye().domain([0,d*1.2]).range([0,2*Math.PI]);let f=On().innerRadius(v=>{let g=isNaN(Number(v.index))?0:Number(v.index);return this.arcMin+g*this.arcWidth+this.arcPad}).outerRadius(v=>{let g=isNaN(Number(v.index))?0:Number(v.index);return this.arcMin+(g+1)*this.arcWidth}).startAngle(0).endAngle(v=>{let g=isNaN(Number(v.count))?0:Number(v.count);return this.scale(g)}),p=Q("body").append("div").attr("class","radial-tooltip").style("position","absolute").style("padding","0 10px").style("background","white").style("opacity",0).style("pointer-events","none").style("border-radius","10px");try{u.append("text").attr("text-anchor","middle").attr("font-size","27px").attr("font-weight","600").attr("fill","#4d4d4d").text(this.totalCount).attr("transform","translate("+this.width/2+","+this.height/2.2+")")}catch(v){console.warn("Failed to append text:",v)}try{u.selectAll(".arc-backgrounds").data(this.backData).enter().append("svg:path").style("fill","#f3f3f3").attr("transform","translate(80,80)").attr("cursor","pointer").attr("d",i)}catch(v){console.warn("Failed to create background arcs:",v)}u.selectAll("path.arc-path").remove();let m=u.selectAll("path.arc-path").data(n,v=>v.category);try{m.enter().append("svg:path").attr("class","arc-path").attr("transform","translate(80,80)").attr("cursor","pointer").attr("fill",x=>{if(!this.legendItem||!this.legendItem[x.category])return"#ccc";let _=Object.values(this.legendItem),w="",b=this.getKeyClassName(x.category);return _.forEach(k=>{let E=k.className;b===E&&(w=k.color)}),w}).on("click",(x,_)=>{this.barFilter(_.category),p.style("display","none")}).on("mousemove",(x,_)=>{p.transition().duration(200).style("opacity",.9),p.html(`<div><p>${_.category} <strong>${this.d3Format(_.count)}</strong> (${_.percent}%)</p></div>`).style("left",x.pageX-35+"px").style("top",x.pageY-30+"px")}).on("mouseout",function(){p.transition().duration(200).style("opacity",0),p.html("")}).attr("d",x=>{let _=Ee(ne({},x),{count:0});return f(_)}).merge(m).transition().duration(900).ease(qs).attrTween("d",function(x){try{let _=this,w=Ee(ne({},x),{count:isNaN(Number(x.count))?0:Number(x.count),index:isNaN(Number(x.index))?0:Number(x.index)}),b=_.current||Ee(ne({},w),{count:0}),k=Ht(b,w);return _.current=w,function(E){try{let V=k(E);return isNaN(V.count)||isNaN(V.index)?(console.warn("Invalid interpolated data:",V),f(Ee(ne({},V),{count:0,index:0}))):f(V)}catch(V){return console.error("Error in arcTween inner function:",V,{d:x,t:E}),f(Ee(ne({},x),{count:0,index:0}))}}}catch(_){return console.error("Error in attrTween:",_,{d:x}),w=>f(Ee(ne({},x),{count:0,index:0}))}})}catch(v){console.error("Error creating or animating arcs:",v)}}catch(i){console.error("Error in renderChart:",i)}}randomize(){this.onRandomizeClick.emit(this.id)}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Yn))},t.\u0275cmp=he({type:t,selectors:[["radial-chart"]],inputs:{data:"data",severityData:"severityData",id:"id",colorScale:"colorScale",unit:"unit"},outputs:{onSetChartFilters:"onSetChartFilters",onRandomizeClick:"onRandomizeClick"},features:[Cn],decls:16,vars:1,consts:[[1,"chart-wrapper"],["width","1","height","1"],[1,"legend"],[3,"click",4,"ngFor","ngForOf"],[1,"time-series-icon-container"],[1,"time-series-table-control","view-events-button",3,"click"],[1,"material-icons"],[1,"time-series-icon-label"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(R(0,"div",0),Ut(),re(1,"svg",1),zn(),R(2,"div",2)(3,"ul"),Te(4,wpe,4,9,"li",3),N(),R(5,"div",4)(6,"div",5),ie("click",function(){return o.toggleAllLegendItems()}),R(7,"span",6),H(8,"sync"),N(),R(9,"span",7),H(10,"Reset"),N()(),R(11,"div",5),ie("click",function(){return o.legendFilter()}),R(12,"span",6),H(13,"analytics"),N(),R(14,"span",7),H(15,"Details"),N()()()()()),i&2&&(q(4),Y("ngForOf",o.keys))},dependencies:[Jr,dn],styles:[`radial-chart{max-width:50px}radial-chart .chart-wrapper{overflow:hidden;display:block;height:40vh;margin-top:-1px}radial-chart .checkmark-icon{margin-right:10px}radial-chart .legend{font-weight:700;font-size:1.2rem;position:absolute;top:5rem;right:-2rem}radial-chart .legend .title{cursor:pointer}radial-chart .legend ul{font-weight:400;list-style-type:none;overflow-y:hidden;padding:0}radial-chart .legend li{cursor:pointer;min-width:12rem;margin:.4rem;white-space:nowrap}radial-chart .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}radial-chart .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#00f;font-size:1.4rem;font-weight:400}radial-chart .bullet{display:inline-block;background-color:#000;height:1.4rem;width:1.4rem;vertical-align:middle;border-radius:50%}radial-chart .disabled{opacity:.5}radial-chart .tick line{stroke-opacity:.2}@media (min-width: 57.3rem){radial-chart .legend{float:right;margin:1rem 0}radial-chart .legend ul{max-height:32rem;width:15.2rem;margin:.5rem 0}radial-chart .legend li{width:11.8rem}radial-chart .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();var kz=(()=>{let t=class t{constructor(){this.d$=new Et;let n=this.ngOnDestroy.bind(this);this.ngOnDestroy=()=>{n(),this.d$.next(!0),this.d$.complete()}}ngOnDestroy(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,o){},encapsulation:2});let e=t;return e})();var Gm=Sg(Iz());var Ym=(()=>{let t=class t{constructor(n){this.logger=n,this.utcOffset={hours:0,minutes:0},this.timeZoneAbbreviation="",this.dateOptions=[],this.allowCustomDates=!1,this.allowMultiDay=!1}getTimeZoneAbbreviation(){return this.timeZoneAbbreviation}setAllowCustomDates(n){this.allowCustomDates=n}setAllowMultiDay(n){this.allowMultiDay=n}setTimeZoneAbbreviation(n){this.timeZoneAbbreviation=n}setMaxAvailableDays(n){this.maxDaysAvailable=n}getMaxAvailableDays(){return this.maxDaysAvailable}setUtcOffset(n){if(n&&~n.indexOf(":")){let i=n.split(":");this.utcOffset.hours=Number(i[0]),this.utcOffset.minutes=Number(i[1])*(this.utcOffset.hours>-1?1:-1)}}getOffsetHours(){return this.utcOffset.hours}getOffsetMinutes(){return this.utcOffset.minutes*(this.getOffsetHours()>-1?1:-1)}getOffsetDate(n){let i=new Date(n);return i.setUTCHours(i.getUTCHours()+this.utcOffset.hours),i.setMinutes(i.getUTCMinutes()+this.utcOffset.minutes),i}getOffsetDateTimeString(n){let i=this.getOffsetDate(n);return this.toString(i)}getOffsetDateTimeLocaleSegments(n){let i=this.getOffsetDate(n),o=i.getUTCHours(),s=i.getUTCMonth()+1+"/"+i.getUTCDate()+"/"+i.getUTCFullYear(),a=(o%12||12)+":"+("0"+i.getUTCMinutes()).slice(-2)+":"+("0"+i.getUTCSeconds()).slice(-2)+(o>11?" PM":" AM"),l=this.getTimeZoneAbbreviation();return[s,a,l]}getOffsetDateTimeLocaleString(n){let i=this.getOffsetDateTimeLocaleSegments(n);return i[0]+" "+i[1]+" "+i[2]}toString(n){return n.toISOString()}getCustomDate(n,i){return{startDate:this.getCustomDateString(n),startTime:this.getCustomTimeString(n),endDate:this.getCustomDateString(i),endTime:this.getCustomTimeString(i)}}getDateRangeFromStartAndEnd(n,i){let o={startDateUtc:this.toString(n),endDateUtc:this.toString(i),timePeriod:"hour",label:"Custom"},s=i.getTime()-n.getTime();switch(!0){case s>864e5:o.timePeriod="day";break;case s<=6e4:o.timePeriod="second";break;case s<=36e5:o.timePeriod="minute";break}return o.fullLabel=()=>this.formatFullLabel(n,i,o.timePeriod,9),o}getCustomDateString(n){let i=new Date(n.getTime());return i.setUTCHours(i.getUTCHours()+this.getOffsetHours()),i.setUTCMinutes(i.getUTCMinutes()+this.getOffsetMinutes()),i.getUTCFullYear()+"-"+("0"+(i.getUTCMonth()+1)).slice(-2)+"-"+("0"+i.getUTCDate()).slice(-2)}getCustomTimeString(n){let i=new Date(n.getTime());return i.setUTCHours(i.getUTCHours()+this.getOffsetHours()),i.setUTCMinutes(i.getUTCMinutes()+this.getOffsetMinutes()),("0"+i.getUTCHours()).slice(-2)+":"+("0"+i.getUTCMinutes()).slice(-2)+":"+("0"+i.getUTCSeconds()).slice(-2)}getUTCDateRange(n,i=null){let o=new Date,s=new Date,a="hour";switch(n){case this.getDateRangeOptionIndex(Oe.LastHour):o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes()),a="minute";break;case this.getDateRangeOptionIndex(Oe.LastTwoHours):o.setUTCHours(o.getUTCHours()-1),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Oe.LastFourHours):o.setUTCHours(o.getUTCHours()-3),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Oe.LastSixHours):o.setUTCHours(o.getUTCHours()-5),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Oe.LastEightHours):o.setUTCHours(o.getUTCHours()-7),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Oe.LastTwelveHours):o.setUTCHours(o.getUTCHours()-11),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Oe.LastTwentyFourHours):o.setUTCHours(o.getUTCHours()-23),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Oe.LastSevenDays):o.setUTCDate(o.getUTCDate()-6),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCHours(o.getUTCHours()+-1*this.getOffsetHours()),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());var l=this.getDayDifference(o,s);l!=7&&o.setUTCDate(o.getUTCDate()-(7-l)),a="day";break;case this.getDateRangeOptionIndex(Oe.LastThirtyDays):let c=Gm.utc(o);c.subtract(29,"day"),o=c.toDate();var l=this.getDayDifference(o,s);l!=30&&o.setUTCDate(o.getUTCDate()-(30-l)),a="day";break;case this.getDateRangeOptionIndex(Oe.Custom):if(!i)throw"Custom option requires custom date parameter";let u=new Date(this.formatCustomDateTime(i.startDate,i.startTime));o=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds())),o.setUTCHours(o.getUTCHours()+-1*this.getOffsetHours()),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());let d=new Date(this.formatCustomDateTime(i.endDate,i.endTime));s=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds())),s.setUTCHours(s.getUTCHours()+-1*this.getOffsetHours()),s.setUTCMinutes(s.getUTCMinutes()+-1*this.getOffsetMinutes()),a=this.getCustomDateUnit(o,s);break;case this.getDateRangeOptionIndex(Oe.LastSixtyDays):let f=Gm.utc(o);f.subtract(59,"day"),o=f.toDate();var l=this.getDayDifference(o,s);l!=60&&o.setUTCDate(o.getUTCDate()-(60-l)),a="month";break;case this.getDateRangeOptionIndex(Oe.LastNinetyDays):let p=Gm.utc(o);p.subtract(89,"day"),o=p.toDate();var l=this.getDayDifference(o,s);l!=90&&o.setUTCDate(o.getUTCDate()-(90-l)),a="month";break;case this.getDateRangeOptionIndex(Oe.LastOneHundredTwentyDays):let m=Gm.utc(o);m.subtract(119,"day"),o=m.toDate();var l=this.getDayDifference(o,s);l!=120&&o.setUTCDate(o.getUTCDate()-(120-l)),a="month";break;default:o.setUTCHours(o.getUTCHours()-24),o.setUTCSeconds(0)}return{startDateUtc:this.toString(o),endDateUtc:this.toString(s),timePeriod:a,label:this.getDateOptionsName(n),isCustom:n===9,customLabel:this.formatCustomLabel(o,s,a,n),fullLabel:()=>this.formatFullLabel(o,s,a,n)}}getDateRangeFromPeriod(n,i,o){let s=new Date(n),a=new Date(n),l=o;switch(o){case"second":break;case"minute":a.setUTCSeconds(59),l="second";break;case"hour":a.setUTCSeconds(59),a.setUTCMinutes(59),l="minute";break;case"day":a.setUTCHours(a.getUTCHours()+23),a.setUTCMinutes(59),a.setUTCSeconds(59),l="hour";break;case"month":let c=new Date(a.getUTCFullYear(),a.getUTCMonth(),0);a.setUTCDate(c.getDate()),a.setUTCHours(a.getUTCHours()+23),a.setUTCMinutes(59),a.setUTCSeconds(59),l="day";break}return{startDateUtc:this.toString(s),endDateUtc:this.toString(a),timePeriod:l,label:i,fullLabel:()=>this.formatFullLabel(s,a,l,this.getIndexFromDateRange({startDateUtc:null,endDateUtc:null,timePeriod:null,label:i}))}}formatCustomDateTime(n,i){return((n||"")+"T"+(i||"")).trim()}formatCustomLabel(n,i,o,s){return s==9?o.charAt(0).toUpperCase()+o.slice(1)+"s between "+this.getOffsetDateTimeLocaleString(n)+" and "+this.getOffsetDateTimeLocaleString(i):this.getDateOptionsName(s)}getDayDifference(n,i){let o=864e5;return Math.ceil(Math.abs((i.getTime()-n.getTime())/o))}getCustomDateUnit(n,i){let o,s=Math.abs(n.getTime()-i.getTime());return s>=1e3*3600*24*32?o="month":s>1e3*3600*24?o="day":s>=1e3*3600?o="hour":s>=1e3*60?o="minute":o="second",o}formatFullLabel(n,i,o,s){let a=this.getDateOptionsName(s);return a+=": ",a+=this.getOffsetDateTimeLocaleString(n),a+=" - ",a+=this.getOffsetDateTimeLocaleString(i),a}getDateOptionsName(n){switch(n){case 8:return"Last 30 Days";case 9:return"Custom";case 10:return"Last 60 Days";case 11:return"Last 90 Days";case 12:return"Last 120 Days"}return this.getDateOptions()[n].name}getIndexFromDateRange(n){switch(n.label||""){case"Last Hour":return 0;case"Last 2 Hours":return 1;case"Last 4 Hours":return 2;case"Last 6 Hours":return 3;case"Last 8 Hours":return 4;case"Last 12 Hours":return 5;case"Last 24 Hours":default:return 6;case"Last 7 Days":return 7;case"Last 30 Days":return 8;case"Custom":return 9;case"Last 60 Days":return 10;case"Last 90 Days":return 11;case"Last 120 Days":return 12}}getDateRangeOptionIndex(n){switch(n){case Oe.LastHour:return 0;case Oe.LastTwoHours:return 1;case Oe.LastFourHours:return 2;case Oe.LastSixHours:return 3;case Oe.LastEightHours:return 4;case Oe.LastTwelveHours:return 5;case Oe.LastTwentyFourHours:return 6;case Oe.LastSevenDays:return 7;case Oe.LastThirtyDays:return 8;case Oe.Custom:return 9;case Oe.LastSixtyDays:return 10;case Oe.LastNinetyDays:return 11;case Oe.LastOneHundredTwentyDays:return 12}}getDateOptions(){let n=[{id:0,name:"Last Hour"},{id:1,name:"Last 2 Hours"},{id:2,name:"Last 4 Hours"},{id:3,name:"Last 6 Hours"},{id:4,name:"Last 8 Hours"},{id:5,name:"Last 12 Hours"},{id:6,name:"Last 24 Hours"}];return this.allowMultiDay&&(n.push({id:7,name:"Last 7 Days"}),n.push({id:8,name:"Last 30 Days"})),this.maxDaysAvailable>=60&&n.push({id:10,name:"Last 60 Days"}),this.maxDaysAvailable>=90&&n.push({id:11,name:"Last 90 Days"}),this.maxDaysAvailable>=120&&n.push({id:12,name:"Last 120 Days"}),this.allowCustomDates&&n.push({id:9,name:"Custom"}),n}};t.\u0275fac=function(i){return new(i||t)(ee(hd))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Az=(()=>{let t=class t{constructor(n,i){this.el=n,this.renderer=i,this.menuOptions=[],this.optionSelected=new rt,this.menuVisible=!0}onRightClick(n){n.preventDefault(),this.createMenu(n.pageX,n.pageY)}onDocumentClick(){this.menuVisible&&this.destroyMenu()}createMenu(n,i){this.menuVisible&&this.destroyMenu(),this.menuElement=this.renderer.createElement("div"),this.renderer.addClass(this.menuElement,"menu");let o=window.scrollX||document.documentElement.scrollLeft,s=window.scrollY||document.documentElement.scrollTop,a=n+o,l=i+s,c=window.innerWidth,u=140;a+u>c&&(a=c-u);let d=window.innerHeight,f=160;l+f>d&&(l=d-f),this.renderer.setStyle(this.menuElement,"position","absolute"),this.renderer.setStyle(this.menuElement,"top",`${l}px`),this.renderer.setStyle(this.menuElement,"left",`${a}px`),this.renderer.setStyle(this.menuElement,"z-index","1000"),this.renderer.setStyle(this.menuElement,"box-shadow","0 4px 5px 3px rgba(0, 0, 0, 0.2)"),this.renderer.setStyle(this.menuElement,"background","#fff"),this.renderer.setStyle(this.menuElement,"border-radius","4px");let p=this.renderer.createElement("ul");this.renderer.addClass(p,"menu-options"),this.menuOptions.forEach(m=>{let v=this.renderer.createElement("li");this.renderer.addClass(v,"menu-option"),this.renderer.setStyle(v,"list-style","none"),this.renderer.setStyle(v,"padding","10px 40px 10px 20px"),this.renderer.setStyle(v,"cursor","pointer"),this.renderer.setStyle(v,"font-size","14px"),this.renderer.setStyle(v,"font-weight","500"),this.renderer.listen(v,"mouseover",()=>{this.renderer.setStyle(v,"background","rgba(0, 0, 0, 0.2)")}),this.renderer.listen(v,"mouseout",()=>{this.renderer.removeStyle(v,"background")}),this.renderer.listen(v,"click",()=>{this.optionSelected.emit(m),this.destroyMenu()});let g=this.renderer.createText(m);this.renderer.appendChild(v,g),this.renderer.appendChild(p,v)}),this.renderer.appendChild(this.menuElement,p),this.renderer.appendChild(document.body,this.menuElement),this.menuVisible=!0}destroyMenu(){this.menuElement&&(this.renderer.removeChild(document.body,this.menuElement),this.menuElement=null,this.menuVisible=!1)}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Xr))},t.\u0275dir=Xt({type:t,selectors:[["","appContextMenu",""]],hostBindings:function(i,o){i&1&&ie("contextmenu",function(a){return o.onRightClick(a)})("click",function(){return o.onDocumentClick()},!1,O9)},inputs:{menuOptions:"menuOptions"},outputs:{optionSelected:"optionSelected"}});let e=t;return e})();var Dpe=e=>({disabled:e});function Mpe(e,t){if(e&1){let r=Rt();R(0,"li",10),ie("click",function(){let o=Ot(r).$implicit,s=Ue();return Pt(s.toggleLegendItem(o))}),re(1,"div"),R(2,"label",11),H(3),N()()}if(e&2){let r=t.$implicit,n=Ue();q(1),ka("bullet ",n.legend[r]&&n.legend[r].className,""),Kr("background-color",n.legend[r]&&n.legend[r].color),q(1),Y("ngClass",Nr(7,Dpe,n.legend[r]&&!n.legend[r].visible)),q(1),Ft(r)}}var Spe=()=>["Back","Reload","Save","Save As","Inspect"],Oz=(()=>{let t=class t extends kz{constructor(n,i,o){super(),this.element=n,this.dateTimeService=i,this.presentationService=o,this.chartOptions=new Dy,this.xAxisLabelChange=new rt,this.margins={top:10,right:15,bottom:80,left:75},this.renderedWidth=0,this.height=360,this.legend={},this.keys=[],this.disableItems=!1,this.applyLegendFilters=!1,this.imageSource=" TimeSeriesChartData.png",this.showDownload=!1,this.parentElement=n.nativeElement}ngOnChanges(n){this.initializeOptions(),setTimeout(()=>this.renderChart())}ngOnInit(){this.subscription=this.presentationService.windowSize.pipe(lh(this.d$)).subscribe(n=>{this.renderedWidth?this.renderedWidth!==n.width&&(this.renderedWidth=n.width,this.onResize(n)):this.renderedWidth=n.width}),this.initializeOptions(),this.renderChart()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onResize(n){this.data&&this.data.length&&this.renderFilteredChart()}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}initializeOptions(){if(this.legend={},!this.data||!this.data.length)return;let n=this.getLegendKeys();this.keys=[];for(let o of n)o!="Period"&&(this.keys.push(o),this.legend[o]={visible:!0,className:this.getKeyClassName(o)});let i=zi;if(this.colorScale=ci(i).domain([0,this.keys.length]),this.chartOptions&&this.chartOptions.showLegend&&this.chartOptions.dynamicColors)for(let o of this.keys)this.legend[o].color=this.colorScale(this.keys.indexOf(o))}getLegendKeys(){if(this.legendData&&Object.keys(this.legendData).length>0){let n={};Object.keys(this.legendData).slice(0,6).forEach(i=>{this.legendData[i].length>0&&(n[i]=this.legendData[i])});for(let i of this.data)for(let o of Object.keys(i))i[o]!="0"&&(n[o]=this.legendData[o]);return Object.keys(n)}else return Object.keys(this.data[0])}toggleLegendItem(n){this.keys.length==this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legend[n].visible=!this.legend[n].visible,this.legendVisibleCount()==0&&this.setAllLegendItems(!0),this.renderFilteredChart()}applyLegendFiltersClick(){if(this.chartOptions&&this.chartOptions.legendClickFunction){let n=[];for(let i of this.keys)this.legend[i]&&this.legend[i].visible&&n.push(i);this.chartOptions.legendClickFunction(n)}}legendVisibleCount(){let n=0;for(let i of this.keys)this.legend[i]&&this.legend[i].visible&&n++;return n}handleOptionSelected(n){console.log("Selected option:",n),this.presentationService.saveSvgToImage()}toggleAllLegendItems(){let n=[],i=[];for(let o of this.keys)o!=="Period"&&this.legend[o]&&(this.legend[o].visible?i.push(o):(this.legend[o].visible=!this.legend[o.visible],n.push(o)));n.length||i.forEach(o=>{this.legend[o].visible=!this.legend[o].visible}),this.renderFilteredChart()}setAllLegendItems(n){for(let i of this.keys)this.legend[i].visible=n}renderFilteredChart(){let n=JSON.parse(JSON.stringify(this.data)),i=[];for(let o of this.keys)this.legend[o]&&!this.legend[o].visible&&i.push(o);i.length&&(n=n.map(o=>(i.forEach(s=>{delete o[s]}),o))),this.renderChart(n)}renderChart(n){this.destroyChart();let i=this.margins,o=Q(this.parentElement),s=this.svg=o.select("svg");if(s.attr("width",this.getChartWidth()),n||(n=this.data),this.parentElement==null||n==null||!this.data.length){s.attr("height",20).append("text").attr("x",0).attr("y",15).text("No data returned.");return}let a=this.presentationService.isExtendedPresentation()?480:360;s.attr("height",a);let l=+s.attr("width")-i.left-i.right,c=+s.attr("height")-i.top-i.bottom,u=s.append("g").attr("transform","translate("+i.left+","+i.top+")"),d="%_I %p";switch(this.dateRange&&this.dateRange.timePeriod){case"second":d="%S";break;case"minute":d="%_I:%M %p";break;case"day":d="%b %_d";break;case"month":d="%B";break}let f=Sr(d);n=this.formatDataPeriods(n);let p=cn().domain(n.map((B,$)=>f(B.Period)+`_${$}`)).rangeRound([0,l]).padding(.2),m=Ye().domain([0,ct(n.map(B=>{let $=0;for(let D of Object.keys(B))D!=="Period"&&($+=+B[D]);return $}))]).nice().rangeRound([c,0]),v="rotate(90) translate(10, -13)",g=p.bandwidth(),x=!0,_=15;g>=37?(x=!1,v="translate(-18, 0)"):g>=22&&(x=!0,v="rotate(45) translate(10, -5)"),x&&s.attr("height",a+_),u.append("g").attr("class","x-axis").attr("transform","translate(0,"+c+")").call(fn(p).tickSize(-c).tickPadding(10).tickFormat(B=>{if(!B.includes("_"))return B;let $=B.indexOf("_");return B.substring(0,$)})).selectAll("text").attr("text-anchor","start").attr("transform",v),s.append("text").attr("x",+s.attr("width")/2).attr("y",c+i.bottom+(x?_:0)).attr("dx","1rem").style("text-anchor","middle").text(this.dateRange.isCustom?this.dateRange.customLabel:this.dateRange.fullLabel?this.dateRange.fullLabel():""),this.xAxisLabelChange.emit(this.dateRange),u.append("g").attr("class","y-axis").call(Bt(m).tickSize(-l).tickPadding(10).ticks(8).tickFormat(B=>this.formatNumber(Number(B)))),s.append("text").attr("y",0).attr("x",-180).attr("dy","1em").attr("transform","rotate(-90)").style("text-anchor","middle").text("Count");let w=Object.keys(n[0]);w.splice(w.indexOf("Period"),1);let b=ps().keys(w)(n),E=u.append("g").selectAll("g").data(b).enter().append("g").attr("data-key",B=>B.key).attr("class",(B,$)=>"stack "+this.getKeyClassName(B.key)).attr("fill",B=>this.chartOptions&&this.chartOptions.dynamicColors?this.colorScale(this.keys.indexOf(B.key)):"").attr("cursor",B=>this.chartOptions&&this.chartOptions.barClickFunction?"pointer":"default").selectAll("rect").data(B=>B).enter().append("rect"),V=160,z=0;g>V&&(z=(g-V)/2,g=V),E.attr("x",(B,$)=>p(f(B.data.Period)+`_${$}`)+z).attr("y",B=>m(B[1])).attr("height",(B,$)=>m(B[0])-m(B[1])).attr("visibility",B=>{let $=B[1]-B[0];return $<=0?"hidden":$}).attr("width",g).append("title").text(function(B,$){let D=Q(this).node().parentNode.parentNode.getAttribute("data-key"),I=B[1]-B[0];return D+": "+I.toLocaleString()||""}),this.chartOptions&&this.chartOptions.barClickFunction&&E.on("click",B=>{let $=B.event.target.parentNode.getAttribute("data-key"),D=new Date(B.data.Period);this.dateRange.timePeriod=="month"?(D.setDate(1),D.setHours(0),D.setMinutes(0)):this.dateRange.timePeriod=="day"&&(D.setUTCHours(0),D.setUTCMinutes(0)),D.setUTCHours(D.getUTCHours()+-1*this.dateTimeService.getOffsetHours()),D.setUTCMinutes(D.getUTCMinutes()+-1*this.dateTimeService.getOffsetMinutes()),this.chartOptions.barClickFunction($,D)})}formatNumber(n){if(n<10)return Ze("")(n);{let i=Ze(".2s")(n);switch(i[i.length-1]){case"G":return i.slice(0,-1)+"B";case"P":return i.slice(0,-1)+"Q"}return i}}formatDataPeriods(n){let i=JSON.parse(JSON.stringify(n));if(this.dateRange.timePeriod=="day"){let o=[];return i.forEach(s=>{let a=this.dateTimeService.getOffsetDate(s.Period);a.setUTCHours(0),a.setUTCMinutes(0);let l=o.length-1;if(o.length&&o[l].Period.getTime()==a.getTime())for(let c in o[l])c!="Period"&&(o[l][c]=+o[l][c]+ +s[c]);else s.Period=a,o.push(s)}),o}else return this.dateRange.timePeriod=="month"?(i.forEach(o=>{let s=new Date(o.Period);s.setUTCHours(s.getUTCHours()-this.dateTimeService.getOffsetHours()),s.setUTCMinutes(s.getUTCMinutes()-this.dateTimeService.getOffsetMinutes()),o.Period=s}),i):(i.forEach(o=>o.Period=this.dateTimeService.getOffsetDate(o.Period)),i)}getChartWidth(){let n=this.parentElement.getBoundingClientRect().width;return this.chartOptions&&this.chartOptions.showLegend&&this.keys.length>0&&this.keys[0]!="Count"&&this.presentationService.isLargePresentation()?n-=this.presentationService.isExtendedPresentation()?210:180:n-=5,n>0?n:0}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Ym),Z(Yn))},t.\u0275cmp=he({type:t,selectors:[["time-series-bar-chart"]],inputs:{chartOptions:"chartOptions",dateRange:"dateRange",data:"data",legendData:"legendData"},outputs:{xAxisLabelChange:"xAxisLabelChange"},features:[Qr,Cn],decls:18,vars:3,consts:[["id","svg_container",1,"chart-wrapper"],["shape-rendering","crispEdges","width","1","height","1"],[1,"legend"],["title","Click here to turn all filters on/off at once",1,"title",3,"click"],[3,"click",4,"ngFor","ngForOf"],[1,"time-series-icon-container"],[1,"time-series-table-control","view-events-button",3,"click"],[1,"material-icons"],[1,"time-series-icon-label"],["appContextMenu","",1,"time-series-table-control","view-events-button",3,"menuOptions","optionSelected","click"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(R(0,"div",0),Ut(),re(1,"svg",1),zn(),R(2,"div",2)(3,"span",3),ie("click",function(){return o.toggleAllLegendItems()}),H(4," Legend "),N(),R(5,"ul"),Te(6,Mpe,4,9,"li",4),N(),R(7,"div",5)(8,"div",6),ie("click",function(){return o.applyLegendFiltersClick()}),R(9,"span",7),H(10,"check"),N(),R(11,"span",8),H(12,"Apply Filters"),N()(),R(13,"div",9),ie("optionSelected",function(a){return o.handleOptionSelected(a)})("click",function(){return o.applyLegendFiltersClick()}),R(14,"span",7),H(15,"list"),N(),R(16,"span",8),H(17,"Context Menu"),N()()()()()),i&2&&(q(6),Y("ngForOf",o.keys),q(7),Y("menuOptions",jT(2,Spe)))},dependencies:[Jr,dn,Az],styles:[`@media (min-width: 100rem){.chart-wrapper svg g text{font-size:1.2rem}.chart-wrapper svg>text{font-size:1.6rem}}.time-series-table-control{cursor:pointer}.time-series-icon-container{display:inline-block;right:0;top:0;font-size:1rem}.view-events-button{display:flex;align-items:center}.time-series-icon-label{font-size:1rem;font-weight:700;color:#0072b2;text-transform:uppercase;display:inline-block;vertical-align:middle}.checkmark{vertical-align:middle;cursor:pointer;display:inline-block;width:22px;height:22px;-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.checkmark_stem{position:absolute;width:3px;height:13px;background-color:#0072b2;left:6px;top:2px}.checkmark_kick{position:absolute;width:6px;height:3px;background-color:#0072b2;left:2px;top:12px}time-series-bar-chart .chart-wrapper{overflow:hidden}time-series-bar-chart .checkmark-icon{margin-right:10px}time-series-bar-chart .legend{font-weight:700;font-size:1.2rem;-webkit-user-select:none;user-select:none}time-series-bar-chart .legend .title{cursor:pointer}time-series-bar-chart .legend ul{font-weight:400;list-style-type:none;overflow-y:auto;padding:0}time-series-bar-chart .legend li{cursor:pointer;min-width:12rem;margin:.8rem 0;white-space:nowrap}time-series-bar-chart .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}time-series-bar-chart .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#0072b2;font-size:1.4rem;font-weight:400}time-series-bar-chart .bullet{display:inline-block;background-color:#000;height:1.6rem;width:1.6rem;vertical-align:middle;border-radius:50%}time-series-bar-chart .disabled{opacity:.5}time-series-bar-chart .tick line{stroke-opacity:.2}time-series-bar-chart .informational rect{fill:#4dd2ff}time-series-bar-chart .bullet.informational{background-color:#4dd2ff}time-series-bar-chart .minor rect{fill:#5ece5e}time-series-bar-chart .bullet.minor{background-color:#5ece5e}time-series-bar-chart .medium rect{fill:#fff423}time-series-bar-chart .bullet.medium{background-color:#fff423}time-series-bar-chart .major rect{fill:#e69f00}time-series-bar-chart .bullet.major{background-color:#e69f00}time-series-bar-chart .bullet.critical{background-color:#ee3224}time-series-bar-chart .critical rect{fill:#ee3224}time-series-bar-chart .bullet.non-critical{background-color:#5ece5e}time-series-bar-chart .non-critical rect{fill:#5ece5e}time-series-bar-chart .bullet.non-actionable{background-color:#4dd2ff}time-series-bar-chart .non-actionable rect{fill:#4dd2ff}time-series-bar-chart .malicious-activity rect{fill:#8214a0}time-series-bar-chart .bullet.malicious-activity{background-color:#8214a0}time-series-bar-chart .network-scanning rect{fill:#ee3224}time-series-bar-chart .bullet.network-scanning{background-color:#ee3224}time-series-bar-chart .network-service-abuse rect{fill:#333}time-series-bar-chart .bullet.network-service-abuse{background-color:#333}time-series-bar-chart .security-system-health rect{fill:#cc79a7}time-series-bar-chart .bullet.security-system-health{background-color:#cc79a7}time-series-bar-chart .suspicious-account-activity rect{fill:#56b4e9}time-series-bar-chart .bullet.suspicious-account-activity{background-color:#56b4e9}time-series-bar-chart .suspicious-network-activity rect{fill:#009e73}time-series-bar-chart .bullet.suspicious-network-activity{background-color:#009e73}time-series-bar-chart .suspicious-reputation rect{fill:#0072b2}time-series-bar-chart .bullet.suspicious-reputation{background-color:#0072b2}time-series-bar-chart .attack-preparation rect{fill:#68b6ff}time-series-bar-chart .bullet.attack-preparation{background-color:#68b6ff}time-series-bar-chart .attack rect{fill:#037433}time-series-bar-chart .bullet.attack{background-color:#037433}time-series-bar-chart .exploit rect{fill:#fff423}time-series-bar-chart .bullet.exploit{background-color:#fff423}time-series-bar-chart .control-and-maintain rect{fill:#ff773d}time-series-bar-chart .bullet.control-and-maintain{background-color:#ff773d}time-series-bar-chart .compromise rect{fill:#990049}time-series-bar-chart .bullet.compromise{background-color:#990049}time-series-bar-chart .reconnaissance rect{fill:#440154}time-series-bar-chart .bullet.reconnaissance{background-color:#440154}time-series-bar-chart .resource-development rect{fill:#481c6e}time-series-bar-chart .bullet.resource-development{background-color:#481c6e}time-series-bar-chart .initial-access rect{fill:#453581}time-series-bar-chart .bullet.initial-access{background-color:#453581}time-series-bar-chart .execution rect{fill:#3d4d8a}time-series-bar-chart .bullet.execution{background-color:#3d4d8a}time-series-bar-chart .persistence rect{fill:#34618d}time-series-bar-chart .bullet.persistence{background-color:#34618d}time-series-bar-chart .privilege-escalation rect{fill:#2b748e}time-series-bar-chart .bullet.privilege-escalation{background-color:#2b748e}time-series-bar-chart .defense-evasion rect{fill:#24878e}time-series-bar-chart .bullet.defense-evasion{background-color:#24878e}time-series-bar-chart .credential-access rect{fill:#1f998a}time-series-bar-chart .bullet.credential-access{background-color:#1f998a}time-series-bar-chart .discovery rect{fill:#25ac82}time-series-bar-chart .bullet.discovery{background-color:#25ac82}time-series-bar-chart .lateral-movement rect{fill:#40bd72}time-series-bar-chart .bullet.lateral-movement{background-color:#40bd72}time-series-bar-chart .collection rect{fill:#67cc5c}time-series-bar-chart .bullet.collection{background-color:#67cc5c}time-series-bar-chart .command-and-control rect{fill:#98d83e}time-series-bar-chart .bullet.command-and-control{background-color:#98d83e}time-series-bar-chart .exfiltration rect{fill:#cde11d}time-series-bar-chart .bullet.exfiltration{background-color:#cde11d}time-series-bar-chart .impact rect{fill:#e2e418}time-series-bar-chart .bullet.impact{background-color:#e2e418}@media (min-width: 10rem){time-series-bar-chart .legend{float:right;margin:1rem 0}time-series-bar-chart .legend ul{max-height:31rem;width:15.2rem;margin:1rem 0}time-series-bar-chart .legend li{width:11.8rem}time-series-bar-chart .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();function Tpe(e,t){if(e&1){let r=Rt();R(0,"button",8),ie("click",function(){Ot(r);let i=Ue();return Pt(i.isMinimized=!i.isMinimized)}),N()}}function kpe(e,t){e&1&&(R(0,"button",9),ie("click",function(){return null}),N())}var Ipe=[[["",8,"panel-title"]],[["",8,"panel-properties"]],[["",8,"panel-body"]]],Ape=e=>({"component-loading-mask":e}),Ope=[".panel-title",".panel-properties",".panel-body"],Mt=(()=>{let t=class t{constructor(){this.action="",this.loading=!0,this.isMinimized=!1}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["single-card"]],inputs:{action:"action",loading:"loading"},ngContentSelectors:Ope,decls:11,vars:5,consts:[[1,"panel-wrapper"],[1,"panel-container","actionable","collapsible"],[1,"panel"],[1,"card","panel-content-container",3,"ngClass"],[1,"panel-header"],["class","circle-button minimize-button",3,"click",4,"ngIf"],["class","circle-button close-button",3,"click",4,"ngIf"],[1,"panel-body-container"],[1,"circle-button","minimize-button",3,"click"],[1,"circle-button","close-button",3,"click"]],template:function(i,o){i&1&&(qu(Ipe),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),lo(5),lo(6,1),Te(7,Tpe,1,0,"button",5)(8,kpe,1,0,"button",6),N(),R(9,"div",7),lo(10,2),N()()()()()),i&2&&(q(3),Y("ngClass",Nr(3,Ape,o.loading)),q(4),Y("ngIf",o.action==="minimize"),q(1),Y("ngIf",o.action==="close"))},dependencies:[Jr,vt],styles:[".panel-wrapper[_ngcontent-%COMP%]{min-height:5rem}"],changeDetection:0});let e=t;return e})();var Ppe=e=>({disabled:e});function Npe(e,t){if(e&1){let r=Rt();R(0,"li",9),ie("click",function(){let o=Ot(r).$implicit,s=Ue();return Pt(s.toggleLegendItem(o))}),re(1,"div"),R(2,"label",10),H(3),N()()}if(e&2){let r=t.$implicit,n=Ue();q(1),ka("bullet ",n.legendItem[r]&&n.legendItem[r].className,""),Kr("background-color",n.legendItem[r]&&n.legendItem[r].color),q(1),Y("ngClass",Nr(7,Ppe,n.legendItem[r]&&!n.legendItem[r].visible)),q(1),Ft(r)}}var bl=(()=>{let t=class t{constructor(n,i,o){this.element=n,this.service=i,this.presentationService=o,this.isDynamicColors=!1,this.onSetChartFilters=new rt,this.onRandomizeClick=new rt,this.id="",this.applyLegendFilters=!1,this.renderedWidth=0,this.islegendClicked=!1,this.keys=[],this.width=200,this.height=250,this.margins={top:15,right:15,bottom:10,left:5},this.backData=[{category:"",count:0,value:1}],this.radius=this.height/2,this.initialCount=100,this.liked=!0,this.preventSingleClick=!1,this.sortOrder=["Compromise","Control and Maintain","Exploit","Attack","Attack Preparation","Reconnaissance"],this.parentElement=this.element.nativeElement}ngOnChanges(n){for(let i in n)if(this.logData=n.logData.currentValue,this.logData&&Array.isArray(this.logData)&&this.logData.length>0){let o=this.transformData(this.logData);this.initializeOptions(),this.drawSlices(o)}}ngOnInit(){if(this.logData&&Array.isArray(this.logData)&&this.logData.length>0){let n=this.transformData(this.logData);this.initializeOptions(),this.drawSlices(n)}this.subscription=this.presentationService.windowSize.subscribe(n=>{this.renderedWidth?this.renderedWidth!==n.width&&(this.renderedWidth=n.width):this.renderedWidth=n.width})}onResize(){this.logData&&this.logData.length&&this.renderFilteredChart()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}applyLegendFiltersClick(){let n=[];for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n.push(i)}getEnabledItems(){let n=[];for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n.push(i);return n}legendFilter(){let n=this.getEnabledItems();this.onSetChartFilters.emit({items:n,islegendClicked:this.islegendClicked})}barFilter(n){this.onSetChartFilters.emit({items:[n],islegendClicked:!0})}toggleAllLegendItems(){this.onRandomizeClick.emit(this.id);let n=[],i=[];this.islegendClicked=!0;for(let o of this.keys)this.legendItem[o]&&(this.legendItem[o].visible?i.push(o):(this.legendItem[o].visible=!this.legendItem[o].visible,n.push(o)));n.length||i.forEach(o=>{this.legendItem[o].visible=this.legendItem[o].visible}),this.islegendClicked=!1,this.renderFilteredChart()}setAllLegendItems(n){for(let i of this.keys)this.legendItem[i].visible=n}toggleLegendItem(n){this.islegendClicked=!0,this.keys.length===this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legendItem[n].visible=!this.legendItem[n].visible,this.legendVisibleCount()==0&&(this.setAllLegendItems(!0),this.islegendClicked=!1),this.renderFilteredChart()}legendVisibleCount(){let n=0;for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n++;return n}transformData(n){if(!n||!Array.isArray(n))return[];switch(this.detectDataFormat(n)){case"category-count-percent":return this.transformCategoryCountPercentData(n);case"advertiser":return this.transformAdvertiserData(n);case"utm-source":return this.transformUtmSourceData(n);default:return this.transformGenericData(n)}}detectDataFormat(n){if(!n.length)return"unknown";let i=n[0];return i.hasOwnProperty("category")&&i.hasOwnProperty("count")?"category-count-percent":i.hasOwnProperty("name")&&i.hasOwnProperty("data")?"advertiser":i.hasOwnProperty("UTM_SOURCE")?"utm-source":"generic"}transformCategoryCountPercentData(n){return n.map(i=>({category:i.category||i.name||"Unknown",count:i.count||0,percent:i.percent||0}))}transformAdvertiserData(n){let i=n.reduce((o,s)=>o+(s.data?s.data.length:0),0);return n.map((o,s)=>{let a=o.data?o.data.length:0;return{category:o.name||`Advertiser ${s+1}`,count:a,percent:i>0?Math.round(a/i*100):0}}).filter(o=>o.count>0)}transformUtmSourceData(n){return n.map(i=>{let o=i.total||"0%",s=parseFloat(o.replace("%",""))||0,a=Math.round(s*100);return{category:i.UTM_SOURCE||"Unknown Source",count:isNaN(a)?0:a,percent:isNaN(s)?0:s}}).filter(i=>i.percent>0&&!isNaN(i.percent))}transformGenericData(n){return n.map((i,o)=>{let s=i.category||i.name||i.label||i.key||`Item ${o+1}`,a=i.count||i.value||i.total||i.amount||1,l=isNaN(Number(a))?1:Number(a),c=n.reduce((d,f)=>{let p=f.count||f.value||f.total||f.amount||1;return d+(isNaN(Number(p))?1:Number(p))},0),u=c>0?Math.round(l/c*100):0;return{category:String(s),count:isNaN(l)?1:l,percent:isNaN(u)?0:u}})}getLegendKeys(){return this.logData&&this.logData.length>=0?this.transformData(this.logData).map(i=>i.category):[]}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}initializeOptions(){if(this.legendItem={},!this.logData||!this.logData.length)return;let n=this.getLegendKeys();this.keys=[];for(let i of n)this.keys.push(i),this.legendItem[i]={visible:!0,className:this.getKeyClassName(i)};this.color=this.isDynamicColors?this.colorScale:ci(i=>zi(i*1+.1)).domain([0,this.keys.length]);for(let i of this.keys)this.legendItem[i].color=this.isDynamicColors?this.color[this.keys.indexOf(i)]:this.color(this.keys.indexOf(i))}renderFilteredChart(){if(!this.logData||!Array.isArray(this.logData)||this.logData.length===0){this.drawSlices(this.backData);return}let n=this.transformData(this.logData),i=JSON.parse(JSON.stringify(n)),o=[];for(let s of this.keys)this.legendItem[s]&&!this.legendItem[s].visible&&o.push(s);o.length&&(i=i.map(s=>{if(o.forEach(a=>{s.category===a&&delete s.category}),s.hasOwnProperty("category"))return s})),i=i.filter(s=>s!==void 0),this.drawSlices(i)}getChartWidth(){try{if(!this.parentElement)return console.warn("Parent element not available for width calculation"),200;let n=this.parentElement.querySelector(".chart-wrapper"),i=n?n.getBoundingClientRect().width:this.parentElement.getBoundingClientRect().width;return!i||isNaN(i)?(console.warn("Invalid panel width:",i),200):(this.keys&&this.keys.length>0&&this.presentationService.isLargePresentation()?i-=this.presentationService.isExtendedPresentation()?50:20:i-=5,i>0?i:200)}catch(n){return console.error("Error in getChartWidth:",n),200}}get donutWidth(){return parseInt(Q("body").style("width"),10)}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}setArcs(){this.arc=On().outerRadius(this.radius).innerRadius(this.radius*.7)}initArc(){try{if(this.destroyChart(),!this.parentElement){console.warn("Parent element not found for donut chart");return}let n=Q(this.parentElement);if(!n||n.empty()){console.warn("Failed to select parent element with d3");return}let i=this.getChartWidth(),o=this.height;if(i<=0||o<=0){console.warn("Invalid chart dimensions:",{chartWidth:i,chartHeight:o});return}let s=n.select("svg");if(s.empty()&&(s=n.append("svg")),this.svg=s.attr("viewBox","0, 0, 380, 250").attr("preserveAspectRatio","xMidYMid meet").attr("transform",`translate(${this.margins.left}, ${this.margins.top})`).attr("width",i).attr("height",o),!this.svg||this.svg.empty()){console.warn("Failed to create or select SVG element");return}if(this.parentElement==null||!this.logData)try{this.svg&&!this.svg.empty()&&this.svg.append("text").transition().duration(15).ease(Ri).attr("height",290).attr("x",120).attr("y",140).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").text("No relevant data found.")}catch(a){console.warn("Failed to append text:",a)}}catch(n){console.error("Error in initArc:",n)}}showBackground(){try{if(!this.svg||this.svg.empty()){console.warn("SVG not available for background");return}let n=hs().sort(null).value(i=>i.value);if(this.totalCount<1){this.initArc(),this.setArcs();try{this.svg.selectAll(".backpath").remove().exit().data(n(this.backData)).enter().append("svg:path").attr("transform",`translate(${this.radius}, ${this.radius})`).attr("cursor","pointer").attr("stroke-width","1.3px").attr("d",this.arc).style("fill","#F3F3F3")}catch(i){console.warn("Failed to create background:",i)}}}catch(n){console.error("Error in showBackground:",n)}}numberFormat(n){return n>=1e9?Math.trunc(n/1e9).toFixed(1).replace(/\.0$/,"")+"G":n>=1e6?Math.trunc(n/1e6).toFixed(1).replace(/\.0$/,"")+"M":n>=1e3?Math.trunc(n/1e3).toFixed(1).replace(/\.0$/,"")+"K":n}d3Format(n){return Ze(" ,")(n)}drawSlices(n){try{if(n||(n=this.backData),(!this.legendItem||Object.keys(this.legendItem).length===0)&&this.initializeOptions(),this.initArc(),!this.svg||this.svg.empty()){console.warn("SVG not available for drawing slices");return}this.setArcs();let i=0;n.map(a=>{i=i+a.count}),this.totalCount=this.numberFormat(i),this.pie=hs().sort(null).value(a=>a.count);let o=Q("body").append("div").style("position","absolute").style("padding","0 10px").style("background","white").style("opacity",0);this.svg.append("text").attr("text-anchor","middle").attr("font-size","27px").attr("font-weight","600").attr("fill","#4D4D4D").text(this.totalCount).attr("transform","translate("+this.width/1.6+","+this.height/1.9+")");let s=On().outerRadius(this.radius).innerRadius(this.radius*.7);try{this.svg.selectAll("path").remove().exit().data(this.pie(n)).enter().append("g").append("path").attr("transform",`translate(${this.radius}, ${this.radius})`).attr("stroke","white").attr("stroke-width","1.3px").attr("cursor","pointer").attr("fill",(l,c)=>{if(!this.legendItem||!this.legendItem[l.data.category])return"#ccc";let u=Object.values(this.legendItem),d="",f=this.getKeyClassName(l.data.category);return u.map(p=>{let m=p.className;d=f===m?p.color:d}),d}).on("click",l=>{this.barFilter(l.data?.category),o.style("display","none")}).on("mousemove",(l,{data:c})=>{o.transition().duration(900).style("opacity",.9),o.html(` <div>
                        <p>${c.category}
                          <strong>${this.d3Format(c.count)}</strong>
                          (${c.percent}%)
                        </p>
                    </div>`).style("left",l.pageX-35+"px").style("top",l.pageY-30+"px").style("border-radius","10px").style("pointer-events","none").attr("transform",`translate(${l.pageX-35}, ${l.pageY-30})`)}).on("mouseout",function(){o.html("")}).transition().duration(900).ease(qs).attrTween("d",function(l){let c=Ht({startAngle:l.startAngle,endAngle:l.startAngle},l);return function(u){return s(c(u))}})}catch(a){console.error("Error creating arcs:",a)}this.showBackground()}catch(i){console.error("Error in drawSlices:",i)}}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Tr),Z(Yn))},t.\u0275cmp=he({type:t,selectors:[["donut"]],inputs:{logData:"logData",colorScale:"colorScale",isDynamicColors:"isDynamicColors",unit:"unit",id:"id"},outputs:{onSetChartFilters:"onSetChartFilters",onRandomizeClick:"onRandomizeClick"},features:[Pr([Tr]),Cn],decls:16,vars:1,consts:[[1,"chart-wrapper"],["width","1","height","1"],[1,"legend"],[3,"click",4,"ngFor","ngForOf"],[1,"time-series-icon-container"],[1,"time-series-table-control","view-events-button",3,"click"],[1,"material-icons"],[1,"time-series-icon-label"],["routerLink","/stacked",1,"time-series-icon-label"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(R(0,"div",0),Ut(),re(1,"svg",1),zn(),R(2,"div",2)(3,"ul"),Te(4,Npe,4,9,"li",3),N(),R(5,"div",4)(6,"div",5),ie("click",function(){return o.toggleAllLegendItems()}),R(7,"span",6),H(8,"sync"),N(),R(9,"span",7),H(10,"Reset"),N()(),R(11,"div",5),ie("click",function(){return o.legendFilter()}),R(12,"span",6),H(13,"analytics"),N(),R(14,"span",8),H(15,"Details"),N()()()()()),i&2&&(q(4),Y("ngForOf",o.keys))},dependencies:[Jr,dn,xt],styles:[`donut{max-width:50px}donut .chart-wrapper{overflow:hidden;display:block;height:40vh;margin-top:-1px}donut .checkmark-icon{margin-right:10px}donut .legend{font-weight:700;font-size:1.2rem;position:absolute;top:5rem;right:-2rem}donut .legend .title{cursor:pointer}donut .legend ul{font-weight:400;list-style-type:none;overflow-y:hidden;padding:0}donut .legend li{cursor:pointer;min-width:12rem;margin:.4rem;white-space:nowrap}donut .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}donut .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#00f;font-size:1.4rem;font-weight:400}donut .bullet{display:inline-block;background-color:#000;height:1.4rem;width:1.4rem;vertical-align:middle;border-radius:50%}donut .disabled{opacity:.5}donut .tick line{stroke-opacity:.2}@media (min-width: 57.3rem){polar-chart .legend{float:right;margin:1rem 0}polar-chart .legend ul{max-height:32rem;width:15.2rem;margin:.5rem 0}polar-chart .legend li{width:11.8rem}polar-chart .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();var Rpe=[[["",8,"under-chart-title"]],[["",8,"under-legend-item"]]],Fpe=[".under-chart-title",".under-legend-item"],Pz=(()=>{let t=class t{constructor(n){this.loadservice=n,this.loadingState=!0,this.data={},this.data2=[{category:"Execution",count:305,percent:71},{category:"Acc. Compromise",count:1208,percent:18},{category:"Exploit PFA",count:110,percent:6},{category:"Ext.Remote Service",count:89,percent:5},{category:"Content Injection",count:1,percent:.06}],this.data3=[{category:"Persistence",count:1505,percent:18},{category:"BITS Jobs",count:208,percent:71},{category:"Browser Ext.",count:410,percent:6},{category:"Exfiltration",count:189,percent:5},{category:"Defense Evasion",count:9011,percent:.06}],this.chartData=[],this.ngUnsubscribe=new Et,this.dateRangeOptions=[Oe.LastHour,Oe.LastTwoHours,Oe.LastFourHours,Oe.LastSixHours,Oe.LastEightHours,Oe.LastTwelveHours,Oe.LastTwentyFourHours,Oe.LastSevenDays,Oe.LastThirtyDays,Oe.Custom],this.dateRangeOption=Oe.LastTwentyFourHours,this.dateRange=new My}ngOnInit(){this.data2=this.randomizeData(this.data2),this.data3=this.randomizeData(this.data3),setTimeout(()=>this.loadingState=!1,3e3),this.loadservice.getWatch().subscribe(n=>{this.chartData=n.data})}randomizeData(n){let i=n.map(s=>Ee(ne({},s),{count:Math.floor(Math.random()*1e4)+1})),o=i.reduce((s,a)=>s+a.count,0);return i.map(s=>Ee(ne({},s),{percent:Math.round(s.count/o*100)}))}randomizeAllData(){this.data2=this.randomizeData(this.data2),this.data3=this.randomizeData(this.data3)}};t.\u0275fac=function(i){return new(i||t)(Z(Tr))},t.\u0275cmp=he({type:t,selectors:[["alaaap-dashboard"]],ngContentSelectors:Fpe,decls:30,vars:9,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"title"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/metrics",1,"button","button2"],[1,"row"],[1,"column"],[3,"loading"],["id","svg_container",1,"panel-body"],[3,"dateRange","data"],[1,"panel-body"],[3,"data"],[3,"logData"]],template:function(i,o){i&1&&(qu(Rpe),R(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),H(4,"Cyber Kill Chain Report"),N(),R(5,"div",3)(6,"button",4),H(7,"\xAB Home"),N(),R(8,"button",5),H(9,"Next \xBB"),N()()()()(),R(10,"div",6)(11,"div",7)(12,"single-card",8)(13,"div",9),lo(14),R(15,"time-series-bar-chart",10),lo(16,1,["ngProjectAs",".under-legend-item",5,["",8,"under-legend-item"]]),N()()()()(),R(17,"div",6)(18,"div",7)(19,"single-card",8)(20,"div",11),re(21,"radial-chart",12),N()()(),R(22,"div",7)(23,"single-card",8)(24,"div",11),re(25,"donut",13),N()()(),R(26,"div",7)(27,"single-card",8)(28,"div",11),re(29,"donut",13),N()()()()),i&2&&(q(12),Y("loading",o.loadingState),q(3),Y("dateRange",o.dateRange)("data",o.chartData),q(4),Y("loading",o.loadingState),q(2),Y("data",o.data3),q(2),Y("loading",o.loadingState),q(2),Y("logData",o.data3),q(2),Y("loading",o.loadingState),q(2),Y("logData",o.data2))},dependencies:[xt,Tf,Oz,Mt,bl],styles:['.panel-title[_ngcontent-%COMP%]{width:60%}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]{top:0;color:initial;position:absolute;right:-13px;margin-top:-1rem;max-width:60%;font-size:initial;font-weight:initial}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]     span.dropdown-display-name{all:unset}.panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;white-space:nowrap}.panel-body[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{text-align:center;font-weight:400;padding:0;margin:0}.panel-body-container[_ngcontent-%COMP%]{min-width:5rem}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.gutter[_ngcontent-%COMP%]{width:2rem}[_nghost-%COMP%]     .minimized daterange-dropdown{display:none}[_nghost-%COMP%]     .minimized dropdown{display:none}.scan-category[_ngcontent-%COMP%]{position:absolute;top:-.1rem;right:20.2rem;cursor:pointer}dropdown[_ngcontent-%COMP%]{position:absolute;top:-.5rem;right:20.2rem}daterange-dropdown[_ngcontent-%COMP%]{position:absolute;top:-.5rem;right:5.2rem}i[_ngcontent-%COMP%]{color:#bbbbc5;margin-top:.5rem}.container-configured-filters[_ngcontent-%COMP%]{padding:1.8rem 0 1.2rem}.container-configured-filters[_ngcontent-%COMP%]   .filter-heading[_ngcontent-%COMP%]{margin-top:.5rem}.container-configured-filters[_ngcontent-%COMP%]   .flex-container-row[_ngcontent-%COMP%]{margin-left:2rem;flex-wrap:wrap}.configured-filter[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 1rem .5rem 0;cursor:pointer;font-size:1.2rem;white-space:nowrap;border-radius:.6rem;background-color:#d9eaf4}.configured-filter[_ngcontent-%COMP%]   .configured-filter-display[_ngcontent-%COMP%]{max-width:42rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:.6rem 1rem .6rem .6rem}.configured-filter[_ngcontent-%COMP%]   .edit-configured-filter-icon[_ngcontent-%COMP%]{line-height:2.5rem;font-size:1.5rem;color:#000;padding:0 .8rem}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3rem;font-weight:700;color:#000;padding:.6rem;padding-left:0}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]:before{content:"";border-left:.1rem solid #bbbbc5;padding-left:.9rem}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]:hover{background-color:#ee3224;border-top-right-radius:.6rem;border-bottom-right-radius:.6rem;color:#fff}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]:hover:before{border-left-color:transparent}.configured-filter.hovered[_ngcontent-%COMP%]{border:.1rem solid}.configured-filter.hovered[_ngcontent-%COMP%]   .configured-filter-display[_ngcontent-%COMP%]{padding:.5rem 1rem .5rem .5rem}.configured-filter.hovered[_ngcontent-%COMP%]   .edit-configured-filter-icon[_ngcontent-%COMP%]{line-height:2.3rem}.configured-filter.hovered[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]{line-height:1.1rem;padding-right:.5rem}.container-reset[_ngcontent-%COMP%]{justify-content:flex-end}.container-reset[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{align-items:center}.container-reset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;color:#0072b2;font-size:1rem}.container-reset[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;margin-right:.4rem}.container-filter-configuration[_ngcontent-%COMP%]{background-color:#d9eaf4;padding:2rem}.container-filter-configuration[_ngcontent-%COMP%]   .panel-select[_ngcontent-%COMP%], .container-filter-configuration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem}.container-filter-configuration[_ngcontent-%COMP%]     .suggest-wrapper ul{width:23rem;max-height:8rem}@media (min-width: 100rem){.container-filter-configuration[_ngcontent-%COMP%]     .suggest-wrapper ul{width:32rem}}.container-filter-configuration[_ngcontent-%COMP%]     .suggest-wrapper .close-button{top:1.2rem!important;right:2rem!important}.container-filter-configuration[_ngcontent-%COMP%]   .square-button[_ngcontent-%COMP%]{width:12rem}.container-filter-configuration[_ngcontent-%COMP%]   .rounded-toggle-button[_ngcontent-%COMP%]{min-width:6rem}.container-filter-configuration[_ngcontent-%COMP%]   .flex-container-column[_ngcontent-%COMP%]   .flex-container-row[_ngcontent-%COMP%]{margin-bottom:1rem}.under-legend-item[_ngcontent-%COMP%]{margin-left:-.4rem;margin-bottom:-1.4rem}@media (max-width: 57.3rem){.panel-body-container[_ngcontent-%COMP%]{padding-top:4rem;max-height:26rem}}@media (min-width: 100rem){.panel-body-container[_ngcontent-%COMP%]{height:26rem;overflow-y:auto}position[_ngcontent-%COMP%]:   relative[_ngcontent-%COMP%];top[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];right[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];display[_ngcontent-%COMP%]:   flex[_ngcontent-%COMP%];flex-direction: column}']});let e=t;return e})();function Lpe(e,t){if(e&1){let r=Rt();R(0,"button",6),ie("click",function(){let o=Ot(r).$implicit,s=Ue(2);return Pt(s.selectOption(o))}),H(1),N()}if(e&2){let r=t.$implicit;q(1),ft(" ",r.name," ")}}function jpe(e,t){if(e&1&&(R(0,"div"),Qw(1),R(2,"h3"),H(3),N(),Te(4,Lpe,2,1,"button",5),Kw(),N()),e&2){let r=t.$implicit;q(3),Ft(r.key),q(1),Y("ngForOf",r.value)}}var Nz=(()=>{let t=class t{constructor(n){this.router=n,this.allOptions=[{name:"GDP Population",route:"/voronoi-gdp",category:"Visualizations"},{name:"Companies Valuation",route:"/compvaluation",category:"Visualizations"},{name:"Energy Data",route:"/sankey",category:"Visualizations"},{name:"Crypto Trade",route:"/crypto",category:"Visualizations"},{name:"Browser Realtime Monitor",route:"/donut-monitor",category:"Visualizations"},{name:"Aid Data",route:"/earth",category:"Dashboards"},{name:"Global Companies by Market Cap",route:"/voronoi",category:"Dashboards"},{name:"Analytics Dashboard",route:"/analytics",category:"CyberSec"},{name:"Metrics Dashboard",route:"/metrics",category:"CyberSec"},{name:"Mitre Dashboard",route:"/attack-tree",category:"CyberSec"},{name:"Finance Dashboard",route:"/finance",category:"Dashboards"},{name:"RealTime Monitor",route:"/bubble-monitor",category:"Dashboards"},{name:"Browser Market Share",route:"/browser",category:"Charts"},{name:"Line Chart",route:"/linechart",category:"Charts"},{name:"Funnel Chart",route:"/funnel",category:"Charts"},{name:"Diverging Bars",route:"/diverging",category:"Charts"},{name:"Radial Bars",route:"/stacked",category:"Charts"},{name:"US States Population",route:"/states",category:"Charts"},{name:"Tabs",route:"/tabs",category:"Components"},{name:"Matrix",route:"/matrix",category:"CyberSec"},{name:"Area",route:"/area",category:"Components"},{name:"Cyber Incidents",route:"/labour",category:"Components"},{name:"Advertiser Data",route:"/advertiser",category:"Components"},{name:"Advertiser Traffic Source",route:"/advertiser-dashboard",category:"Components"}],this.searchControl=new e5(""),this.filteredOptions=[],this.selectedIndex=-1,this.landingItems={}}ngOnInit(){this.filteredOptions=[...this.allOptions],this.landingItems=this.getOptionsByCategory(),this.searchControl.valueChanges.pipe(Is(300),eo()).subscribe(()=>{this.onSearch()})}onSearch(){let n=this.searchControl.value?.toLowerCase()||"";this.landingItems=this.getOptionsByCategory(),this.filteredOptions=this.allOptions.filter(i=>i.name.toLowerCase().includes(n)||i.category?.toLowerCase().includes(n)),this.selectedIndex=-1}onArrowDown(){this.selectedIndex<this.filteredOptions.length-1&&this.selectedIndex++}onArrowUp(){this.selectedIndex>0&&this.selectedIndex--}onEnter(){this.selectedIndex>=0&&this.selectedIndex<this.filteredOptions.length&&this.selectOption(this.filteredOptions[this.selectedIndex])}selectOption(n){this.searchControl.setValue(n.name),this.filteredOptions=[],this.router.navigate([n.route])}getOptionsByCategory(){return this.filteredOptions.reduce((n,i)=>{let o=i.category||"Uncategorized";return n[o]||(n[o]=[]),n[o].push(i),n},{})}};t.\u0275fac=function(i){return new(i||t)(Z(Fn))},t.\u0275cmp=he({type:t,selectors:[["app-landing"]],decls:6,vars:4,consts:[[1,"search-container"],[1,"search-input"],["type","text","placeholder","Search","autocomplete","off","autofocus","",3,"formControl","input","keydown.arrowdown","keydown.arrowup","keydown.enter"],[1,"grid-container"],[4,"ngFor","ngForOf"],["class","button button2",3,"click",4,"ngFor","ngForOf"],[1,"button","button2",3,"click"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"input",2),ie("input",function(){return o.onSearch()})("keydown.arrowdown",function(){return o.onArrowDown()})("keydown.arrowup",function(){return o.onArrowUp()})("keydown.enter",function(){return o.onEnter()}),N()(),R(3,"div",3),Te(4,jpe,5,2,"div",4),Sh(5,"keyvalue"),N()()),i&2&&(q(2),Y("formControl",o.searchControl),q(2),Y("ngForOf",$T(5,2,o.landingItems)))},dependencies:[dn,ti,ni,n5,pk],styles:[".search-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto}.search-input[_ngcontent-%COMP%]{margin:5rem 0}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:0 0 8px 1px #e1e1e1;border-radius:24px;border:1px solid #dfe1e5;background:#fff;padding:1rem;display:flex;z-index:3;max-width:90%;width:100%;height:24px;margin:1rem auto}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;padding:1rem}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fffc;text-align:center;padding:1rem}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.25rem;color:#2a2a5c}.grid-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:.5rem;width:calc(100% - 1rem)}@media (max-width: 64rem){.grid-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 48rem){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.button[_ngcontent-%COMP%]{background-color:#2a2a5c;border:none;color:#fff;padding:12px 24px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:.5rem;cursor:pointer;transition:all .4s ease;width:100%;max-width:300px}.button.button1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003}.button.button2[_ngcontent-%COMP%]:hover{box-shadow:0 8px 12px #0000003d;transform:translateY(-2px)}@media (min-width: 48rem){.button[_ngcontent-%COMP%]{width:auto}}"]});let e=t;return e})();var lB=Sg(DM());var MM=Sg(eB());function If(){var e=.01,t=50,r=.01,n=Math.random,i=[[0,0],[0,1],[1,1],[1,0]],o=[[0,0],[1,1]],s=[1,1],a=e,l=t,c=r,u=n,d=[{weight:1},{weight:1}],f=(0,MM.voronoiMapSimulation)(d).stop();function p(v){m(i,v)}p.convergenceRatio=function(v){return arguments.length?(a=v,p):a},p.maxIterationCount=function(v){return arguments.length?(l=v,p):l},p.minWeightRatio=function(v){return arguments.length?(c=v,p):c},p.clip=function(v){return arguments.length?(f.clip(v),i=f.clip(),o=f.extent(),s=f.size(),p):i},p.extent=function(v){return arguments.length?(f.extent(v),i=f.clip(),o=f.extent(),s=f.size(),p):o},p.size=function(v){return arguments.length?(f.size(v),i=f.clip(),o=f.extent(),s=f.size(),p):s},p.prng=function(v){return arguments.length?(u=v,p):u};function m(v,g){var x;if(g.polygon=v,g.height!=0){x=(0,MM.voronoiMapSimulation)(g.children).clip(v).weight(function(w){return w.value}).convergenceRatio(a).maxIterationCount(l).minWeightRatio(c).prng(u).stop();for(var _=x.state();!_.ended;)x.tick(),_=x.state();_.polygons.forEach(function(w){m(w,w.site.originalObject.data.originalData)})}}return p}var fi=function(e){return e.GetAllData="Get All Data",e.FilterByCountry="Filter By Country",e.FilterByCompany="Filter By Company",e.CompanyLoadSuccess="Company Load Success",e.CompanyLoadFailed="Company Load Failed",e.SetCurrentQuery="Set Current Query",e}(fi||{}),fx=class{constructor(){this.type=fi.GetAllData}};var hx=class{constructor(t){this.currentQuery=t,this.type=fi.SetCurrentQuery}},px=class{constructor(t){this.companyData=t,this.type=fi.CompanyLoadSuccess}},mx=class{constructor(t){this.error=t,this.type=fi.CompanyLoadFailed}};var Af=Uo("[Voronoi] Load Countries"),gx=Uo("[Voronoi] Load Countries Success",Xu()),yx=Uo("[Voronoi] Load Countries Failure",Xu()),Of=Uo("[Voronoi] Load Companies"),vx=Uo("[Voronoi] Load Companies Success",Xu()),xx=Uo("[Voronoi] Load Companies Failure",Xu()),Zm=Uo("[Voronoi] Set Country Selected",Xu());var nB=O1("voronoi"),EM=uo(nB,e=>e.countries),TM=uo(nB,e=>e.companies),rB=e=>uo(TM,t=>{let r=Dn(t,i=>i[e]),n=Mr(r,i=>{if(typeof i.values=="function"){if(i.length===2)return i[1]}else return i.values}).sum(i=>Number(i.SharePrice));return t.length>0&&{companyHierarchy:n,data:t}}),kM=uo(EM,e=>({products:e,dataValues:Array.from(oi(e,([t])=>t.value,t=>t.date,t=>t.name)).map(([t,r])=>[new Date(t),r]).sort(([t],[r])=>Qe(t,r)),productNames:new Set(e.map(t=>t.name))})),tB=(e,t)=>{let r=Array.from(t,n=>({name:n,rank:0,value:e(n)}));r.sort((n,i)=>Vs(n.value,i.value));for(let n=0;n<r.length;++n)r[n].rank=Math.min(12,n);return r},IM=uo(kM,e=>{let t=[],n,i,o,s;for([[n,i],[o,s]]of Hn(e.dataValues)){for(let a=0;a<10;++a){let l=a/10;t.push([new Date(n*(1-l)+o*l),tB(c=>(i.get(c)||0)*(1-l)+(s.get(c)||0)*l,e.productNames)])}t.push([new Date(o),tB(a=>s.get(a)||0,e.productNames)])}return{products:e.products,keyframes:t,next:new Map(t.flatMap(([,a])=>Hn(a))),prev:new Map(t.flatMap(([,a])=>Hn(a,(l,c)=>[c,l])))}}),iB=uo(IM,e=>Dn(e.keyframes.flatMap(([,t])=>t),t=>t.name));var Pf=(()=>{let t=class t{constructor(n,i){this.http=n,this.store=i,this.startDate=new Date("1994-01-01").getTime(),this.endDate=new Date("2023-01-01").getTime()}getCountries(){let n=[];return this.http.get("assets/datasets/companies_capitalization.csv",{responseType:"text"}).pipe(ye(i=>{let o=i.split(`
`),s=o[0].split(",");for(let a=1;a<o.length-1;a++){let l=o[a].split(","),c={};for(let u in s)l[u].includes(", ")?c[s[u]]=l[u].split(", ").map(d=>d.trim()):c[s[u]]=l[u];n.push(c)}return n}),_n(i=>(console.log(i),i)))}getCompanyData(){let n=[];return this.http.get("assets/datasets/companies_capitalization.csv",{responseType:"text"}).pipe(ye(i=>{let o=i.split(`
`);for(let s=1;s<o.length-1;s++){let a=o[s].split(",");n.push({Rank:a[0],Company:a[1],Symbol:a[2].trim(),Capital:Number(a[3]).toLocaleString(),SharePrice:Number(a[4]),Country:a[5].replace(/(\r\n|\n|\r)/gm,"")})}return n.filter(s=>["Germany","Spain","Turkey","Russia","Argentina","Tunisia","Brazil","Ireland","Poland","Italy","Greece","Czech Republic"].includes(s.Country))}))}getNestedCompanyData(n){return this.getCompanyData().pipe(ye(i=>{let o=Dn(i,a=>a[n]);return{companyHierarchy:Mr(o,a=>{if(typeof a.values=="function"){if(a.length===2)return a[1]}else return a.values}).sum(a=>Number(a.SharePrice)),data:i}}))}getDateValues(){return this.getCountries().pipe(ye(n=>({products:n,dataValues:Array.from(oi(n,([i])=>i.value,i=>i.date,i=>i.name)).map(([i,o])=>[new Date(i),o]).sort(([i],[o])=>Qe(i,o)),productNames:new Set(n.map(i=>i.name))})))}getNameFrames(){return this.getKeyFrames().pipe(ye(n=>Dn(n.keyframes.flatMap(([,i])=>i),i=>i.name)))}getKeyFrames(){return this.getDateValues().pipe(ye(n=>{let i=[],s,a,l,c;for([[s,a],[l,c]]of Hn(n.dataValues)){for(let u=0;u<10;++u){let d=u/10;i.push([new Date(s*(1-d)+l*d),this.rank(f=>(a.get(f)||0)*(1-d)+(c.get(f)||0)*d,n.productNames)])}i.push([new Date(l),this.rank(u=>c.get(u)||0,n.productNames)])}return{products:n.products,keyframes:i,next:new Map(i.flatMap(([,u])=>Hn(u))),prev:new Map(i.flatMap(([,u])=>Hn(u,(d,f)=>[f,d])))}}))}rank(n,i){let o=Array.from(i,s=>({name:s,rank:0,value:n(s)}));o.sort((s,a)=>Vs(s.value,a.value));for(let s=0;s<o.length;++s)o[s].rank=Math.min(12,s);return o}loadCountries(){this.store.dispatch(Af())}loadCompanies(){this.store.dispatch(Of())}getCountries$(){return this.store.select(EM)}getCompanyData$(){return this.store.select(TM)}getNestedCompanyData$(n){return this.store.select(rB(n))}getDateValues$(){return this.store.select(kM)}getKeyFrames$(){return this.store.select(IM)}getNameFrames$(){return this.store.select(iB)}};t.\u0275fac=function(i){return new(i||t)(ee(zt),ee(co))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bx=(()=>{let t=class t{constructor(){this._companyCountry="",this._selectedPolygon=null,this._showCardOne=!1}get companyCountry(){return this._companyCountry}set companyCountry(n){this._companyCountry=n}get selectedPolygon(){return this._selectedPolygon}set selectedPolygon(n){this._selectedPolygon=n}get showCardOne(){return this._showCardOne}set showCardOne(n){this._showCardOne=n}clearState(){this._companyCountry="",this._selectedPolygon=null,this._showCardOne=!1}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Gpe(e,t){if(e&1&&(R(0,"option",7),H(1),N()),e&2){let r=t.$implicit;Y("value",r.value),q(1),ft(" ",r.label," ")}}function Ype(e,t){if(e&1){let r=Rt();R(0,"div",8),ie("click",function(){let o=Ot(r).$implicit,s=Ue();return Pt(s.selectOption(o))}),H(1),N()}if(e&2){let r=t.$implicit,n=Ue();ar("same-as-selected",r===n.selectedOption),q(1),ft(" ",r.label," ")}}var oB=(()=>{let t=class t{constructor(){this.options=[{value:"Country",label:"Group By"},{value:"Country",label:"GroupBy Country"},{value:"Company",label:"Group Company"}],this.selectionChange=new rt,this.isOpen=!1}ngOnInit(){this.initialValue!==void 0?this.selectedOption=this.options.find(n=>n.value===this.initialValue):this.options.length>0&&(this.selectedOption=this.options[0]),document.addEventListener("click",this.closeAllSelect.bind(this))}ngOnDestroy(){document.removeEventListener("click",this.closeAllSelect.bind(this))}toggleDropdown(n){n.stopPropagation(),this.isOpen=!this.isOpen}selectOption(n){this.selectedOption=n,this.isOpen=!1,this.selectionChange.emit(n)}closeAllSelect(n){n.target.closest(".custom-select")||(this.isOpen=!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["custom-select"]],inputs:{options:"options",initialValue:"initialValue",type:"type"},outputs:{selectionChange:"selectionChange"},decls:10,vars:9,consts:[[1,"custom-select"],["selectElement",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"select-selected",3,"click"],[1,"select-items"],[3,"same-as-selected","click",4,"ngFor","ngForOf"],[3,"value"],[3,"click"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"select",null,1)(3,"option",2),H(4,"Group By"),N(),Te(5,Gpe,2,2,"option",3),N(),R(6,"div",4),ie("click",function(a){return o.toggleDropdown(a)}),H(7),N(),R(8,"div",5),Te(9,Ype,2,3,"div",6),N()()),i&2&&(q(1),Kr("display","none"),q(4),Y("ngForOf",o.options),q(1),ar("select-arrow-active",o.isOpen),q(1),ft(" ",o.selectedOption==null?null:o.selectedOption.label," "),q(1),ar("select-hide",!o.isOpen),q(1),Y("ngForOf",o.options))},dependencies:[dn,ri,ii],styles:['.custom-select[_ngcontent-%COMP%]{position:relative;font-family:Arial}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.select-selected[_ngcontent-%COMP%]{background-color:#414d5a}.select-selected[_ngcontent-%COMP%]:after{position:absolute;content:"";top:14px;right:10px;width:0;height:0;border:6px solid transparent;border-color:#fff transparent transparent transparent}.select-selected.select-arrow-active[_ngcontent-%COMP%]:after{border-color:transparent transparent #fff transparent;top:7px}.select-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .select-selected[_ngcontent-%COMP%]{color:#fff;padding:15px 29px;border:1px solid transparent;border-color:transparent transparent rgba(0,0,0,.1) transparent;cursor:pointer;-webkit-user-select:none;user-select:none}.select-items[_ngcontent-%COMP%]{position:absolute;background-color:#4d657d;top:100%;left:0;right:0;z-index:99}.select-hide[_ngcontent-%COMP%]{display:none}.select-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover, .same-as-selected[_ngcontent-%COMP%]{background-color:#0000001a}']});let e=t;return e})();var sB=(()=>{let t=class t{constructor(n){this.el=n}ngOnInit(){let n={position:"relative",bottom:"-2rem",left:"35%","margin-left":"-20px",width:"40px",height:"40px","background-image":"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI1MTIiIGlkPSJzdmcyIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzIGlkPSJkZWZzNCIvPjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTU0MC4zNjIyKSI+PHBhdGggZD0ibSAxMjcuNDA2MjUsNjU3Ljc4MTI1IGMgLTQuOTg1MywwLjA3ODQgLTkuOTEwNzcsMi4xNjMwOCAtMTMuNDM3NSw1LjY4NzUgbCAtNTUsNTUgYyAtMy42MDA1NjUsMy41OTkyNyAtNS42OTY4ODMsOC42NTg5NSAtNS42OTY4ODMsMTMuNzUgMCw1LjA5MTA1IDIuMDk2MzE4LDEwLjE1MDczIDUuNjk2ODgzLDEzLjc1IEwgMjQyLjI1LDkyOS4yNSBjIDMuNTk5MjcsMy42MDA1NiA4LjY1ODk1LDUuNjk2ODggMTMuNzUsNS42OTY4OCA1LjA5MTA1LDAgMTAuMTUwNzMsLTIuMDk2MzIgMTMuNzUsLTUuNjk2ODggTCA0NTMuMDMxMjUsNzQ1Ljk2ODc1IGMgMy42MDA1NiwtMy41OTkyNyA1LjY5Njg4LC04LjY1ODk1IDUuNjk2ODgsLTEzLjc1IDAsLTUuMDkxMDUgLTIuMDk2MzIsLTEwLjE1MDczIC01LjY5Njg4LC0xMy43NSBsIC01NSwtNTUgYyAtMy41OTgxNSwtMy41OTEyNyAtOC42NTA2OCwtNS42ODEyNyAtMTMuNzM0MzgsLTUuNjgxMjcgLTUuMDgzNjksMCAtMTAuMTM2MjIsMi4wOSAtMTMuNzM0MzcsNS42ODEyNyBMIDI1Niw3NzguMDMxMjUgMTQxLjQzNzUsNjYzLjQ2ODc1IGMgLTMuNjY2NzgsLTMuNjY0MjMgLTguODQ4MDEsLTUuNzY0NDIgLTE0LjAzMTI1LC01LjY4NzUgeiIgaWQ9InBhdGgzNzY2LTEiIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO2NvbG9yOiMwMDAwMDA7ZmlsbDojMjIyMjIyO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozOC44ODAwMDEwNzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OlNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zIi8+PC9nPjwvc3ZnPg==)","background-size":"contain",animation:"bounce 2s infinite"};Object.keys(n).forEach(s=>{this.el.nativeElement.style[s]=n[s]});let i=document.styleSheets[0],o=`
      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-30px);
        }
        60% {
          transform: translateY(-15px);
        }
      }
    `;i.insertRule(o,i.cssRules.length)}};t.\u0275fac=function(i){return new(i||t)(Z(ze))},t.\u0275dir=Xt({type:t,selectors:[["","appBouncingArrow",""]]});let e=t;return e})();var aB=(()=>{let t=class t{constructor(n){this.router=n,this.inputData=[],this.height=500,this.width=500,this.newRoot=[],this.TabItem=[{title:"Time Series Bar",id:"3",component:bl}]}ngOnInit(){}ngOnChanges(n){n.inputData.currentValue.parent?.children.length>0&&(this.newRoot=n.inputData.currentValue.parent.children.map(i=>i.data),this.createBubbleChart(Mr(this.transformToGenericObjectList(this.newRoot)).sum(function(i){return i.value}).sort(function(i,o){return o.value-i.value})))}toOverlay(){this.router.navigate(["/diverging"])}createBubbleChart(n){this.destroyChart(Q("#bubble-chart"));let i=Q("#bubble-chart").append("svg").attr("width",this.width*1.2).attr("height",this.height*1.2).attr("viewBox","-30, 10, 780, 750").style("background","white");Q("#bubble-chart").call(di().extent([[-4,-1],[this.width/12,this.height/12]]).scaleExtent([1,1.2]).on("zoom",u=>this.zoomed(u,i)));let o=Ze(",d"),s=_t(gf),a=Q("body").append("div").attr("height",this.height).style("position","absolute").style("z-index","10").style("visibility","hidden").style("color","white").style("padding","8px").style("background-color","rgba(0, 0, 0, 0.75)").style("border-radius","6px").style("font","12px sans-serif").text("tooltip");Jv().size([this.width,this.height]).padding(1.5)(n);let c=i.selectAll(".node").data(n.children).enter().append("g").attr("class","node").attr("transform",function(u){return"translate("+u.x+","+u.y+")"});c.append("circle").attr("r",u=>u.r).attr("stroke","2px").style("fill",u=>s(u.data.value)).on("mouseover",function(u,d){a.text(d.data.name+": "+o(d.value)),a.style("visibility","visible"),Q(this).style("stroke","red")}).on("click",(u,d)=>{a.style("visibility","hidden"),this.toOverlay()}).on("mousemove",u=>a.style("top",u.pageY-10+"px").style("left",u.pageX+10+"px")).on("mouseout",function(){return Q(this).style("stroke","none"),a.style("visibility","hidden")}),c.append("text").attr("dy",".3em").style("text-anchor","middle").style("font","10px sans-serif").style("pointer-events","none").text(u=>u.data.name.substring(0,u.r/3))}transformToGenericObjectList(n){let i={};return i.children=[],n.forEach(o=>{o.Company!==""&&i.children.push({group:o.Country,value:parseFloat(o.SharePrice),name:o.Company})}),i}zoomed({transform:n},i){i.attr("transform",n)}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}};t.\u0275fac=function(i){return new(i||t)(Z(Fn))},t.\u0275cmp=he({type:t,selectors:[["bubble-chart"]],inputs:{inputData:"inputData"},features:[Cn],decls:1,vars:0,consts:[["id","bubble-chart"]],template:function(i,o){i&1&&re(0,"div",0)},encapsulation:2});let e=t;return e})();function Kpe(e,t){if(e&1&&(R(0,"button")(1,"a",17),H(2),N()()),e&2){let r=Ue();q(1),vi("download",r.imageSource),q(1),ft(" ","Download Company Valuation Image","")}}var _x=(()=>{let t=class t{constructor(n,i,o,s){this.store=n,this.service=i,this.presentation=o,this.stateService=s,this.height=680,this.width=680,this.margins={top:20,right:20,bottom:50,left:50},this.animate=!0,this.freedom=null,this.duration=1250,this.selectedYear=2008,this.displayYear=2008,this.voronoiTreeMaps=If(),this.companyHierarchy=null,this.countryList=[],this.symbolList=[],this.countrySelected=[],this.companyCountry="",this.imageSource=" CompanyValuation.jpg",this.showDownload=!1,this.currentQuery="Country",this.showCardOne=!1,this.isChartRendered=!1,this.isLoading=!0,this.regionColor=a=>({"Middle East and Africa":"#596F7E","United States":"#596F7E",Americas:"#168B98",Asia:"#ED5B67",Oceania:"#FD8F24",Europe:"#919C4C"})[a],this.setCountryColor=(a,l)=>{let c=yf,u=zi,d={},f={};return this.countryList.forEach((p,m)=>{let v=m/this.countryList.length;d[p]=c(v)}),l?f[l]:d[a]},this.countryColorHierarchy=a=>{a.depth===0?a.color="black":a.depth===1?a.color=this.setCountryColor(a.data[0]):a.color=a.parent.color,a.children&&a.children.forEach(l=>this.countryColorHierarchy(l))},this.bigFormat=Ze(",.0f"),this.formatDate=Sr("%Y")}ngOnDestroy(){this.isChartRendered=!1,Q("#chart").selectAll("*").remove()}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.store.select(n=>n.voronoi.countrySelected).subscribe(n=>{n&&(this.countrySelected=n)}),this.companyHierarchy||this.service.loadCompanies(),this.isChartRendered||this.service.getNestedCompanyData$("Country").subscribe(n=>{this.companyHierarchy=n.companyHierarchy,this.countryList=[...this.companyHierarchy?.data[1].keys()],this.symbolList=[...this.companyHierarchy.data[1].values()],this.renderVoronoi(),this.isChartRendered=!0}),this.stateService.companyCountry&&(this.companyCountry=this.stateService.companyCountry,this.showCardOne=this.stateService.showCardOne,this.stateService.selectedPolygon&&this.createNewSvg(this.stateService.selectedPolygon))}setDownload(){this.showDownload=!this.showDownload}updateSelection(n){this.store.dispatch(Zm({data:n}))}getSelectionChange(n){this.store.dispatch(Zm({data:n})),this.currentQuery!==n.value&&(this.store.dispatch(new hx(n.value)),this.store.dispatch(new fx),Q("#chart").attr("width","0"),Q("#chart").selectAll("*").remove())}colorHierarchy(n){n.depth===0?n.color="black":n.depth===1?n.color=this.regionColor(n.data[0]):n.color=n.parent.color,n.children&&n.children.forEach(i=>this.colorHierarchy(i))}renderVoronoi(){Q("#chart").selectAll("*").remove();let n=Q("#chart").append("svg").attr("width",this.width/1.1).attr("height",this.height/1.05).attr("viewBox","-30, 10, 780, 750").style("background","white"),i=n.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),o=i,s=i,a=i,l=n,c=(0,lB.default)("00"),u=Vt(100).map(E=>[this.width*(1+.99*Math.cos(E/50*Math.PI))/2,this.height*(1+.99*Math.sin(E/50*Math.PI))/2]),f=If().prng(c).clip(u);this.countryColorHierarchy(this.companyHierarchy),f(this.companyHierarchy);let p=this.companyHierarchy.descendants().sort((E,V)=>V.depth-E.depth).map((E,V)=>Object.assign({},E,{id:V})),m=null,v=200,x=339+20,_=390,w=360,b=`M ${_+x}, ${w}
                      A ${x},${x} 0 1,1 ${_-x},${w}
                      A ${x},${x} 0 1,1 ${_+x},${w} Z`;l.append("path").attr("id","countryLabelPath").attr("d",b).attr("fill","none").attr("stroke","none"),l.append("g").append("circle").attr("r",339).attr("fill","none").attr("stroke","grey").attr("transform","translate(390,360)").attr("stroke-width",1.5),l.append("clipPath").attr("id","circle-clip").append("circle").attr("r",x);let k=p.filter(E=>E.data.length===2&&E.data[0]!==void 0).map(E=>{let V=Math.atan2(E.polygon.site.y-w,E.polygon.site.x-_);return V<0&&(V+=2*Math.PI),Ee(ne({},E),{angle:V})}).sort((E,V)=>E.angle-V.angle);l.selectAll("text").data(k).enter().append("text").attr("class",E=>`label-${E.id}`).append("textPath").attr("href","#countryLabelPath").attr("startOffset",E=>E.angle/(2*Math.PI)*100+"%").text(E=>E.data[0]).attr("font-weight","bold").attr("class","tick font-medium text-sm").attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat"),o.selectAll("path").data(p).enter().append("path").attr("d",E=>"M"+E.polygon.join("L")+"Z").style("fill",E=>E.parent?E.parent.color:E.color).attr("stroke","white").attr("stroke-width",2.5).style("fill-opacity",E=>E.depth===2?1:0).on("click",(E,V)=>{this.companyCountry=V.data.Company+" - "+V.data.Country,this.showCardOne=!0,this.destroyChart(Q("#card-one")),this.updateSelection(V),this.countrySelected=V,this.stateService.companyCountry=this.companyCountry,this.stateService.selectedPolygon=V.parent.polygon,this.stateService.showCardOne=!0,this.createNewSvg(this.stateService.selectedPolygon)}).on("dblclick",(E,V)=>{this.showCardOne=!1,this.stateService.showCardOne=!1,this.setZoom(n)}).attr("pointer-events",E=>E.depth===2?"all":"none").on("mouseenter",E=>{let{id:V}=E.target.__data__;s.select(`.label-${V}`).attr("opacity",1),a.select(`.label-${V}`).attr("opacity",1)}).on("mouseleave",E=>{let{id:V}=E.target.__data__;s.select(`.label-${V}`).attr("opacity",0),a.select(`.label-${V}`).attr("opacity",0)}).attr("stroke-width",E=>7-E.depth*2.8).style("fill",E=>E.color),Q("#chart").call(di().extent([[-4,-1],[this.width/24,this.height/24]]).scaleExtent([1,1.01]).on("zoom",E=>this.zoomed(E,n))),s.selectAll("text").data(p.filter(E=>E.depth===2)).enter().append("text").attr("class",E=>`label-${E.id}`).attr("text-anchor","middle").attr("transform",E=>"translate("+[E.polygon.site.x,E.polygon.site.y+6]+")").text(E=>E.data.Company).attr("opacity",E=>E.data.key===m||E.data.Capital>6?1:0).attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat"),a.selectAll("text").data(p.filter(E=>E.depth===2)).enter().append("text").attr("class",E=>`label-${E.id}`).attr("text-anchor","middle").attr("transform",E=>"translate("+[E.polygon.site.x,E.polygon.site.y+25]+")").text(E=>E.data.Symbol).attr("opacity",E=>E.data.key===m||E.data.length<12?1:0).attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-size","12px").style("font-family","Montserrat"),this.presentation.saveSvgToImage()}zoomed({transform:n},i){i.attr("transform",n)}setZoom(n=null){Q("#chart").call(di().extent([[-1,10],[this.width/12,this.height/12]]).scaleExtent([1,1.1]).on("zoom",i=>this.zoomed(i,n)))}findCircularBoundaries(n){let i=n.polygon,o=0,s=0;i.forEach(d=>{o+=d[0],s+=d[1]}),o/=i.length,s/=i.length;let a=i.map(d=>{let f=d[0]-o,p=d[1]-s;return Math.sqrt(f*f+p*p)}),l=xd(a),c=l*.55,u=i.filter((d,f)=>{let p=a[f];return Math.abs(p-l)<c});return{center:[o,s],radius:l,points:u.sort((d,f)=>d[0]-f[0])}}createNewSvg(n){let o=Q("#card-one").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox","-30, 10, 780, 750").style("background","white").attr("xmlns","http://www.w3.org/2000/svg"),s=Ye().domain([cr(n,d=>d[0])-2,ct(n,d=>d[0])+2]).range([0,this.width]),a=Ye().domain([cr(n,d=>d[1])-2,ct(n,d=>d[1])+2]).range([this.height,0]),l=zr().x(d=>s(d[0])+10).y(d=>a(d[1])+40),c=o.append("path").datum(n).attr("d",zr().x(d=>s(d[0])).y(d=>a(d[1]))).attr("id","polygonPath").attr("fill","lightblue").attr("stroke","blue").attr("stroke-width",2).attr("fill-opacity",.5),u=o.append("path").datum(n).attr("d",l).attr("id","textPathOffset").attr("fill","none").attr("stroke","none");o.selectAll("circle").data(n).enter().append("circle").attr("cx",d=>s(d[0])).attr("cy",d=>a(d[1])).attr("r",5).attr("fill","red")}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}createTransformInterpolator(n,i){let o=Ht(n.translate,i.translate),s=n.rotate%360,a=i.rotate%360;Math.abs(a-s)>180&&(a>s?s+=360:a+=360);let l=Ht(s,a);return function(c){let u=o(c),d=l(c);return`translate(${u[0]}, ${u[1]}) rotate(${d})`}}};t.\u0275fac=function(i){return new(i||t)(Z(co),Z(Pf),Z(Yn),Z(bx))},t.\u0275cmp=he({type:t,selectors:[["voronoi"]],decls:30,vars:4,consts:[[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/voronoi-gdp",1,"button","button2"],[3,"selectionChange"],[3,"loading"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],[4,"ngIf"],[1,"row"],["id","chart",1,"column"],["appBouncingArrow",""],[1,"description"],[1,"column"],[3,"inputData"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(R(0,"div")(1,"h1"),H(2,"Top Global Companies by Market Capitalization"),N(),R(3,"header")(4,"div",0)(5,"div",1)(6,"button",2),H(7,"\xAB Home"),N(),R(8,"button",3),ie("click",function(){return o.setDownload()}),H(9,"Download Image JPG"),N(),R(10,"button",4),H(11,"Next \xBB"),N(),R(12,"custom-select",5),ie("selectionChange",function(a){return o.getSelectionChange(a)}),H(13,"Select "),N()()()(),R(14,"single-card",6)(15,"div",7)(16,"h1"),H(17),N(),R(18,"div",8),re(19,"img",9),Te(20,Kpe,3,2,"button",10),R(21,"div",11),re(22,"div",12),R(23,"div",13)(24,"div",14)(25,"span")(26,"h4"),H(27,"Click on the chart to explore more details"),N()()()(),R(28,"div",15),re(29,"bubble-chart",16),N()()()()()()),i&2&&(q(14),Y("loading",o.isLoading),q(3),Ft(o.companyCountry),q(3),Y("ngIf",o.showDownload),q(9),Y("inputData",o.countrySelected))},dependencies:[vt,xt,oB,sB,aB,Mt],styles:[".column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.header[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3[_ngcontent-%COMP%]{background-color:#606f94}custom-select[_ngcontent-%COMP%]{border:none;display:inline-block}.button[_ngcontent-%COMP%]{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title[_ngcontent-%COMP%]{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny[_ngcontent-%COMP%]{font-size:10pt}text.light[_ngcontent-%COMP%]{fill:#d3d3d3}.world[_ngcontent-%COMP%]{stroke:#d3d3d3;stroke-width:4px}.cell[_ngcontent-%COMP%]{stroke:#fff;stroke-width:1px}.label[_ngcontent-%COMP%]{text-anchor:middle;fill:#fff}.label[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{dominant-baseline:text-after-edge}.label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{dominant-baseline:text-before-edge}.description[_ngcontent-%COMP%]{margin-top:5rem;max-width:300px;text-align:right;padding-right:20px}.description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-orientation:unset}.hoverer[_ngcontent-%COMP%]{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer[_ngcontent-%COMP%]:hover{stroke-width:3px}.legend-color[_ngcontent-%COMP%]{stroke-width:1px;stroke:#a9a9a9}@media (min-width: 100rem){.panel-body-container[_ngcontent-%COMP%]{height:26rem;overflow-y:auto}position[_ngcontent-%COMP%]:   relative[_ngcontent-%COMP%];top[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];right[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];display[_ngcontent-%COMP%]:   flex[_ngcontent-%COMP%];flex-direction: column}"]});let e=t;return e})();var wx=(()=>{let t=class t{constructor(n){this.http=n,this.startDate=new Date("1994-01-01").getTime(),this.endDate=new Date("2023-01-01").getTime()}getProducts(){let n=[];return this.http.get("assets/datasets/category-brands.csv",{responseType:"text"}).pipe(ye(i=>{let o=i.split(`
`);for(let s=1;s<o.length-1;s++){let a=o[s].split(",");n.push({date:a[0],name:a[1],category:a[2],value:parseInt(a[3].trim())})}return n}),_n(i=>(console.log(i),i)))}getDateValues(){return this.getProducts().pipe(ye(n=>({products:n,dataValues:Array.from(oi(n,([i])=>i.value,i=>i.date,i=>i.name)).map(([i,o])=>[new Date(i),o]).sort(([i],[o])=>Qe(i,o)),productNames:new Set(n.map(i=>i.name))})))}getNameFrames(){return this.getKeyFrames().pipe(ye(n=>Dn(n.keyframes.flatMap(([,i])=>i),i=>i.name)))}getKeyFrames(){return this.getDateValues().pipe(ye(n=>{let i=[],s,a,l,c;for([[s,a],[l,c]]of Hn(n.dataValues)){for(let u=0;u<10;++u){let d=u/10;i.push([new Date(s*(1-d)+l*d),this.rank(f=>(a.get(f)||0)*(1-d)+(c.get(f)||0)*d,n.productNames)])}i.push([new Date(l),this.rank(u=>c.get(u)||0,n.productNames)])}return{products:n.products,keyframes:i,next:new Map(i.flatMap(([,u])=>Hn(u))),prev:new Map(i.flatMap(([,u])=>Hn(u,(d,f)=>[f,d])))}}))}rank(n,i){let o=Array.from(i,s=>({name:s,rank:0,value:n(s)}));o.sort((s,a)=>Vs(s.value,a.value));for(let s=0;s<o.length;++s)o[s].rank=Math.min(12,s);return o}};t.\u0275fac=function(i){return new(i||t)(ee(zt))},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eme(e,t){if(e&1&&(R(0,"button")(1,"a",12),H(2),N()()),e&2){let r=Ue();q(1),vi("download",r.currentYear+r.imageSource),q(1),ft(" ","Download Browser Share Image: "+r.currentYear,"")}}var cB=(()=>{let t=class t{constructor(n,i,o){this.service=n,this.element=i,this.presentation=o,this.marginLeft=0,this.marginBottom=6,this.marginRight=6,this.marginTop=16,this.barSize=48,this.nSize=12,this.width=928,this.height=this.marginTop+this.barSize*this.nSize+this.marginBottom,this.products=[],this.imageSource=" CompanyValuationBar.png",this.currentYear="2000",this.showDownload=!1,this.isLoading=!0,this.yScale=cn().domain(Vt(this.nSize+1)).rangeRound([this.marginTop,this.marginTop+this.barSize*(this.nSize+1+.1)]).padding(.1),this.xScale=Ye([0,1],[this.marginLeft,this.width-this.marginRight]),this.formatNumber=Ze(",d"),this.formatDate=Sr("%Y"),this.parentElement=this.element.nativeElement}ngOnInit(){return gr(this,null,function*(){this.service.getKeyFrames().subscribe(n=>{this.keyframes=n.keyframes,this.next=n.next,this.prev=n.prev,this.products=n.products,this.initializeBars(),setTimeout(()=>this.isLoading=!1,2e3)})})}setDownload(){this.showDownload=!this.showDownload}initializeBars(){return gr(this,null,function*(){let n=this.svg=Q(this.parentElement).select("#chart").append("svg").attr("viewBox",[0,0,this.width,this.height]).attr("width",this.width).attr("height",this.height).style("background","#FDFDFD"),i=this.bars(n),o=this.setAxis(n),s=this.labels(n),a=this.ticker(n);for(let l of this.keyframes){let c=n.transition().duration(150).ease(Ri);this.xScale.domain([0,l[1][0].value]),o(l,c),i(l,c),s(l,c),a(l,c),this.presentation.saveSvgToImage(),yield c.end()}})}setColor(n){let i=_t(fr);if(n.some(o=>o.category!==void 0)){let o=new Map(n.map(s=>[s.name,s.category]));return i.domain(o.values()),s=>i(o.get(s.name))}return o=>i(o.name)}textTween(n,i){let o=Ln(n,i);return s=>this.textContent=Ze(",d")(o(s))}setAxis(n){let i=n.append("g").attr("transform",`translate(0,${this.marginTop})`),o=Yo(this.xScale).ticks(this.width/160,Ze(",d")).tickSizeOuter(0).tickSizeInner(-this.barSize*(this.nSize+this.yScale.padding()));return(s,a)=>{i.transition(a).call(o),i.select(".tick:first-of-type text").remove(),i.selectAll(".tick:not(:first-of-type) line").attr("stroke","white"),i.select(".domain").remove()}}labels(n){let i=n.append("g").style("font","bold 12px sans-serif").style("font-variant-numeric","tabular-nums").attr("text-anchor","end").selectAll("text");return([o,s],a)=>i=i.data(s.slice(0,this.nSize),l=>l.name).join(l=>l.append("text").attr("transform",c=>`translate(${this.xScale((this.prev.get(c)||c).value)},${this.yScale((this.prev.get(c)||c).rank)})`).attr("y",this.yScale.bandwidth()/2).attr("x",-6).attr("dy","-0.25em").text(c=>c.name).call(c=>c.append("tspan").attr("fill-opacity",.7).attr("font-weight","normal").attr("x",-6).attr("dy","1.15em")),l=>l,l=>l.transition(a).remove().attr("transform",c=>`translate(${this.xScale((this.next.get(c)||c).value)},${this.yScale((this.next.get(c)||c).rank)})`).call(c=>c.select("tspan").duration(0).ease(Ri).textTween(u=>d=>this.formatNumber(u.value||this.next.get(u).value)))).call(l=>l.transition(a).attr("transform",c=>`translate(${this.xScale(c.value)},${this.yScale(c.rank)})`).call(c=>c.select("tspan").duration(0).ease(Ri).textTween(u=>d=>this.formatNumber(u.value||this.prev.get(u).value))))}bars(n){let i=n.append("g").attr("fill-opacity",.6).selectAll("rect");return([o,s],a)=>i=i.data(s.slice(0,this.nSize),l=>l.name).join(l=>l.append("rect").attr("fill",this.setColor(this.products)).attr("height",this.yScale.bandwidth()).attr("x",this.xScale(0)).attr("y",c=>this.yScale((this.prev.get(c)||c).rank)).attr("width",c=>this.xScale((this.prev.get(c)||c).value)-this.xScale(0)),l=>l,l=>l.transition(a).remove().attr("y",c=>this.yScale((this.next.get(c)||c).rank)).attr("width",c=>this.xScale((this.next.get(c)||c).value)-this.xScale(0))).call(l=>l.transition(a).attr("y",c=>this.yScale(c.rank)).attr("width",c=>this.xScale(c.value)-this.xScale(0)))}ticker(n){let i=n.append("text").style("font",`bold ${this.barSize}px sans-serif`).style("font-variant-numeric","tabular-nums").attr("text-anchor","end").attr("x",this.width-6).attr("y",this.marginTop+this.barSize*(this.nSize-.45)).attr("dy","0.32em").text(this.formatDate(this.keyframes[0][0]));return([o],s)=>{this.currentYear=this.formatDate(o),s.end().then(()=>i.text(this.formatDate(o)))}}};t.\u0275fac=function(i){return new(i||t)(Z(wx),Z(ze),Z(Yn))},t.\u0275cmp=he({type:t,selectors:[["race-bar"]],features:[Pr([wx])],decls:18,vars:2,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download jpg image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/analytics",1,"button","button2"],[3,"loading"],["id","svg_container",1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],[4,"ngIf"],["id","chart"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"Companies Valuation From 2000 - 2019"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),ie("click",function(){return o.setDownload()}),H(9,"Download Image JPG"),N(),R(10,"button",5),H(11,"Next \xBB"),N()()()()(),R(12,"single-card",6)(13,"div",7)(14,"div",8),re(15,"img",9),Te(16,eme,3,2,"button",10),re(17,"div",11),N()()()),i&2&&(q(12),Y("loading",o.isLoading),q(4),Y("ngIf",o.showDownload))},dependencies:[vt,xt,Mt],styles:[`svg{background-color:"white";background:"white"}
`],encapsulation:2});let e=t;return e})();var tme=["chartContainer"],uB=(()=>{let t=class t{constructor(){this.tau=2*Math.PI,this.w=960,this.h=960,this.outerThickness=30,this.outerMargin=3,this.maxWordLength=20,this.outer=[{hex:"#D6D6D6",name:"1. volt"},{hex:"#D6D6D6",name:"2. tour yellow"},{hex:"#D6D6D6",name:"3. total orange"},{hex:"#D6D6D6",name:"4. hot punch"},{hex:"#D6D6D6",name:"5. speed red"},{hex:"#D6D6D6",name:"6. fuchsia blast"},{hex:"#D6D6D6",name:"7. hyper magenta"},{hex:"#D6D6D6",name:"8. hyper grape"},{hex:"#D6D6D6",name:"9. ocean bliss"},{hex:"#D6D6D6",name:"10. photo blue"},{hex:"#D6D6D6",name:"11. ultramarine"},{hex:"#D6D6D6",name:"12. solar red"}],this.outer2=[{hex:"#D6D6D6",name:"11. volt"},{hex:"#D6D6D6",name:"22. tour yellow"},{hex:"#D6D6D6",name:"33. total orange"},{hex:"#D6D6D6",name:"44. hot punch"},{hex:"#D6D6D6",name:"55. speed red"},{hex:"#D6D6D6",name:"66. fuchsia blast"},{hex:"#D6D6D6",name:"77. hyper magenta"},{hex:"#D6D6D6",name:"88. hyper grape"},{hex:"#D6D6D6",name:"99. ocean bliss"},{hex:"#D6D6D6",name:"1010. photo blue"},{hex:"#D6D6D6",name:"1111. ultramarine"},{hex:"#D6D6D6",name:"1212. solar red"}],this.outerLabels=[{hex:"#51BE58",name:"1. yellows yellows",s:0,e:3},{hex:"#3EB4F0",name:"2. reds reds",s:3,e:6},{hex:"#FA44B3",name:"3. blues blues",s:6,e:9},{hex:"#FED130",name:"4. neutrals neutrals",s:9,e:12}]}ngOnInit(){this.createChart()}createChart(){this.svg=Q(this.chartContainer.nativeElement).append("svg").attr("width",this.w).attr("height",this.h),this.g=this.svg.append("g").attr("transform",`translate(${this.w/2},${this.h/2})`),this.setupArcs(),this.drawOuterLabels(),this.drawOuterPies(),this.drawOuterColorArcs()}setupArcs(){let n=this.tau/72,i=(this.tau-n*this.outerLabels.length)/this.outer.length;this.outer.forEach((o,s)=>{let a=Math.floor(s/(this.outer.length/this.outerLabels.length))*n-this.tau/8;o.startAngle=s*i+a,o.endAngle=(s+1)*i+a}),this.outer2.forEach((o,s)=>{let a=Math.floor(s/(this.outer2.length/this.outerLabels.length))*n-this.tau/8;o.startAngle=s*i+a,o.endAngle=(s+1)*i+a})}isTextInverted(n){return n.startAngle>this.tau/8*3-.1&&n.endAngle<this.tau/8*5+.1}getLabelArc(n,i,o){let a=/(^.+?)L/.exec(n)?.[1]||"";if(this.isTextInverted({startAngle:i,endAngle:o})){let l=/M(.*?)A/,c=/A(.*?)0,0,1/,d=/0,0,1,(.*?)$/.exec(a)?.[1]||"",f=l.exec(a)?.[1]||"",p=c.exec(a)?.[1]||"";a=`M${d}A${p}0,0,0,${f}`}return a}drawOuterLabels(){let n=this.getOuterArc2OuterRadius()+this.outerMargin+this.outerThickness,i=n+18,o=On().innerRadius(n).outerRadius(i),s=-this.tau/this.outerLabels.length/2,a=hs().startAngle(s).endAngle(s+this.tau).value(()=>1).padAngle(.01).sort(null);this.g.selectAll(".outerLabel").data(a(this.outerLabels)).enter().each((l,c)=>{let u=this.getLabelArc(o(l),l.startAngle,l.endAngle);this.g.append("path").classed("outerLabel",!0).attr("class","hiddenOuterLabelArcs").attr("id",`outerLabelArc${c}`).attr("d",u).style("fill","none")}),this.g.selectAll(".outerLabelText").data(a(this.outerLabels)).enter().append("text").attr("class","outerLabelText").attr("dy",l=>this.isTextInverted(l)?18:-11).append("textPath").attr("startOffset","50%").style("text-anchor","middle").attr("xlink:href",(l,c)=>`#outerLabelArc${c}`).text(l=>l.data.name).attr("font-size",`${18/750*this.w}px`).attr("font-weight",700).attr("letter-spacing",2.2)}getOuterArcOuterRadius(){return 350}getOuterArc2OuterRadius(){return this.getOuterArcOuterRadius()+this.outerMargin+this.outerThickness}drawOuterPies(){let n=On().innerRadius(this.getOuterArcOuterRadius()).outerRadius(this.getOuterArcOuterRadius()-this.outerThickness).padAngle(.001*this.tau),i=this.g.selectAll(".outer").data(this.outer).enter();this.drawPieSection(i,n,"outer",1);let o=On().innerRadius(this.getOuterArc2OuterRadius()).outerRadius(this.getOuterArc2OuterRadius()-this.outerThickness).padAngle(9e-4*this.tau),s=this.g.selectAll(".outer2").data(this.outer2).enter();this.drawPieSection(s,o,"outer2",2)}drawPieSection(n,i,o,s){n.append("path").classed(o,!0).attr("id",(a,l)=>`${o}Arc_${l}`).style("fill",a=>a.hex).attr("d",i).each((a,l)=>{let c=this.getLabelArc(i(a),a.startAngle,a.endAngle);this.g.append("path").classed("outerLabel",!0).attr("class","hiddenOuterLabelArcs").attr("id",`outerLayer${s}LabelArc${l}`).attr("d",c).style("fill","none")}),n.append("text").attr("id",a=>a.name).attr("dy",a=>this.isTextInverted(a)?-10:20).append("textPath").attr("startOffset","50%").style("text-anchor","middle").attr("xlink:href",(a,l)=>`#outerLayer${s}LabelArc${l}`).text(a=>a.name).attr("font-size",`${12/750*this.w}px`).style("fill","#000").attr("font-weight",700)}drawOuterColorArcs(){let n=this.getOuterArcOuterRadius(),i=On().innerRadius(n).outerRadius(n+this.outerMargin+3),o=-this.tau/this.outerLabels.length/2,s=hs().startAngle(o).endAngle(o+this.tau).value(()=>1).padAngle(.35).sort(null);this.g.selectAll(".outerColor").data(s(this.outerLabels)).enter().append("path").attr("class","outerColor").attr("id",(a,l)=>`outerColorArc${l}`).style("fill",a=>a.data.hex).attr("d",i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["radial-donut-chart"]],viewQuery:function(i,o){if(i&1&&lr(tme,7),i&2){let s;Xn(s=Qn())&&(o.chartContainer=s.first)}},decls:2,vars:0,consts:[["chartContainer",""]],template:function(i,o){i&1&&re(0,"div",null,0)},styles:[`svg{font-family:Raleway,serif;text-transform:uppercase}.outer{cursor:pointer}
`],encapsulation:2,changeDetection:0});let e=t;return e})();on();function Xm(e,t){return e.sourceLinks.length?e.depth:t-1}function Nf(e){return function(){return e}}function dB(e,t){return Cx(e.source,t.source)||e.index-t.index}function fB(e,t){return Cx(e.target,t.target)||e.index-t.index}function Cx(e,t){return e.y0-t.y0}function OM(e){return e.value}function nme(e){return e.index}function rme(e){return e.nodes}function ime(e){return e.links}function hB(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function pB({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(let i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function qc(){let e=0,t=0,r=1,n=1,i=24,o=8,s,a=nme,l=Xm,c,u,d=rme,f=ime,p=6;function m(){let S={nodes:d.apply(null,arguments),links:f.apply(null,arguments)};return v(S),g(S),x(S),_(S),k(S),pB(S),S}m.update=function(S){return pB(S),S},m.nodeId=function(S){return arguments.length?(a=typeof S=="function"?S:Nf(S),m):a},m.nodeAlign=function(S){return arguments.length?(l=typeof S=="function"?S:Nf(S),m):l},m.nodeSort=function(S){return arguments.length?(c=S,m):c},m.nodeWidth=function(S){return arguments.length?(i=+S,m):i},m.nodePadding=function(S){return arguments.length?(o=s=+S,m):o},m.nodes=function(S){return arguments.length?(d=typeof S=="function"?S:Nf(S),m):d},m.links=function(S){return arguments.length?(f=typeof S=="function"?S:Nf(S),m):f},m.linkSort=function(S){return arguments.length?(u=S,m):u},m.size=function(S){return arguments.length?(e=t=0,r=+S[0],n=+S[1],m):[r-e,n-t]},m.extent=function(S){return arguments.length?(e=+S[0][0],r=+S[1][0],t=+S[0][1],n=+S[1][1],m):[[e,t],[r,n]]},m.iterations=function(S){return arguments.length?(p=+S,m):p};function v({nodes:S,links:T}){for(let[U,F]of S.entries())F.index=U,F.sourceLinks=[],F.targetLinks=[];let P=new Map(S.map((U,F)=>[a(U,F,S),U]));for(let[U,F]of T.entries()){F.index=U;let{source:j,target:G}=F;typeof j!="object"&&(j=F.source=hB(P,j)),typeof G!="object"&&(G=F.target=hB(P,G)),j.sourceLinks.push(F),G.targetLinks.push(F)}if(u!=null)for(let{sourceLinks:U,targetLinks:F}of S)U.sort(u),F.sort(u)}function g({nodes:S}){for(let T of S)T.value=T.fixedValue===void 0?Math.max(Ha(T.sourceLinks,OM),Ha(T.targetLinks,OM)):T.fixedValue}function x({nodes:S}){let T=S.length,P=new Set(S),U=new Set,F=0;for(;P.size;){for(let j of P){j.depth=F;for(let{target:G}of j.sourceLinks)U.add(G)}if(++F>T)throw new Error("circular link");P=U,U=new Set}}function _({nodes:S}){let T=S.length,P=new Set(S),U=new Set,F=0;for(;P.size;){for(let j of P){j.height=F;for(let{source:G}of j.targetLinks)U.add(G)}if(++F>T)throw new Error("circular link");P=U,U=new Set}}function w({nodes:S}){let T=ct(S,F=>F.depth)+1,P=(r-e-i)/(T-1),U=new Array(T);for(let F of S){let j=Math.max(0,Math.min(T-1,Math.floor(l.call(null,F,T))));F.layer=j,F.x0=e+j*P,F.x1=F.x0+i,U[j]?U[j].push(F):U[j]=[F]}if(c)for(let F of U)F.sort(c);return U}function b(S){let T=cr(S,P=>(n-t-(P.length-1)*s)/Ha(P,OM));for(let P of S){let U=t;for(let F of P){F.y0=U,F.y1=U+F.value*T,U=F.y1+s;for(let j of F.sourceLinks)j.width=j.value*T}U=(n-U+s)/(P.length+1);for(let F=0;F<P.length;++F){let j=P[F];j.y0+=U*(F+1),j.y1+=U*(F+1)}I(P)}}function k(S){let T=w(S);s=Math.min(o,(n-t)/(ct(T,P=>P.length)-1)),b(T);for(let P=0;P<p;++P){let U=Math.pow(.99,P),F=Math.max(1-U,(P+1)/p);V(T,U,F),E(T,U,F)}}function E(S,T,P){for(let U=1,F=S.length;U<F;++U){let j=S[U];for(let G of j){let J=0,X=0;for(let{source:Me,value:_e}of G.targetLinks){let pe=_e*(G.layer-Me.layer);J+=L(Me,G)*pe,X+=pe}if(!(X>0))continue;let se=(J/X-G.y0)*T;G.y0+=se,G.y1+=se,D(G)}c===void 0&&j.sort(Cx),z(j,P)}}function V(S,T,P){for(let U=S.length,F=U-2;F>=0;--F){let j=S[F];for(let G of j){let J=0,X=0;for(let{target:Me,value:_e}of G.sourceLinks){let pe=_e*(Me.layer-G.layer);J+=O(G,Me)*pe,X+=pe}if(!(X>0))continue;let se=(J/X-G.y0)*T;G.y0+=se,G.y1+=se,D(G)}c===void 0&&j.sort(Cx),z(j,P)}}function z(S,T){let P=S.length>>1,U=S[P];$(S,U.y0-s,P-1,T),B(S,U.y1+s,P+1,T),$(S,n,S.length-1,T),B(S,t,0,T)}function B(S,T,P,U){for(;P<S.length;++P){let F=S[P],j=(T-F.y0)*U;j>1e-6&&(F.y0+=j,F.y1+=j),T=F.y1+s}}function $(S,T,P,U){for(;P>=0;--P){let F=S[P],j=(F.y1-T)*U;j>1e-6&&(F.y0-=j,F.y1-=j),T=F.y0-s}}function D({sourceLinks:S,targetLinks:T}){if(u===void 0){for(let{source:{sourceLinks:P}}of T)P.sort(fB);for(let{target:{targetLinks:P}}of S)P.sort(dB)}}function I(S){if(u===void 0)for(let{sourceLinks:T,targetLinks:P}of S)T.sort(fB),P.sort(dB)}function L(S,T){let P=S.y0-(S.sourceLinks.length-1)*s/2;for(let{target:U,width:F}of S.sourceLinks){if(U===T)break;P+=F+s}for(let{source:U,width:F}of T.targetLinks){if(U===S)break;P-=F}return P}function O(S,T){let P=T.y0-(T.targetLinks.length-1)*s/2;for(let{source:U,width:F}of T.targetLinks){if(U===S)break;P+=F+s}for(let{target:U,width:F}of S.sourceLinks){if(U===T)break;P-=F}return P}return m}var PM=Math.PI,NM=2*PM,Gc=1e-6,ome=NM-Gc;function RM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function mB(){return new RM}RM.prototype=mB.prototype={constructor:RM,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,a=r-e,l=n-t,c=o-e,u=s-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Gc)if(!(Math.abs(u*a-l*c)>Gc)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-o,p=n-s,m=a*a+l*l,v=f*f+p*p,g=Math.sqrt(m),x=Math.sqrt(d),_=i*Math.tan((PM-Math.acos((m+d-v)/(2*g*x)))/2),w=_/x,b=_/g;Math.abs(w-1)>Gc&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*p)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),a=r*Math.sin(n),l=e+s,c=t+a,u=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Gc||Math.abs(this._y1-c)>Gc)&&(this._+="L"+l+","+c),r&&(d<0&&(d=d%NM+NM),d>ome?this._+="A"+r+","+r+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>Gc&&(this._+="A"+r+","+r+",0,"+ +(d>=PM)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var FM=mB;function LM(e){return function(){return e}}function gB(e){return e[0]}function yB(e){return e[1]}var vB=Array.prototype.slice;function sme(e){return e.source}function ame(e){return e.target}function lme(e){var t=sme,r=ame,n=gB,i=yB,o=null;function s(){var a,l=vB.call(arguments),c=t.apply(this,l),u=r.apply(this,l);if(o||(o=a=FM()),e(o,+n.apply(this,(l[0]=c,l)),+i.apply(this,l),+n.apply(this,(l[0]=u,l)),+i.apply(this,l)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(r=a,s):r},s.x=function(a){return arguments.length?(n=typeof a=="function"?a:LM(+a),s):n},s.y=function(a){return arguments.length?(i=typeof a=="function"?a:LM(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function cme(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function jM(){return lme(cme)}function ume(e){return[e.source.x1,e.y0]}function dme(e){return[e.target.x0,e.y1]}function Yc(){return jM().source(ume).target(dme)}function fme(e,t){if(e&1&&(R(0,"a",12),H(1),N()),e&2){let r=Ue();vi("download",r.imageSource),q(1),ft(" ","Download Energy Conversion & Transmission Data","")}}var VM=(()=>{let t=class t{constructor(n,i){this.service=n,this.presentation=i,this.width=954,this.height=600,this.margins={top:20,right:20,bottom:50,left:50},this.format=Ze(",.0f"),this.energyData=null,this.currentSelected="target",this.imageSource=" EnergyData.png",this.showDownload=!1,this.edgeColor="path",this.nodeWidth=15,this.sankeyChart=qc().nodeId(o=>o.name).nodeAlign(Xm).nodeWidth(15).nodePadding(10).extent([[1,5],[this.width-1,this.height-5]]),this.domIdString="0-link-",this.DOMID=50,this.colorScale=_t(fr)}ngOnInit(){this.service.getEnergyNodes().pipe().subscribe(n=>{this.energyData=n,this.renderChart()})}setDownload(){this.showDownload=!this.showDownload}reDrawChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove()),this.renderChart()}getNextID(){return{href:"https://ezejike.static.observableusercontent.com/next/worker-lLzrCfCS.html#"+this.domIdString+this.DOMID++,id:this.domIdString+this.DOMID++}}renderChart(){this.svg=Q("#chart").append("svg").attr("width",this.width*1.5).attr("height",this.height*1.5).attr("viewBox","-30, -80, 980, 850").style("background","white");let n=!1,{nodes:i,links:o}=this.sankeyChart({nodes:this.energyData.nodes.map(c=>Object.assign({},c)),links:this.energyData.links.map(c=>Object.assign({},c))});if(this.groups={nodes:i,links:o},n){let c=this.groups.nodes.filter(({targetLinks:u})=>u.length==0).map(({name:u,value:d})=>({source:"Total",target:u,value:d}));i=[{name:"Total",category:"Total"}].concat(i),o=c.concat(o),this.groups=this.sankeyChart({nodes:i,links:o})}this.nodeWidth=i[0].x1-i[0].x0;let s=_t(A3);this.node=this.svg.selectAll(".node").data(i).join("g").attr("transform",c=>`translate(${c.x0}, ${c.y0})`),this.node.append("rect").attr("height",c=>c.y1-c.y0).attr("width",c=>c.x1-c.x0).attr("fill",c=>s(c.category||c.name)).attr("stroke","#000").append("title").text(c=>`${c.name}
${this.format(c.value)}`);let a=(c,u)=>{Q(c.sourceEvent.target.parentNode).attr("transform",()=>{let d=c.x-u.__x,f=c.y-u.__y;return u.x0=u.__x0+d,u.x1=u.__x1+d,u.y0=u.__y0+f,u.y1=u.__y1+f,u.x0<0&&(u.x0=0,u.x1=this.nodeWidth),u.x1>this.width&&(u.x0=this.width-this.nodeWidth,u.x1=this.width),u.y0<0&&(u.y0=0,u.y1=u.__y1-u.__y0),u.y1>this.height&&(u.y0=this.height-(u.__y1-u.__y0),u.y1=this.height),`translate(${u.x0}, ${u.y0})`}),qc().update({nodes:i,links:o}),this.link.selectAll(".link").attr("d",Yc())},l=(c,u)=>{u.__x=c.x,u.__y=c.y,u.__x0=u.x0,u.__y0=u.y0,u.__x1=u.x1,u.__y1=u.y1};if(this.node.append("text").attr("font-family","sans-serif").attr("font-size",10).attr("x",c=>c.x0<this.width/2?6+(c.x1-c.x0):-6).attr("y",c=>(c.y1-c.y0)/2).attr("dy","0.35em").attr("text-anchor",c=>c.x0<this.width/2?"start":"end").text(c=>c.name),this.node.attr("cursor","move").call(sc().on("start",l).on("drag",a)),this.link=this.svg.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(o).join("g").style("mix-blend-mode","multiply"),this.edgeColor==="path"){let c=this.link.append("linearGradient").attr("id",(u,d)=>(u.uid=`link-${d}`,u.uid)).attr("gradientUnits","userSpaceOnUse").attr("x1",u=>u.source.x1).attr("x2",u=>u.target.x0);c.append("stop").attr("offset","0%").attr("stop-color",u=>s(u.source.category)||u.source.name),c.append("stop").attr("offset","100%").attr("stop-color",u=>s(u.target.category)||u.target.name)}this.link.append("path").attr("class","link").attr("d",Yc()).attr("stroke",c=>this.edgeColor==="none"?"#aaa":this.edgeColor==="path"?`url(#${c.uid})`:this.edgeColor==="input"?s(c.source.category||c.source.name):s(c.target.category||c.target.name)).attr("stroke-width",c=>Math.max(1,c.width)),this.link.append("title").text(c=>`${c.source.name} \u2192 ${c.target.name}
${this.format(c.value)}`),this.presentation.saveSvgToImage()}};t.\u0275fac=function(i){return new(i||t)(Z(Tr),Z(Yn))},t.\u0275cmp=he({type:t,selectors:[["app-sankey"]],decls:20,vars:1,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download jpg image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/compvaluation",1,"button","button2"],[1,"button",3,"click"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],["id","anchor",3,"download",4,"ngIf"],["id","chart"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"h1"),H(5,"Energy Conversion & Transmission "),N(),R(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),ie("click",function(){return o.setDownload()}),H(9,"Download Image JPG"),N(),R(10,"button",5),H(11,"Next \xBB"),N(),R(12,"button",6),ie("click",function(){return o.reDrawChart()}),H(13,"Refresh"),N()()()()(),R(14,"single-card")(15,"div",7)(16,"div",8),re(17,"img",9),Te(18,fme,2,2,"a",10),re(19,"div",11),N()()()),i&2&&(q(18),Y("ngIf",o.showDownload))},dependencies:[vt,xt,Mt],styles:[`.header{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3{background-color:#606f94}custom-select{border:none;display:inline-block}.button{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny{font-size:10pt}text.light{fill:#d3d3d3}.world{stroke:#d3d3d3;stroke-width:4px}.cell{stroke:#fff;stroke-width:1px}.label{text-anchor:middle;fill:#fff}.label>.name{dominant-baseline:text-after-edge}.label>.value{dominant-baseline:text-before-edge}.hoverer{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer:hover{stroke-width:3px}.legend-color{stroke-width:1px;stroke:#a9a9a9}
`],encapsulation:2});let e=t;return e})();function pme(e,t){if(e&1){let r=Rt();R(0,"a",13),ie("click",function(){Ot(r);let i=Ue();return Pt(i.setDownload())}),H(1),N()}if(e&2){let r=Ue();vi("download",r.currentYear.toString()+r.imageSource),q(1),ft(" ","Foreign Aid Data in : "+r.currentYear,"")}}var Qm=(()=>{let t=class t{constructor(n,i){this.service=n,this.presentation=i,this.width=952,this.height=1100,this.aiData=[],this.aiCountries=[],this.currentYear=0,this.svg=null,this.download=null,this.imageSource=" ForeignAid.png",this.showDownload=!1,this.isLoading=!0}ngOnInit(){setTimeout(()=>this.isLoading=!1,2500),this.service.getAiData().subscribe(n=>{this.aiData=n.aiDataArray,this.aiCountries=n.countries,this.renderChart()})}setDownload(){this.showDownload=!this.showDownload}renderChart(){return gr(this,null,function*(){let n=yl().domain([cr(this.aiData,u=>Number(u.net_donations)),0,ct(this.aiData,u=>Number(u.net_donations))]).range([-1,0,1]).interpolate((u,d)=>u<0?f=>L3(1-f):f=>F3(f)),i=qv(),o=({transform:u},d)=>{d.attr("transform",u)},s=gm(i),a=Array.from(new Set(this.aiData.map(u=>u.year).sort())).filter(Boolean);this.svg=Q("#chart").append("svg").attr("viewBox",`0, -40, ${this.width*1.1}, ${this.height/1.9}`).style("background","white");let l=Q("body").append("div").attr("class","tooltip").style("position","absolute").style("visibility","hidden"),c=(u,d)=>{Q(".tooltip").text(u).style("top",d[1]+"px").style("left",d[0]+"px").style("visibility","visible")};for(let u of a){this.currentYear=Number(u),this.svg.selectAll("*").remove();let d=1250,f=this.svg.transition().duration(d).ease(pc.exponent(1));this.svg.selectAll("path").data(this.aiCountries.features).enter().append("path").attr("d",s).attr("stroke","#111").attr("stroke-width",.5).attr("cursor","pointer").attr("fill",p=>p.properties.data?.get(u)?n(p.properties.data.get(u)[0].net_donations):"lightgrey").on("mouseover",(p,m)=>{let v=m.properties.name,g=m.properties.data!==void 0?m.properties?.data?.get(u)[0]?.donations:0,x=m.properties.data!==void 0?m.properties?.data?.get(u)[0]?.receipts:0;g>0&&(v=v+`
Donations: `+Ze("$0.2s")(g).replace(/G/,"B")),x>0&&(v=v+`
Receipts: `+Ze("$0.2s")(x).replace(/G/,"B")),c(v,[p.pageX,p.pageY])}).on("mousemove",function(p,m){let v=m.properties.name;Q(".tooltip").style("top",p.pageY-10+"px").style("left",p.pageX+10+"px"),c(v,[p.pageX,p.pageY])}).on("mouseout",function(){Q(".tooltip").style("visibility","hidden")}),this.presentation.saveSvgToImage(),yield f.end()}})}};t.\u0275fac=function(i){return new(i||t)(Z(Tr),Z(Yn))},t.\u0275cmp=he({type:t,selectors:[["app-flat-earth"]],decls:20,vars:3,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"title"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download jpg image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/sankey",1,"button","button2"],[3,"loading"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],["id","anchor",3,"download","click",4,"ngIf"],["id","chart"],["id","anchor",3,"download","click"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),H(4,"World Aid Summary"),N(),R(5,"div",3)(6,"button",4),H(7,"\xAB Home"),N(),R(8,"button",5),ie("click",function(){return o.setDownload()}),H(9,"Download Image JPG"),N(),R(10,"button",6),H(11,"Next \xBB"),N()()()()(),R(12,"single-card",7)(13,"div",8)(14,"div",9)(15,"h1"),H(16),N(),re(17,"img",10),Te(18,pme,2,2,"a",11),re(19,"div",12),N()()()),i&2&&(q(12),Y("loading",o.isLoading),q(4),ft("Year in focus: ",o.currentYear,""),q(2),Y("ngIf",o.showDownload))},dependencies:[vt,xt,Mt],styles:[`.header{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3{background-color:#606f94}custom-select{border:none;display:inline-block}.button{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny{font-size:10pt}text.light{fill:#d3d3d3}.world{stroke:#d3d3d3;stroke-width:4px}.cell{stroke:#fff;stroke-width:1px}.label{text-anchor:middle;fill:#fff}.label>.name{dominant-baseline:text-after-edge}.label>.value{dominant-baseline:text-before-edge}.hoverer{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer:hover{stroke-width:3px}.legend-color{stroke-width:1px;stroke:#a9a9a9}
`],encapsulation:2});let e=t;return e})();var xB=Sg(DM());function gme(e,t){if(e&1&&(R(0,"a",13),H(1),N()),e&2){let r=Ue();vi("download",r.currentYear.toString()+r.imageSource),q(1),ft(" ","World Gdp data for : "+r.currentYear,"")}}var Dx=(()=>{let t=class t{constructor(n,i,o){this.route=n,this.presentation=i,this.service=o,this.height=680,this.width=680,this.margins={top:20,right:40,bottom:50,left:50},this.fontSizeYear=64*this.height/900,this.animate=!0,this.animationPaused=!1,this.animationTimeout=null,this.freedom=null,this.duration=1250,this.selectedYear=2008,this.displayYear=2008,this.voronoiTreeMaps=If(),this.companyHierarchy=null,this.countryList=[],this.imageSource=" World_Gdp_Data.png",this.showDownload=!1,this.currentYear=2016,this.isLoading=!0,this.regionColor=s=>({"Middle East and Africa":"#596F7E","United States":"#596F7E",Americas:"#168B98",Asia:"#ED5B67",Oceania:"#FD8F24",Europe:"#919C4C"})[s],this.bigFormat=Ze(",.0f"),this.formatDate=Sr("%Y")}ngOnInit(){al("assets/datasets/freedom_clean.csv",Zs).then(n=>{this.renderVoronoi(n),setTimeout(()=>this.isLoading=!1,2e3)}).catch(n=>console.log(n))}setDownload(){this.showDownload=!this.showDownload}colorHierarchy(n){n.depth===0?n.color="black":n.depth===1?n.color=this.regionColor(n.data[0]):n.color=n.parent.color,n.children&&n.children.forEach(i=>this.colorHierarchy(i))}toggleAnimation(){this.animate=!this.animate,this.animationPaused=!this.animationPaused,this.animationPaused||this.resumeAnimation()}resumeAnimation(){return gr(this,null,function*(){this.freedom&&(yield this.renderVoronoi(this.freedom,!0))})}renderVoronoi(n,i=!1){return gr(this,null,function*(){let o=n.map((c,u)=>c.year),s=[...new Set(o)].sort(),a=Q("#chart").append("svg").attr("width",this.width*1.4).attr("height",this.height*1.4).style("fill","#F5F5F2").attr("viewBox","-120, -80, 1000, 1000"),l=i?s.indexOf(this.selectedYear):0;for(;l<s.length;l++){if(this.animationPaused){this.selectedYear=Number(s[l]);break}let c=s[l];this.selectedYear=Number(c),this.currentYear=this.displayYear=Number(c);let u=n.filter(S=>Number(S.year)===this.selectedYear),d=Dn(u,S=>S.region_simple),f=Mr(d,S=>{if(typeof S.values=="function"){if(S.length===2)return S[1]}else return S.values}).sum(S=>S.population);a.selectAll("g").remove();let p=a.transition().duration(this.duration),m=a.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),v=m,g=m,x=m,_=m,w=Math.min(this.width,this.height)/2;_=a.append("g").append("circle").attr("r",339).attr("fill","none").attr("stroke","gray").attr("transform","translate(390,360)").attr("stroke-width",1.5),_.append("clipPath").attr("id","circle-clip").append("circle").attr("r",w);let b=(0,xB.default)("00"),k=Vt(100).map(S=>[this.width*(1+.99*Math.cos(S/50*Math.PI))/2,this.height*(1+.99*Math.sin(S/50*Math.PI))/2]),V=If().prng(b).clip(k);this.colorHierarchy(f),V(f);let z=f.descendants().sort((S,T)=>T.depth-S.depth).map((S,T)=>Object.assign({},S,{id:T})),B=null;v.selectAll("path").data(z).enter().append("path").attr("d",S=>"M"+S.polygon.join("L")+"Z").style("fill",S=>S.parent?S.parent.color:S.color).attr("stroke","white").attr("stroke-width",2.5).style("fill-opacity",S=>S.depth===2?1:0).attr("pointer-events",S=>S.depth===2?"all":"none").on("mouseenter",S=>{let{id:T}=S.target.__data__;g.select(`.label-${T}`).attr("opacity",1),x.select(`.label-${T}`).attr("opacity",1)}).on("mouseleave",S=>{let{id:T,data:P}=S.target.__data__;g.select(`.label-${T}`).attr("opacity",j=>Number(P.population)>13e7?1:0),x.select(`.label-${T}`).attr("opacity",j=>Number(P.population)>13e7?1:0)}).attr("stroke-width",S=>7-S.depth*2.8).style("fill",S=>S.color),a.call(di().extent([[-350,-10],[this.width*1.5,this.height*1.5]]).scaleExtent([1,8]).on("zoom",S=>this.zoomed(S,a))),g.selectAll("text").data(z.filter(S=>S.depth===2)).enter().append("text").attr("class",S=>`label-${S.id}`).attr("text-anchor","middle").attr("transform",S=>"translate("+[S.polygon.site.x,S.polygon.site.y+6]+")").text(S=>S.data.key||S.data.countries).attr("opacity",S=>S.data.key===B||S.data.population>13e7?1:0).attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat"),v.append("g").attr("transform","translate(-70,"+this.margins.bottom+")").attr("font-family","sans-serif").attr("font-size",this.fontSizeYear).attr("text-anchor","right").attr("fill-opacity",.2).attr("fill","black").selectAll().data(z.filter(S=>!isNaN(S.data.year))).join("text").call(S=>S.append("tspan").attr("font-weight","bold").attr("x",-50).attr("y","110px").text(T=>c)),a.selectAll(".arc-label-path").remove(),a.selectAll(".arc-label-text").remove();let $=390,D=360,I=339+30,L=f.children||[],O=Q("body").append("svg").attr("id","temp-svg-label-measure").style("position","absolute").style("visibility","hidden");if(L.forEach((S,T)=>{let P=S.children||[];if(P.length===0)return;let U=P.map(st=>{if(!st.polygon)return null;let Je=Dm(st.polygon),Kt=Je[0]-$,bn=Je[1]-D,je=Math.atan2(bn,Kt);return je<0&&(je+=2*Math.PI),je}).filter(st=>st!==null);if(U.length===0)return;let F=Math.min(...U),j=Math.max(...U);j-F>Math.PI&&([F,j]=[j,F+2*Math.PI]);let G=Math.abs(j-F),J=(F+j)/2,X=Math.PI/12,se=F,Me=j;G<X&&(se=J-X/2,Me=J+X/2,G=X);let _e=I*G,pe=S.data[0],Fe=16,te=O.append("text").text(pe).style("font-family","Montserrat").style("font-size",Fe+"px"),be=te.node().getBBox().width;te.remove(),_e<be+20&&(Fe=Math.max(10,Math.floor(Fe*(_e/(be+20))))),te=O.append("text").text(pe).style("font-family","Montserrat").style("font-size",Fe+"px"),be=te.node().getBBox().width,te.remove();let ke=On()({innerRadius:I,outerRadius:I,startAngle:se,endAngle:Me}),oe=`arc-label-path-${T}`;a.append("path").attr("id",oe).attr("class","arc-label-path").attr("d",ke).attr("transform",`translate(${$},${D})`).attr("fill","none").attr("stroke","none"),a.append("text").attr("class","arc-label-text").append("textPath").attr("href",`#${oe}`).attr("startOffset","50%").text(pe).attr("font-weight","bold").attr("class","tick font-medium text-sm").attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat").style("font-size",Fe+"px")}),O.remove(),this.presentation.saveSvgToImage(),yield p.end(),this.animationPaused)break}})}zoomed({transform:n},i){i.attr("transform",n)}};t.\u0275fac=function(i){return new(i||t)(Z(kn),Z(Yn),Z(Pf))},t.\u0275cmp=he({type:t,selectors:[["app-voronoi"]],decls:20,vars:3,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/earth",1,"button","button2"],[1,"button",3,"click"],[3,"loading"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],["id","anchor",3,"download",4,"ngIf"],["id","chart"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"World Population and GDP by Country"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),ie("click",function(){return o.setDownload()}),H(9,"Download Image JPG"),N(),R(10,"button",5),H(11,"Next \xBB"),N(),R(12,"button",6),ie("click",function(){return o.toggleAnimation()}),H(13),N()()()()(),R(14,"single-card",7)(15,"div",8)(16,"div",9),re(17,"img",10),Te(18,gme,2,2,"a",11),re(19,"div",12),N()()()),i&2&&(q(13),Ft(o.animate?"Pause Animation":"Start Animation"),q(1),Y("loading",o.isLoading),q(4),Y("ngIf",o.showDownload))},dependencies:[vt,xt,Mt],styles:[`.header{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3{background-color:#606f94}custom-select{border:none;display:inline-block}.button{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny{font-size:10pt}text.light{fill:#d3d3d3}.world{stroke:#d3d3d3;stroke-width:4px}.cell{stroke:#fff;stroke-width:1px}.label{text-anchor:middle;fill:#fff}.label>.name{dominant-baseline:text-after-edge}.label>.value{dominant-baseline:text-before-edge}.hoverer{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer:hover{stroke-width:3px}.legend-color{stroke-width:1px;stroke:#a9a9a9}
`],encapsulation:2});let e=t;return e})();function yme(e,t){if(e&1){let r=Rt();R(0,"div",7)(1,"header")(2,"div",8)(3,"h1"),H(4,"World Population and GDP by Country"),N(),R(5,"div",9)(6,"button",10),H(7,"\xAB Home"),N(),R(8,"button",11),ie("click",function(){Ot(r);let i=Ue();return Pt(i.setDownload())}),H(9,"Download Image JPG"),N(),R(10,"button",12),H(11,"Next \xBB"),N()()()()()}}function vme(e,t){if(e&1&&(R(0,"button")(1,"a",13),H(2),N()()),e&2){let r=Ue();q(1),vi("download",r.currentYear+r.imageSource),q(1),ft(" ","Download Browser Share Image: "+r.currentYear,"")}}var Mx=(()=>{let t=class t{constructor(n,i,o,s){this.element=n,this.route=i,this.presentation=o,this.service=s,this.width=600,this.height=Math.min(this.width,700),this.radius=this.height/2-150*this.height/700,this.duration=15,this.innerRadiusFactor=.65,this.distTextFactor=1.54,this.widthImage=56*this.height/700,this.minAngle=.38,this.hideAngle=.07,this.fontSize=15,this.fontSizeYear=64*this.height/700,this.currentYear="1994",this.backgroundColor="#FDFDFD",this.borderColor="#C0C0C0",this.imageSource="BrowserShare.jpg",this.showDownload=!1,this.isLoading=!0,this.fontSizeTitle=28*this.height/700,this.titleTop="Browsers Market Share",this.title="Market share (%)",this.currentRoute=!0,this.arc=On().innerRadius(this.radius*this.innerRadiusFactor).outerRadius(this.radius),this.formatDate=zc("%Y"),this.parentElement=this.element.nativeElement}ngOnInit(){this.route.url.subscribe(n=>{this.currentRoute=n[0].path==="browser"}),setTimeout(()=>this.isLoading=!1,3e3),this.service.getKeyFrames().subscribe(n=>{this.renderChart(n)})}setDownload(){this.showDownload=!this.showDownload}renderChart(n){return gr(this,null,function*(){let i=Q(this.parentElement).select("#chart").append("svg").attr("width",this.width*1.5).attr("height",this.height).attr("viewBox",[-250,-this.height/2,this.width/1.3,this.height]).attr("style",o=>this.currentRoute?"max-width: 50%; height: auto;":"max-width: 100%; height: auto;").style("background",this.backgroundColor).style("outline-color",this.borderColor);for(let o of n){let s=i.transition().duration(this.duration).ease(Ri),a=hs().padAngle(1/this.radius).sort(null).value(c=>c.value),l=_t().domain(o[1].map(c=>c.name)).range(D2(c=>yf(c*.85+.1),o[1].length).reverse());i.selectAll("g").remove(),i.append("g").attr("font-family","sans-serif").attr("font-size",this.fontSizeTitle).attr("font-weight","bold").attr("fill-opacity",.2).selectAll().data(a(o[1])).join("text").call(c=>c.append("tspan").attr("class","title_top").attr("x",-this.width/2+30*this.height/700).attr("y",-this.height/2+50*this.height/700).attr("dy","-0.5em").text(this.titleTop)),i.selectAll(".title_top"),i.append("g").attr("font-family","sans-serif").attr("font-size",this.fontSizeYear).attr("text-anchor","middle").attr("fill-opacity",.2).selectAll().data(a(o[1])).join("text").call(c=>c.append("tspan").attr("font-weight","bold").attr("x",0).attr("y","10px").text(u=>(this.currentYear=this.formatDate(o[0]),this.formatDate(o[0])))).call(c=>c.append("tspan").attr("font-weight","lighter").attr("x",0).attr("y",50*this.height/700).attr("font-size",this.fontSizeYear/2.8).text(this.title)),i.append("g").selectAll().data(a(o[1])).enter().filter(c=>c.endAngle-c.startAngle>2*this.hideAngle).append("line").style("stroke","black").style("stroke-width",1).attr("x1",c=>this.arc.centroid(c)[0]*1.2).attr("y1",c=>this.arc.centroid(c)[1]*1.2).attr("x2",c=>this.arc.centroid(c)[0]*this.distTextFactor*.88).attr("y2",c=>this.arc.centroid(c)[1]*this.distTextFactor*.88),i.append("g").selectAll().data(a(o[1])).join("path").attr("fill",c=>l(c.data.name)).attr("d",this.arc).append("title").text(c=>`${c.data.name}: ${c.data.value.toLocaleString()}`),i.append("g").selectAll().data(a(o[1])).join("svg:image").filter(c=>c.endAngle-c.startAngle<this.minAngle&&c.endAngle-c.startAngle>this.hideAngle).attr("xlink:href",c=>c.data.image).attr("transform",c=>`translate(${[this.arc.centroid(c)[0]-this.widthImage*.5*(c.endAngle-c.startAngle)/this.minAngle,this.arc.centroid(c)[1]-this.widthImage*.5*(c.endAngle-c.startAngle)/this.minAngle]})`).attr("width",c=>this.widthImage*(c.endAngle-c.startAngle)/this.minAngle),i.append("g").selectAll().data(a(o[1])).join("svg:image").filter(c=>c.endAngle-c.startAngle>this.minAngle).attr("xlink:href",c=>c.data.image).attr("transform",c=>`translate(${[this.arc.centroid(c)[0]-this.widthImage/2,this.arc.centroid(c)[1]-this.widthImage/2]})`).attr("width",c=>this.widthImage),i.append("g").attr("font-family","sans-serif").attr("font-size",this.fontSize).attr("text-anchor","middle").selectAll().data(a(o[1])).join("text").attr("transform",c=>`translate(${[this.arc.centroid(c)[0]*this.distTextFactor,this.arc.centroid(c)[1]*this.distTextFactor]})`).call(c=>c.filter(u=>u.endAngle-u.startAngle>2*this.hideAngle).append("tspan").attr("y","-0.6em").attr("dy","-1em").attr("font-weight","bold").attr("class","tick").text(u=>u.data.name)).call(c=>c.filter(u=>u.endAngle-u.startAngle>2*this.hideAngle).append("tspan").attr("x",0).attr("dy","1.2em").attr("fill-opacity",.7).text(u=>u.data.value.toLocaleString("en-US",{maximumFractionDigits:1})+"%")),i.selectAll(".tick"),yield s.end()}})}wrap(n,i){return n.each(()=>{for(var o=Q("g"),s=o.text().split(/\s+/).reverse(),a,l=[],c=0,u=1.1,d=parseFloat(o.attr("dy")),f=o.text(null).append("tspan").attr("dx",0).attr("dy",`${d}em`);a=s.pop();)l.push(a),f.text(l.join(" ")),f.node().getComputedTextLength()>i&&(l.pop(),f.text(l.join(" ")),l=[a],f=o.append("tspan").attr("dx",-f.node().getComputedTextLength()).attr("dy",++c*u+d+"em").text(a))}),0}zoomed({transform:n},i){i.attr("transform",n)}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(kn),Z(Yn),Z(Tr))},t.\u0275cmp=he({type:t,selectors:[["donut-race"]],features:[Pr([Tr])],decls:7,vars:3,consts:[["class","button-group","id","voronoi",4,"ngIf"],[3,"loading"],["id","svg_container",1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],[4,"ngIf"],["id","chart"],["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/voronoi",1,"button","button2"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(Te(0,yme,12,0,"div",0),R(1,"single-card",1)(2,"div",2)(3,"div",3),re(4,"img",4),Te(5,vme,3,2,"button",5),re(6,"div",6),N()()()),i&2&&(Y("ngIf",o.currentRoute),q(1),Y("loading",o.isLoading),q(4),Y("ngIf",o.showDownload))},dependencies:[vt,xt,Mt],styles:[".header[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3[_ngcontent-%COMP%]{background-color:#606f94}custom-select[_ngcontent-%COMP%]{border:none;display:inline-block}.button[_ngcontent-%COMP%]{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title[_ngcontent-%COMP%]{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny[_ngcontent-%COMP%]{font-size:10pt}text.light[_ngcontent-%COMP%]{fill:#d3d3d3}.world[_ngcontent-%COMP%]{stroke:#d3d3d3;stroke-width:4px}.cell[_ngcontent-%COMP%]{stroke:#fff;stroke-width:1px}.label[_ngcontent-%COMP%]{text-anchor:middle;fill:#fff}.label[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{dominant-baseline:text-after-edge}.label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{dominant-baseline:text-before-edge}.hoverer[_ngcontent-%COMP%]{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer[_ngcontent-%COMP%]:hover{stroke-width:3px}.legend-color[_ngcontent-%COMP%]{stroke-width:1px;stroke:#a9a9a9}"]});let e=t;return e})();var bB=(()=>{let t=class t{constructor(n,i){this.service=n,this.elementRef=i,this.width=800,this.height=600,this.align="justify",this.showTotal=!1,this.edgeColor="path",this.format=Ze(",.0f"),this.color=_t(fr)}ngOnInit(){this.service.getEnergyNodes().pipe().subscribe(n=>{this.data=n,this.initializeSvg(),this.createSankey()})}ngOnChanges(n){this.svg&&(n.data||n.width||n.height||n.align||n.showTotal||n.edgeColor)&&this.updateChart()}initializeSvg(){this.svg=Q(this.elementRef.nativeElement.querySelector("svg")).attr("viewBox",`0 0 ${this.width} ${this.height}`)}createSankey(){this.sankeyGenerator=qc().nodeId(n=>n.name).nodeWidth(15).nodePadding(10).extent([[1,5],[this.width-1,this.height-5]]),this.updateChart()}updateChart(){if(!this.data||!this.data.nodes||!this.data.links)return;this.svg.selectAll("*").remove();let n=nt;console.log(`sankey${this.align[0].toUpperCase} ${this.align.slice(1)}`),this.sankeyGenerator.nodeAlign();let i=this.data.nodes.map(f=>ne({},f)),o=this.data.links.map(f=>ne({},f)),s=this.sankeyGenerator({nodes:i,links:o});if(this.showTotal){let f=s.nodes.filter(({targetLinks:p})=>p.length===0).map(({name:p,value:m})=>({source:"Total",target:p,value:m}));i=[{name:"Total",category:"Total"},...i],o=[...f,...o],s=this.sankeyGenerator({nodes:i,links:o})}let a=s.nodes,l=s.links,c=a[0].x1-a[0].x0,u=this.svg.selectAll(".node").data(a).join("g").attr("class","node").attr("transform",f=>`translate(${f.x0},${f.y0})`).attr("cursor","move").call(sc().on("start",(f,p)=>this.dragStart(f,p)).on("drag",(f,p)=>this.dragMove(f,p)));u.append("rect").attr("height",f=>f.y1-f.y0).attr("width",f=>f.x1-f.x0).attr("fill",f=>this.color(f.category||f.name)).attr("stroke","#000").append("title").text(f=>`${f.name}
${this.format(f.value)}`),u.append("text").attr("font-family","sans-serif").attr("font-size",10).attr("x",f=>f.x0<this.width/2?c+6:-6).attr("y",f=>(f.y1-f.y0)/2).attr("dy","0.35em").attr("text-anchor",f=>f.x0<this.width/2?"start":"end").text(f=>f.name);let d=this.svg.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(l).join("g").style("mix-blend-mode","multiply");if(this.edgeColor==="path"){let f=d.append("linearGradient").attr("id",(p,m)=>(p.uid=`link-${m}`,p.uid)).attr("gradientUnits","userSpaceOnUse").attr("x1",p=>p.source.x1).attr("x2",p=>p.target.x0);f.append("stop").attr("offset","0%").attr("stop-color",p=>this.color(p.source.category||p.source.name)),f.append("stop").attr("offset","100%").attr("stop-color",p=>this.color(p.target.category||p.target.name))}d.append("path").attr("class","link").attr("d",Yc()).attr("stroke",f=>this.edgeColor==="none"?"#aaa":this.edgeColor==="path"?`url(#${f.uid})`:this.edgeColor==="input"?this.color(f.source.category||f.source.name):this.color(f.target.category||f.target.name)).attr("stroke-width",f=>Math.max(1,f.width)).append("title").text(f=>`${f.source.name} \u2192 ${f.target.name}
${this.format(f.value)}`)}dragStart(n,i){i.dragX=n.x,i.dragY=n.y,i.initialX0=i.x0,i.initialY0=i.y0,i.initialX1=i.x1,i.initialY1=i.y1}dragMove(n,i){let o=n.x-i.dragX,s=n.y-i.dragY;i.x0=Math.max(0,Math.min(this.width-(i.initialX1-i.initialX0),i.initialX0+o)),i.x1=i.x0+(i.initialX1-i.initialX0),i.y0=Math.max(0,Math.min(this.height-(i.initialY1-i.initialY0),i.initialY0+s)),i.y1=i.y0+(i.initialY1-i.initialY0),Q(n.sourceEvent.target.parentNode).attr("transform",`translate(${i.x0},${i.y0})`),this.sankeyGenerator.update(this.data),this.svg.selectAll(".link").attr("d",Yc())}};t.\u0275fac=function(i){return new(i||t)(Z(Tr),Z(ze))},t.\u0275cmp=he({type:t,selectors:[["app-sankey-diagram"]],inputs:{data:"data",width:"width",height:"height",align:"align",showTotal:"showTotal",edgeColor:"edgeColor"},features:[Cn],decls:2,vars:0,consts:[["svgElement",""]],template:function(i,o){i&1&&(Ut(),re(0,"svg",null,0))},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]});let e=t;return e})();function bme(e,t){if(e&1){let r=Rt();R(0,"button",8),ie("click",function(){Ot(r);let i=Ue();return Pt(i.isMinimized=!i.isMinimized)}),N()}}function _me(e,t){if(e&1){let r=Rt();R(0,"button",9),ie("click",function(){Ot(r);let i=Ue();return Pt(i.location.back())}),N()}}var wme=[[["",8,"panel-title"]],[["",8,"panel-properties"]],[["",8,"panel-body"]]],Cme=e=>({minimized:e}),Dme=e=>({"component-loading-mask":e}),Mme=[".panel-title",".panel-properties",".panel-body"],Rf=(()=>{let t=class t{constructor(n){this.location=n,this.action="",this.loading=!1,this.isMinimized=!1}};t.\u0275fac=function(i){return new(i||t)(Z(Ia))},t.\u0275cmp=he({type:t,selectors:[["overlay"]],inputs:{action:"action",loading:"loading"},ngContentSelectors:Mme,decls:11,vars:8,consts:[[1,"panel-wrapper"],[1,"panel-container","actionable","collapsible",3,"ngClass"],[1,"panel",3,"ngClass"],[1,"panel-content-container"],[1,"panel-header"],["class","circle-button minimize-button",3,"click",4,"ngIf"],["class","circle-button close-button",3,"click",4,"ngIf"],[1,"panel-body-container"],[1,"circle-button","minimize-button",3,"click"],[1,"circle-button","close-button",3,"click"]],template:function(i,o){i&1&&(qu(wme),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),lo(5),lo(6,1),Te(7,bme,1,0,"button",5)(8,_me,1,0,"button",6),N(),R(9,"div",7),lo(10,2),N()()()()()),i&2&&(q(1),Y("ngClass",Nr(4,Cme,o.isMinimized)),q(1),Y("ngClass",Nr(6,Dme,o.loading)),q(5),Y("ngIf",o.action==="minimize"),q(1),Y("ngIf",o.action==="close"))},dependencies:[Jr,vt],encapsulation:2});let e=t;return e})();var _B=(()=>{let t=class t{constructor(){this.ngUnsubscribe=new Et}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["alaaap-header"]],decls:38,vars:5,consts:[[3,"action","loading"],[1,"panel-title"],[1,"title"],[1,"panel-body"],[1,"row"],[1,"column"],[1,"card"],["id","header"],[1,"change"],[1,"material-icons",3,"ngClass"]],template:function(i,o){i&1&&(R(0,"overlay",0)(1,"div",1)(2,"h2",2),H(3,"Incident Summary"),N(),re(4,"span"),N(),R(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"header",7)(10,"h1"),H(11,"RansomWare"),N()(),R(12,"div")(13,"span",8),H(14,"Incident Count: 3616"),N(),R(15,"span",9),H(16,"play_arrow"),N()()()(),R(17,"div",5)(18,"div",6)(19,"header",7)(20,"h1"),H(21,"Phishing Report"),N()(),R(22,"div")(23,"span",8),H(24,"Incident Count: 59"),N(),R(25,"span",9),H(26,"play_arrow"),N()()()(),R(27,"div",5)(28,"div",6)(29,"header",7)(30,"h1"),H(31,"MITM Attacks"),N()(),re(32,"div"),R(33,"div")(34,"span",8),H(35,"Incident Count: 127"),N(),R(36,"span",9),H(37,"play_arrow"),N()()()()()()()),i&2&&(Y("action","minimize")("loading",!1),q(15),Y("ngClass","decrease"),q(10),Y("ngClass","decrease"),q(11),Y("ngClass","decrease"))},dependencies:[Jr,Rf],styles:['h2[_ngcontent-%COMP%]{font-size:2.6rem;margin:0rem;font-weight:400}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]{top:0;color:initial;position:absolute;right:50px;margin-top:-.5rem;font-size:initial;font-weight:initial}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]     span.dropdown-display-name{all:unset}span.change[_ngcontent-%COMP%]{font-size:20px}.material-icons[_ngcontent-%COMP%]{color:#fff;font-size:24px;visibility:hidden}.material-icons.increase[_ngcontent-%COMP%]{transform:rotate(-90deg);visibility:visible;color:#ee3224}.material-icons.decrease[_ngcontent-%COMP%]{transform:rotate(90deg);visibility:visible;color:green}.material-icons.neutral-increase[_ngcontent-%COMP%]{transform:rotate(-90deg);visibility:visible}.material-icons.neutral-decrease[_ngcontent-%COMP%]{transform:rotate(90deg);visibility:visible}.material-icons.log-increase[_ngcontent-%COMP%]{transform:rotate(-90deg);visibility:visible;color:green}.material-icons.log-decrease[_ngcontent-%COMP%]{transform:rotate(90deg);visibility:visible;color:#ee3224}.material-icons[_ngcontent-%COMP%]{color:#000;font-size:24px;margin-top:2rem;margin-left:.7rem;padding-right:1rem}.panel-container.actionable[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .circle-button[_ngcontent-%COMP%]{top:-.2rem;position:absolute}#header[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px;background:#8b8b8a;width:100%;height:45px;top:auto;margin-bottom:2rem}#header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:500;margin:0 0 .1rem 1rem;color:#fff}.row[_ngcontent-%COMP%]{margin:0 -2px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.w3-panel[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;height:60px}.log-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:.8rem;text-align:center}.log-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-top:-.8rem;text-align:left}.log-header[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]{padding-top:-.8rem;float:right}.w3-blue[_ngcontent-%COMP%], .w3-hover-blue[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#102151!important;padding:15px;border-radius:4px}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-top-left-radius:4px;border-top-right-radius:4px;text-align:center;background-color:#f1f1f1;height:16rem;margin:.8rem}[_nghost-%COMP%]     .panel-container .panel-body{overflow-y:unset}.panel-title[_ngcontent-%COMP%]{width:90%;font-weight:400;font-size:2.1rem}.panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.panel-body[_ngcontent-%COMP%]   .scrolling-container[_ngcontent-%COMP%]{min-height:50rem;max-height:50rem;overflow-y:auto}.panel-body-container[_ngcontent-%COMP%]{min-height:5rem}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.gutter[_ngcontent-%COMP%]{width:2rem}strong[_ngcontent-%COMP%]{font-size:35px;font-weight:500}@media (max-width: 57.3rem){.panel-body-container[_ngcontent-%COMP%]{padding-top:4rem}}@media (min-width: 100rem){.panel-body-container[_ngcontent-%COMP%]{height:26rem;overflow-y:auto}}']});let e=t;return e})();var wB=(()=>{let t=class t{constructor(n,i,o,s){this.router=n,this.dateTimeService=i,this.http=o,this.logger=s,this.loadingState=!0,this.data={},this.data2=[{category:"Phishing",count:305,percent:71},{category:"Privilege Esc.",count:1208,percent:18},{category:"Spyware",count:110,percent:6},{category:"DDOS",count:89,percent:5},{category:"Malware",count:1,percent:.06}],this.data3=[{category:"Exfiltration",count:208,percent:71},{category:"Credential Acc.",count:1505,percent:18},{category:"Trojan",count:410,percent:6},{category:"Pwd Att&ck",count:189,percent:5},{category:"Network",count:9011,percent:.06}],this.deviceTypeDateRange=null,this.deviceTypeData={},this.deviceTypeDataTitle="Log Volume By Device Type",this.deviceDateRangeOption=Oe.LastTwentyFourHours,this.isDrillDownDevice=!1,this.alertsBySeverityDateRange=null,this.alertsBySeverity={},this.alertsBySeverityDataTitle="Localized Alerts By Severity",this.alertsSeverityDateRangeOption=Oe.LastTwentyFourHours,this.isDrillLocalSeverity=!1,this.twAlertsBySeverityDateRange=null,this.twAlertsBySeverity={},this.twAlertsBySeverityDataTitle="ThreatWatch Alerts By Severity",this.twSeverityDateRangeOption=Oe.LastTwentyFourHours,this.isDrillThreatSeverity=!1,this.destinationCountryDateRange=null,this.destinationCountry={},this.destinationCountryDataTitle="Outbound By Destination Country",this.destinationDateRangeOption=Oe.LastTwentyFourHours,this.isDrillDestinationCountry=!1,this.alertsByCategoryDateRange=null,this.alertsByCategory={},this.alertsByCategoryDataTitle="Localized Alerts By Category",this.alertsCategoryDateRangeOption=Oe.LastTwentyFourHours,this.isDrillLocalizedCategory=!1,this.twAlertsByCategoryDateRange=null,this.twAlertsByCategory={},this.twAlertsByCategoryDataTitle="ThreatWatch Alerts By Category",this.twCategoryDateRangeOption=Oe.LastTwentyFourHours,this.isDrillThreatCategory=!1,this.severityColorScale=["#EE3224","#E69F00","#FFF423","#5ECE5E","#4DD2FF"],this.threatWatchColorScale=["#990049","#FF773D","#FFF423","#037433","#68B6FF","#152E76"],this.dateRangeOption=Oe.LastTwentyFourHours,this.dateRangeOptions=[Oe.LastHour,Oe.LastTwoHours,Oe.LastFourHours,Oe.LastSixHours,Oe.LastEightHours,Oe.LastTwelveHours,Oe.LastTwentyFourHours,Oe.LastSevenDays,Oe.LastThirtyDays,Oe.Custom],this.ngUnsubscribe=new Et,this.chartConfigs=[{id:"donut1",label:"Radial 1",initial:"data2"},{id:"donut2",label:"Donut 2",initial:"data3"},{id:"donut3",label:"Donut 3",initial:"data2"},{id:"donut5",label:"Radial 5",initial:"data2"},{id:"donut4",label:"Donut 4",initial:"data3"},{id:"donut6",label:"Donut 6",initial:"data3"}],this.chartData={}}ngOnInit(){this.chartConfigs.forEach(n=>{this.chartData[n.id]=n.initial==="data2"?this.randomizeData([...this.data2]):this.randomizeData([...this.data3])}),setTimeout(()=>this.loadingState=!1,3e3)}randomizeData(n){let i=n.map(s=>Ee(ne({},s),{count:Math.floor(Math.random()*1e4)+1})),o=i.reduce((s,a)=>s+a.count,0);return i.map(s=>Ee(ne({},s),{percent:Math.round(s.count/o*100)}))}getChartData(n){return this.chartData[n]}randomizeDataForCharts(n){if(!n)Object.keys(this.chartData).forEach(i=>{let o=Math.random()<.5?this.data2:this.data3;this.chartData[i]=this.randomizeData([...o])});else{let i=Math.random()<.5?this.data2:this.data3;this.chartData[n]=this.randomizeData([...i])}}};t.\u0275fac=function(i){return new(i||t)(Z(Fn),Z(Ym),Z(zt),Z(hd))},t.\u0275cmp=he({type:t,selectors:[["metrics-dashboard"]],decls:36,vars:18,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/attack-tree",1,"button","button2"],[1,"row"],[1,"column"],[3,"loading"],[1,"panel-body"],[3,"data","id","onRandomizeClick"],[3,"id","logData","onRandomizeClick"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"button",3),H(5,"\xAB Home"),N(),R(6,"button",4),H(7,"Next \xBB"),N()()()()(),R(8,"div"),re(9,"alaaap-header"),N(),R(10,"div",5)(11,"div",6)(12,"single-card",7)(13,"div",8)(14,"radial-chart",9),ie("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),N()()()(),R(15,"div",6)(16,"single-card",7)(17,"div",8)(18,"donut",10),ie("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),N()()()(),R(19,"div",6)(20,"single-card",7)(21,"div",8)(22,"radial-chart",9),ie("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),N()()()()(),R(23,"div",5)(24,"div",6)(25,"single-card",7)(26,"div",8)(27,"donut",10),ie("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),N()()()(),R(28,"div",6)(29,"single-card",7)(30,"div",8)(31,"radial-chart",9),ie("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),N()()()(),R(32,"div",6)(33,"single-card",7)(34,"div",8)(35,"donut",10),ie("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),N()()()()()),i&2&&(q(12),Y("loading",o.loadingState),q(2),Y("data",o.getChartData(o.chartConfigs[0].id))("id",o.chartConfigs[0].id),q(2),Y("loading",o.loadingState),q(2),Y("id",o.chartConfigs[1].id)("logData",o.getChartData(o.chartConfigs[1].id)),q(2),Y("loading",o.loadingState),q(2),Y("data",o.getChartData(o.chartConfigs[2].id))("id",o.chartConfigs[2].id),q(3),Y("loading",o.loadingState),q(2),Y("id",o.chartConfigs[3].id)("logData",o.getChartData(o.chartConfigs[3].id)),q(2),Y("loading",o.loadingState),q(2),Y("data",o.getChartData(o.chartConfigs[4].id))("id",o.chartConfigs[4].id),q(2),Y("loading",o.loadingState),q(2),Y("id",o.chartConfigs[5].id)("logData",o.getChartData(o.chartConfigs[5].id)))},dependencies:[xt,Tf,_B,Mt,bl],styles:[`.panel-title{width:60%;font-weight:400;font-size:2.1rem}.panel-title daterange-dropdown{top:0;color:initial;position:absolute;right:-13px;margin-top:-1rem;max-width:60%;font-size:initial;font-weight:initial}.panel-title span{font-size:16px}.panel-body .date-label{text-align:center;font-weight:400;padding:0;margin:0}.panel-body-container{min-width:5rem}.row{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.column{display:flex;flex-direction:column;flex-basis:100%;flex:1}.gutter{width:2rem}@media (max-width: 57.3rem){.panel-body-container{padding-top:4rem;max-height:26rem}}@media (min-width: 100rem){.panel-body-container{height:26rem;overflow-y:auto}}
`],encapsulation:2});let e=t;return e})();var Sx=(()=>{let t=class t{constructor(n){this.viewContainerRef=n}};t.\u0275fac=function(i){return new(i||t)(Z(Lo))},t.\u0275dir=Xt({type:t,selectors:[["","appDynamicTab",""]]});let e=t;return e})();function Tme(e,t){if(e&1){let r=Rt();R(0,"button",4),ie("click",function(){let o=Ot(r).index,s=Ue();return Pt(s.selectTab(o))}),H(1),N()}if(e&2){let r=t.$implicit,n=t.index,i=Ue();ar("active",n===i.selectedIndex),q(1),ft(" ",r.title," ")}}function kme(e,t){if(e&1&&(R(0,"div",5)(1,"h3"),H(2),N()()),e&2){let r=t.$implicit,n=Ue();Kr("display",n.activeTab===r.id?"block":"none"),Y("id",r.id),q(2),Ft(r.title)}}function Ime(e,t){}var CB=(()=>{let t=class t{constructor(n){this.componentFactoryResolver=n,this.selectedIndex=0,this.activeTab="Company Voronoi",this.tabs=[{title:"Company Voronoi",id:"1",component:_x},{title:"Gdp Voronoi",id:"2",component:Dx},{title:"Flat Earth",id:"3",component:Qm}]}ngOnInit(){this.loadTabContent(this.selectedIndex)}loadTabContent(n){let i=this.tabs[n],o=this.dynamicTabHost.viewContainerRef;o.clear(),o.createComponent(i.component)}openCity(n){this.activeTab=n}selectTab(n){this.selectedIndex=n,this.loadTabContent(n)}getTabTemplate(n){this.loadTabContent(Number(n.id))}};t.\u0275fac=function(i){return new(i||t)(Z($u))},t.\u0275cmp=he({type:t,selectors:[["tabs-item"]],viewQuery:function(i,o){if(i&1&&lr(Sx,7),i&2){let s;Xn(s=Qn())&&(o.dynamicTabHost=s.first)}},inputs:{tabs:"tabs"},decls:4,vars:2,consts:[[1,"tab"],["class","tablinks",3,"active","click",4,"ngFor","ngForOf"],["class","tabcontent",3,"id","display",4,"ngFor","ngForOf"],["appDynamicTab",""],[1,"tablinks",3,"click"],[1,"tabcontent",3,"id"]],template:function(i,o){i&1&&(R(0,"div",0),Te(1,Tme,2,3,"button",1),N(),Te(2,kme,3,4,"div",2)(3,Ime,0,0,"ng-template",3)),i&2&&(q(1),Y("ngForOf",o.tabs),q(1),Y("ngForOf",o.tabs))},dependencies:[dn,Sx],styles:[".tab[_ngcontent-%COMP%]{overflow:hidden;border:1px solid #ccc;background-color:#f1f1f1}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:left;border:none;outline:none;cursor:pointer;padding:14px 16px;transition:.3s;font-size:17px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ddd}.tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#ccc}.tabcontent[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #ccc;border-top:none}"]});let e=t;return e})();var Ex=class{constructor(t,r){this.g=null,this.infoBox=null,this.textBox=null,this.charBox=null,this.width=0,this.height=0,this.offset=30,this.halfWidth=0,this.funnelWidth={max:0,min:0},this.yScale=null,this.data=null,this.total=0,this.streamlined=!1,this.options={palette:Bc,style:"3d",streamlined:!1,percentage:"first",showPercentage:!0},this.font={fontFamily:"sans-serif",size:{label:16,value:16,percentage:12}},this.field={stage:"stage",value:"value"},this.tooltip={color:"black",boxColor:"white",boxOpacity:.8},this.onHover=null,this.onClick=null,this.selectedStages=new Set,this.container=t,this.chartData=r}setSize(t){return[this.width,this.height]=t,this}setOptions(t){return Object.assign(this.options,t),this}setFont(t){return Object.assign(this.font,t),this}setField(t){return Object.assign(this.field,t),this}setTooltip(t){return Object.assign(this.tooltip,t),this}setData(t){return this.data=[...t],this}setOnHover(t){return this.onHover=t,this}setOnClick(t){return this.onClick=t,this}render(){return this.initialize(),this.processData(),this.initializeScales(),this.renderChart(),this}initialize(){this.streamlined=this.options.streamlined,this.halfWidth=this.width/2,this.funnelWidth.max=this.width*.65,this.funnelWidth.min=this.width*.15,this.textBox=this.container.append("text").attr("font-family",this.font.fontFamily).style("visibility","hidden"),this.getCharBox()}processData(){this.streamlined?this.processStreamlined():this.processPartToWhole()}processStreamlined(){if(this.data){this.chartData=[],this.data.sort((t,r)=>r[this.field.value]-t[this.field.value]);for(let t=1;t<this.data.length;t++){let r=this.data[t],n=r[this.field.value],i=1;this.options.percentage==="first"?i=this.data[0][this.field.value]:this.options.percentage==="previous"&&(i=t===0?n:this.data[t-1][this.field.value]),this.chartData.push({stage:r[this.field.stage],value:n,vs:this.data[t-1][this.field.value],ve:n,pct:n/i})}}}processPartToWhole(){if(!this.data)return;let t=0;this.chartData=this.data.map((r,n)=>{let i=t,o=r[this.field.value];return t+=o,{stage:r[this.field.stage],value:o,vs:i,ve:t,pct:0}}),this.total=t,this.chartData.forEach(r=>r.pct=r.value/t)}initializeScales(){!this.data||!this.chartData||(this.yScale=Ye().range([this.streamlined?30:0,this.height]),this.streamlined?this.yScale.domain(yn(this.data.map(t=>t[this.field.value])).reverse()):this.yScale.domain([0,this.total]),this.colorScale=_t().domain(this.chartData.map(t=>t.stage)).range(this.options.palette))}renderLabels(){let t=this.options.style==="3d"?5:1;if(this.streamlined){let i=this.data[0];this.g?.append("text").attr("text-anchor","left").attr("font-size",this.font.size?.label).attr("font-weight","bold").attr("fill","#666").attr("x",this.width/2).attr("y",25).text(`${i[this.field.stage]} = ${Ze(".3s")(i[this.field.value])}`)}let r=this.chartData.filter(i=>this.yScale(i.ve)-this.yScale(i.vs)>(this.charBox?.height||0)),n=this.g?.selectAll("label").data(r).join("g").attr("class","label").attr("font-size",this.font.size?.label).attr("font-weight","bold").attr("fill","#666").call(i=>{let o=i.append("line").attr("stroke","#666").attr("stroke-dasharray","1,2");this.streamlined?o.attr("x1",0).attr("y1",s=>this.yScale(s.ve)-t).attr("x2",this.halfWidth).attr("y2",s=>this.yScale(s.ve)-t):o.attr("x1",0).attr("y1",s=>this.yScale(s.vs+s.value*.75)).attr("x2",this.halfWidth).attr("y2",s=>this.yScale(s.vs+s.value*.75)),i.append("text").attr("x",0).attr("y",s=>this.yScale(this.streamlined?s.ve:s.vs+s.value*.75)-t).attr("dy","-0.2em").attr("fill","black").text(s=>s.stage)});this.attachEvents(n)}renderLayers(t,r){return this.g.selectAll("layer").data(this.chartData).join("g").attr("class","layer").call(n=>{n.append("path").attr("fill",i=>this.colorScale(i.stage)).attr("d",t)}).call(n=>{n.append("path").attr("fill",i=>Fr(this.colorScale(i.stage)).darker(.5)).attr("d",r)})}renderNumbers(t,r){let n=this.options.showPercentage?this.charBox.height*2:this.charBox.height;t.filter(o=>this.yScale(o.ve)-this.yScale(o.vs)>n).call(o=>{o.append("text").attr("fill","white").attr("font-size",this.font.size.value).attr("font-weight","bold").attr("text-anchor","end").attr("transform",r).text(s=>Ze(".3s")(s.value)),this.options.showPercentage&&o.append("text").attr("fill","white").attr("font-size",this.font.size.percentage).attr("text-anchor","end").attr("transform",r).attr("dy","1em").text(s=>Ze(".1%")(s.pct))})}getLinearEquationSet1(){let t=this.xScale((this.width-this.funnelWidth.max)/2,0,(this.width-this.funnelWidth.min)/2,this.height),r=this.xScale((this.width-this.funnelWidth.max)/2+this.funnelWidth.max,0,(this.width-this.funnelWidth.min)/2+this.funnelWidth.min,this.height);return{left:t,right:r}}renderFunnel2D(){let t=this,{left:r,right:n}=this.getLinearEquationSet1(),i=this.renderLayers(o,s);this.renderNumbers(i,a=>{if(this.streamlined){let l=this.yScale(a.vs),c=this.yScale(a.ve);return`translate(${this.halfWidth},${l+(c-l)/2})`}else return`translate(${this.halfWidth},${this.yScale(a.vs+a.value/2)})`}),this.options.style==="2d"&&i.attr("transform",(a,l)=>`translate(${l%2===0?-5:5},0)`),this.attachEvents(i);function o(a){let l=t.yScale(a.vs),c=t.yScale(a.ve),u=r(l),d=n(l),f=r(c),p=n(c);return`M${u},${l}L${d},${l}L${p},${c}L${f},${c}L${u},${l}`}function s(a,l){if(l>0&&t.options.style==="2d"){let c=t.yScale(a.vs),u=t.streamlined?t.yScale(a.vs)+(t.yScale(a.ve)-t.yScale(a.vs))/5:t.yScale(a.vs+a.value/5),d=(t.halfWidth-r(c))*1.5,f=l%2===0?n(c):r(c),p=l%2===0?f-d:f+d,m=l%2===0?n(u):r(u);return`M${f},${c}L${m},${u}L${p},${c}L${f},${c}`}return""}}renderFunnel3D(){let t=this,{pa:r,pc:n,xb:i,xt:o}=this.getLinearEquationSet2(),s=this.renderLayers(f,p).call(v=>{v.append("path").attr("fill",g=>Fr(this.colorScale(g.stage)).darker(.7)).attr("d",m)}),a=(this.width-this.funnelWidth.max*1/3)/2,l=0,c=(this.width-this.funnelWidth.max)/2+this.funnelWidth.max,u=this.offset,d=Math.atan2(u-l,c-a)*180/Math.PI;this.renderNumbers(s,v=>{if(this.streamlined){let g=this.yScale(v.vs),x=this.yScale(v.ve),_=g+(x-g)/2;return`translate(${o(_)},${_}) skewY(${d})`}else{let g=this.yScale(v.vs+v.value/2);return`translate(${o(g)},${g}) skewY(${d})`}}),this.attachEvents(s);function f(v){let g=t.yScale(v.vs),x=t.yScale(v.ve)-10,_=g,w=x,b=i(_),k=i(w),E=n(g),V=n(x);return`M${b},${_}L${E.x},${E.y}L${V.x},${V.y}L${k},${w}L${b},${_}`}function p(v){let g=t.yScale(v.vs),x=t.yScale(v.ve)-10,_=g,w=x,b=i(_),k=i(w),E=r(g),V=r(x);return`M${b},${_}L${E.x},${E.y}L${V.x},${V.y}L${k},${w}L${b},${_}`}function m(v){let g=t.yScale(v.ve)-10,x=g,_=i(x),w=r(g),b=n(g);return`M${_},${x}L${w.x},${w.y}L${b.x},${b.y}L${_},${x}`}}attachEvents(t){t.on("pointerenter",(r,n)=>{this.showTooltip(r,n),this.onHover&&this.onHover(n)}).on("pointermove",(r,n)=>{this.moveTooltip(r)}).on("pointerleave",()=>{this.hideTooltip()}).on("click",(r,n)=>{r.stopPropagation(),this.selectedStages.has(n.stage)?this.selectedStages.delete(n.stage):this.selectedStages.add(n.stage),this.selectedStages.size===this.chartData.length&&this.selectedStages.clear(),this.updateBlur(),this.onClick&&this.onClick(n)}),Q(this.container.node()).on("click.resetBlur",()=>{this.selectedStages.clear(),this.updateBlur()})}updateBlur(){if(!this.g)return;let t=this.g.selectAll(".layer");this.selectedStages.size>0?t.classed("funnel-blur",r=>!this.selectedStages.has(r.stage)):t.classed("funnel-blur",!1)}calcTextLength(t){return this.textBox.text(t).node().getBBox().width}hideTooltip(){this.infoBox&&this.infoBox.style("visibility","hidden")}moveTooltip(t){let r=this.getSVG();if(r){let n=r.createSVGPoint(),i=this.infoBox.node().getBBox(),o=this.g.node().getBoundingClientRect();n.x=t.clientX,n.y=t.clientY;let s=n.matrixTransform(this.g.node().getScreenCTM().inverse()),a=s.x+i.width+o.left>this.width?s.x-i.width:s.x,l=s.y+i.height+o.top>this.height?s.y-i.height:s.y;this.infoBox.attr("transform",`translate(${a+10},${l+10})`)}}showTooltip(t,r){let n=[r.stage,Ze(",")(r.value),Ze(".2%")(r.pct)],i=0;n.forEach(s=>{let a=this.calcTextLength(s);a>i&&(i=a)}),this.infoBox||(this.infoBox=this.g.append("g").attr("fill",this.tooltip.color).call(s=>s.append("rect").attr("class","ibbg").attr("opacity",this.tooltip.boxOpacity).attr("stroke","#aaa").attr("stroke-width",.5).attr("rx",4).attr("ry",4).attr("x",-5).attr("y",-5).attr("fill",this.tooltip.boxColor)));let o=1.1;this.infoBox.style("visibility","visible").select(".ibbg").attr("width",i+20).attr("height",o*this.charBox.height*n.length+5),this.infoBox.selectAll("text").data(n).join(s=>{s.append("text").attr("dy",(a,l)=>`${o*l+1}em`).attr("font-weight",(a,l)=>l===0?"bold":"").text(a=>a)},s=>s.text(a=>a),s=>s.remove()),this.moveTooltip(t)}renderChart(){this.g=this.container.append("g").attr("font-family",this.font.fontFamily),this.renderLabels(),this.options.style==="3d"?this.renderFunnel3D():this.renderFunnel2D()}xScale(t,r,n,i){let o=(i-r)/(n-t),s=r-o*t;return a=>(a-s)/o}getLinearEquationSet2(){let t=(a,l,c,u)=>{let d=(u-l)/(c-a),f=l-d*a;return{m:d,b:f}},r=a=>{let l=(this.width-this.funnelWidth.max*1/3)/2,c=0,u=(this.width-this.funnelWidth.min)/2*1.05,d=this.height;return this.xScale(l,c,u,d)(a)},n=a=>{let l=(this.width-this.funnelWidth.max*1/3)/2,c=(this.width-this.funnelWidth.max)/2+this.funnelWidth.max,u=l+(c-l)/2,d=0,f=(this.width-this.funnelWidth.min)/2*1.05,p=(this.width-this.funnelWidth.min)/2+this.funnelWidth.min,m=f+(p-f)/2,v=this.height;return this.xScale(u,d,m,v)(a)},i=(a,l,c,u)=>{let f=this.height,p=r(u),m=u,v=m+this.offset,g=t(a,0,l,f),x=t(p,m,c,v),_=(x.b-g.b)/(g.m-x.m),w=g.m*_+g.b;return{x:_,y:w}};return{pa:a=>i((this.width-this.funnelWidth.max)/2,(this.width-this.funnelWidth.min)/2,(this.width-this.funnelWidth.max)/2,a),pc:a=>i((this.width-this.funnelWidth.max)/2+this.funnelWidth.max,(this.width-this.funnelWidth.min)/2+this.funnelWidth.min,(this.width-this.funnelWidth.max)/2+this.funnelWidth.max,a),xb:r,xt:n}}getSVG(){let t=this.container.node();for(;t&&t.tagName!=="svg";)t=t.parentElement;return t}getCharBox(){this.charBox=this.textBox.text("M").node().getBBox()}};function Ame(e,t){if(e&1&&(R(0,"option",7),H(1),N()),e&2){let r=t.$implicit;Y("value",r),q(1),Ft(r)}}var DB=(()=>{let t=class t{constructor(){this.schemes=["schemeSet1","schemeSet2","schemeDark2","schemePaired","schemeTableau10"],this.defaultScheme=this.schemes[1],this.defaultStyle="2d",this.isRotating=!1,this.schemeChange=new rt,this.styleChange=new rt,this.percentageToggle=new rt,this.pctOptionChange=new rt,this.pauseClick=new rt,this.selectedScheme=this.defaultScheme,this.selectedStyle=this.defaultStyle,this.uniqueId=Math.random().toString(36).substring(2,9)}ngOnChanges(n){}onSchemeChange(n){this.defaultScheme=n.target.value,this.schemeChange.emit(this.defaultScheme)}onStyleChange(n){console.log(n),this.selectedStyle=n,this.styleChange.emit(this.selectedStyle)}onPauseClick(){this.pauseClick.emit()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["form-select"]],inputs:{defaultStyle:"defaultStyle",isRotating:"isRotating"},outputs:{schemeChange:"schemeChange",styleChange:"styleChange",percentageToggle:"percentageToggle",pctOptionChange:"pctOptionChange",pauseClick:"pauseClick"},features:[Cn],decls:20,vars:18,consts:[[2,"font-size","11pt"],["id","scheme-select","name","scheme",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"border-left","2px solid #ddd","padding-left","5px"],[3,"for"],["type","radio",3,"id","name","value","ngModel","ngModelChange","change"],["type","button",2,"margin-left","8px",3,"click"],[3,"value"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div")(2,"select",1),ie("ngModelChange",function(a){return o.selectedScheme=a})("change",function(a){return o.onSchemeChange(a)}),Te(3,Ame,2,2,"option",2),N(),re(4,"span",3),N(),R(5,"div"),H(6," Style: "),R(7,"label",4)(8,"input",5),ie("ngModelChange",function(a){return o.selectedStyle=a})("change",function(){return o.onStyleChange("2d")}),N(),H(9,"2D "),N(),R(10,"label",4)(11,"input",5),ie("ngModelChange",function(a){return o.selectedStyle=a})("change",function(){return o.onStyleChange("3d")}),N(),H(12,"3D "),N(),R(13,"label",4)(14,"input",5),ie("ngModelChange",function(a){return o.selectedStyle=a})("change",function(){return o.onStyleChange("flat")}),N(),H(15,"Flat "),N(),R(16,"button",6),ie("click",function(){return o.onPauseClick()}),H(17),N(),re(18,"span",3),N(),re(19,"div"),N()),i&2&&(q(2),Y("ngModel",o.selectedScheme),q(1),Y("ngForOf",o.schemes),q(4),Y("for","2d-"+o.uniqueId),q(1),Y("id","2d-"+o.uniqueId)("name","style-"+o.uniqueId)("value","2d")("ngModel",o.selectedStyle),q(2),Y("for","3d-"+o.uniqueId),q(1),Y("id","3d-"+o.uniqueId)("name","style-"+o.uniqueId)("value","3d")("ngModel",o.selectedStyle),q(2),Y("for","flat-"+o.uniqueId),q(1),Y("id","flat-"+o.uniqueId)("name","style-"+o.uniqueId)("value","flat")("ngModel",o.selectedStyle),q(3),Ft(o.isRotating?"Pause":"Resume"))},dependencies:[dn,ri,ii,ti,ed,Xl,ni,xi],styles:['form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}span[_ngcontent-%COMP%]{border-left:2px solid #ddd;padding-left:5px}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-radius:50%}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#2196f3}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:9px;left:9px;width:8px;height:8px;border-radius:50%;background:white}']});let e=t;return e})();function Pme(e,t){e&1&&(R(0,"div",8)(1,"header")(2,"div",9)(3,"h1"),H(4,"Funnel Chart"),N(),R(5,"div",10)(6,"button",11),H(7,"\xAB Home"),N(),R(8,"button",12),H(9,"Next \xBB"),N()()()()())}var $M=[{stage:"Org. Account",value:5e5},{stage:"Account Active",value:350138},{stage:"Gold Profile",value:213067},{stage:"Trial Ended",value:177635},{stage:"Trial Active",value:140071},{stage:"Sub. Onhold",value:93081}];var Tx=(()=>{let t=class t{constructor(n,i){this.element=n,this.route=i,this.data=$M,this.width=600,this.height=400,this.margins={top:15,right:15,bottom:10,left:5},this.options={palette:Bc,style:"3d",streamlined:!0,percentage:"first",showPercentage:!0},this.currentScheme="schemeSet2",this.currentStyle="2d",this.activatedRoute="",this.isLoading=!0,this.animationFrameId=null,this.rotationAngle=0,this.isRotating=!1,this.parentElement=this.element.nativeElement}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.route.url.subscribe(n=>{this.activatedRoute=n[0].path}),this.initializeChart(),this.isRotating=!1}ngOnDestroy(){this.stopRotation()}getChartWidth(){let n=this.parentElement.getBoundingClientRect().width;return n>0?n:0}initializeChart(){let n=Q(this.parentElement);this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove()),this.svg=n.select("svg").attr("viewBox","-60, 0, 680, 600").attr("preserveAspectRatio","xMidYMid meet").attr("transform",`translate(${this.margins.left}, ${this.margins.top})`),this.svg.attr("width",this.getChartWidth()/1.2),this.svg.attr("height",this.height),this.renderChart(this.svg),this.rotationAngle=0,this.isRotating&&this.startRotation()}renderChart(n){let i=new Ex(n,$M).setSize([this.width,this.height]).setOptions({palette:this.updateColorScheme(this.currentScheme),style:this.currentStyle,streamlined:!1}).setField({stage:"stage"}).setData($M).render()}onSchemeChange(n){this.currentScheme=n,this.updateColorScheme(n),this.initializeChart()}updateColorScheme(n){switch(n){case"schemeSet1":this.currentScheme=P3;break;case"schemeSet2":this.currentScheme=[...Lm];break;case"schemePaired":this.currentScheme=gf;break;case"schemeTableau10":this.currentScheme=Bc;break;case"schemeDark2":this.currentScheme=O3;break;default:[...Lm];break}return this.currentScheme}onStyleChange(n){return this.currentStyle=n,this.initializeChart(),this.currentStyle}onPercentageToggle(n){console.log("Show percentage:",n)}onPctOptionChange(n){console.log("Selected percentage option:",n)}startRotation(){this.stopRotation();let n=()=>{if(this.rotationAngle=(this.rotationAngle+.5)%360,this.svg&&!this.svg.empty()){let i=this.svg.node();i&&(i.style.transform=`rotateY(${this.rotationAngle}deg)`,i.style.transformOrigin="50% 50%")}this.animationFrameId=requestAnimationFrame(n)};this.animationFrameId=requestAnimationFrame(n)}stopRotation(){if(this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.svg&&!this.svg.empty()){let n=this.svg.node();n&&(n.style.transform="")}}onPauseClick(){this.isRotating?(this.stopRotation(),this.isRotating=!1):(this.startRotation(),this.isRotating=!0)}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(kn))},t.\u0275cmp=he({type:t,selectors:[["funnel-chart"]],inputs:{data:"data",width:"width",height:"height",options:"options"},decls:8,vars:3,consts:[["class","button-group","id","funnel",4,"ngIf"],[3,"loading"],[1,"panel-body"],[1,"controls"],[3,"isRotating","schemeChange","styleChange","percentageToggle","pctOptionChange","pauseClick"],["id","svg_container"],["id","img","width","1","height","1"],["width","1","height","1"],["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"]],template:function(i,o){i&1&&(Te(0,Pme,10,0,"div",0),R(1,"single-card",1)(2,"div",2)(3,"div",3)(4,"form-select",4),ie("schemeChange",function(a){return o.onSchemeChange(a)})("styleChange",function(a){return o.onStyleChange(a)})("percentageToggle",function(a){return o.onPercentageToggle(a)})("pctOptionChange",function(a){return o.onPctOptionChange(a)})("pauseClick",function(){return o.onPauseClick()}),N()(),R(5,"div",5),re(6,"img",6),Ut(),re(7,"svg",7),N()()()),i&2&&(Y("ngIf",o.activatedRoute==="funnel"),q(1),Y("loading",o.isLoading),q(3),Y("isRotating",o.isRotating))},dependencies:[vt,xt,DB,Mt],styles:[`@media (min-width: 57.3rem){polar-chart .legend{float:right;margin:1rem 0}polar-chart .legend ul{max-height:32rem;width:15.2rem;margin:.5rem 0}polar-chart .legend li{width:11.8rem}polar-chart .legend label{max-width:9.8rem}}.funnel-blur{opacity:.3;filter:blur(1px);transition:opacity .2s,filter .2s}
`],encapsulation:2});let e=t;return e})();var MB=(()=>{let t=class t{constructor(n,i,o){this.el=n,this.zone=i,this.router=o,this.data=[{sharedLabel:"Live animals and meat",barData1:43041,barData2:40852},{sharedLabel:"Dairy products",barData1:38867,barData2:36296},{sharedLabel:"Fruits and Vegetables",barData1:41748,barData2:40757},{sharedLabel:"Coffee, Tea, Cocoa and Spices",barData1:24831,barData2:23624},{sharedLabel:"Cereals and food preparations",barData1:15764,barData2:15299},{sharedLabel:"Oilseeds, fats and oils",barData1:17006,barData2:16071},{sharedLabel:"Sugars and confectionery",barData1:24309,barData2:23235},{sharedLabel:"Beverages and tobacco",barData1:46756,barData2:46065},{sharedLabel:"Cotton, silk and wool",barData1:41923,barData2:41704},{sharedLabel:"Other agricultural products",barData1:42565,barData2:42159},{sharedLabel:"Fish and fish products",barData1:44316,barData2:45468},{sharedLabel:"Minerals and metals",barData1:42975,barData2:44223},{sharedLabel:"Petroleum",barData1:36755,barData2:39452},{sharedLabel:"Chemicals",barData1:31578,barData2:34063},{sharedLabel:"Wood, paper, furniture",barData1:10328,barData2:11799},{sharedLabel:"Textiles",barData1:13917,barData2:14949},{sharedLabel:"Clothing",barData1:7920,barData2:8589},{sharedLabel:"Rubber, leather and footwear",barData1:9003,barData2:10397},{sharedLabel:"Mechanical",barData1:14322,barData2:16832},{sharedLabel:"Elect. Mach./Elect. Equip.",barData1:12369,barData2:15836},{sharedLabel:"Transport equipment",barData1:8710,barData2:12377},{sharedLabel:"Other Manufactures",barData1:5853,barData2:12213}],this.w=0,this.h=0,this.topMargin=15,this.labelSpace=0,this.innerMargin=0,this.outerMargin=10,this.gap=10,this.dataRange=0,this.leftLabel="America",this.rightLabel="China",this.chartWidth=0,this.barWidth=0,this.commas=Ze(",.0f"),this.resizeSubscription=null,this.isLoading=!0}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.initChart(),this.drawChart(),this.zone.runOutsideAngular(()=>{this.resizeSubscription=ks(window,"resize").pipe(Is(300)).subscribe(()=>{this.zone.run(()=>{this.resize()})})})}onClose(){this.router.navigate(["/"])}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}initChart(){this.dataRange=ct(this.data.map(i=>Math.max(i.barData1,i.barData2)))||0;let n=this.el.nativeElement.querySelector(".content");this.w=parseInt(getComputedStyle(n).width,10),this.h=parseInt(getComputedStyle(n).height,10),this.updateDimensions()}updateDimensions(){this.labelSpace=100+this.w/100,this.innerMargin=this.w/2+this.labelSpace,this.chartWidth=this.w-this.innerMargin-this.outerMargin,this.barWidth=this.h/this.data.length,this.yScale=Ye().domain([0,this.data.length]).range([0,this.h-this.topMargin]),this.total=Ye().domain([0,this.dataRange]).range([0,this.chartWidth-this.labelSpace])}drawChart(){this.svg=Q(this.el.nativeElement.querySelector("#vis")).append("svg").attr("width",this.w).attr("height",this.h);let i=this.svg.append("defs").append("linearGradient").attr("id","myGradient").attr("gradientUnits","userSpaceOnUse").attr("x1","-50%").attr("y1","40%").attr("x2","0%").attr("y2","100%");i.append("stop").attr("offset","0%").attr("stop-color","#50C9CE"),i.append("stop").attr("offset","100%").attr("stop-color","#FFE066"),this.svg.append("text").attr("class","firstlabel").text(this.leftLabel).attr("x",this.w-this.innerMargin).attr("y",this.topMargin-3).attr("text-anchor","end"),this.svg.append("text").attr("class","secondlabel").text(this.rightLabel).attr("x",this.innerMargin).attr("y",this.topMargin-3),this.bar=this.svg.selectAll("g.bar").data(this.data).enter().append("g").attr("class","bar").attr("transform",(a,l)=>`translate(0,${this.yScale(l)+this.topMargin})`);let o=this.bar.append("rect").attr("class","singlebar").attr("width",this.w).attr("height",this.barWidth-this.gap).attr("fill","none").attr("pointer-events","all"),s=a=>(l,c)=>{this.bar.filter((u,d)=>c===d).attr("class",a)};this.bar.on("mouseover",s("highlight bar")).on("mouseout",s("bar")),this.bar.append("text").attr("class","shared").attr("x",this.w/2).attr("dy","1em").attr("text-anchor","middle").text(a=>a.sharedLabel),this.bar.append("rect").attr("class","femalebar").attr("classed",".femalebar").attr("fill"," #F25F5C").attr("stroke","black").attr("stroke-width",2).attr("height",this.barWidth-this.gap).attr("x",a=>this.innerMargin-this.total(a.barData2)-2*this.labelSpace).attr("width",a=>this.total(a.barData2)),this.bar.append("text").attr("class","femalebar").attr("dx",-10).attr("dy","1em").attr("text-anchor","end").text(a=>this.commas(a.barData2)).attr("x",a=>this.innerMargin-this.total(a.barData2)-2*this.labelSpace),this.bar.append("rect").attr("class","malebar").attr("stroke","black").attr("stroke-width",2).attr("fill","#247BA0").attr("height",this.barWidth-this.gap).attr("x",this.innerMargin).attr("width",a=>this.total(a.barData1)),this.bar.append("text").attr("class","malebar-text").attr("dx",5).attr("dy","1em").text(a=>this.commas(a.barData1)).attr("x",a=>this.innerMargin+this.total(a.barData1))}resize(){let n=this.el.nativeElement.querySelector(".content");this.w=parseInt(getComputedStyle(n).width,10),this.h=parseInt(getComputedStyle(n).height,10),this.updateDimensions(),this.svg.attr("width",this.w).attr("height",this.h),this.svg.select(".firstlabel").attr("x",this.w-this.innerMargin).attr("y",this.topMargin-3),this.svg.select(".secondlabel").attr("x",this.innerMargin).attr("y",this.topMargin-3),this.bar.attr("transform",(i,o)=>`translate(0,${this.yScale(o)+this.topMargin})`),this.svg.selectAll(".singlebar").attr("width",this.w).attr("height",this.barWidth-this.gap),this.bar.selectAll(".shared").attr("x",this.w/2),this.bar.selectAll("rect.femalebar").attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace).attr("width",i=>this.total(i.barData2)),this.bar.selectAll("rect.malebar").attr("x",this.innerMargin).attr("width",i=>this.total(i.barData1)),this.bar.selectAll(".malebar-text").attr("x",i=>this.innerMargin+this.total(i.barData1)),this.bar.selectAll("text.femalebar").attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace)}generateRandomData(){this.data.forEach(n=>{n.barData1=Math.random()*this.dataRange*1.4,n.barData2=Math.random()*this.dataRange*1.4}),this.refreshChart()}refreshChart(){let n=this.svg.selectAll("g.bar").data(this.data);n.selectAll("rect.malebar").transition().attr("width",i=>this.total(i.barData1)),n.selectAll("rect.femalebar").transition().attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace).attr("width",i=>this.total(i.barData2)),n.selectAll("text.malebar-text").text(i=>this.commas(i.barData1)).transition().attr("x",i=>this.innerMargin+this.total(i.barData1)),n.selectAll("text.femalebar").text(i=>this.commas(i.barData2)).transition().attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace)}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(Ct),Z(Fn))},t.\u0275cmp=he({type:t,selectors:[["divergin-bars"]],decls:7,vars:3,consts:[[3,"action"],[1,"panel-body"],[1,"content"],["id","vis"],[1,"controls"],[1,"generate-btn",3,"click"]],template:function(i,o){i&1&&(R(0,"overlay",0)(1,"div",1)(2,"div",2),re(3,"div",3),R(4,"div",4)(5,"button",5),ie("click",function(){return o.generateRandomData()}),H(6,"Generate Random Data"),N()()()()()),i&2&&(ar("component-loading-mask",o.isLoading),Y("action","close"))},dependencies:[Rf],styles:[".content[_ngcontent-%COMP%]{display:block;width:100rem;height:60rem;min-width:300px;min-height:500px;max-width:2060px;max-height:1800px;overflow:hidden;border:1px solid black;position:relative}#vis[_ngcontent-%COMP%]{min-height:500px;height:500px;width:800px;width:100%;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]{margin-top:5rem;justify-content:left;text-align:center}button[_ngcontent-%COMP%]{margin-top:20rem;position:absolute;bottom:3px;left:3px}.generate-btn[_ngcontent-%COMP%]{padding:8px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.generate-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}svg[_ngcontent-%COMP%]{display:block;margin:0 auto}.shared[_ngcontent-%COMP%], .bar[_ngcontent-%COMP%], .firstlabel[_ngcontent-%COMP%], .secondlabel[_ngcontent-%COMP%]{font-size:10pt;font-weight:regular;fill:#fff;font-family:Fenton,sans-serif}.femalebar[_ngcontent-%COMP%]{fill:#f25f5c;stroke-width:1px;stroke:#fff;transition:stroke-width .5s}.malebar[_ngcontent-%COMP%]{fill:#247ba0;stroke-width:1px;stroke:#fff;transition:stroke-width .5s}.highlight[_ngcontent-%COMP%]   rect.malebar[_ngcontent-%COMP%], .highlight[_ngcontent-%COMP%]   rect.femalebar[_ngcontent-%COMP%]{fill:url(#myGradient);stroke-width:3px;stroke:url(#myGradient)}.highlight[_ngcontent-%COMP%]   text.malebar-text[_ngcontent-%COMP%], .highlight[_ngcontent-%COMP%]   text.femalebar[_ngcontent-%COMP%]{fill:#fff;font-weight:600}text.malebar-text[_ngcontent-%COMP%], text.femalebar[_ngcontent-%COMP%]{display:none}.highlight[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{display:block;fill:#ffe066}"]});let e=t;return e})();var kx="http://www.w3.org/1999/xhtml",Ix={svg:"http://www.w3.org/2000/svg",xhtml:kx,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Km(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Ix.hasOwnProperty(t)?{space:Ix[t],local:e}:e}function Rme(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===kx&&t.documentElement.namespaceURI===kx?t.createElement(e):t.createElementNS(r,e)}}function Fme(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ff(e){var t=Km(e);return(t.local?Fme:Rme)(t)}function Lme(){}function Jm(e){return e==null?Lme:function(){return this.querySelector(e)}}function SB(e){typeof e!="function"&&(e=Jm(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new xn(n,this._parents)}function jme(){return[]}function zM(e){return e==null?jme:function(){return this.querySelectorAll(e)}}function EB(e){typeof e!="function"&&(e=zM(e));for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(e.call(l,l.__data__,c,s)),i.push(l));return new xn(n,i)}function BM(e){return function(){return this.matches(e)}}function TB(e){typeof e!="function"&&(e=BM(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new xn(n,this._parents)}function Ax(e){return new Array(e.length)}function kB(){return new xn(this._enter||this._groups.map(Ax),this._parents)}function eg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}eg.prototype={constructor:eg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function IB(e){return function(){return e}}var AB="$";function Vme(e,t,r,n,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):r[s]=new eg(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Ume(e,t,r,n,i,o,s){var a,l,c={},u=t.length,d=o.length,f=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(f[a]=p=AB+s.call(l,l.__data__,a,t),p in c?i[a]=l:c[p]=l);for(a=0;a<d;++a)p=AB+s.call(e,o[a],a,o),(l=c[p])?(n[a]=l,l.__data__=o[a],c[p]=null):r[a]=new eg(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c[f[a]]===l&&(i[a]=l)}function OB(e,t){if(!e)return p=new Array(this.size()),c=-1,this.each(function(E){p[++c]=E}),p;var r=t?Ume:Vme,n=this._parents,i=this._groups;typeof e!="function"&&(e=IB(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],d=i[c],f=d.length,p=e.call(u,u&&u.__data__,c,n),m=p.length,v=a[c]=new Array(m),g=s[c]=new Array(m),x=l[c]=new Array(f);r(u,d,v,g,x,p,t);for(var _=0,w=0,b,k;_<m;++_)if(b=v[_]){for(_>=w&&(w=_+1);!(k=g[w])&&++w<m;);b._next=k||null}}return s=new xn(s,n),s._enter=a,s._exit=l,s}function PB(){return new xn(this._exit||this._groups.map(Ax),this._parents)}function NB(e,t,r){var n=this.enter(),i=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(i=t(i)),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function RB(e){for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=r[a],u=l.length,d=s[a]=new Array(u),f,p=0;p<u;++p)(f=l[p]||c[p])&&(d[p]=f);for(;a<n;++a)s[a]=t[a];return new xn(s,this._parents)}function FB(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function LB(e){e||(e=$me);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new xn(i,this._parents).order()}function $me(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function jB(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function VB(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function UB(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function $B(){var e=0;return this.each(function(){++e}),e}function zB(){return!this.node()}function BB(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function zme(e){return function(){this.removeAttribute(e)}}function Bme(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Hme(e,t){return function(){this.setAttribute(e,t)}}function Wme(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function qme(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Gme(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function HB(e,t){var r=Km(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Bme:zme:typeof t=="function"?r.local?Gme:qme:r.local?Wme:Hme)(r,t))}function tg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Yme(e){return function(){this.style.removeProperty(e)}}function Zme(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Xme(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function WB(e,t,r){return arguments.length>1?this.each((t==null?Yme:typeof t=="function"?Xme:Zme)(e,t,r??"")):qB(this.node(),e)}function qB(e,t){return e.style.getPropertyValue(t)||tg(e).getComputedStyle(e,null).getPropertyValue(t)}function Qme(e){return function(){delete this[e]}}function Kme(e,t){return function(){this[e]=t}}function Jme(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function GB(e,t){return arguments.length>1?this.each((t==null?Qme:typeof t=="function"?Jme:Kme)(e,t)):this.node()[e]}function YB(e){return e.trim().split(/^|\s+/)}function HM(e){return e.classList||new ZB(e)}function ZB(e){this._node=e,this._names=YB(e.getAttribute("class")||"")}ZB.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function XB(e,t){for(var r=HM(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function QB(e,t){for(var r=HM(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function ege(e){return function(){XB(this,e)}}function tge(e){return function(){QB(this,e)}}function nge(e,t){return function(){(t.apply(this,arguments)?XB:QB)(this,e)}}function KB(e,t){var r=YB(e+"");if(arguments.length<2){for(var n=HM(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?nge:t?ege:tge)(r,t))}function rge(){this.textContent=""}function ige(e){return function(){this.textContent=e}}function oge(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function JB(e){return arguments.length?this.each(e==null?rge:(typeof e=="function"?oge:ige)(e)):this.node().textContent}function sge(){this.innerHTML=""}function age(e){return function(){this.innerHTML=e}}function lge(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eH(e){return arguments.length?this.each(e==null?sge:(typeof e=="function"?lge:age)(e)):this.node().innerHTML}function cge(){this.nextSibling&&this.parentNode.appendChild(this)}function tH(){return this.each(cge)}function uge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nH(){return this.each(uge)}function rH(e){var t=typeof e=="function"?e:Ff(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function dge(){return null}function iH(e,t){var r=typeof e=="function"?e:Ff(e),n=t==null?dge:typeof t=="function"?t:Jm(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function fge(){var e=this.parentNode;e&&e.removeChild(this)}function oH(){return this.each(fge)}function hge(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function pge(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function sH(e){return this.select(e?pge:hge)}function aH(e){return arguments.length?this.property("__data__",e):this.node().__data__}var cH={},Xe=null;typeof document<"u"&&(lH=document.documentElement,"onmouseenter"in lH||(cH={mouseenter:"mouseover",mouseleave:"mouseout"}));var lH;function mge(e,t,r){return e=uH(e,t,r),function(n){var i=n.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&e.call(this,n)}}function uH(e,t,r){return function(n){var i=Xe;Xe=n;try{e.call(this,this.__data__,t,r)}finally{Xe=i}}}function gge(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function yge(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++n]=o;++n?t.length=n:delete this.__on}}}function vge(e,t,r){var n=cH.hasOwnProperty(e.type)?mge:uH;return function(i,o,s){var a=this.__on,l,c=n(t,o,s);if(a){for(var u=0,d=a.length;u<d;++u)if((l=a[u]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=r),l.value=t;return}}this.addEventListener(e.type,c,r),l={type:e.type,name:e.name,value:t,listener:c,capture:r},a?a.push(l):this.__on=[l]}}function dH(e,t,r){var n=gge(e+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=n[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?vge:yge,r==null&&(r=!1),i=0;i<o;++i)this.each(a(n[i],t,r));return this}function Ox(e,t,r,n){var i=Xe;e.sourceEvent=Xe,Xe=e;try{return t.apply(r,n)}finally{Xe=i}}function fH(e,t,r){var n=tg(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function xge(e,t){return function(){return fH(this,e,t)}}function bge(e,t){return function(){return fH(this,e,t.apply(this,arguments))}}function hH(e,t){return this.each((typeof t=="function"?bge:xge)(e,t))}var Px=[null];function xn(e,t){this._groups=e,this._parents=t}function _ge(){return new xn([[document.documentElement]],Px)}xn.prototype=_ge.prototype={constructor:xn,select:SB,selectAll:EB,filter:TB,data:OB,enter:kB,exit:PB,join:NB,merge:RB,order:FB,sort:LB,call:jB,nodes:VB,node:UB,size:$B,empty:zB,each:BB,attr:HB,style:WB,property:GB,classed:KB,text:JB,html:eH,raise:tH,lower:nH,append:rH,insert:iH,remove:oH,clone:sH,datum:aH,on:dH,dispatch:hH};function Si(e){return typeof e=="string"?new xn([[document.querySelector(e)]],[document.documentElement]):new xn([[e]],Px)}var wge=0;function qM(){return new WM}function WM(){this._="@"+(++wge).toString(36)}WM.prototype=qM.prototype={constructor:WM,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function ng(){for(var e=Xe,t;t=e.sourceEvent;)e=t;return e}function Lf(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function GM(e){var t=ng();return t.changedTouches&&(t=t.changedTouches[0]),Lf(e,t)}function YM(e,t,r){arguments.length<3&&(r=t,t=ng().changedTouches);for(var n=0,i=t?t.length:0,o;n<i;++n)if((o=t[n]).identifier===r)return Lf(e,o);return null}var Cge={value:function(){}};function mH(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new Nx(r)}function Nx(e){this._=e}function Dge(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Nx.prototype=mH.prototype={constructor:Nx,on:function(e,t){var r=this._,n=Dge(e+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(e=n[o]).type)&&(i=Mge(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=n[o]).type)r[i]=pH(r[i],e.name,t);else if(t==null)for(i in r)r[i]=pH(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Nx(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function Mge(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function pH(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=Cge,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var rg=mH;function Rx(){Xe.stopImmediatePropagation()}function _l(){Xe.preventDefault(),Xe.stopImmediatePropagation()}function ZM(e){var t=e.document.documentElement,r=Si(e).on("dragstart.drag",_l,!0);"onselectstart"in t?r.on("selectstart.drag",_l,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function XM(e,t){var r=e.document.documentElement,n=Si(e).on("dragstart.drag",null);t&&(n.on("click.drag",_l,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function ig(e){return function(){return e}}function og(e,t,r,n,i,o,s,a,l,c){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=i,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=c}og.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Sge(){return!Xe.button}function Ege(){return this.parentNode}function Tge(e){return e??{x:Xe.x,y:Xe.y}}function kge(){return"ontouchstart"in this}function Fx(){var e=Sge,t=Ege,r=Tge,n=kge,i={},o=rg("start","drag","end"),s=0,a,l,c,u,d=0;function f(b){b.on("mousedown.drag",p).filter(n).on("touchstart.drag",g).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!(u||!e.apply(this,arguments))){var b=w("mouse",t.apply(this,arguments),GM,this,arguments);b&&(Si(Xe.view).on("mousemove.drag",m,!0).on("mouseup.drag",v,!0),ZM(Xe.view),Rx(),c=!1,a=Xe.clientX,l=Xe.clientY,b("start"))}}function m(){if(_l(),!c){var b=Xe.clientX-a,k=Xe.clientY-l;c=b*b+k*k>d}i.mouse("drag")}function v(){Si(Xe.view).on("mousemove.drag mouseup.drag",null),XM(Xe.view,c),_l(),i.mouse("end")}function g(){if(e.apply(this,arguments)){var b=Xe.changedTouches,k=t.apply(this,arguments),E=b.length,V,z;for(V=0;V<E;++V)(z=w(b[V].identifier,k,YM,this,arguments))&&(Rx(),z("start"))}}function x(){var b=Xe.changedTouches,k=b.length,E,V;for(E=0;E<k;++E)(V=i[b[E].identifier])&&(_l(),V("drag"))}function _(){var b=Xe.changedTouches,k=b.length,E,V;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),E=0;E<k;++E)(V=i[b[E].identifier])&&(Rx(),V("end"))}function w(b,k,E,V,z){var B=E(k,b),$,D,I,L=o.copy();if(Ox(new og(f,"beforestart",$,b,s,B[0],B[1],0,0,L),function(){return(Xe.subject=$=r.apply(V,z))==null?!1:(D=$.x-B[0]||0,I=$.y-B[1]||0,!0)}))return function O(S){var T=B,P;switch(S){case"start":i[b]=O,P=s++;break;case"end":delete i[b],--s;case"drag":B=E(k,b),P=s;break}Ox(new og(f,S,$,b,P,B[0]+D,B[1]+I,B[0]-T[0],B[1]-T[1],L),L.apply,L,[S,V,z])}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ig(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:ig(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:ig(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:ig(!!b),f):n},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}var QM=Math.PI,KM=2*QM,Zc=1e-6,Ige=KM-Zc;function JM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function gH(){return new JM}JM.prototype=gH.prototype={constructor:JM,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,a=r-e,l=n-t,c=o-e,u=s-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Zc)if(!(Math.abs(u*a-l*c)>Zc)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-o,p=n-s,m=a*a+l*l,v=f*f+p*p,g=Math.sqrt(m),x=Math.sqrt(d),_=i*Math.tan((QM-Math.acos((m+d-v)/(2*g*x)))/2),w=_/x,b=_/g;Math.abs(w-1)>Zc&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*p)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),a=r*Math.sin(n),l=e+s,c=t+a,u=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Zc||Math.abs(this._y1-c)>Zc)&&(this._+="L"+l+","+c),r&&(d<0&&(d=d%KM+KM),d>Ige?this._+="A"+r+","+r+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>Zc&&(this._+="A"+r+","+r+",0,"+ +(d>=QM)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var sg=gH;function rr(e){return function(){return e}}var ir=1e-12,ca=Math.PI,ag=ca/2,Xc=2*ca;function Age(e){return e.innerRadius}function Oge(e){return e.outerRadius}function Pge(e){return e.startAngle}function Nge(e){return e.endAngle}function Rge(e){return e&&e.padAngle}function yH(e){return e>=1?ag:e<=-1?-ag:Math.asin(e)}function Fge(e,t,r,n,i,o,s,a){var l=r-e,c=n-t,u=s-i,d=a-o,f=(u*(t-o)-d*(e-i))/(d*l-u*c);return[e+f*l,t+f*c]}function Lx(e,t,r,n,i,o,s){var a=e-r,l=t-n,c=(s?o:-o)/Math.sqrt(a*a+l*l),u=c*l,d=-c*a,f=e+u,p=t+d,m=r+u,v=n+d,g=(f+m)/2,x=(p+v)/2,_=m-f,w=v-p,b=_*_+w*w,k=i-o,E=f*v-m*p,V=(w<0?-1:1)*Math.sqrt(Math.max(0,k*k*b-E*E)),z=(E*w-_*V)/b,B=(-E*_-w*V)/b,$=(E*w+_*V)/b,D=(-E*_+w*V)/b,I=z-g,L=B-x,O=$-g,S=D-x;return I*I+L*L>O*O+S*S&&(z=$,B=D),{cx:z,cy:B,x01:-u,y01:-d,x11:z*(i/k-1),y11:B*(i/k-1)}}function eS(){var e=Age,t=Oge,r=rr(0),n=null,i=Pge,o=Nge,s=Rge,a=null;function l(){var c,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),p=i.apply(this,arguments)-ag,m=o.apply(this,arguments)-ag,v=Math.abs(m-p),g=m>p;if(a||(a=c=sg()),f<d&&(u=f,f=d,d=u),!(f>ir))a.moveTo(0,0);else if(v>Xc-ir)a.moveTo(f*Math.cos(p),f*Math.sin(p)),a.arc(0,0,f,p,m,!g),d>ir&&(a.moveTo(d*Math.cos(m),d*Math.sin(m)),a.arc(0,0,d,m,p,g));else{var x=p,_=m,w=p,b=m,k=v,E=v,V=s.apply(this,arguments)/2,z=V>ir&&(n?+n.apply(this,arguments):Math.sqrt(d*d+f*f)),B=Math.min(Math.abs(f-d)/2,+r.apply(this,arguments)),$=B,D=B,I,L;if(z>ir){var O=yH(z/d*Math.sin(V)),S=yH(z/f*Math.sin(V));(k-=O*2)>ir?(O*=g?1:-1,w+=O,b-=O):(k=0,w=b=(p+m)/2),(E-=S*2)>ir?(S*=g?1:-1,x+=S,_-=S):(E=0,x=_=(p+m)/2)}var T=f*Math.cos(x),P=f*Math.sin(x),U=d*Math.cos(b),F=d*Math.sin(b);if(B>ir){var j=f*Math.cos(_),G=f*Math.sin(_),J=d*Math.cos(w),X=d*Math.sin(w);if(v<ca){var se=k>ir?Fge(T,P,J,X,j,G,U,F):[U,F],Me=T-se[0],_e=P-se[1],pe=j-se[0],Fe=G-se[1],te=1/Math.sin(Math.acos((Me*pe+_e*Fe)/(Math.sqrt(Me*Me+_e*_e)*Math.sqrt(pe*pe+Fe*Fe)))/2),be=Math.sqrt(se[0]*se[0]+se[1]*se[1]);$=Math.min(B,(d-be)/(te-1)),D=Math.min(B,(f-be)/(te+1))}}E>ir?D>ir?(I=Lx(J,X,T,P,f,D,g),L=Lx(j,G,U,F,f,D,g),a.moveTo(I.cx+I.x01,I.cy+I.y01),D<B?a.arc(I.cx,I.cy,D,Math.atan2(I.y01,I.x01),Math.atan2(L.y01,L.x01),!g):(a.arc(I.cx,I.cy,D,Math.atan2(I.y01,I.x01),Math.atan2(I.y11,I.x11),!g),a.arc(0,0,f,Math.atan2(I.cy+I.y11,I.cx+I.x11),Math.atan2(L.cy+L.y11,L.cx+L.x11),!g),a.arc(L.cx,L.cy,D,Math.atan2(L.y11,L.x11),Math.atan2(L.y01,L.x01),!g))):(a.moveTo(T,P),a.arc(0,0,f,x,_,!g)):a.moveTo(T,P),!(d>ir)||!(k>ir)?a.lineTo(U,F):$>ir?(I=Lx(U,F,j,G,d,-$,g),L=Lx(T,P,J,X,d,-$,g),a.lineTo(I.cx+I.x01,I.cy+I.y01),$<B?a.arc(I.cx,I.cy,$,Math.atan2(I.y01,I.x01),Math.atan2(L.y01,L.x01),!g):(a.arc(I.cx,I.cy,$,Math.atan2(I.y01,I.x01),Math.atan2(I.y11,I.x11),!g),a.arc(0,0,d,Math.atan2(I.cy+I.y11,I.cx+I.x11),Math.atan2(L.cy+L.y11,L.cx+L.x11),g),a.arc(L.cx,L.cy,$,Math.atan2(L.y11,L.x11),Math.atan2(L.y01,L.x01),!g))):a.arc(0,0,d,b,w,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-ca/2;return[Math.cos(u)*c,Math.sin(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:rr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:rr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:rr(+c),l):r},l.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:rr(+c),l):n},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:rr(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:rr(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:rr(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function vH(e){this._context=e}vH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wl(e){return new vH(e)}function tS(e){return e[0]}function nS(e){return e[1]}function lg(){var e=tS,t=nS,r=rr(!0),n=null,i=wl,o=null;function s(a){var l,c=a.length,u,d=!1,f;for(n==null&&(o=i(f=sg())),l=0;l<=c;++l)!(l<c&&r(u=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,l,a),+t(u,l,a));if(f)return o=null,f+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:rr(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:rr(+a),s):t},s.defined=function(a){return arguments.length?(r=typeof a=="function"?a:rr(!!a),s):r},s.curve=function(a){return arguments.length?(i=a,n!=null&&(o=i(n)),s):i},s.context=function(a){return arguments.length?(a==null?n=o=null:o=i(n=a),s):n},s}var xH=jx(wl);function bH(e){this._curve=e}bH.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function jx(e){function t(r){return new bH(e(r))}return t._curve=e,t}var jge=Math.sqrt(.3333333333333333),trt=jge*2;var _H=Math.sin(ca/10)/Math.sin(7*ca/10),irt=Math.sin(Xc/10)*_H,ort=-Math.cos(Xc/10)*_H;var lrt=Math.sqrt(3);var urt=Math.sqrt(3)/2,Vge=1/Math.sqrt(12),drt=(Vge/2+1)*3;function Gi(){}function jf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Vx(e){this._context=e}Vx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gge(e){this._context=e}Gge.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Yge(e){this._context=e}Yge.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wH(e,t){this._basis=new Vx(e),this._beta=t}wH.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,s=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var Zge=function e(t){function r(n){return t===1?new Vx(n):new wH(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Vf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Ux(e,t){this._context=e,this._k=(1-t)/6}Ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Vf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Vf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Xge=function e(t){function r(n){return new Ux(n,t)}return r.tension=function(n){return e(+n)},r}(0);function $x(e,t){this._context=e,this._k=(1-t)/6}$x.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Vf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Qge=function e(t){function r(n){return new $x(n,t)}return r.tension=function(n){return e(+n)},r}(0);function zx(e,t){this._context=e,this._k=(1-t)/6}zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Vf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Kge=function e(t){function r(n){return new zx(n,t)}return r.tension=function(n){return e(+n)},r}(0);function cg(e,t,r){var n=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>ir){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ir){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(n,i,o,s,e._x2,e._y2)}function CH(e,t){this._context=e,this._alpha=t}CH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:cg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rS=function e(t){function r(n){return t?new CH(n,t):new Ux(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function DH(e,t){this._context=e,this._alpha=t}DH.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:cg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Jge=function e(t){function r(n){return t?new DH(n,t):new $x(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function MH(e,t){this._context=e,this._alpha=t}MH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cg(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var e0e=function e(t){function r(n){return t?new MH(n,t):new zx(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function t0e(e){this._context=e}t0e.prototype={areaStart:Gi,areaEnd:Gi,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SH(e){return e<0?-1:1}function EH(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(SH(o)+SH(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function TH(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function iS(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function oS(e){this._context=e}oS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iS(this,this._t0,TH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,iS(this,TH(this,r=EH(this,e,t)),r);break;default:iS(this,this._t0,r=EH(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function n0e(e){this._context=new kH(e)}(n0e.prototype=Object.create(oS.prototype)).point=function(e,t){oS.prototype.point.call(this,t,e)};function kH(e){this._context=e}kH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function r0e(e){this._context=e}r0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=IH(e),i=IH(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function IH(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function i0e(e,t){this._context=e,this._t=t}i0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};var o0e=Array.prototype.slice;var a0e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},$f=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ua=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var o=Object.getPrototypeOf(t);return o===null?void 0:e(o,r,n)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(n)}},sS=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},aS=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},l0e=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)},c0e=function(){function e(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,s=t.nx,a=t.ny,l=t.dy,c=l===void 0?0:l,u=t.dx,d=u===void 0?0:u,f=t.color,p=f===void 0?"grey":f,m=t.data,v=t.type,g=t.subject,x=t.connector,_=t.note,w=t.disable,b=t.id,k=t.className;Uf(this,e),this._dx=s!==void 0?s-n:d,this._dy=a!==void 0?a-o:c,this._x=n,this._y=o,this._color=p,this.id=b,this._className=k||"",this._type=v||"",this.data=m,this.note=_||{},this.connector=x||{},this.subject=g||{},this.disable=w||[]}return $f(e,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&this.type.subject.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),this.type.connector.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(r){this._className=r,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(r){this._type=r,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(r){this._x=r,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(r){this._y=r,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(r){this._dx=r,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(r){this._dy=r,this.updateOffset()}},{key:"nx",set:function(r){this._dx=r-this._x,this.updateOffset()}},{key:"ny",set:function(r){this._dy=r-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(r){var n=r.x,i=r.y;this._dx=n,this._dy=i,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(r){var n=r.x,i=r.y;this._x=n,this._y=i,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var r={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(r.data=this.data),this.type&&(r.type=this.type),this._className&&(r.className=this._className),Object.keys(this.connector).length>0&&(r.connector=this.connector),Object.keys(this.subject).length>0&&(r.subject=this.subject),Object.keys(this.note).length>0&&(r.note=this.note),r}}]),e}(),u0e=function(){function e(t){var r=t.annotations,n=t.accessors,i=t.accessorsInverse;Uf(this,e),this.accessors=n,this.accessorsInverse=i,this.annotations=r}return $f(e,[{key:"clearTypes",value:function(r){this.annotations.forEach(function(n){n.type=void 0,n.subject=r&&r.subject||n.subject,n.connector=r&&r.connector||n.connector,n.note=r&&r.note||n.note})}},{key:"setPositionWithAccessors",value:function(){var r=this;this.annotations.forEach(function(n){n.type.setPositionWithAccessors(r.accessors)})}},{key:"editMode",value:function(r){this.annotations.forEach(function(n){n.type&&(n.type.editMode=r,n.type.updateEditMode())})}},{key:"updateDisable",value:function(r){this.annotations.forEach(function(n){n.disable=r,n.type&&r.forEach(function(i){n.type[i]&&(n.type[i].remove&&n.type[i].remove(),n.type[i]=void 0)})})}},{key:"updateTextWrap",value:function(r){this.annotations.forEach(function(n){n.type&&n.type.updateTextWrap&&n.type.updateTextWrap(r)})}},{key:"updateText",value:function(){this.annotations.forEach(function(r){r.type&&r.type.drawText&&r.type.drawText()})}},{key:"updateNotePadding",value:function(r){this.annotations.forEach(function(n){n.type&&(n.type.notePadding=r)})}},{key:"json",get:function(){var r=this;return this.annotations.map(function(n){var i=n.json;return r.accessorsInverse&&n.data&&(i.data={},Object.keys(r.accessorsInverse).forEach(function(o){i.data[o]=r.accessorsInverse[o]({x:n.x,y:n.y})})),i})}},{key:"noteNodes",get:function(){return this.annotations.map(function(r){return hi({},r.type.getNoteBBoxOffset(),{positionX:r.x,positionY:r.y})})}}]),e}(),d0e=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,o=i===void 0?0:i;return{move:{x:n,y:o}}},f0e=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,o=i===void 0?0:i,s=t.r1,a=t.r2,l=t.padding,c={move:{x:n,y:o}};return s!==void 0&&(c.r1={x:n+s/Math.sqrt(2),y:o+s/Math.sqrt(2)}),a!==void 0&&(c.r2={x:n+a/Math.sqrt(2),y:o+a/Math.sqrt(2)}),l!==void 0&&(c.padding={x:n+s+l,y:o}),c},h0e=function(t){var r=t.group,n=t.handles,i=t.r,o=i===void 0?10:i,s=r.selectAll("circle.handle").data(n);s.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(Fx().container(Si("g.annotations").node()).on("start",function(a){return a.start&&a.start(a)}).on("drag",function(a){return a.drag&&a.drag(a)}).on("end",function(a){return a.end&&a.end(a)})),r.selectAll("circle.handle").attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).attr("r",function(a){return a.r||o}).attr("class",function(a){return"handle "+(a.className||"")}),s.exit().remove()},PH=function(t,r){return(t==="dynamic"||t==="left"||t==="right")&&(r<0?t="top":t="bottom"),t},NH=function(t,r){return(t==="dynamic"||t==="top"||t==="bottom")&&(r<0?t="right":t="left"),t},p0e=["topBottom","top","bottom"],m0e=["leftRight","left","right"],g0e=function(e){var t=e.padding,r=t===void 0?0:t,n=e.bbox,i=n===void 0?{x:0,y:0,width:0,height:0}:n,o=e.align,s=e.orientation,a=e.offset,l=a===void 0?{x:0,y:0}:a,c=-i.x,u=0;return p0e.indexOf(s)!==-1?(o=NH(o,l.x),l.y<0&&s==="topBottom"||s==="top"?u-=i.height+r:u+=r,o==="middle"?c-=i.width/2:o==="right"&&(c-=i.width)):m0e.indexOf(s)!==-1&&(o=PH(o,l.y),l.x<0&&s==="leftRight"||s==="left"?c-=i.width+r:c+=r,o==="middle"?u-=i.height/2:o==="top"&&(u-=i.height)),{x:c,y:u}},vs=function(t){var r=t.data,n=t.curve,i=n===void 0?wl:n,o=t.canvasContext,s=t.className,a=t.classID,l=lg().curve(i),c={type:"path",className:s,classID:a,data:r};return o?(l.context(o),c.pathMethods=l):c.attrs={d:l(r)},c},Wx=function(t){var r=t.data,n=t.canvasContext,i=t.className,o=t.classID,s={type:"path",className:i,classID:o,data:r},a=eS().innerRadius(r.innerRadius||0).outerRadius(r.outerRadius||r.radius||2).startAngle(r.startAngle||0).endAngle(r.endAngle||2*Math.PI);return n?(a.context(n),s.pathMethods=lineGen):s.attrs={d:a()},s},y0e=function(e){var t=e.align,r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.bbox,a=e.offset;t=PH(t,a.y),t==="top"?o-=s.height:t==="middle"&&(o-=s.height/2);var l=[[n,o],[n,o+s.height]];return{components:[vs({data:l,className:"note-line"})]}},v0e=function(e){var t=e.align,r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.offset,a=e.bbox;t=NH(t,s.x),t==="right"?n-=a.width:t==="middle"&&(n-=a.width/2);var l=[[n,o],[n+a.width,o]];return{components:[vs({data:l,className:"note-line"})]}},RH=function(t){var r=t.type,n=t.subjectType,i=r.annotation,o=i.position,s=i.x-o.x,a=s+i.dx,l=i.y-o.y,c=l+i.dy,u=i.subject;if(n==="circle"&&(u.outerRadius||u.radius)){var d=Math.sqrt((s-a)*(s-a)+(l-c)*(l-c)),f=Math.asin(-c/d),p=u.outerRadius||u.radius+(u.radiusPadding||0);s=Math.abs(Math.cos(f)*p)*(a<0?-1:1),l=Math.abs(Math.sin(f)*p)*(c<0?-1:1)}if(n==="rect"){var m=u.width,v=u.height;(m>0&&i.dx>0||m<0&&i.dx<0)&&(Math.abs(m)>Math.abs(i.dx)?s=m/2:s=m),(v>0&&i.dy>0||v<0&&i.dy<0)&&(Math.abs(v)>Math.abs(i.dy)?l=v/2:l=v),s===m/2&&l===v/2&&(s=a,l=c)}return[[s,l],[a,c]]},x0e=function(e){var t=RH(e);return{components:[vs({data:t,className:"connector"})]}},b0e=function(e){var t=e.type,r=e.subjectType,n=t.annotation,i=n.position,o=n.x-i.x,s=o+n.dx,a=n.y-i.y,l=a+n.dy,c=n.subject;if(r==="rect"){var u=c.width,d=c.height;(u>0&&n.dx>0||u<0&&n.dx<0)&&(Math.abs(u)>Math.abs(n.dx)?o=u/2:o=u),(d>0&&n.dy>0||d<0&&n.dy<0)&&(Math.abs(d)>Math.abs(n.dy)?a=d/2:a=d),o===u/2&&a===d/2&&(o=s,a=l)}var f=[[o,a],[s,l]],p=l-a,m=s-o,v=s,g=l,x=l<a&&s>o||s<o&&l>a?-1:1;if(Math.abs(m)<Math.abs(p)?(v=s,g=a+m*x):(g=l,v=o+p*x),r==="circle"&&(c.outerRadius||c.radius)){var _=(c.outerRadius||c.radius)+(c.radiusPadding||0),w=_/Math.sqrt(2);if(Math.abs(m)>w&&Math.abs(p)>w)o=w*(s<0?-1:1),a=w*(l<0?-1:1),f=[[o,a],[v,g],[s,l]];else if(Math.abs(m)>Math.abs(p)){var b=Math.asin(-l/_);o=Math.abs(Math.cos(b)*_)*(s<0?-1:1),f=[[o,l],[s,l]]}else{var k=Math.acos(s/_);a=Math.abs(Math.sin(k)*_)*(l<0?-1:1),f=[[s,a],[s,l]]}}else f=[[o,a],[v,g],[s,l]];return{components:[vs({data:f,className:"connector"})]}},_0e=function(e){var t=e.type,r=e.connectorData,n=e.subjectType;r||(r={}),(!r.points||typeof r.points=="number")&&(r.points=w0e(t.annotation.offset,r.points)),r.curve||(r.curve=rS);var i=[];if(t.editMode){var o=r.points.map(function(c,u){return hi({},d0e({cx:c[0],cy:c[1]}),{index:u})}),s=function(u){r.points[u][0]+=Xe.dx,r.points[u][1]+=Xe.dy,t.redrawConnector()};i=t.mapHandles(o.map(function(c){return hi({},c.move,{drag:s.bind(t,c.index)})}))}var a=RH({type:t,subjectType:n});a=[a[0]].concat(l0e(r.points),[a[1]]);var l=[vs({data:a,curve:r.curve,className:"connector"})];return{components:l,handles:i}},w0e=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n={x:t.x/(r+1),y:t.y/(r+1)},i=[],o=1;o<=r;o++)i.push([n.x*o+o%2*20,n.y*o-o%2*20]);return i},C0e=function(e){var t=e.annotation,r=e.start,n=e.end,i=e.scale,o=i===void 0?1:i,s=t.position;r?r=[-n[0]+r[0],-n[1]+r[1]]:r=[t.dx,t.dy],n||(n=[t.x-s.x,t.y-s.y]);var a=n[0],l=n[1],c=r[0],u=r[1],d=10*o,f=16/180*Math.PI,p=Math.atan(u/c);c<0&&(p+=Math.PI);var m=[[a,l],[Math.cos(p+f)*d+a,Math.sin(p+f)*d+l],[Math.cos(p-f)*d+a,Math.sin(p-f)*d+l],[a,l]];return{components:[vs({data:m,className:"connector-end connector-arrow",classID:"connector-end"})]}},D0e=function(e){var t=e.line,r=e.scale,n=r===void 0?1:r,i=Wx({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(n)}});return i.attrs.transform="translate("+t.data[0][0]+", "+t.data[0][1]+")",{components:[i]}},M0e=function(e){var t=e.subjectData,r=e.type;!t.radius&&!t.outerRadius&&(t.radius=20);var n=[],i=Wx({data:t,className:"subject"});if(r.editMode){var o=f0e({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:t.radiusPadding}),s=function(c){var u=t[c]+Xe.dx*Math.sqrt(2);t[c]=u,r.redrawSubject(),r.redrawConnector()},a=[hi({},o.r1,{drag:s.bind(r,t.outerRadius!==void 0?"outerRadius":"radius")})];t.innerRadius&&a.push(hi({},o.r2,{drag:s.bind(r,"innerRadius")})),n=r.mapHandles(a)}return i.attrs["fill-opacity"]=0,{components:[i],handles:n}},S0e=function(e){var t=e.subjectData,r=e.type;t.width||(t.width=100),t.height||(t.height=100);var n=[],i=t.width,o=t.height,s=[[0,0],[i,0],[i,o],[0,o],[0,0]],a=vs({data:s,className:"subject"});if(r.editMode){var l=function(){t.width=Xe.x,r.redrawSubject(),r.redrawConnector()},c=function(){t.height=Xe.y,r.redrawSubject(),r.redrawConnector()},u=[{x:i,y:o/2,drag:l.bind(r)},{x:i/2,y:o,drag:c.bind(r)}];n=r.mapHandles(u)}return a.attrs["fill-opacity"]=.1,{components:[a],handles:n}},E0e=function(e){var t=e.subjectData,r=e.type,n=r.annotation.position,i=(t.x1!==void 0?t.x1:n.x)-n.x,o=(t.x2!==void 0?t.x2:n.x)-n.x,s=(t.y1!==void 0?t.y1:n.y)-n.y,a=(t.y2!==void 0?t.y2:n.y)-n.y,l=[[i,s],[o,a]];return{components:[vs({data:l,className:"subject"})]}},T0e=function(e){var t=e.subjectData,r=t===void 0?{}:t,n=e.type,i=n===void 0?{}:n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.typeSettings&&i.typeSettings.subject;r.radius||(s&&s.radius?r.radius=s.radius:r.radius=14),r.x||s&&s.x&&(r.x=s.x),r.y||s&&s.y&&(r.y=s.y);var a=[],l=[],c=r.radius,u=c*.7,d=0,f=0,p=Math.sqrt(2)*c,m={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-p,xright:p,ytop:-p,ybottom:p};r.x&&!r.y?d=m["x"+r.x]:r.y&&!r.x?f=m["y"+r.y]:r.x&&r.y&&(d=m["x"+r.x+"corner"],f=m["y"+r.y+"corner"]);var v="translate("+d+", "+f+")",g=Wx({className:"subject",data:{radius:c}});g.attrs.transform=v,g.attrs.fill=o.color,g.attrs["stroke-linecap"]="round",g.attrs["stroke-width"]="3px";var x=Wx({className:"subject-ring",data:{outerRadius:c,innerRadius:u}});x.attrs.transform=v,x.attrs["stroke-width"]="3px",x.attrs.fill="white";var _=void 0;if(d&&f||!d&&!f)_=vs({className:"subject-pointer",data:[[0,0],[d||0,0],[0,f||0],[0,0]]});else if(d||f){var w=function(z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return z&&z/Math.sqrt(2)/Math.sqrt(2)||B*c/Math.sqrt(2)};_=vs({className:"subject-pointer",data:[[0,0],[w(d),w(f)],[w(d,-1),w(f,-1)],[0,0]]})}if(_&&(_.attrs.fill=o.color,_.attrs["stroke-linecap"]="round",_.attrs["stroke-width"]="3px",l.push(_)),i.editMode){var b=function(){r.x=Xe.x<-c*2?"left":Xe.x>c*2?"right":void 0,r.y=Xe.y<-c*2?"top":Xe.y>c*2?"bottom":void 0,i.redrawSubject()},k={x:d*2,y:f*2,drag:b.bind(i)};!k.x&&!k.y&&(k.y=-c),a=i.mapHandles([k])}var E=void 0;return r.text&&(E={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:r.text,"text-anchor":"middle",dy:".25em",x:d,y:f}}),l.push(g),l.push(x),l.push(E),{components:l,handles:a}},FH=function(){function e(t){var r=t.a,n=t.annotation,i=t.editMode,o=t.dispatcher,s=t.notePadding,a=t.accessors;if(Uf(this,e),this.a=r,this.note=n.disable.indexOf("note")===-1&&r.select("g.annotation-note"),this.noteContent=this.note&&r.select("g.annotation-note-content"),this.connector=n.disable.indexOf("connector")===-1&&r.select("g.annotation-connector"),this.subject=n.disable.indexOf("subject")===-1&&r.select("g.annotation-subject"),this.dispatcher=o,o){var l=I0e.bind(null,o,n);l({component:this.note,name:"note"}),l({component:this.connector,name:"connector"}),l({component:this.subject,name:"subject"})}this.annotation=n,this.editMode=n.editMode||i,this.notePadding=s!==void 0?s:3,this.offsetCornerX=0,this.offsetCornerY=0,a&&n.data&&this.init(a)}return $f(e,[{key:"init",value:function(r){this.annotation.x||this.mapX(r),this.annotation.y||this.mapY(r)}},{key:"mapY",value:function(r){r.y&&(this.annotation.y=r.y(this.annotation.data))}},{key:"mapX",value:function(r){r.x&&(this.annotation.x=r.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(r,n){var i=this;Array.isArray(n)||(n=[n]),n.filter(function(o){return o}).forEach(function(o){var s=o.type,a=o.className,l=o.attrs,c=o.handles,u=o.classID;if(s==="handle")h0e({group:r,r:l&&l.r,handles:c});else{ys(r,[i.annotation],s,a,u);for(var d=r.select(s+"."+(u||a)),f=Object.keys(l),p=[],m=d.node().attributes,v=m.length-1;v>=0;v--){var g=m[v].name;f.indexOf(g)===-1&&g!=="class"&&p.push(g)}f.forEach(function(x){x==="text"?d.text(l[x]):d.attr(x,l[x])}),p.forEach(function(x){return d.attr(x,null)})}})}},{key:"getNoteBBox",value:function(){return OH(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var r=OH(this.note,".annotation-note-content"),n=this.noteContent.attr("transform").split(/\(|\,|\)/g);return r.offsetCornerX=parseFloat(n[1])+this.annotation.dx,r.offsetCornerY=parseFloat(n[2])+this.annotation.dy,r.offsetX=this.annotation.dx,r.offsetY=this.annotation.dy,r}},{key:"drawSubject",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.subject,o=n.type,s={type:this,subjectData:i},a={};o==="circle"?a=M0e(s):o==="rect"?a=S0e(s):o==="threshold"?a=E0e(s):o==="badge"&&(a=T0e(s,this.annotation));var l=a,c=l.components,u=c===void 0?[]:c,d=l.handles,f=d===void 0?[]:d;return u.forEach(function(p){p&&p.attrs&&!p.attrs.stroke&&(p.attrs.stroke=r.annotation.color)}),this.editMode&&(f=f.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),u.push({type:"handle",handles:f})),u}},{key:"drawConnector",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.connector,o=i.type||n.type,s={type:this,connectorData:i};s.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var a={};o==="curve"?a=_0e(s):o==="elbow"?a=b0e(s):a=x0e(s);var l=a,c=l.components,u=c===void 0?[]:c,d=l.handles,f=d===void 0?[]:d,p=u[0];p&&(p.attrs.stroke=this.annotation.color,p.attrs.fill="none");var m=i.end||n.end,v={};if(m==="arrow"){var g=p.data[1],x=p.data[0],_=Math.sqrt(Math.pow(g[0]-x[0],2)+Math.pow(g[1]-x[1],2));_<5&&p.data[2]&&(g=p.data[2]),v=C0e({annotation:this.annotation,start:g,end:x,scale:i.endScale})}else m==="dot"?v=D0e({line:p,scale:i.endScale}):(!m||m==="none")&&this.connector&&this.connector.select(".connector-end").remove();return v.components&&(v.components.forEach(function(w){w.attrs.fill=r.annotation.color,w.attrs.stroke=r.annotation.color}),u=u.concat(v.components)),this.editMode&&f.length!==0&&u.push({type:"handle",handles:f}),u}},{key:"drawNote",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.note,o=i.align||n.align||"dynamic",s={bbox:n.bbox,align:o,offset:this.annotation.offset},a=i.lineType||n.lineType,l={};a==="vertical"?l=y0e(s):a==="horizontal"&&(l=v0e(s));var c=l,u=c.components,d=u===void 0?[]:u,f=c.handles,p=f===void 0?[]:f;if(d.forEach(function(x){x.attrs.stroke=r.annotation.color}),this.editMode){p=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),d.push({type:"handle",handles:p});var m=this.dragNote.bind(this),v=this.dragstarted.bind(this),g=this.dragended.bind(this);this.note.call(Fx().container(Si("g.annotations").node()).on("start",function(x){return v(x)}).on("drag",function(x){return m(x)}).on("end",function(x){return g(x)}))}else this.note.on("mousedown.drag",null);return d}},{key:"drawNoteContent",value:function(r){var n=this.annotation.note,i=n.padding!==void 0?n.padding:this.notePadding,o=n.orientation||r.orientation||"topBottom",s=n.lineType||r.lineType,a=n.align||r.align||"dynamic";s==="vertical"?o="leftRight":s==="horizontal"&&(o="topBottom");var l={padding:i,bbox:r.bbox,offset:this.annotation.offset,orientation:o,align:a},c=g0e(l),u=c.x,d=c.y;return this.offsetCornerX=u+this.annotation.dx,this.offsetCornerY=d+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+u+", "+d+")"),[]}},{key:"drawOnScreen",value:function(r,n){return this.drawOnSVG(r,n)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:r})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:r}))}},{key:"setPosition",value:function(){var r=this.annotation.position;this.a.attr("transform","translate("+r.x+", "+r.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var r=this.annotation.offset;this.note.attr("transform","translate("+r.x+", "+r.y+")")}}},{key:"setPositionWithAccessors",value:function(r){r&&this.annotation.data&&(this.mapX(r),this.mapY(r)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){Xe.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var r=this.annotation.position;r.x+=Xe.dx,r.y+=Xe.dy,this.annotation.position=r}},{key:"dragNote",value:function(){var r=this.annotation.offset;r.x+=Xe.dx,r.y+=Xe.dy,this.annotation.offset=r}},{key:"mapHandles",value:function(r){var n=this;return r.map(function(i){return hi({},i,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})})}}]),e}(),Cl=function(t,r,n){return function(i){sS(o,i);function o(s){Uf(this,o);var a=aS(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,s));return a.typeSettings=r,r.disable&&r.disable.forEach(function(l){a[l]&&a[l].remove(),a[l]=void 0,l==="note"&&(a.noteContent=void 0)}),a}return $f(o,[{key:"className",value:function(){return""+(r.className||ua(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"className",this)&&ua(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(a){return this.typeSettings.subject=hi({},r.subject,this.typeSettings.subject),ua(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawSubject",this).call(this,hi({},a,this.typeSettings.subject))}},{key:"drawConnector",value:function(a){return this.typeSettings.connector=hi({},r.connector,this.typeSettings.connector),ua(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawConnector",this).call(this,hi({},a,r.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(a){return this.typeSettings.note=hi({},r.note,this.typeSettings.note),ua(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawNote",this).call(this,hi({},a,r.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(a){return ua(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawNoteContent",this).call(this,hi({},a,r.note,this.typeSettings.note))}}],[{key:"init",value:function(a,l){return ua(o.__proto__||Object.getPrototypeOf(o),"init",this).call(this,a,l),n&&(a=n(a,l)),a}}]),o}(t)},qx=function(e){sS(t,e);function t(r){Uf(this,t);var n=aS(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.textWrap=r.textWrap||120,n.drawText(),n}return $f(t,[{key:"updateTextWrap",value:function(n){this.textWrap=n,this.drawText()}},{key:"drawText",value:function(){if(this.note){ys(this.note,[this.annotation],"g","annotation-note-content");var n=this.note.select("g.annotation-note-content");ys(n,[this.annotation],"rect","annotation-note-bg"),ys(n,[this.annotation],"text","annotation-note-label"),ys(n,[this.annotation],"text","annotation-note-title");var i={height:0},o=this.a.select("text.annotation-note-label"),s=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,a=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,l=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,c={top:0,bottom:0,left:0,right:0};if(typeof l=="number"?c={top:l,bottom:l,left:l,right:l}:l&&(typeof l>"u"?"undefined":a0e(l))==="object"&&(c=hi(c,l)),this.annotation.note.title){var u=this.a.select("text.annotation-note-title");u.text(this.annotation.note.title),u.attr("fill",this.annotation.color),u.attr("font-weight","bold"),u.call(AH,s,a),i=u.node().getBBox()}o.text(this.annotation.note.label).attr("dx","0"),o.call(AH,s,a),o.attr("y",i.height*1.1||0),o.attr("fill",this.annotation.color);var d=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",d.width+c.left+c.right).attr("height",d.height+c.top+c.bottom).attr("x",d.x-c.left).attr("y",-c.top).attr("fill","white").attr("fill-opacity",0)}}}]),t}(FH),LH=Cl(qx,{className:"label",note:{align:"middle"}}),zf=Cl(qx,{className:"callout",note:{lineType:"horizontal"}}),Not=Cl(zf,{className:"callout elbow",connector:{type:"elbow"}}),jH=Cl(zf,{className:"callout curve",connector:{type:"curve"}}),Rot=Cl(FH,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),VH=Cl(qx,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),Fot=Cl(qx,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),k0e=function(e){sS(t,e);function t(){return Uf(this,t),aS(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $f(t,[{key:"mapY",value:function(n){ua(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapY",this).call(this,n);var i=this.annotation;(i.subject.x1||i.subject.x2)&&i.data&&n.y&&(i.y=n.y(i.data)),(i.subject.x1||i.subject.x2)&&!i.x&&(i.x=i.subject.x1||i.subject.x2)}},{key:"mapX",value:function(n){ua(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapX",this).call(this,n);var i=this.annotation;(i.subject.y1||i.subject.y2)&&i.data&&n.x&&(i.x=n.x(i.data)),(i.subject.y1||i.subject.y2)&&!i.y&&(i.y=i.subject.y1||i.subject.y2)}}]),t}(zf),Lot=Cl(k0e,{className:"callout xythreshold",subject:{type:"threshold"}}),ys=function(t,r,n,i,o){var s=t.selectAll(n+"."+(o||i)).data(r);return s.enter().append(n).merge(s).attr("class",i),s.exit().remove(),t},I0e=function(t,r,n){var i=n.component,o=n.name;i&&i.on("mouseover.annotations",function(){t.call(o+"over",i,r)}).on("mouseout.annotations",function(){return t.call(o+"out",i,r)}).on("click.annotations",function(){return t.call(o+"click",i,r)})},AH=function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1.2;t.each(function(){for(var o=Si(this),s=o.text().split(n||/[ \t\r\n]+/).reverse().filter(function(u){return u!==""}),a=void 0,l=[],c=o.text(null).append("tspan").attr("x",0).attr("dy",.8+"em");a=s.pop();)l.push(a),c.text(l.join(" ")),c.node().getComputedTextLength()>r&&l.length>1&&(l.pop(),c.text(l.join(" ")),l=[a],c=o.append("tspan").attr("x",0).attr("dy",i+"em").text(a))})},OH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:":not(.handle)";return t?t.selectAll(r).nodes().reduce(function(n,i){var o=i.getBBox();n.x=Math.min(n.x,o.x),n.y=Math.min(n.y,o.y),n.width=Math.max(n.width,o.width);var s=i&&i.attributes&&i.attributes.y;return n.height=Math.max(n.height,(s&&parseFloat(s.value)||0)+o.height),n},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function UH(){var e=[],t=void 0,r=void 0,n=[],i={},o={},s=!1,a=void 0,l=zf,c=void 0,u=void 0,d=rg("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),f=void 0,p=function(v){f=v,s||v.selectAll("circle.handle").remove();var g=e.map(function(b){return b.type||(b.type=l),b.disable||(b.disable=n),new c0e(b)});t=t||new u0e({annotations:g,accessors:i,accessorsInverse:o,ids:a});var x=v.selectAll("g").data([t]);x.enter().append("g").attr("class","annotations");var _=v.select("g.annotations");ys(_,t.annotations,"g","annotation");var w=_.selectAll("g.annotation");w.each(function(b){var k=Si(this);k.attr("class","annotation"),ys(k,[b],"g","annotation-connector"),ys(k,[b],"g","annotation-subject"),ys(k,[b],"g","annotation-note"),ys(k.select("g.annotation-note"),[b],"g","annotation-note-content"),b.type=b.type.toString()==="[object Object]"?b.type:new b.type({a:k,annotation:b,textWrap:c,notePadding:u,editMode:s,dispatcher:d,accessors:i}),b.type.draw(),b.type.drawText&&b.type.drawText()})};return p.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",t.json),window.copy(JSON.stringify(t.json.map(function(m){return delete m.type,m}))),p},p.update=function(){return e&&t&&(e=t.annotations.map(function(m){return m.type.draw(),m})),p},p.updateText=function(){return t&&(t.updateText(c),e=t.annotations),p},p.updatedAccessors=function(){return t.setPositionWithAccessors(),e=t.annotations,p},p.disable=function(m){return arguments.length?(n=m,t&&(t.updateDisable(n),e=t.annotations),p):n},p.textWrap=function(m){return arguments.length?(c=m,t&&(t.updateTextWrap(c),e=t.annotations),p):c},p.notePadding=function(m){return arguments.length?(u=m,t&&(t.updateNotePadding(u),e=t.annotations),p):u},p.type=function(m,v){return arguments.length?(l=m,t&&(t.annotations.map(function(g){g.type.note&&g.type.note.selectAll("*:not(.annotation-note-content)").remove(),g.type.noteContent&&g.type.noteContent.selectAll("*").remove(),g.type.subject&&g.type.subject.selectAll("*").remove(),g.type.connector&&g.type.connector.selectAll("*").remove(),g.type.typeSettings={},g.type=l,g.subject=v&&v.subject||g.subject,g.connector=v&&v.connector||g.connector,g.note=v&&v.note||g.note}),e=t.annotations),p):l},p.annotations=function(m){if(!arguments.length)return t&&t.annotations||e;if(e=m,t&&t.annotations){var v=e.some(function(g){return!g.type||g.type.toString()!=="[object Object]"});v?(t=null,p(f)):t.annotations=e}return p},p.context=function(m){return arguments.length?(r=m,p):r},p.accessors=function(m){return arguments.length?(i=m,p):i},p.accessorsInverse=function(m){return arguments.length?(o=m,p):o},p.ids=function(m){return arguments.length?(a=m,p):a},p.editMode=function(m){return arguments.length?(s=m,f&&f.selectAll("g.annotation").classed("editable",s),t&&(t.editMode(s),e=t.annotations),p):s},p.collection=function(m){return arguments.length?(t=m,p):t},p.on=function(){var m=d.on.apply(d,arguments);return m===d?p:m},p}var $H=(()=>{let t=class t{constructor(){this.showAnnotations=!1,this.showDownload=!1,this.isLoading=!0,this.parseTime=w3,this.formatTime=_3}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.createChart()}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}createChart(){al("assets/datasets/bitcoin.csv",Zs).then(n=>{let i=null,o={top:20,right:30,bottom:50,left:40},s=1200,a=600;this.destroyChart(Q("#line-chart")),i=Q("#line-chart").append("svg").attr("width",s).attr("height",a).append("g").attr("transform",`translate(${o.left},${o.top})`);let l=aa().domain(yn(n,v=>v.date)).range([o.left,s-o.right]),c=Ye().domain([0,ct(n,v=>v.value)]).nice().range([a-o.bottom,o.top]),u=v=>v.attr("transform",`translate(0,${a-o.bottom})`).attr("class","x-axis").call(fn(l).ticks(s/80).tickSizeOuter(0)),d=v=>v.attr("transform",`translate(${o.left},0)`).attr("class","y-axis").call(Bt(c)).call(g=>g.select(".tick:last-of-type text").clone().attr("x",3).attr("text-anchor","start").attr("font-weight","bold").text(n[1].y)),f=zr().defined(v=>!isNaN(v.value)).x(v=>l(v.date)).y(v=>c(v.value));i.append("g").call(u),i.append("g").call(d),i.append("path").datum(n).attr("fill","none").attr("stroke","#3172bc").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",f);let p=[{id:"bitcoin-cash-fork",note:{label:"Bitcoin splits into Bitcoins and Bitcoin Cash",title:"08-01-2017"},data:this.getDateData("1991-12-31T23:00Z",n),dx:-15,dy:-57},{id:"china-shutdown-exchanges",note:{label:"China shuts down all crypto exchanges",title:"09-15-2017"},data:this.getDateData("1995-12-31T23:00Z",n),dx:-18,dy:-50},{id:"segwit-2x-delayed",type:zf,note:{label:"Segwit2X delayed",title:"11-08-2017"},data:this.getDateData("1985-12-31T23:00Z",n),dx:-2,dy:104},{id:"cross-ten-thousand",type:jH,note:{label:"First time over $10k",title:"2000-12-31T23:00Z"},connector:{points:[[-9,-24],[-30,-44.6]]},data:this.getDateData("2005-12-31T23:00Z",n),dx:-53,dy:-47},{id:"all-time-high",note:{label:"First time over $20k",title:"12-16-2017"},data:this.getDateData("2010-12-31T23:00Z",n),dx:-102,dy:2},{id:"segwit-2x-hard-fork",note:{label:"Segwit2X hard fork",title:"12-29-2017"},data:this.getDateData("2015-12-31T23:00Z",n),dx:-4,dy:89},{id:"valley-of-uncertainty",note:{label:"What caused this rapid drop + rebound?",title:"Jan - Feb '18"},color:"#ef4837",x:803,y:336,dx:-5,dy:115,subject:{radius:52,radiusPadding:5},type:VH}],m=this.getAnnotations(p,l,c,this.parseTime,this.formatTime);this.applyAnnotations(m,i)}).catch(n=>console.log(n))}toggleAnnotations(){this.showAnnotations=!this.showAnnotations,this.createChart()}setDownload(){this.showDownload=!this.showDownload}getDateData(n,i){let o=i.filter(s=>this.daysAreEqual(s.date,this.parseTime(n)));return{date:n,close:o[0].value}}daysAreEqual(n,i){return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()&&n.getFullYear()==i.getFullYear()}applyAnnotations(n,i){Q(i.node()).append("g").attr("class","annotation-group").call(n)}getAnnotations(n,i,o,s,a){return console.log(this.showAnnotations),UH().editMode(this.showAnnotations).type(LH).accessors({x:c=>i(s(c.date)),y:c=>o(c.close)}).accessorsInverse({date:c=>a(i.invert(c.x)),close:c=>o.invert(c.y)}).annotations(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["app-d3-line-chart"]],decls:17,vars:1,consts:[[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/funnel",1,"button","button2"],[3,"loading"],[1,"panel-body"],["type","checkbox",3,"change"],["id","line-chart"]],template:function(i,o){i&1&&(R(0,"header")(1,"div",0)(2,"h1"),H(3,"Bitcoin Performance"),N(),R(4,"div",1)(5,"button",2),H(6,"\xAB Home"),N(),R(7,"button",3),ie("click",function(){return o.setDownload()}),H(8,"Download Image JPG"),N(),R(9,"button",4),H(10,"Next \xBB"),N()()()(),R(11,"single-card",5)(12,"div",6)(13,"label")(14,"input",7),ie("change",function(){return o.toggleAnnotations()}),N(),H(15," Show Annotations "),N(),re(16,"div",8),N()()),i&2&&(q(11),Y("loading",o.isLoading))},dependencies:[xt,Mt],styles:["#line-chart[_ngcontent-%COMP%]{margin:20}"]});let e=t;return e})();var zH=(()=>{let t=class t{constructor(n){this.route=n,this.activatedRoute="",this.route.url.subscribe(i=>{this.activatedRoute=i[0].path})}};t.\u0275fac=function(i){return new(i||t)(Z(kn))},t.\u0275cmp=he({type:t,selectors:[["finance-dashboard"]],decls:29,vars:0,consts:[["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[1,"grid"],[1,"column"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"Financial Derivatives"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),H(9,"Next \xBB"),N()()()()(),R(10,"div",5)(11,"div",6),re(12,"funnel-chart"),N(),R(13,"div",6),re(14,"funnel-chart"),N(),R(15,"div",6),re(16,"funnel-chart"),N(),R(17,"div",6),re(18,"funnel-chart"),N(),R(19,"div",6),re(20,"funnel-chart"),N(),R(21,"div",6),re(22,"funnel-chart"),N(),R(23,"div",6),re(24,"funnel-chart"),N(),R(25,"div",6),re(26,"funnel-chart"),N(),R(27,"div",6),re(28,"funnel-chart"),N()())},dependencies:[xt,Tx],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.column[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var A0e=["chartContainer"],BH=(()=>{let t=class t{constructor(n){this.http=n,this.data=[],this.width=928,this.height=928,this.innerRadius=180,this.outerRadius=Math.min(this.width,this.height)/2,this.margin={top:20,right:20,bottom:20,left:20},this.radius=Math.min(this.width,this.height)/2,this.isLoading=!0}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.loadData()}loadData(){return gr(this,null,function*(){try{let n=yield al("assets/datasets/age_csv_data.csv");this.data=n.columns.slice(1).flatMap(i=>n.map(o=>({state:o.State,age:i,population:o[i]}))),this.createChart()}catch(n){console.error("Error loading data:",n)}})}createChart(){this.svg=Q(this.chartContainer.nativeElement).append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",[-this.width/1.2,-this.height/2,this.width*2,this.height*2]).attr("style","width: 100%; height: auto; font: 10px sans-serif;");let n=ps().keys(Cd(this.data.map(l=>l.age))).value((l,c)=>l[1].get(c).population)(Dp(this.data,l=>l.state,l=>l.age)),i=cn().domain(this.data.map(l=>l.state)).range([0,2*Math.PI]).align(0),o=lf().domain([0,ct(n,l=>ct(l,c=>c[1]))]).range([this.innerRadius,this.outerRadius]),s=_t().domain(n.map(l=>l.key)).range(Um[n.length]).unknown("#ccc"),a=On().innerRadius(l=>o(l[0])).outerRadius(l=>o(l[1])).startAngle(l=>i(l.data[0])).endAngle(l=>i(l.data[0])+i.bandwidth()).padAngle(1.5/this.innerRadius).padRadius(this.innerRadius);this.svg.append("g").selectAll("g").data(n).join("g").attr("fill",l=>s(l.key)).selectAll("path").data(l=>l.map(c=>(c.key=l.key,c))).join("path").attr("d",a).append("title").text(l=>`${l.data[0]} ${l.key}
${this.formatValue(l.data[1].get(l.key).population)}`),this.drawXAxis(i),this.drawYAxis(o),this.drawLegend(s)}drawXAxis(n){this.svg.append("g").attr("text-anchor","middle").selectAll("g").data(n.domain()).join("g").attr("transform",i=>`
          rotate(${(n(i)+n.bandwidth()/2)*180/Math.PI-90})
          translate(${this.innerRadius},0)
        `).call(i=>i.append("line").attr("x2",-5).attr("stroke","#000")).call(i=>i.append("text").attr("transform",o=>(n(o)+n.bandwidth()/2+Math.PI/2)%(2*Math.PI)<Math.PI?"rotate(90)translate(0,16)":"rotate(-90)translate(0,-9)").text(o=>o))}drawYAxis(n){this.svg.append("g").attr("text-anchor","middle").call(i=>i.append("text").attr("y",o=>-n(n.ticks(5).pop())).attr("dy","-1em").text("Population")).call(i=>i.selectAll("g").data(n.ticks(5).slice(1)).join("g").attr("fill","none").call(o=>o.append("circle").attr("stroke","#000").attr("stroke-opacity",.5).attr("r",n)).call(o=>o.append("text").attr("y",s=>-n(s)).attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).text(n.tickFormat(5,"s")).clone(!0).attr("fill","#000").attr("stroke","none")))}drawLegend(n){this.svg.append("g").selectAll("g").data(n.domain()).join("g").attr("transform",(i,o,s)=>`translate(-40,${(s.length/2-o-1)*20})`).call(i=>i.append("rect").attr("width",18).attr("height",18).attr("fill",n)).call(i=>i.append("text").attr("x",24).attr("y",9).attr("dy","0.35em").text(o=>o))}formatValue(n){return isNaN(n)?"N/A":n.toLocaleString("en")}};t.\u0275fac=function(i){return new(i||t)(Z(zt))},t.\u0275cmp=he({type:t,selectors:[["app-radial-stacked-bar-chart"]],viewQuery:function(i,o){if(i&1&&lr(A0e,5),i&2){let s;Xn(s=Qn())&&(o.chartContainer=s.first)}},decls:5,vars:2,consts:[[3,"action","loading"],[1,"panel-body"],[1,"card"],[1,"chart-container"],["chartContainer",""]],template:function(i,o){i&1&&(R(0,"overlay",0)(1,"div",1)(2,"div",2),re(3,"div",3,4),N()()()),i&2&&Y("action","close")("loading",o.isLoading)},dependencies:[Rf],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-top-left-radius:4px;border-top-right-radius:4px;text-align:center;background-color:#f1f1f1;height:50rem;width:60%;margin:10rem 25rem}"]});let e=t;return e})();var Gx=(()=>{let t=class t{constructor(n){this.element=n,this.trades=[],this.productIds=["BTC-USD","ETH-USD","XRP-USD","XLM-USD","LTC-USD","BCH-USD","ZRX-USD","ALGO-USD","EOS-USD"],this.offset=0,this.margin={top:40,right:1,bottom:50,left:65},this.width=960,this.height=this.productIds.length*40,this.isLoading=!0,this.tooltip=Q("body").append("div").attr("id","tooltip").style("opacity",0),this.parentElement=this.element.nativeElement}getChartWidth(){return this.parentElement.getBoundingClientRect().width}ngOnInit(){}ngOnChanges(n){if(setTimeout(()=>this.isLoading=!1,2e3),n.trades.currentValue&&this.trades.length>0&&this.offset===0){let i=new Date;this.offset=this.trades[0].dateObj.getTime()-i.getTime(),this.trades=n.trades.currentValue,this.updateInterval=Hp(()=>this.updateChart(),20)}}ngAfterViewInit(){this.initializeChart()}ngOnDestroy(){this.updateInterval&&this.updateInterval.stop()}initializeChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove());let n=Q(this.parentElement);this.svg=this.svg=n.select("svg").attr("viewBox","-55, -20, 680, 600").attr("preserveAspectRatio","xMidYMid meet").attr("width",this.getChartWidth()/1.2).attr("height",this.height),this.tooltip=Q("body").append("div").attr("id","tooltip").style("opacity",0),this.x=aa().range([0,this.width]).domain(this.getTimeExtent()),this.y=cn().range([0,this.height]).domain(this.productIds).paddingOuter(.1),this.r=yl().domain([0,1]).range([0,this.height]).exponent(.4),this.xAxisBottom=fn(this.x).tickSizeOuter(0),this.xAxisTop=Yo(this.x).tickSizeOuter(0),this.yAxisLeft=Bt(this.y).tickSizeOuter(0),this.yAxisRight=e2(this.y).tickValues([]),this.svg.append("g").attr("id","grid-lines").selectAll(".grid-line").data(this.productIds).enter().append("line").attr("x1",0).attr("x2",this.width).attr("y1",i=>this.y(i)+this.y.bandwidth()/2).attr("y2",i=>this.y(i)+this.y.bandwidth()/2).attr("stroke","#f1efef").attr("stroke-width","1px"),this.parentElement=this.svg.append("svg").attr("width",this.width).attr("height",this.height),this.svg.append("g").attr("transform",`translate(0,${this.height})`).attr("id","xAxisBottom").attr("class","axis").call(this.xAxisBottom),this.svg.append("g").attr("id","xAxisTop").attr("class","x axis").call(this.xAxisTop),this.svg.append("g").attr("class","axis").call(this.yAxisLeft),this.svg.append("g").attr("class","axis").attr("transform",`translate(${this.width}, 0)`).call(this.yAxisRight)}getTimeExtent(){let n=new Date,i=new Date(n.getTime()+this.offset);return[new Date(i.getTime()-60*1e3),i]}updateChart(){let n=this.getTimeExtent();this.x.domain(n),this.trades=this.trades.filter(s=>s.dateObj>new Date(n[0].getTime()-5e3));let i=s=>`<div>
                    <p>Product Id: ${s.product_id} |
                    <p>Time: ${s.dateObj.toLocaleTimeString().replace(" ",".ms ")} |
                    <p>Last Size: ${s.last_size} |
                    <p>Best Bid Size: ${s.best_bid_size}</p> |
                    <p>Volume: <strong>(${Ze(" ,")(s.volume_24h)})</strong>
                    </p>
                </div>`,o=this.parentElement.selectAll("circle").data(this.trades,s=>s.trade_id);o.exit().remove(),o.enter().append("circle").on("mousemove",(s,a)=>{this.tooltip.html(i(a)).style("left",s.pageX-35+"px").style("top",s.pageY-30+"px").style("border-radius","10px").style("pointer-events","none").attr("transform",`translate(${s.pageX-35}, ${s.pageY-30})`),this.tooltip.transition().duration(100).style("opacity",1)}).on("mouseout",s=>{this.tooltip.transition().duration(100).style("opacity",0).style("display","").style("text-decoration","none")}).attr("class",s=>s.side).attr("stroke","1px").style("fill",s=>s.side==="buy"?"green":"#ff5959").attr("r",s=>this.r(s.last_size/s.volume_24h)).attr("cy",s=>this.y(s.product_id)+this.y.bandwidth()/2).merge(o).attr("cx",s=>this.x(s.dateObj)),Mn("#xAxisBottom").call(this.xAxisBottom),Mn("#xAxisTop").call(this.xAxisTop)}};t.\u0275fac=function(i){return new(i||t)(Z(ze))},t.\u0275cmp=he({type:t,selectors:[["animated-bubble"]],inputs:{trades:"trades",productIds:"productIds"},features:[Cn],decls:5,vars:1,consts:[[3,"loading"],[1,"panel-body"],[1,"chart-wrapper"],["id","img","width","1","height","1"],["width","1","height","1"]],template:function(i,o){i&1&&(R(0,"single-card",0)(1,"div",1)(2,"div",2),re(3,"img",3),Ut(),re(4,"svg",4),N()()()),i&2&&Y("loading",o.isLoading)},dependencies:[Mt],styles:[`a:not(:hover){text-decoration:none}#tooltip{position:absolute;padding:1px 3px;background:white;border:1px solid grey;border-radius:1px;pointer-events:none;text-align:center;white-space:nowrap}#tooltip p{margin:0;padding:0;font-size:10px}circle{fill:#c5d7ea;stroke:#000;stroke-width:.5px}.buy{fill:green}.sell{fill:#ff5959}.grid-line{stroke:#f1efef;stroke-width:1px}
`],encapsulation:2,changeDetection:0});let e=t;return e})();var HH=(()=>{let t=class t{constructor(){this.tradesSubject=new At([]),this.trades$=this.tradesSubject.asObservable()}connect(n){let i="wss://ws-feed-public.sandbox.exchange.coinbase.com";this.webSocket=new WebSocket(i);let o={type:"subscribe",channels:[{name:"ticker",product_ids:n}]};this.webSocket.onopen=()=>{this.webSocket.send(JSON.stringify(o))},this.webSocket.onmessage=s=>{let a=JSON.parse(s.data);if(a.type==="ticker"){a.dateObj=new Date(a.time);let l=this.tradesSubject.value;this.tradesSubject.next([...l,a])}},this.webSocket.onerror=s=>{console.error("WebSocket error:",s)},this.webSocket.onclose=()=>{console.log("WebSocket connection closed")}}disconnect(){this.webSocket&&this.webSocket.close()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function N0e(e,t){if(e&1&&(R(0,"div",7),re(1,"animated-bubble",8),N()),e&2){let r=Ue();q(1),Y("trades",r.trades)}}var WH=(()=>{let t=class t{constructor(n){this.webSocketService=n,this.trades=[],this.productIds=["BTC-USD","ETH-USD","XRP-USD","XLM-USD","LTC-USD","BCH-USD","ZRX-USD","ALGO-USD","EOS-USD"]}ngOnInit(){this.webSocketService.connect(this.productIds),this.subscription=this.webSocketService.trades$.subscribe(n=>{this.trades=n})}ngOnDestroy(){this.webSocketService.disconnect(),this.subscription&&this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(Z(HH))},t.\u0275cmp=he({type:t,selectors:[["app-bubble-realtime-dashboard"]],decls:12,vars:1,consts:[["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[1,"grid"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[3,"trades"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"Crypto Trade Monitor"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),H(9,"Next \xBB"),N()()()()(),R(10,"div",5),Te(11,N0e,2,1,"div",6),N()),i&2&&(q(11),Y("ngForOf",o.productIds))},dependencies:[dn,xt,Gx],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.column[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var qH=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["app-donut-realtime-dashboard"]],decls:29,vars:0,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/voronoi",1,"button","button2"],[1,"grid"],[1,"column"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"Browser Realtime Monitor"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),H(9,"Next \xBB"),N()()()()(),R(10,"div",5)(11,"div",6),re(12,"donut-race"),N(),R(13,"div",6),re(14,"donut-race"),N(),R(15,"div",6),re(16,"donut-race"),N(),R(17,"div",6),re(18,"donut-race"),N(),R(19,"div",6),re(20,"donut-race"),N(),R(21,"div",6),re(22,"donut-race"),N(),R(23,"div",6),re(24,"donut-race"),N(),R(25,"div",6),re(26,"donut-race"),N(),R(27,"div",6),re(28,"donut-race"),N()())},dependencies:[xt,Mx],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.column[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var R0e=["treeContainer"];function F0e(e,t){e&1&&(R(0,"div",14),H(1,"Loading MITRE ATT&CK data..."),N())}function L0e(e,t){if(e&1&&(R(0,"div",15),H(1),N()),e&2){let r=Ue();q(1),Ft(r.error)}}var GH=(()=>{let t=class t{constructor(n){this.http=n,this.dataUrl="https://raw.githubusercontent.com/mitre-attack/attack-stix-data/master/enterprise-attack/enterprise-attack-13.1.json",this.loading=!1,this.error=null,this.width=928,this.marginTop=10,this.marginRight=10,this.marginBottom=10,this.marginLeft=40,this.dx=10,this.techniques=[],this.subtechniques=[],this.tactics=[],this.matrix=[],this.subtechniqueOf=[],this.searchFilter="",this.filteredTechniques=[],this.filteredSubtechniques=[],this.areTechniquesCollapsed=!1,this.dy=(this.width-this.marginRight-this.marginLeft)/2}ngOnInit(){this.loadData()}ngOnDestroy(){this.svg&&this.svg.remove()}loadData(){return gr(this,null,function*(){this.loading=!0,this.error=null;try{let n=yield Rb(this.http.get(this.dataUrl));this.processData(n),this.initializeChart()}catch(n){this.error="Failed to load MITRE ATT&CK data",console.error("Error loading data:",n)}finally{this.loading=!1}})}processData(n){let i=n.objects;this.techniques=i.filter(o=>o.type==="attack-pattern"&&o.x_mitre_is_subtechnique===!1),this.subtechniques=i.filter(o=>o.type==="attack-pattern"&&o.x_mitre_is_subtechnique===!0),this.tactics=i.filter(o=>o.type==="x-mitre-tactic"),this.matrix=i.filter(o=>o.type==="x-mitre-matrix"),this.subtechniqueOf=i.filter(o=>o.type==="relationship"&&o.relationship_type==="subtechnique-of"),this.filteredTechniques=[...this.techniques],this.filteredSubtechniques=[...this.subtechniques]}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}initializeChart(){let n=this.buildAttackTree();this.root=Mr(n[0],i=>i.nodes),this.dy=(this.width-this.marginRight-this.marginLeft)/(1+this.root.height),this.tree=Cm().nodeSize([this.dx,this.dy]),this.diagonal=zm().x(i=>i.y).y(i=>i.x),this.destroyChart(this.svg),this.svg=Q("#tree-container").append("svg").attr("width",this.width*1.5).attr("height",this.dx).attr("viewBox",[-this.marginLeft,-this.marginTop,this.width,this.dx]).style("max-width","100%").style("height","auto").style("font","10px sans-serif").style("user-select","none"),this.gLink=this.svg.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),this.gNode=this.svg.append("g").attr("cursor","pointer").attr("pointer-events","all"),this.root.x0=this.dy/2,this.root.y0=0,this.root.descendants().forEach((i,o)=>{i.id=o,i._children=i.children,(i.data.type==="techniques"||i.data.type==="subtechnique")&&(i.children=null)}),this.update(null,this.root)}buildAttackTree(){return[this.getMatrix(this.matrix[0])]}getMatrix(n){return{type:"matrix",stix:n,nodes:this.getTactics()}}getTactics(){let n=[];for(let i of this.tactics){let o={type:"tactics",stix:i,nodes:this.getTechniques(i.x_mitre_shortname||"")};n.push(o)}return n}getTechniques(n){let i=[];for(let o of this.filteredTechniques)if((o.kill_chain_phases||[]).map(l=>l.phase_name).includes(n)){let l={type:"techniques",stix:o,nodes:this.getSubTechniques(o.id)};i.push(l)}return i.sort((o,s)=>o.stix.id.localeCompare(s.stix.id))}getSubTechniques(n){let i=[],o=this.subtechniqueOf.filter(s=>s.target_ref===n);for(let s of o){let a=s.source_ref,l=this.filteredSubtechniques.find(c=>c.id===a);if(l){let c={type:"subtechnique",stix:l,nodes:[]};i.push(c)}}return i.sort((s,a)=>s.stix.id.localeCompare(a.stix.id))}getNodeName(n){let i=n.data.stix,o=n.data.type,s="",a="";switch(o){case"tactics":case"techniques":case"subtechnique":s=i.name,a=i.external_references?.[0]?.external_id||"";break;case"matrix":s=i.name,a="";break;case"technique_detail":s="details",a="test";break;default:s=String(n)}return a?`${a}: ${s}`:s}highlightText(n,i){if(!i||!n)return n;let o=new RegExp(`(${i})`,"gi");return n.replace(o,'<span class="highlight">$1</span>')}update(n,i){let o=n?.altKey?2500:250,s=this.root.descendants().reverse(),a=this.root.links();this.tree(this.root);let l=this.root,c=this.root;this.root.eachBefore(x=>{x.x<l.x&&(l=x),x.x>c.x&&(c=x)});let u=c.x-l.x+this.marginTop+this.marginBottom,d=this.svg.transition().duration(o).attr("height",u).attr("viewBox",[-this.marginLeft-150,l.x-this.marginTop,this.width,u]),f=this.gNode.selectAll("g").data(s,x=>x.id),p=f.enter().append("g").attr("transform",`translate(${i.y0},${i.x0})`).attr("fill-opacity",0).attr("stroke-opacity",0).on("click",(x,_)=>{let w=(k,E)=>{k._children&&(k.children=E?null:k._children,k._children.forEach(V=>w(V,E)))},b=_.children!==null;w(_,b),this.update(x,_)});p.append("circle").attr("r",2.5).attr("fill",x=>x._children?"#555":"#999").attr("stroke-width",10),p.append("foreignObject").attr("x",x=>x._children?-150:15).attr("text-anchor",x=>x._children?"end":"start").attr("y",-5).attr("width",550).attr("height",15).append("xhtml:div").attr("class","node-text").style("font-size","10px").style("font-family","sans-serif").html(x=>{let _=this.getNodeName(x);return this.highlightText(_,this.searchFilter)}),f.merge(p).transition(d).attr("transform",x=>`translate(${x.y},${x.x})`).attr("fill-opacity",1).attr("stroke-opacity",1),f.select("foreignObject div").html(x=>{let _=this.getNodeName(x);return this.highlightText(_,this.searchFilter)}),f.exit().transition(d).remove().attr("transform",`translate(${i.y},${i.x})`).attr("fill-opacity",0).attr("stroke-opacity",0);let v=this.gLink.selectAll("path").data(a,x=>x.target.id),g=v.enter().append("path").attr("d",()=>{let x={x:i.x0,y:i.y0};return this.diagonal({source:x,target:x})});v.merge(g).transition(d).attr("d",this.diagonal),v.exit().transition(d).remove().attr("d",()=>{let x={x:i.x,y:i.y};return this.diagonal({source:x,target:x})}),this.root.eachBefore(x=>{x.x0=x.x,x.y0=x.y})}onSearchChange(){if(!this.searchFilter.trim())this.filteredTechniques=[...this.techniques],this.filteredSubtechniques=[...this.subtechniques];else{let n=this.searchFilter.toLowerCase(),i=this.techniques.filter(a=>a.name.toLowerCase().includes(n)||a.external_references?.[0]?.external_id.toLowerCase().includes(n)),o=this.subtechniques.filter(a=>a.name.toLowerCase().includes(n)||a.external_references?.[0]?.external_id.toLowerCase().includes(n)),s=new Set(this.subtechniqueOf.filter(a=>o.some(l=>l.id===a.source_ref)).map(a=>a.target_ref));this.filteredTechniques=this.techniques.filter(a=>i.includes(a)||s.has(a.id)),this.filteredSubtechniques=this.subtechniques.filter(a=>{let l=this.subtechniqueOf.find(c=>c.source_ref===a.id);return o.includes(a)||l&&this.filteredTechniques.some(c=>c.id===l.target_ref)})}this.initializeChart()}toggleAllTechniques(){this.areTechniquesCollapsed=!this.areTechniquesCollapsed;let n=i=>{i._children&&(i.children=this.areTechniquesCollapsed?null:i._children,i._children.forEach(n))};n(this.root),this.update(null,this.root)}};t.\u0275fac=function(i){return new(i||t)(Z(zt))},t.\u0275cmp=he({type:t,selectors:[["app-attack-tree"]],viewQuery:function(i,o){if(i&1&&lr(R0e,7),i&2){let s;Xn(s=Qn())&&(o.treeContainer=s.first)}},inputs:{dataUrl:"dataUrl"},decls:20,vars:5,consts:[[1,"attack-tree-container"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/earth",1,"button","button2"],[3,"loading"],[1,"panel-body"],[1,"controls-container"],[1,"search-container"],["type","text","placeholder","Search techniques and subtechniques...",1,"search-input",3,"ngModel","ngModelChange"],[1,"toggle-button",3,"click"],["id","tree-container",1,"tree-container"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[1,"loading"],[1,"error"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"MITRE ATT&CK Summary"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),H(9,"Next \xBB"),N()()()(),R(10,"single-card",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"input",9),ie("ngModelChange",function(a){return o.searchFilter=a})("ngModelChange",function(){return o.onSearchChange()}),N()(),R(15,"button",10),ie("click",function(){return o.toggleAllTechniques()}),H(16),N()(),re(17,"div",11),N()(),Te(18,F0e,2,0,"div",12)(19,L0e,2,1,"div",13),N()),i&2&&(q(10),Y("loading",!1),q(4),Y("ngModel",o.searchFilter),q(2),ft(" ",o.areTechniquesCollapsed?"Expand All":"Collapse All"," "),q(2),Y("ngIf",o.loading),q(1),Y("ngIf",o.error))},dependencies:[vt,ti,ni,xi,xt,Mt],styles:[".attack-tree-container[_ngcontent-%COMP%]{width:100%;height:600px;border:1px solid #ccc;position:relative}.tree-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px);overflow:auto}.controls-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px;background:#f5f5f5;border-bottom:1px solid #ccc}.search-container[_ngcontent-%COMP%]{flex:1}.search-input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:14px}.toggle-button[_ngcontent-%COMP%]{padding:8px 16px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;white-space:nowrap}.toggle-button[_ngcontent-%COMP%]:hover{background:#0056b3}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;background:rgba(255,255,255,.9);border-radius:4px}.error[_ngcontent-%COMP%]{color:red;border:1px solid red}.loading[_ngcontent-%COMP%]{color:#666;border:1px solid #ccc}.highlight[_ngcontent-%COMP%]{background-color:#ff0;padding:0 2px;border-radius:2px}.node-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});let e=t;return e})();var YH=(()=>{let t=class t{constructor(n){this.el=n,this.matrixLoading=!0,this.rawdata=`Candidate,Company,Z,Network Security,Incident Response,Penetration Testing,Cloud Security,Application Security,Compliance,Threat Intelligence,Key Skill
`+this.generateCyberSecurityData()}ngAfterViewInit(){setTimeout(()=>{this.matrixLoading=!1,this.createMatrixChart()})}generateCyberSecurityData(){let n=["CyberGuard","NetDefend","SecureWave","FireWallX","CryptoSafe","ThreatLock","InfoSec Solutions","RedShield","BlueVector","DarkTrace"],i=["Finance","Healthcare","Retail","Energy","Telecom","Education","Government","Technology","Manufacturing","Logistics"],o=(l,c)=>(Math.random()*(c-l)+l).toFixed(2),s=(l,c)=>Math.floor(Math.random()*(c-l+1))+l,a="";for(let l=0;l<n.length;l++){let c=n[l],u=i[l],d=o(7.5,9.5),f=s(3,5),p=s(3,5),m=s(3,5),v=s(3,5),g=s(3,5),x=s(3,5),_=s(3,5),w=(f+p+m+v+g+x+_)/7;a+=`${c},${u},${d},${f},${p},${m},${v},${g},${x},${_},${w.toFixed(2)}
`}return a}createMatrixChart(){Q(this.el.nativeElement).select("#matrixChart").selectAll("svg").remove();let d=Q(this.el.nativeElement).select("#matrixChart").append("svg").attr("width",130+80+40+600+20+30).attr("height",150+600),f=sl(this.rawdata),p=f.columns.filter(j=>!(j in{Z:0,"Key Skill":0,Company:0,Candidate:0})),m=f.map(j=>j.Candidate),v=[];for(let j of f)for(let G of p)v.push({name:j.Candidate,prop:G,value:+j[G]});let g=(600-20-50)/(p.length+1),x=(600-20*2-20)/(m.length+1),_=p.map((j,G)=>130+80+40+50+(1+g)*G),w=m.map((j,G)=>150+20+(1+x)*G),b=_t(p,_),k=_t(m,w),E=5,V=Ye().domain([0,E]).range([0,16]),z=j=>j?j.replace(/\s+/gi,""):"",B=j=>j in{"Managed Money":0,Location:0}?"0.5":j in{Municipal:0}?"0.3":"1.0",$=j=>{let G=z(j.name),J=z(j.prop);J&&d.selectAll(`text.label.${J}`).attr("display","block"),G&&d.selectAll(`text.label.${G}`).attr("display","block")},D=j=>{(!j.name||!j.prop)&&console.warn("onMouseOut: missing name or prop",j);let G=z(j.name),J=z(j.prop);J&&d.selectAll(`text.label.${J}`).attr("display","none"),G&&d.selectAll(`text.label.${G}`).attr("display","none")},I=d.selectAll("g.cgroup").data(v,(j,G)=>`cgroup${G}`).enter().append("g").attr("class","cgroup").attr("opacity",j=>B(j.prop)).on("mouseleave",function(j,G){D(G)}).on("mouseenter",function(j,G){$(G)}),L=I.append("circle").attr("class",j=>"circle "+z(j.prop)+" "+z(j.name)).attr("cx",j=>b(j.prop)).attr("cy",j=>k(j.name));I.append("text").attr("class",j=>"label "+z(j.prop)+" "+z(j.name)).attr("display","none").attr("text-anchor","middle").attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("x",j=>b(j.prop)).attr("y",j=>k(j.name)).text(j=>j.value);let O=130+80/2,S=d.selectAll("g.zcgroup").data(f,(j,G)=>`zcgroup${G}`).enter().append("g").attr("class","zcgroup").on("mouseleave",function(j,G){G.name=G.Candidate,G.prop="Z-Score",D(G)}).on("mouseenter",function(j,G){G.name=G.Candidate,G.prop="Z-Score",$(G)}),T=S.append("circle").attr("class",j=>"zcircle "+z("Z-Score")+" "+z(j.Candidate)).attr("cx",j=>O).attr("cy",j=>k(j.Candidate));S.append("text").attr("class",j=>"label "+z("Z-Score")+" "+z(j.Candidate)).attr("display","none").attr("text-anchor","middle").attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("x",j=>O).attr("y",j=>k(j.Candidate)).text(j=>j.Z);let P=130+80+40/2,U=d.selectAll("g.kcgroup").data(f,(j,G)=>`kcgroup${G}`).enter().append("g").attr("class","kcgroup").on("mouseleave",function(j,G){G.name=G.Candidate,G.prop="Key Skill",D(G)}).on("mouseenter",function(j,G){G.name=G.Candidate,G.prop="Key Skill",$(G)}),F=U.append("circle").attr("class",j=>"kcircle "+z("Key Skill")+" "+z(j.Candidate)).attr("cx",j=>P).attr("cy",j=>k(j.Candidate));U.append("text").attr("class",j=>"label "+z("Key Skill")+" "+z(j.Candidate)).attr("display","none").attr("text-anchor","middle").attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("x",j=>P).attr("y",j=>k(j.Candidate)).text(j=>j["Key Skill"]),d.selectAll("text.trait").data(p).enter().append("text").attr("class",j=>"trait "+z(j)).attr("x",j=>b(j)).attr("y",150-10).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("opacity",j=>B(j)).attr("transform",j=>`rotate(-40 ${b(j)},${150-10})`).text(j=>j),d.append("text").attr("class","trait "+z("Z-Score")).attr("x",O).attr("y",150-10).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("opacity",j=>B(j)).attr("transform",`rotate(-40 ${O},${150-10})`).text("Z-Score"),d.append("text").attr("class","trait "+z("Key Skill")).attr("x",P).attr("y",150-10).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("opacity",j=>B(j)).attr("transform",`rotate(-40 ${P},${150-10})`).text("Key Skill"),d.selectAll("text.candidate").data(m).enter().append("text").attr("class","candidate").attr("x",10).attr("y",j=>k(j)).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").text(j=>j),L.transition().duration(800).attr("r",j=>V(j.value)).attr("fill",j=>Vm(j.value/7)),F.transition().duration(1600).attr("r",j=>V(j["Key Skill"])).attr("fill",j=>Vm(j["Key Skill"]/7)),T.transition().duration(2400).attr("r",j=>V(j.Z)/2).attr("fill",j=>N3(j.Z/12))}};t.\u0275fac=function(i){return new(i||t)(Z(ze))},t.\u0275cmp=he({type:t,selectors:[["app-matrix"]],decls:3,vars:1,consts:[[3,"loading"],[1,"panel-body"],["id","matrixChart"]],template:function(i,o){i&1&&(R(0,"single-card",0)(1,"div",1),re(2,"div",2),N()()),i&2&&Y("loading",o.matrixLoading)},dependencies:[Mt]});let e=t;return e})();var j0e=["chartContainer"],ZH=(()=>{let t=class t{constructor(){this.areaLoading=!0,this.width=400,this.height=250,this.margin=25,this.tickInterval=500,this.timeWindow=6e4,this.animation=!0,this.n=120,this.colorScale=ci(zi).domain([0,4]),this.fill=this.colorScale(0),this.fill2=this.colorScale(1),this.fill3=this.colorScale(2),this.fill4=this.colorScale(3),this.fill5=this.colorScale(4),this.data=[],this.data2=[],this.data3=[],this.data4=[],this.data5=[]}generateData(n,i,o,s,a){let l=o,c=Date.now(),u=this.timeWindow;return Vt(n).map((d,f)=>{let p=(Math.random()-.5)*.2;return l=l+p<s||l+p>a?l-p:l+p,{date:c-u+f*(u/(n-1)),value:l}})}refreshDataArray(n,i,o,s,a){let l=Date.now(),c=this.timeWindow,u=n.filter(m=>m.date>=l-c);u.length===0&&u.push({date:l,value:(s+a)/2});let d=u.length>0?u[u.length-1].value:(s+a)/2,f=(Math.random()-.5)*.2,p=d+f;return p=Math.max(s,Math.min(a,p)),u.push({date:l,value:p}),u.length>i&&(u=u.slice(u.length-i)),u}animateSelect(n){Q(n).style("font-size","0px").interrupt().transition().ease(pc).duration(200).style("width","20px").transition().ease(rl).duration(300).style("font-size","12px").style("width","100px")}t(n,i){n.interrupt().transition().ease(Ri).duration(this.tickInterval).call(i)}getYDomain(){let n=[...this.data.map(a=>a.value),...this.data2.map(a=>a.value),...this.data3.map(a=>a.value),...this.data4.map(a=>a.value),...this.data5.map(a=>a.value)],i=Math.min(...n),o=Math.max(...n),s=.1*(o-i||1);return[i-s,o+s]}ngAfterViewInit(){this.data=this.generateData(this.n,this.tickInterval,1,.4,1.6),this.data2=this.generateData(this.n,this.tickInterval,.8,.4,1.6),this.data3=this.generateData(this.n,this.tickInterval,1.2,.4,1.6),this.data4=this.generateData(this.n,this.tickInterval,.6,.4,1.6),this.data5=this.generateData(this.n,this.tickInterval,1.4,.4,1.6),this.createChart(),this.dataSub=Lb(this.tickInterval).subscribe(()=>{this.areaLoading=!1,this.data=this.refreshDataArray(this.data,this.n,this.tickInterval,.4,1.6),this.data2=this.refreshDataArray(this.data2,this.n,this.tickInterval,.4,1.6),this.data3=this.refreshDataArray(this.data3,this.n,this.tickInterval,.4,1.6),this.data4=this.refreshDataArray(this.data4,this.n,this.tickInterval,.4,1.6),this.data5=this.refreshDataArray(this.data5,this.n,this.tickInterval,.4,1.6),this.updateChart()})}ngOnDestroy(){this.dataSub?.unsubscribe()}createChart(){let n=this.chartContainer.nativeElement;this.width=n.offsetWidth||400;let i="area-gradient",o="area-gradient2",s="area-gradient3",a="area-gradient4",l="area-gradient5";Q(n).selectAll("*").remove(),this.svg=Q(n).append("svg").attr("viewBox",[0,0,this.width,this.height].join(" ")).attr("width",this.width).attr("height",this.height);let c=this.svg.append("defs");c.append("linearGradient").attr("id",i).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(br(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Ht("white",this.fill)),c.append("linearGradient").attr("id",o).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(br(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Ht("white",this.fill2)),c.append("linearGradient").attr("id",s).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(br(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Ht("white",this.fill3)),c.append("linearGradient").attr("id",a).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(br(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Ht("white",this.fill4)),c.append("linearGradient").attr("id",l).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(br(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Ht("white",this.fill5));let v=Date.now();this.x=aa().domain([v-this.timeWindow,v]).range([this.margin*2,this.width+this.margin]),this.y=Ye().domain([0,2]).range([this.height-this.margin,this.margin*.5]),this.area=fs().curve(ui).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area2=fs().curve(ui).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area3=fs().curve(ui).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area4=fs().curve(ui).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area5=fs().curve(ui).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.xAxis=g=>g.attr("transform",`translate(0, ${this.y.range()[0]})`).call(fn(this.x).tickSizeOuter(0)),this.yAxis=g=>g.attr("transform",`translate(${this.x.range()[0]})`).call(Bt(this.y).ticks(3).tickSizeOuter(this.margin)).call(x=>x.style("fill","white")).call(x=>x.select(".domain").style("stroke","white")).call(x=>x.selectAll(".tick > text").attr("dx",-this.margin*.2)).call(x=>x.selectAll(".tick > line").attr("x1",-this.margin*.2).attr("x2",-this.margin*.4)),this.xG=this.svg.append("g").attr("transform",`translate(0, ${this.height-this.margin})`),this.yG=this.svg.append("g"),this.path5=this.svg.append("path").datum(this.data5).attr("stroke",this.fill5).attr("fill",`url(#${l})`).attr("d",this.area5).attr("opacity",.7),this.path4=this.svg.append("path").datum(this.data4).attr("stroke",this.fill4).attr("fill",`url(#${a})`).attr("d",this.area4).attr("opacity",.7),this.path3=this.svg.append("path").datum(this.data3).attr("stroke",this.fill3).attr("fill",`url(#${s})`).attr("d",this.area3).attr("opacity",.7),this.path2=this.svg.append("path").datum(this.data2).attr("stroke",this.fill2).attr("fill",`url(#${o})`).attr("d",this.area2).attr("opacity",.8),this.path=this.svg.append("path").datum(this.data).attr("stroke",this.fill).attr("fill",`url(#${i})`).attr("d",this.area).attr("opacity",.9),this.xG.call(this.xAxis),this.yG.call(this.yAxis)}updateChart(){let n=Date.now();this.x.domain([n-this.timeWindow,n]),this.y.domain([0,2]),this.path.datum(this.data),this.path2.datum(this.data2),this.path3.datum(this.data3),this.path4.datum(this.data4),this.path5.datum(this.data5),this.t(this.path,i=>i.attr("d",this.area)),this.t(this.path2,i=>i.attr("d",this.area2)),this.t(this.path3,i=>i.attr("d",this.area3)),this.t(this.path4,i=>i.attr("d",this.area4)),this.t(this.path5,i=>i.attr("d",this.area5)),this.t(this.xG,i=>this.xAxis(i)),this.yG.call(this.yAxis)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=he({type:t,selectors:[["animated-area"]],viewQuery:function(i,o){if(i&1&&lr(j0e,7),i&2){let s;Xn(s=Qn())&&(o.chartContainer=s.first)}},decls:12,vars:1,consts:[[3,"change"],["demoSelect",""],["value","1"],["value","2"],["value","3"],[3,"loading"],[1,"panel-body"],[2,"width","100%","height","100%"],["chartContainer",""]],template:function(i,o){if(i&1){let s=Rt();R(0,"select",0,1),ie("change",function(){Ot(s);let l=Mh(1);return Pt(o.animateSelect(l))}),R(2,"option",2),H(3,"Option 1"),N(),R(4,"option",3),H(5,"Option 2"),N(),R(6,"option",4),H(7,"Option 3"),N()(),R(8,"single-card",5)(9,"div",6),re(10,"div",7,8),N()()}i&2&&(q(8),Y("loading",o.areaLoading))},dependencies:[ri,ii,Mt]});let e=t;return e})();var V0e=["chartContainer"],U0e=["legendContainer"];function $0e(e,t){e&1&&(R(0,"div",26)(1,"header")(2,"div",27)(3,"h1"),H(4,"Incident Tracking Chart"),N(),R(5,"div",28)(6,"button",29),H(7,"\xAB Home"),N(),R(8,"button",30),H(9,"Next \xBB"),N()()()()())}function z0e(e,t){e&1&&(R(0,"div",31),H(1,"Loading..."),N())}var XH=(()=>{let t=class t{constructor(n,i){this.http=n,this.route=i,this.data=[],this.activatedRoute="",this.chartLoading=!0,this.order="Incident",this.isLoading=!0,this.width=900,this.height=Math.min(this.width,1e3),this.margin={top:20,right:20,bottom:130,left:20},this.chartScale=1,this.circleScale=1,this.enableZoom=!0,this.showLegend=!0,this.selectedSectors=new Set}ngAfterViewInit(){this.route.url.subscribe(n=>{this.activatedRoute=n[0].path}),this.loadData()}onOrderChange(n){this.order=n,this.sortData(),this.renderChart()}onScaleChange(n){this.chartScale=n,this.renderChart()}onCircleScaleChange(n){this.circleScale=n,this.renderChart()}onZoomToggle(n){this.enableZoom=n,this.renderChart()}onLegendToggle(n){this.showLegend=n,this.renderChart()}onLegendItemClick(n){this.selectedSectors.has(n)?this.selectedSectors.delete(n):this.selectedSectors.add(n),this.selectedSectors.size===this.data.length&&this.selectedSectors.clear(),this.renderChart()}resetLegendSelection(){this.selectedSectors.clear(),this.renderChart()}loadData(){this.http.get("assets/datasets/unemployment.csv",{responseType:"text"}).subscribe(n=>{let i=sl(n,Zs);this.data=i,this.chartLoading=!1,this.sortData(),this.renderChart(),this.isLoading=!1})}sortData(){this.data.sort((n,i)=>Qe(n[this.order],i[this.order]))}renderChart(){Q(this.chartContainer.nativeElement).selectAll("*").remove(),this.legendContainer.nativeElement.innerHTML="";let n=this.width*this.chartScale,i=this.height*this.chartScale,o=this.margin,s=this.data,a=Q(this.chartContainer.nativeElement).append("svg").attr("viewBox",[-n/2,-i/2,n,i].join(" ")).style("padding-top",`${o.top}px`),l=a.append("g").attr("class","main-group"),c=Ye().domain([0,20]).range([0,-Math.PI]),u=Ye().domain([0,s.length+1]).range([80*this.circleScale,i/2*this.circleScale]),d=Ye().domain([0,s.length+1]).range([20,i-o.bottom-60]),f=On().startAngle(0),p=(_,w,b,k)=>f({innerRadius:u(w)-20,outerRadius:u(w+1)-20,startAngle:30,endAngle:b*c(_[k])}),m=l.append("g").attr("class","temp").selectAll("path").data(s).join("path").attr("opacity",1).attr("data-state",_=>`${_.sector}`).attr("fill","#7f8c8d").attr("stroke","#fff").attr("stroke-width",2).attr("d",(_,w)=>p(_,w,1,"sept2019")),v=l.append("g").selectAll("path").data(s).join("path").attr("opacity",1).attr("data-state",_=>`${_.sector}`).attr("fill","#d35400").attr("stroke","#fff").attr("stroke-width",2).attr("d",(_,w)=>p(_,w,-1,"sept2020"));this.selectedSectors.size===0?(m.on("mousemove",(_,w)=>this.mousemove(_,w,a)).on("mouseleave",()=>this.mouseleave(a)),v.on("mousemove",(_,w)=>this.mousemove(_,w,a)).on("mouseleave",()=>this.mouseleave(a))):(m.on("mousemove",null).on("mouseleave",null),v.on("mousemove",null).on("mouseleave",null));let g=_=>{l.attr("transform",_.transform)};if(this.enableZoom&&a.call(di().on("zoom",g)),this.showLegend){let _='<div style="font-size: 10px; margin-bottom: 8px; cursor:pointer; color:#1976d2; font-weight:bold;" id="reset-legend-selection">Reset Selection</div>';_+=this.data.map(b=>`<div class="legend-item${this.selectedSectors.size>0&&!this.selectedSectors.has(b.sector)?" legend-blur":""}" data-sector="${b.sector}" style="font-size: 10px; margin-bottom: 4px; cursor:pointer;${this.selectedSectors.size>0&&!this.selectedSectors.has(b.sector)?"opacity:0.2;":""}">
          <span style='font-weight:bold;'>${b.sector}</span> <span style='color:#888;'>+${b.change} pts</span>
        </div>`).join(""),this.legendContainer.nativeElement.innerHTML=_,Array.from(this.legendContainer.nativeElement.querySelectorAll(".legend-item")).forEach(b=>{b.onclick=()=>this.onLegendItemClick(b.getAttribute("data-sector"))});let w=this.legendContainer.nativeElement.querySelector("#reset-legend-selection");w&&(w.onclick=()=>this.resetLegendSelection())}else this.legendContainer.nativeElement.innerHTML="";this.selectedSectors.size>0&&this.selectedSectors.size<this.data.length?Q(this.chartContainer.nativeElement).selectAll("[data-state]").attr("opacity",_=>this.selectedSectors.has(_.sector)?1:.2):Q(this.chartContainer.nativeElement).selectAll("[data-state]").attr("opacity",1);let x=a.append("g").attr("font-size",25).attr("font-weight","bold").attr("transform",`translate(-${n/2} -${i/2-o.top})`);x.append("text").attr("fill","#7f8c8d").attr("x",n/2-60).text("2019"),x.append("text").attr("fill","#d35400").attr("x",n/2+5).text("2020"),this.yAxis(l,c,u,s,o,i)}yAxis(n,i,o,s,a,l){n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("g").data(Vt(0,21,5)).join("g").each((c,u,d)=>{Q(d[u]).append("path").attr("stroke","#000").attr("stroke-opacity",.2).attr("d",()=>{let f=Er(i(c),o(0)-40),p=Er(i(c),o(s.length/2));return`M${f[0]},${f[1]}L${p[0]},${p[1]}`}),Q(d[u]).append("text").attr("x",Er(i(c),60)[0]).attr("y",Er(i(c),60)[1]).text(`${Vt(0,21,5)[u]}%`)}),n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("g").data(Vt(0,21,5)).join("g").each((c,u,d)=>{Q(d[u]).append("path").attr("stroke","#000").attr("stroke-opacity",.2).attr("d",()=>{let f=Er(-i(c),o(0)-40),p=Er(-i(c),o(s.length/2));return`M${f[0]},${f[1]}L${p[0]},${p[1]}`}),Q(d[u]).append("text").attr("x",Er(-i(c),60)[0]).attr("y",Er(-i(c),60)[1]).text(`${Vt(0,21,5)[u]}%`)})}mousemove(n,i,o){Mn("[data-state]").attr("opacity",.2),Mn(`[data-state="${i.sector}"]`).attr("opacity",1),Mn(`[data-state="${i.sector}"]`).style("display","block"),Mn(`.sector[data-state="${i.sector}"]`).attr("font-size",18)}mouseleave(n){Mn("[data-state]").attr("opacity",1),Mn(".title").style("display","none"),Mn(".sector").attr("font-size",10)}};t.\u0275fac=function(i){return new(i||t)(Z(zt),Z(kn))},t.\u0275cmp=he({type:t,selectors:[["app-diverging-radial-bar"]],viewQuery:function(i,o){if(i&1&&(lr(V0e,7),lr(U0e,7)),i&2){let s;Xn(s=Qn())&&(o.chartContainer=s.first),Xn(s=Qn())&&(o.legendContainer=s.first)}},decls:40,vars:24,consts:[["class","button-group","id","incident",4,"ngIf"],[3,"loading"],[1,"panel-body",2,"position","relative"],[1,"slider-wrapper",2,"margin-bottom","1rem","text-align","center"],["for","legendCheckbox",2,"margin-right","1rem"],["id","legendCheckbox","type","checkbox",3,"checked","change"],["legendCheckbox",""],["for","zoomCheckbox",2,"margin-right","1rem"],["id","zoomCheckbox","type","checkbox",3,"checked","change"],["zoomCheckbox",""],["for","scaleSlider"],["id","scaleSlider","type","range","min","0.5","max","2","step","0.05",3,"ngModel","ngModelChange","input"],["for","circleScaleSlider"],["id","circleScaleSlider","type","range","min","0.5","max","2","step","0.05",3,"ngModel","ngModelChange","input"],[1,"btn-wrapper"],["id","employees",1,"btn"],["value","employees","name","order","type","radio",3,"checked","change"],["id","incidents2020",1,"btn"],["value","incidents2020","name","order","type","radio",3,"checked","change"],["id","change",1,"btn"],["value","change","name","order","type","radio",3,"checked","change"],[1,"legend-container"],["legendContainer",""],[1,"chart-container"],["chartContainer",""],["class","loading",4,"ngIf"],["id","incident",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[1,"loading"]],template:function(i,o){if(i&1){let s=Rt();Te(0,$0e,10,0,"div",0),R(1,"single-card",1)(2,"div",2)(3,"div",3)(4,"label",4)(5,"input",5,6),ie("change",function(){Ot(s);let l=Mh(6);return Pt(o.onLegendToggle(l.checked))}),N(),H(7," Show Legend "),N(),R(8,"label",7)(9,"input",8,9),ie("change",function(){Ot(s);let l=Mh(10);return Pt(o.onZoomToggle(l.checked))}),N(),H(11," Enable Zoom "),N(),R(12,"label",10),H(13,"Chart Size: "),N(),R(14,"input",11),ie("ngModelChange",function(l){return o.chartScale=l})("input",function(){return o.onScaleChange(o.chartScale)}),N(),R(15,"span"),H(16),Sh(17,"number"),N()(),R(18,"div",3)(19,"label",12),H(20,"Circle Size: "),N(),R(21,"input",13),ie("ngModelChange",function(l){return o.circleScale=l})("input",function(){return o.onCircleScaleChange(o.circleScale)}),N(),R(22,"span"),H(23),Sh(24,"number"),N()(),R(25,"div",14)(26,"label",15)(27,"input",16),ie("change",function(){return o.onOrderChange("employees")}),N(),H(28," Companies "),N(),R(29,"label",17)(30,"input",18),ie("change",function(){return o.onOrderChange("incidents2020")}),N(),H(31," 2020 Incidents "),N(),R(32,"label",19)(33,"input",20),ie("change",function(){return o.onOrderChange("change")}),N(),H(34," Change "),N()(),re(35,"div",21,22)(37,"div",23,24),Te(39,z0e,2,0,"div",25),N()()}i&2&&(Y("ngIf",o.activatedRoute==="labour"),q(1),Y("loading",o.chartLoading),q(4),Y("checked",o.showLegend),q(4),Y("checked",o.enableZoom),q(5),Y("ngModel",o.chartScale),q(2),ft("",e4(17,18,o.chartScale,"1.2-2"),"x"),q(5),Y("ngModel",o.circleScale),q(2),ft("",e4(24,21,o.circleScale,"1.2-2"),"x"),q(3),ar("active",o.order==="employees"),q(1),Y("checked",o.order==="employees"),q(2),ar("active",o.order==="incidents2020"),q(1),Y("checked",o.order==="incidents2020"),q(2),ar("active",o.order==="change"),q(1),Y("checked",o.order==="change"),q(6),Y("ngIf",o.isLoading))},dependencies:[vt,ti,t5,ni,xi,xt,Mt,mk],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.btn-wrapper[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{border:1px solid #7d7d7d;color:#7d7d7d;margin-top:20px;padding:10px 15px 10px 10px;text-align:center;cursor:pointer;background-color:#fff}.btn.active[_ngcontent-%COMP%]{background-color:#7d7d7d;border:1px solid #7d7d7d;color:#fff}.loading[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#7d7d7d;margin-top:2rem}.legend-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;width:220px;position:absolute;left:0;top:20rem;background:rgba(255,255,255,.85);z-index:2;padding:8px 0 8px 8px}@media only screen and (max-width: 500px){.btn-wrapper[_ngcontent-%COMP%]{display:grid}}"]});let e=t;return e})();var QH=(()=>{let t=class t{constructor(){this.largeMatchMedia=window.matchMedia("(min-width: 53.8rem)"),this.extendedMatchMedia=window.matchMedia("(min-width: 100rem)"),this.windowSize$=new At(this.getWindowSize()),this.windowSize=this.windowSize$.pipe(eo()),ks(window,"resize").pipe(Is(100)).subscribe(n=>this.onResize())}isLargePresentation(){return this.largeMatchMedia.matches}isExtendedPresentation(){return this.extendedMatchMedia.matches}triggerResize(){this.onResize()}onResize(){this.windowSize$.next(this.getWindowSize())}getWindowSize(){return{height:window.innerHeight,width:window.innerWidth}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ce({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function H0e(e,t){e&1&&(Ut(),zn(),R(0,"div",5),H(1," Loading heatmap data... "),N())}var KH=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.heatmapData=[],this.channels=[],this.priceRanges=[],this.isLoading=!0,this.margins={top:80,right:100,bottom:80,left:120},this.height=500,this.width=700,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&(this.processHeatmapData(),this.renderChart())})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(",");this.data=i.slice(1).map(s=>{let a=s.split(","),l={};return o.forEach((c,u)=>{l[c]=a[u]||""}),l}).filter(s=>s.Price_From_1&&s.Price_To_1&&s.Percent_1),this.channels=[...new Set(this.data.map(s=>s.Channel))]}processHeatmapData(){let n=this.data.map(c=>+c.Price_From_1).filter(c=>!isNaN(c)),i=this.data.map(c=>+c.Price_To_1).filter(c=>!isNaN(c)),o=Math.min(...n),s=Math.max(...i),a=10,l=(s-o)/a;this.priceRanges=[];for(let c=0;c<a;c++){let u=o+c*l,d=o+(c+1)*l;this.priceRanges.push(`$${u.toFixed(2)}-$${d.toFixed(2)}`)}this.heatmapData=[],this.channels.forEach(c=>{this.priceRanges.forEach((u,d)=>{let f=o+d*l,p=o+(d+1)*l,m=this.data.filter(g=>g.Channel===c&&+g.Price_From_1>=f&&+g.Price_From_1<p),v=m.length>0?m.reduce((g,x)=>g+ +x.Percent_1,0)/m.length:0;this.heatmapData.push({channel:c,priceRange:u,value:v,count:m.length})})})}renderChart(){this.destroyChart(),this.createHeatmap()}createHeatmap(){let n=this.margins,i=this.width-n.left-n.right,o=this.height-n.top-n.bottom;this.svg=Q(this.parentElement).select("svg").attr("width",this.width).attr("height",this.height);let s=this.svg.append("g").attr("transform",`translate(${n.left},${n.top})`),a=cn().domain(this.priceRanges).range([0,i]).padding(.05),l=cn().domain(this.channels).range([0,o]).padding(.05),c=ct(this.heatmapData,d=>d.value)||100,u=ci(R3).domain([0,c]);s.selectAll(".heatmap-cell").data(this.heatmapData).enter().append("rect").attr("class","heatmap-cell").attr("x",d=>a(d.priceRange)).attr("y",d=>l(d.channel)).attr("width",a.bandwidth()).attr("height",l.bandwidth()).attr("fill",d=>d.value>0?u(d.value):"#f0f0f0").attr("stroke","#white").attr("stroke-width",1).on("mouseover",function(d,f){let p=Q("body").append("div").attr("class","tooltip").style("opacity",0);p.transition().duration(200).style("opacity",.9),p.html(`
          <strong>Channel:</strong> ${f.channel}<br/>
          <strong>Price Range:</strong> ${f.priceRange}<br/>
          <strong>Avg Percentage:</strong> ${f.value.toFixed(1)}%<br/>
          <strong>Data Points:</strong> ${f.count}
        `).style("left",d.pageX+10+"px").style("top",d.pageY-28+"px")}).on("mouseout",function(){Mn(".tooltip").remove()}),s.selectAll(".cell-label").data(this.heatmapData.filter(d=>d.value>0)).enter().append("text").attr("class","cell-label").attr("x",d=>a(d.priceRange)+a.bandwidth()/2).attr("y",d=>l(d.channel)+l.bandwidth()/2).attr("text-anchor","middle").attr("dy","0.35em").style("font-size","10px").style("fill",d=>d.value>c*.6?"white":"black").style("font-weight","bold").text(d=>d.value.toFixed(0)),s.append("g").attr("class","x-axis").attr("transform",`translate(0,${o})`).call(fn(a)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),s.append("g").attr("class","y-axis").call(Bt(l)),s.append("text").attr("transform","rotate(-90)").attr("y",0-n.left).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Channel"),s.append("text").attr("transform",`translate(${i/2}, ${o+n.bottom-10})`).style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Price Range"),this.svg.append("text").attr("x",this.width/2).attr("y",30).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").text("Price Range vs Channel Heatmap"),this.createColorLegend(s,i,o,u,c)}createColorLegend(n,i,o,s,a){let u=i-200,d=-50,f=n.append("g").attr("class","legend").attr("transform",`translate(${u}, ${d})`),m=this.svg.append("defs").append("linearGradient").attr("id","heatmap-gradient").attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%"),v=10;for(let g=0;g<=v;g++)m.append("stop").attr("offset",`${g/v*100}%`).attr("style",`stop-color:${s(a*(g/v))};stop-opacity:1`);f.append("rect").attr("width",200).attr("height",10).style("fill","url(#heatmap-gradient)").style("stroke","#333").style("stroke-width",1),f.append("text").attr("x",0).attr("y",10+15).style("font-size","12px").text("0%"),f.append("text").attr("x",200).attr("y",10+15).attr("text-anchor","end").style("font-size","12px").text(`${a.toFixed(0)}%`),f.append("text").attr("x",200/2).attr("y",-5).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").text("Average Percentage")}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(zt))},t.\u0275cmp=he({type:t,selectors:[["price-heatmap"]],decls:8,vars:1,consts:[[1,"chart-container"],[1,"chart-header"],[1,"chart-description"],["width","1","height","1"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"h3"),H(3,"Price Range vs Channel Heatmap"),N(),R(4,"p",2),H(5,"Intensity represents average percentage values across price ranges and channels"),N()(),Ut(),re(6,"svg",3),Te(7,H0e,2,0,"div",4),N()),i&2&&(q(7),Y("ngIf",o.isLoading))},dependencies:[vt],styles:[`.chart-container{padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:20px 0}.chart-container .chart-header{text-align:center;margin-bottom:30px}.chart-container .chart-header h3{margin:0 0 8px;color:#333;font-size:24px}.chart-container .chart-header .chart-description{margin:0;color:#666;font-style:italic}.chart-container .chart-content svg{display:block;margin:0 auto;border:1px solid #eee}.chart-container .loading{text-align:center;padding:50px;color:#666;font-style:italic}.tooltip{position:absolute;text-align:left;padding:10px;font-size:12px;background:rgba(0,0,0,.9);color:#fff;border-radius:4px;pointer-events:none;box-shadow:0 2px 8px #0000004d}.heatmap-cell{cursor:pointer}.heatmap-cell:hover{stroke:#333!important;stroke-width:2!important}.x-axis .domain,.y-axis .domain{stroke:#333}.x-axis .tick line,.y-axis .tick line{stroke:#333}.x-axis .tick text,.y-axis .tick text{fill:#333;font-size:12px}.cell-label{pointer-events:none}.legend .tick text{font-size:10px}
`],encapsulation:2});let e=t;return e})();function q0e(e,t){if(e&1&&(R(0,"option",7),H(1),N()),e&2){let r=t.$implicit;Y("value",r),q(1),Ft(r)}}function G0e(e,t){if(e&1&&(R(0,"option",7),H(1),N()),e&2){let r=t.$implicit;Y("value",r),q(1),Ft(r)}}function Y0e(e,t){e&1&&(Ut(),zn(),R(0,"div",8),H(1," Loading scatter plot data... "),N())}var JH=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.filteredData=[],this.regions=[],this.channels=[],this.selectedRegion="All",this.selectedChannel="All",this.isLoading=!0,this.margins={top:60,right:150,bottom:80,left:80},this.height=500,this.width=800,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&(this.filteredData=[...this.data],this.renderChart())})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(","),s=i.slice(1).map(a=>{let l=a.split(","),c={};return o.forEach((u,d)=>{c[u]=l[d]||""}),c}).filter(a=>a.Percent_1&&a.Price_From_1);this.data=s.map(a=>({Region:a.Region,Channel:a.Channel,Price:+a.Price_From_1||0,TransactionPercent:+a.Percent_1||0,Price2:+a.Price_From_2||0,TransactionPercent2:+a.Percent_2||0,PriceRange:(+a.Price_To_1||0)-(+a.Price_From_1||0)})).filter(a=>a.Price>0&&a.TransactionPercent>0),this.regions=["All",...new Set(this.data.map(a=>a.Region))],this.channels=["All",...new Set(this.data.map(a=>a.Channel))]}onRegionChange(n){this.selectedRegion=n.target.value,this.filterData(),this.renderChart()}onChannelChange(n){this.selectedChannel=n.target.value,this.filterData(),this.renderChart()}filterData(){this.filteredData=this.data.filter(n=>{let i=this.selectedRegion==="All"||n.Region===this.selectedRegion,o=this.selectedChannel==="All"||n.Channel===this.selectedChannel;return i&&o})}renderChart(){this.destroyChart(),this.createScatterPlot()}createScatterPlot(){let n=this.margins,i=this.width-n.left-n.right,o=this.height-n.top-n.bottom;this.svg=Q(this.parentElement).select("svg").attr("width",this.width).attr("height",this.height);let s=this.svg.append("g").attr("transform",`translate(${n.left},${n.top})`);if(this.filteredData.length===0){s.append("text").attr("x",i/2).attr("y",o/2).attr("text-anchor","middle").style("font-size","16px").style("fill","#666").text("No data available for selected filters");return}let a=yn(this.filteredData,w=>w.Price),l=yn(this.filteredData,w=>w.TransactionPercent),c=yn(this.filteredData,w=>w.PriceRange),u=Ye().domain(a).range([0,i]).nice(),d=Ye().domain(l).range([o,0]).nice(),f=yl().domain(c).range([3,15]),p=[...new Set(this.filteredData.map(w=>w.Channel))],m=[...new Set(this.filteredData.map(w=>w.Region))],v=_t(fr).domain(p),g=_t(["circle","square","triangle"]).domain(m);s.append("g").attr("class","grid").attr("transform",`translate(0,${o})`).call(fn(u).tickSize(-o).tickFormat("")),s.append("g").attr("class","grid").call(Bt(d).tickSize(-i).tickFormat(""));let x=di().scaleExtent([.5,10]).on("zoom",w=>{let{transform:b}=w,k=b.rescaleX(u),E=b.rescaleY(d);s.select(".x-axis").call(fn(k)),s.select(".y-axis").call(Bt(E)),s.selectAll(".data-point").attr("cx",V=>k(V.Price)).attr("cy",V=>E(V.TransactionPercent)),s.select(".grid").selectAll("line").attr("x1",V=>k(V)).attr("x2",V=>k(V))});this.svg.call(x);let _=s.selectAll(".data-point").data(this.filteredData).enter().append("circle").attr("class","data-point").attr("cx",w=>u(w.Price)).attr("cy",w=>d(w.TransactionPercent)).attr("r",w=>f(w.PriceRange)).attr("fill",w=>v(w.Channel)).attr("stroke","#333").attr("stroke-width",.5).style("opacity",.7).style("cursor","pointer").on("mouseover",(w,b)=>{Q(this).attr("stroke-width",2).style("opacity",1);let k=Q("body").append("div").attr("class","tooltip").style("opacity",0);k.transition().duration(200).style("opacity",.9),k.html(`
          <strong>Region:</strong> ${b.Region}<br/>
          <strong>Channel:</strong> ${b.Channel}<br/>
          <strong>Price:</strong> $${b.Price.toFixed(2)}<br/>
          <strong>Transaction %:</strong> ${b.TransactionPercent}%<br/>
          <strong>Price Range:</strong> $${b.PriceRange.toFixed(2)}
        `).style("left",w.pageX+10+"px").style("top",w.pageY-28+"px")}).on("mouseout",()=>{Q(this).attr("stroke-width",.5).style("opacity",.7),Mn(".tooltip").remove()}).on("click",function(w,b){let k=s.selectAll(".data-point").filter(E=>E.Channel===b.Channel);k.transition().duration(300).attr("stroke-width",3).style("opacity",1),setTimeout(()=>{k.transition().duration(300).attr("stroke-width",.5).style("opacity",.7)},1500)});s.append("g").attr("class","x-axis").attr("transform",`translate(0,${o})`).call(fn(u)),s.append("g").attr("class","y-axis").call(Bt(d)),s.append("text").attr("transform","rotate(-90)").attr("y",0-n.left).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Transaction Percentage (%)"),s.append("text").attr("transform",`translate(${i/2}, ${o+n.bottom-10})`).style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Price ($)"),this.svg.append("text").attr("x",this.width/2).attr("y",30).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").text("Interactive Scatter Plot: Price vs Transaction %"),this.createColorLegend(s,i,o,v,p),this.createSizeLegend(s,i,o,f,c),this.addBrushing(s,i,o,u,d,_)}createColorLegend(n,i,o,s,a){let l=n.append("g").attr("class","color-legend").attr("transform",`translate(${i+20}, 20)`);l.append("text").attr("x",0).attr("y",-5).style("font-weight","bold").style("font-size","12px").text("Channels");let c=l.selectAll(".legend-item").data(a).enter().append("g").attr("class","legend-item").attr("transform",(u,d)=>`translate(0, ${d*20+10})`);c.append("circle").attr("cx",6).attr("cy",0).attr("r",6).attr("fill",u=>s(u)),c.append("text").attr("x",16).attr("y",0).attr("dy","0.35em").style("font-size","11px").text(u=>u)}createSizeLegend(n,i,o,s,a){let l=n.append("g").attr("class","size-legend").attr("transform",`translate(${i+20}, ${o-80})`);l.append("text").attr("x",0).attr("y",-5).style("font-weight","bold").style("font-size","12px").text("Price Range");let c=[{value:a[0],size:s(a[0])},{value:(a[0]+a[1])/2,size:s((a[0]+a[1])/2)},{value:a[1],size:s(a[1])}],u=l.selectAll(".size-legend-item").data(c).enter().append("g").attr("class","size-legend-item").attr("transform",(d,f)=>`translate(0, ${f*25+15})`);u.append("circle").attr("cx",15).attr("cy",0).attr("r",d=>d.size).attr("fill","none").attr("stroke","#333").attr("stroke-width",1),u.append("text").attr("x",35).attr("y",0).attr("dy","0.35em").style("font-size","10px").text(d=>`$${d.value.toFixed(1)}`)}addBrushing(n,i,o,s,a,l){let c=z2().extent([[0,0],[i,o]]).on("start brush",function(u){if(u.selection){let[[d,f],[p,m]]=u.selection;l.classed("selected",v=>{let g=s(v.Price),x=a(v.TransactionPercent);return g>=d&&g<=p&&x>=f&&x<=m}),l.style("opacity",v=>{let g=s(v.Price),x=a(v.TransactionPercent);return g>=d&&g<=p&&x>=f&&x<=m?1:.3})}else l.classed("selected",!1),l.style("opacity",.7)});n.append("g").attr("class","brush").call(c)}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(zt))},t.\u0275cmp=he({type:t,selectors:[["interactive-scatter"]],decls:17,vars:5,consts:[[1,"chart-container"],[1,"chart-header"],[1,"controls"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-description"],["class","loading",4,"ngIf"],[3,"value"],[1,"loading"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"h3"),H(3,"Interactive Scatter Plot: Price vs Transaction %"),N(),R(4,"div",2)(5,"label"),H(6," Region: "),R(7,"select",3),ie("change",function(a){return o.onRegionChange(a)}),Te(8,q0e,2,2,"option",4),N()(),R(9,"label"),H(10," Channel: "),R(11,"select",3),ie("change",function(a){return o.onChannelChange(a)}),Te(12,G0e,2,2,"option",4),N()()(),R(13,"p",5),H(14," Circle size represents price range. Zoom and pan with mouse wheel and drag. Click points to highlight related data. Brush to select multiple points. "),N()(),Ut(),re(15,"svg"),Te(16,Y0e,2,0,"div",6),N()),i&2&&(q(7),Y("value",o.selectedRegion),q(1),Y("ngForOf",o.regions),q(3),Y("value",o.selectedChannel),q(1),Y("ngForOf",o.channels),q(4),Y("ngIf",o.isLoading))},dependencies:[dn,vt,ri,ii],styles:[`.chart-container{padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:20px 0}.chart-container .chart-header{text-align:center;margin-bottom:30px}.chart-container .chart-header h3{margin:0 0 15px;color:#333;font-size:24px}.chart-container .chart-header .controls{display:flex;justify-content:center;gap:20px;margin-bottom:10px}.chart-container .chart-header .controls label{font-weight:500;color:#555}.chart-container .chart-header .controls label select{margin-left:8px;padding:5px 10px;border:1px solid #ccc;border-radius:4px;background:white}.chart-container .chart-header .chart-description{color:#666;font-style:italic;font-size:14px;max-width:600px;margin:0 auto}.chart-container .chart-content svg{display:block;margin:0 auto;border:1px solid #eee;cursor:move}.chart-container .loading{text-align:center;padding:50px;color:#666;font-style:italic}.tooltip{position:absolute;text-align:left;padding:10px;font-size:12px;background:rgba(0,0,0,.9);color:#fff;border-radius:4px;pointer-events:none;box-shadow:0 2px 8px #0000004d}.grid .tick line{stroke:#e0e0e0;stroke-width:1;opacity:.7}.grid .domain{display:none}.x-axis .domain,.y-axis .domain{stroke:#333;stroke-width:1}.x-axis .tick line,.y-axis .tick line{stroke:#333;stroke-width:1}.x-axis .tick text,.y-axis .tick text{fill:#333;font-size:11px}.data-point{transition:all .2s ease}.data-point:hover{stroke-width:2!important;opacity:1!important}.data-point.selected{stroke:#ff6b6b;stroke-width:2}.brush .selection{fill:#0064c84d;stroke:#0064c8cc;stroke-width:1}.color-legend .legend-item,.size-legend .legend-item,.color-legend .size-legend-item,.size-legend .size-legend-item{cursor:pointer}.color-legend .legend-item:hover,.size-legend .legend-item:hover,.color-legend .size-legend-item:hover,.size-legend .size-legend-item:hover{opacity:.7}.color-legend text,.size-legend text{font-size:11px}
`],encapsulation:2});let e=t;return e})();function X0e(e,t){e&1&&(Ut(),zn(),R(0,"div",5),H(1," Loading chart data... "),N())}var eW=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.regions=[],this.channels=[],this.isLoading=!0,this.margins={top:20,right:30,bottom:60,left:80},this.height=500,this.width=800,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&this.renderChart()})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(",");this.data=i.slice(1).map(s=>{let a=s.split(","),l={};return o.forEach((c,u)=>{l[c]=a[u]||""}),l}).filter(s=>s.Price_From_1&&s.Percent_1),this.regions=[...new Set(this.data.map(s=>s.Region))],this.channels=[...new Set(this.data.map(s=>s.Channel))]}renderChart(){this.destroyChart();let n=this.processDataForLines();this.createFacetedLineChart(n)}processDataForLines(){let n=Dn(this.data,o=>o.Region,o=>o.Channel),i=[];return n.forEach((o,s)=>{o.forEach((a,l)=>{let c=a.filter(u=>u.Price_From_1&&u.Percent_1).map(u=>({x:+u.Price_From_1,y:+u.Percent_1,region:s,channel:l})).sort((u,d)=>u.x-d.x);c.length>0&&i.push({region:s,channel:l,values:c})})}),i}createFacetedLineChart(n){let i=this.margins,o=300,s=200,a=2,l=a*o+(a+1)*i.left,u=Math.ceil(n.length/a)*(s+i.top+i.bottom);this.svg=Q(this.parentElement).select("svg").attr("width",l).attr("height",u);let d=n.flatMap(_=>_.values),f=yn(d,_=>_.x),p=yn(d,_=>_.y),m=Ye().domain(f).range([0,o-i.left-i.right]),v=Ye().domain(p).range([s-i.top-i.bottom,0]),g=_t(fr).domain(this.channels),x=zr().x(_=>m(_.x)).y(_=>v(_.y)).curve(tx);n.forEach((_,w)=>{let b=Math.floor(w/a),E=w%a*(o+i.left)+i.left,V=b*(s+i.top+i.bottom)+i.top,z=this.svg.append("g").attr("transform",`translate(${E}, ${V})`);z.append("text").attr("x",(o-i.left-i.right)/2).attr("y",-5).attr("text-anchor","middle").style("font-weight","bold").style("font-size","14px").text(`${_.region} - ${_.channel}`),z.append("g").attr("class","x-axis").attr("transform",`translate(0, ${s-i.top-i.bottom})`).call(fn(m).ticks(5)),z.append("g").attr("class","y-axis").call(Bt(v).ticks(5)),z.append("path").datum(_.values).attr("fill","none").attr("stroke",g(_.channel)).attr("stroke-width",2).attr("d",x),z.selectAll(".dot").data(_.values).enter().append("circle").attr("class","dot").attr("cx",B=>m(B.x)).attr("cy",B=>v(B.y)).attr("r",3).attr("fill",g(_.channel)).on("mouseover",function(B,$){let D=Q("body").append("div").attr("class","tooltip").style("opacity",0);D.transition().duration(200).style("opacity",.9),D.html(`Price: $${$.x}<br/>Percent: ${$.y}%`).style("left",B.pageX+10+"px").style("top",B.pageY-28+"px")}).on("mouseout",function(){Mn(".tooltip").remove()})}),this.svg.append("text").attr("transform","rotate(-90)").attr("y",15).attr("x",0-u/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").text("Percentage (%)"),this.svg.append("text").attr("transform",`translate(${l/2}, ${u-10})`).style("text-anchor","middle").style("font-size","14px").text("Price From ($)")}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(zt))},t.\u0275cmp=he({type:t,selectors:[["faceted-line-chart"]],decls:8,vars:1,consts:[[1,"chart-container"],[1,"chart-header"],[1,"chart-description"],["width","1","height","1"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"h3"),H(3,"Faceted Line Charts by Region & Channel"),N(),R(4,"p",2),H(5,"Price range trends across different regions and channels"),N()(),Ut(),re(6,"svg",3),Te(7,X0e,2,0,"div",4),N()),i&2&&(q(7),Y("ngIf",o.isLoading))},dependencies:[vt],styles:[`.chart-container{width:100%;height:100%}.chart-container .loading{display:flex;justify-content:center;align-items:center;height:200px;font-size:16px;color:#666}.chart-container svg{display:block;margin:0 auto}.tooltip{position:absolute;text-align:center;padding:8px;font-size:12px;background:rgba(0,0,0,.8);color:#fff;border-radius:4px;pointer-events:none;z-index:1000}.x-axis,.y-axis{font-size:12px}.x-axis .domain,.y-axis .domain{stroke:#333}.x-axis .tick line,.y-axis .tick line{stroke:#333}.x-axis .tick text,.y-axis .tick text{fill:#333}
`],encapsulation:2});let e=t;return e})();function K0e(e,t){if(e&1&&(R(0,"option",6),H(1),N()),e&2){let r=t.$implicit;Y("value",r),q(1),Ft(r)}}function J0e(e,t){e&1&&(Ut(),zn(),R(0,"div",7),H(1," Loading chart data... "),N())}var tW=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.regions=[],this.channels=[],this.selectedRegion="Latin America",this.isLoading=!0,this.margins={top:20,right:30,bottom:60,left:80},this.height=400,this.width=600,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&(this.selectedRegion=this.regions[0],this.renderChart())})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(",");this.data=i.slice(1).map(s=>{let a=s.split(","),l={};return o.forEach((c,u)=>{l[c]=a[u]||""}),l}),this.regions=[...new Set(this.data.map(s=>s.Region))],this.channels=[...new Set(this.data.map(s=>s.Channel))]}onRegionChange(n){this.selectedRegion=n.target.value,this.renderChart()}renderChart(){this.destroyChart();let n=this.data.filter(s=>s.Region===this.selectedRegion);if(!n.length)return;let i=Dn(n,s=>s.Channel),o=[];i.forEach((s,a)=>{let l={Channel:a};s.forEach((c,u)=>{l[`Range_${u+1}`]=+c.Percent_1||0,l[`Range_${u+1}_2`]=+c.Percent_2||0}),o.push(l)}),this.createStackedBarChart(o)}createStackedBarChart(n){let i=this.margins,o=this.width-i.left-i.right,s=this.height-i.top-i.bottom;this.svg=Q(this.parentElement).select("svg").attr("width",this.width).attr("height",this.height);let a=this.svg.append("g").attr("transform",`translate(${i.left},${i.top})`),l=Object.keys(n[0]).filter(m=>m!=="Channel"),c=cn().domain(n.map(m=>m.Channel)).range([0,o]).padding(.1),u=Ye().domain([0,100]).range([s,0]),d=_t().domain(l).range(fr),p=ps().keys(l)(n);a.selectAll(".layer").data(p).enter().append("g").attr("class","layer").attr("fill",m=>d(m.key)).selectAll("rect").data(m=>m).enter().append("rect").attr("x",m=>c(m.data.Channel)).attr("y",m=>u(m[1])).attr("height",m=>u(m[0])-u(m[1])).attr("width",c.bandwidth()).on("mouseover",function(m,v){let g=Q("body").append("div").attr("class","tooltip").style("opacity",0);g.transition().duration(200).style("opacity",.9),g.html(`Channel: ${v.data.Channel}<br/>Value: ${v[1]-v[0]}%`).style("left",m.pageX+10+"px").style("top",m.pageY-28+"px")}).on("mouseout",function(){Mn(".tooltip").remove()}),a.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`).call(fn(c)),a.append("g").attr("class","y-axis").call(Bt(u)),a.append("text").attr("transform","rotate(-90)").attr("y",0-i.left).attr("x",0-s/2).attr("dy","1em").style("text-anchor","middle").text("Percentage (%)"),a.append("text").attr("transform",`translate(${o/2}, ${s+i.bottom})`).style("text-anchor","middle").text("Channel")}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(zt))},t.\u0275cmp=he({type:t,selectors:[["region-stacked-bar"]],decls:11,vars:3,consts:[[1,"chart-container"],[1,"chart-header"],[1,"controls"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[3,"value"],[1,"loading"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"h3"),H(3,"Regional Channel Performance - Stacked Bar Chart"),N(),R(4,"div",2)(5,"label"),H(6," Region: "),R(7,"select",3),ie("change",function(a){return o.onRegionChange(a)}),Te(8,K0e,2,2,"option",4),N()()()(),Ut(),re(9,"svg"),Te(10,J0e,2,0,"div",5),N()),i&2&&(q(7),Y("value",o.selectedRegion),q(1),Y("ngForOf",o.regions),q(2),Y("ngIf",o.isLoading))},dependencies:[dn,vt,ri,ii],styles:[`.chart-container{padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:20px 0}.chart-container .chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.chart-container .chart-header h3{margin:0;color:#333}.chart-container .chart-header .controls{display:flex;gap:15px;align-items:center}.chart-container .chart-header .controls label{font-weight:500;color:#555}.chart-container .chart-header .controls label select{margin-left:8px;padding:5px 10px;border:1px solid #ccc;border-radius:4px;background:white}.chart-container .chart-content svg{display:block;margin:0 auto}.chart-container .loading{text-align:center;padding:50px;color:#666;font-style:italic}.tooltip{position:absolute;text-align:center;padding:8px;font-size:12px;background:rgba(0,0,0,.8);color:#fff;border-radius:4px;pointer-events:none}.x-axis .domain,.y-axis .domain{stroke:#333}.x-axis .tick line,.y-axis .tick line{stroke:#333}.x-axis .tick text,.y-axis .tick text{fill:#333;font-size:12px}
`],encapsulation:2});let e=t;return e})();var t1e=["chartContainer"];function n1e(e,t){if(e&1){let r=Rt();R(0,"button",27),ie("click",function(){Ot(r);let i=Ue();return Pt(i.goHome())}),R(1,"span",28),H(2,"\u{1F3E0}"),N(),H(3," Home "),N()}}function r1e(e,t){if(e&1&&(R(0,"option",29),H(1),N()),e&2){let r=t.$implicit;Y("value",r.name),q(1),ft(" ",r.name," ")}}function i1e(e,t){if(e&1&&(R(0,"div",30)(1,"h3"),H(2,"Summary Statistics"),N(),R(3,"div",31)(4,"div",32)(5,"span",33),H(6,"Average:"),N(),R(7,"span",34),H(8),N()(),R(9,"div",32)(10,"span",33),H(11,"Highest:"),N(),R(12,"span",34),H(13),N()(),R(14,"div",32)(15,"span",33),H(16,"Lowest:"),N(),R(17,"span",34),H(18),N()(),R(19,"div",32)(20,"span",33),H(21,"Total Sources:"),N(),R(22,"span",34),H(23),N()()()()),e&2){let r=Ue();q(8),ft("",r.summaryStats.average,"%"),q(5),o1("",r.summaryStats.max,"% (",r.summaryStats.maxSource,")"),q(5),o1("",r.summaryStats.min,"% (",r.summaryStats.minSource,")"),q(5),Ft(r.summaryStats.count)}}var Yx=(()=>{let t=class t{constructor(n,i){this.router=n,this.route=i,this.width=1e3,this.currentRoute="advertiser-dashboard",this.routeUrl="",this.selectedMetric="total",this.selectedAdvertiser="all",this.sortOrder="desc",this.chartType="diverging",this.summaryStats=null,this.advertisers=[{name:"ADVERTISER 1",data:[{UTM_SOURCE:"direct traffic",total:"87%","valid-clicked:1":"809,944","mousemove-exists:1":"65%","valid-scrolling:1":"59%","touch-exists:1":"23%","mobile:1":"73%",bots:"32%",humans:"19%",unknown:"67%"},{UTM_SOURCE:"google search",total:"7%","valid-clicked:1":"64,082","mousemove-exists:1":"50%","valid-scrolling:1":"51%","touch-exists:1":"56%","mobile:1":"73%",bots:"79%",humans:"8%",unknown:"85%"},{UTM_SOURCE:"google display",total:"3%","valid-clicked:1":"25,006","mousemove-exists:1":"29%","valid-scrolling:1":"36%","touch-exists:1":"43%","mobile:1":"65%",bots:"70%",humans:"16%",unknown:"63%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"15,313","mousemove-exists:1":"45%","valid-scrolling:1":"61%","touch-exists:1":"36%","mobile:1":"63%",bots:"8%",humans:"16%",unknown:"64%"},{UTM_SOURCE:"facebook",total:"2%","valid-clicked:1":"15,146","mousemove-exists:1":"10%","valid-scrolling:1":"14%","touch-exists:1":"83%","mobile:1":"87%",bots:"90%",humans:"2%",unknown:"96%"}]},{name:"ADVERTISER 2",data:[{UTM_SOURCE:"direct traffic",total:"51%","valid-clicked:1":"482,878","mousemove-exists:1":"54%","valid-scrolling:1":"52%","touch-exists:1":"50%","mobile:1":"76%",bots:"48%",humans:"21%",unknown:"76%"},{UTM_SOURCE:"google search",total:"23%","valid-clicked:1":"216,594","mousemove-exists:1":"41%","valid-scrolling:1":"43%","touch-exists:1":"72%","mobile:1":"82%",bots:"80%",humans:"6%",unknown:"86%"},{UTM_SOURCE:"instagram",total:"17%","valid-clicked:1":"161,523","mousemove-exists:1":"34%","valid-scrolling:1":"36%","touch-exists:1":"68%","mobile:1":"78%",bots:"84%",humans:"2%",unknown:"91%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"15,363","mousemove-exists:1":"37%","valid-scrolling:1":"55%","touch-exists:1":"63%","mobile:1":"67%",bots:"45%",humans:"17%",unknown:"73%"},{UTM_SOURCE:"facebook",total:"0%","valid-clicked:1":"4,161","mousemove-exists:1":"80%","valid-scrolling:1":"81%","touch-exists:1":"88%","mobile:1":"95%",bots:"89%",humans:"3%",unknown:"94%"},{UTM_SOURCE:"tiktok",total:"0%","valid-clicked:1":"2,296","mousemove-exists:1":"40%","valid-scrolling:1":"41%","touch-exists:1":"64%","mobile:1":"70%",bots:"91%",humans:"4%",unknown:"85%"}]},{name:"ADVERTISER 3",data:[{UTM_SOURCE:"direct traffic",total:"98%","valid-clicked:1":"599,734","mousemove-exists:1":"59%","valid-scrolling:1":"66%","touch-exists:1":"34%","mobile:1":"75%",bots:"4%",humans:"14%",unknown:"63%"},{UTM_SOURCE:"google search",total:"1%","valid-clicked:1":"7,776","mousemove-exists:1":"63%","valid-scrolling:1":"70%","touch-exists:1":"51%","mobile:1":"84%",bots:"36%",humans:"14%",unknown:"81%"},{UTM_SOURCE:"bing search",total:"0%","valid-clicked:1":"2,535","mousemove-exists:1":"49%","valid-scrolling:1":"61%","touch-exists:1":"40%","mobile:1":"60%",bots:"6%",humans:"22%",unknown:"63%"},{UTM_SOURCE:"google display",total:"0%","valid-clicked:1":"254","mousemove-exists:1":"54%","valid-scrolling:1":"53%","touch-exists:1":"14%","mobile:1":"43%",bots:"3%",humans:"34%",unknown:"53%"}]},{name:"ADVERTISER 4",data:[{UTM_SOURCE:"direct traffic",total:"71%","valid-clicked:1":"293,903","mousemove-exists:1":"56%","valid-scrolling:1":"51%","touch-exists:1":"56%","mobile:1":"78%",bots:"47%",humans:"20%",unknown:"68%"},{UTM_SOURCE:"google search",total:"8%","valid-clicked:1":"34,440","mousemove-exists:1":"51%","valid-scrolling:1":"50%","touch-exists:1":"74%","mobile:1":"87%",bots:"78%",humans:"7%",unknown:"91%"},{UTM_SOURCE:"facebook",total:"7%","valid-clicked:1":"29,623","mousemove-exists:1":"31%","valid-scrolling:1":"32%","touch-exists:1":"46%","mobile:1":"77%",bots:"74%",humans:"1%",unknown:"95%"},{UTM_SOURCE:"(v)360 display",total:"4%","valid-clicked:1":"18,500","mousemove-exists:1":"17%","valid-scrolling:1":"17%","touch-exists:1":"14%","mobile:1":"36%",bots:"83%",humans:"14%",unknown:"51%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"6,649","mousemove-exists:1":"61%","valid-scrolling:1":"76%","touch-exists:1":"66%","mobile:1":"79%",bots:"7%",humans:"14%",unknown:"81%"},{UTM_SOURCE:"email",total:"1%","valid-clicked:1":"4,650","mousemove-exists:1":"59%","valid-scrolling:1":"55%","touch-exists:1":"68%","mobile:1":"86%",bots:"64%",humans:"16%",unknown:"80%"},{UTM_SOURCE:"pardot",total:"0%","valid-clicked:1":"1,086","mousemove-exists:1":"62%","valid-scrolling:1":"60%","touch-exists:1":"57%","mobile:1":"87%",bots:"63%",humans:"14%",unknown:"80%"}]},{name:"ADVERTISER 5",data:[{UTM_SOURCE:"direct traffic",total:"89%","valid-clicked:1":"425,039","mousemove-exists:1":"45%","valid-scrolling:1":"45%","touch-exists:1":"27%","mobile:1":"68%",bots:"24%",humans:"30%",unknown:"54%"},{UTM_SOURCE:"google search",total:"7%","valid-clicked:1":"32,472","mousemove-exists:1":"22%","valid-scrolling:1":"28%","touch-exists:1":"38%","mobile:1":"54%",bots:"71%",humans:"19%",unknown:"65%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"7,596","mousemove-exists:1":"27%","valid-scrolling:1":"60%","touch-exists:1":"36%","mobile:1":"43%",bots:"3%",humans:"22%",unknown:"62%"},{UTM_SOURCE:"facebook",total:"1%","valid-clicked:1":"3,723","mousemove-exists:1":"27%","valid-scrolling:1":"28%","touch-exists:1":"50%","mobile:1":"67%",bots:"75%",humans:"4%",unknown:"88%"},{UTM_SOURCE:"PMAX",total:"1%","valid-clicked:1":"2,905","mousemove-exists:1":"13%","valid-scrolling:1":"21%","touch-exists:1":"28%","mobile:1":"39%",bots:"61%",humans:"17%",unknown:"62%"},{UTM_SOURCE:"linkedin",total:"0%","valid-clicked:1":"1,821","mousemove-exists:1":"16%","valid-scrolling:1":"24%","touch-exists:1":"26%","mobile:1":"35%",bots:"60%",humans:"14%",unknown:"68%"},{UTM_SOURCE:"demandbase",total:"0%","valid-clicked:1":"393","mousemove-exists:1":"3%","valid-scrolling:1":"3%","touch-exists:1":"5%","mobile:1":"9%",bots:"37%",humans:"82%",unknown:"10%"}]}],i.url.pipe().subscribe(o=>{console.log(o),this.routeUrl=o})}ngOnInit(){this.createChart()}goHome(){this.router.navigate(["/"])}updateChart(){Q(this.chartContainer.nativeElement).selectAll("*").remove(),this.createChart()}parseValue(n){return parseFloat(n.replace("%","").replace(",",""))}prepareData(){let n=[];if(this.selectedAdvertiser==="all")this.advertisers.forEach(i=>{i.data.forEach(o=>{this.selectedMetric!=="valid-clicked:1"&&n.push({source:`${o.UTM_SOURCE} (${i.name})`,advertiser:i.name,value:this.parseValue(o[this.selectedMetric]),rawValue:o[this.selectedMetric]})})});else{let i=this.advertisers.find(o=>o.name===this.selectedAdvertiser);i&&i.data.forEach(o=>{n.push({source:o.UTM_SOURCE,advertiser:i.name,value:this.parseValue(o[this.selectedMetric]),rawValue:o[this.selectedMetric]})})}return this.sortOrder==="desc"?n.sort((i,o)=>o.value-i.value):this.sortOrder==="asc"?n.sort((i,o)=>i.value-o.value):n.sort((i,o)=>i.source.localeCompare(o.source)),n}calculateSummaryStats(n){if(n.length===0)return;let i=n.map(d=>d.value),s=i.reduce((d,f)=>d+f,0)/i.length,a=Math.max(...i),l=Math.min(...i),c=n.find(d=>d.value===a),u=n.find(d=>d.value===l);this.summaryStats={average:s.toFixed(1),max:a.toFixed(1),min:l.toFixed(1),maxSource:c?.source||"",minSource:u?.source||"",count:n.length}}createChart(){let n=this.prepareData();if(this.calculateSummaryStats(n),n.length===0)return;let i=25,o=30,s=80,a=10,l=200,c=Math.ceil((n.length+.1)*i)+o+a,u=Ye().domain([0,ct(n,m=>m.value)||100]).rangeRound([l,this.width-s]),d=cn().domain(n.map(m=>m.source)).rangeRound([o,c-a]).padding(.1),f=_t(fr).domain(this.advertisers.map(m=>m.name)),p=Q(this.chartContainer.nativeElement).append("svg").attr("viewBox",[0,0,this.width,c]).attr("style","max-width: 100%; height: auto; font: 12px sans-serif;");p.append("g").selectAll("rect").data(n).join("rect").attr("fill",m=>f(m.advertiser)).attr("x",l).attr("y",m=>d(m.source)).attr("width",m=>u(m.value)-l).attr("height",d.bandwidth()).attr("opacity",.8),p.append("g").attr("font-family","sans-serif").attr("font-size",11).selectAll("text").data(n).join("text").attr("text-anchor","start").attr("x",m=>u(m.value)+5).attr("y",m=>d(m.source)+d.bandwidth()/2).attr("dy","0.35em").text(m=>`${m.value}%`).attr("fill","#333"),p.append("g").attr("transform",`translate(0,${o})`).call(Yo(u).ticks(this.width/100).tickFormat(m=>`${m}%`)).call(m=>m.selectAll(".tick line").clone().attr("y2",c-o-a).attr("stroke-opacity",.1)).call(m=>m.select(".domain").remove()),p.append("g").attr("transform",`translate(${l},0)`).call(Bt(d).tickSize(0).tickPadding(6)).call(m=>m.select(".domain").remove()),p.append("text").attr("x",this.width/2).attr("y",15).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").attr("fill","#333").attr("transform","translate(0,-5)").text(`${this.getMetricDisplayName()} - ${this.selectedAdvertiser==="all"?"All Advertisers":this.selectedAdvertiser}`)}getMetricDisplayName(){return{total:"Total Traffic","mousemove-exists:1":"Mouse Movement","valid-scrolling:1":"Valid Scrolling","touch-exists:1":"Touch Interaction","mobile:1":"Mobile Traffic",bots:"Bot Traffic",humans:"Human Traffic",unknown:"Unknown Traffic"}[this.selectedMetric]||this.selectedMetric}};t.\u0275fac=function(i){return new(i||t)(Z(Fn),Z(kn))},t.\u0275cmp=he({type:t,selectors:[["advertiser-dashboard"]],viewQuery:function(i,o){if(i&1&&lr(t1e,7),i&2){let s;Xn(s=Qn())&&(o.chartContainer=s.first)}},inputs:{width:"width"},decls:54,vars:7,consts:[[1,"dashboard-container"],[1,"header-section"],["class","home-button","title","Go to Home",3,"click",4,"ngIf"],[1,"controls"],[1,"metric-selector"],[3,"ngModel","ngModelChange","change"],["value","total"],["value","mousemove-exists:1"],["value","valid-scrolling:1"],["value","touch-exists:1"],["value","mobile:1"],["value","bots"],["value","humans"],["value","unknown"],[1,"advertiser-selector"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"sort-selector"],["value","desc"],["value","asc"],["value","alphabetical"],[1,"chart-type-selector"],["value","diverging"],["value","horizontal"],[1,"chart"],["chartContainer",""],["class","summary-stats",4,"ngIf"],["title","Go to Home",1,"home-button",3,"click"],[1,"home-icon"],[3,"value"],[1,"summary-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1),Te(2,n1e,4,0,"button",2),R(3,"h2"),H(4,"Advertiser Traffic Source Analysis"),N()(),R(5,"div",3)(6,"div",4)(7,"label"),H(8,"Metric:"),N(),R(9,"select",5),ie("ngModelChange",function(a){return o.selectedMetric=a})("change",function(){return o.updateChart()}),R(10,"option",6),H(11,"Total Traffic %"),N(),R(12,"option",7),H(13,"Mouse Movement %"),N(),R(14,"option",8),H(15,"Valid Scrolling %"),N(),R(16,"option",9),H(17,"Touch Interaction %"),N(),R(18,"option",10),H(19,"Mobile Traffic %"),N(),R(20,"option",11),H(21,"Bot Traffic %"),N(),R(22,"option",12),H(23,"Human Traffic %"),N(),R(24,"option",13),H(25,"Unknown Traffic %"),N()()(),R(26,"div",14)(27,"label"),H(28,"Advertiser:"),N(),R(29,"select",5),ie("ngModelChange",function(a){return o.selectedAdvertiser=a})("change",function(){return o.updateChart()}),R(30,"option",15),H(31,"All Advertisers"),N(),Te(32,r1e,2,2,"option",16),N()(),R(33,"div",17)(34,"label"),H(35,"Sort by:"),N(),R(36,"select",5),ie("ngModelChange",function(a){return o.sortOrder=a})("change",function(){return o.updateChart()}),R(37,"option",18),H(38,"Highest to Lowest"),N(),R(39,"option",19),H(40,"Lowest to Highest"),N(),R(41,"option",20),H(42,"Alphabetical"),N()()(),R(43,"div",21)(44,"label"),H(45,"View as:"),N(),R(46,"select",5),ie("ngModelChange",function(a){return o.chartType=a})("change",function(){return o.updateChart()}),R(47,"option",22),H(48,"Diverging Bar"),N(),R(49,"option",23),H(50,"Horizontal Bar"),N()()()(),re(51,"div",24,25),Te(53,i1e,24,6,"div",26),N()),i&2&&(q(2),Y("ngIf",o.currentRoute===o.routeUrl),q(7),Y("ngModel",o.selectedMetric),q(20),Y("ngModel",o.selectedAdvertiser),q(3),Y("ngForOf",o.advertisers),q(4),Y("ngModel",o.sortOrder),q(10),Y("ngModel",o.chartType),q(7),Y("ngIf",o.summaryStats))},dependencies:[dn,vt,ri,ii,ed,ni,xi],styles:[".dashboard-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.header-section[_ngcontent-%COMP%]{position:relative;margin-bottom:30px}.home-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;align-items:center;gap:8px;padding:10px 16px;background:#007bff;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;box-shadow:0 2px 4px #007bff33}.home-button[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.home-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #007bff33}.home-icon[_ngcontent-%COMP%]{font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin:0}.controls[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap;align-items:center;background:#f8f9fa;padding:20px;border-radius:8px}.metric-selector[_ngcontent-%COMP%], .advertiser-selector[_ngcontent-%COMP%], .sort-selector[_ngcontent-%COMP%], .chart-type-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px}.controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;background:white;min-width:150px}.chart[_ngcontent-%COMP%]{width:100%;overflow-x:auto;border:1px solid #eee;border-radius:8px;background:white}.summary-stats[_ngcontent-%COMP%]{margin-top:30px;background:#f8f9fa;padding:20px;border-radius:8px}.summary-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#333}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background:white;border-radius:4px;border-left:4px solid #007bff}.stat-label[_ngcontent-%COMP%]{font-weight:600;color:#666}.stat-value[_ngcontent-%COMP%]{font-weight:700;color:#333}[_nghost-%COMP%]{display:block}"]});let e=t;return e})();function s1e(e,t){if(e&1&&(R(0,"option",25),H(1),N()),e&2){let r=t.$implicit,n=Ue();Y("value",r.name)("selected",r===n.selectedAdvertiser),q(1),ft(" ",r.name," ")}}function a1e(e,t){if(e&1&&(R(0,"option",25),H(1),N()),e&2){let r=t.$implicit,n=Ue();Y("value",r)("selected",r===n.selectedField),q(1),Ft(r)}}var l1e=e=>({disabled:e});function c1e(e,t){if(e&1){let r=Rt();R(0,"li",29),ie("click",function(){let o=Ot(r).$implicit,s=Ue(2);return Pt(s.toggleLegendItem(o))}),re(1,"div"),R(2,"label",30),H(3),N()()}if(e&2){let r=t.$implicit,n=Ue(2);q(1),ka("bullet ",n.legend[r]&&n.legend[r].className,""),Kr("background-color",n.legend[r]&&n.legend[r].color),q(1),Y("ngClass",Nr(7,l1e,n.legend[r]&&!n.legend[r].visible)),q(1),Ft(r)}}function u1e(e,t){if(e&1){let r=Rt();Ut(),zn(),R(0,"div",26)(1,"span",27),ie("click",function(){Ot(r);let i=Ue();return Pt(i.toggleAllLegendItems())}),H(2," Legend "),N(),R(3,"ul"),Te(4,c1e,4,9,"li",28),N()()}if(e&2){let r=Ue();q(4),Y("ngForOf",r.keys)}}var nW=(()=>{let t=class t{constructor(n,i,o){this.element=n,this.http=i,this.presentationService=o,this.advertisers=[],this.donutData=[],this.selectedAdvertiser=null,this.legend={},this.keys=[],this.selectedField="",this.showStacked=!0,this.isLoading=!0,this.stackMode="percent",this.margins={top:10,right:15,bottom:80,left:75},this.height=360,this.parentElement=n.nativeElement}ngOnInit(){this.http.get("assets/datasets/advertiser_data_table.json").subscribe(n=>{this.advertisers=n.advertisers,this.donutData=n.advertisers,this.isLoading=!1,this.advertisers.length>0&&(this.selectedAdvertiser=this.advertisers[0],this.initializeOptions(),this.selectedField=this.keys[0],this.renderChart())})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onAdvertiserChange(n){this.selectedAdvertiser=this.advertisers.find(i=>i.name===n.target.value),this.initializeOptions(),this.renderChart()}onFieldChange(n){this.selectedField=n.target.value,this.renderChart()}onStackedChange(n){if(this.showStacked)for(let i of this.keys)this.legend[i].visible=!0,this.stackMode="percent";else this.stackMode="count";this.renderChart()}onStackModeChange(n){this.showStacked=n.target.value!=="count",this.stackMode=n.target.value,this.initializeOptions(),this.renderChart()}initializeOptions(){if(this.legend={},!this.selectedAdvertiser||!this.selectedAdvertiser.data.length)return;this.stackMode==="count"?this.keys=Object.keys(this.selectedAdvertiser.data[0]).filter(i=>i==="valid-clicked:1"):this.keys=Object.keys(this.selectedAdvertiser.data[0]).filter(i=>i!=="UTM_SOURCE"&&i!=="valid-clicked:1");for(let i of this.keys)this.legend[i]={visible:!0,className:this.getKeyClassName(i)};let n=zi;this.colorScale=ci(n).domain([0,this.keys.length]);for(let i of this.keys.reverse()){let o=this.getKeyClassName(i),s=this.keys;for(let a of this.keys)this.legend[a].color=this.colorScale(this.keys.indexOf(a))}!this.selectedField&&this.keys.length>0&&(this.selectedField=this.keys[0]),this.selectedField&&!this.keys.includes(this.selectedField)&&this.keys.length>0&&(this.selectedField=this.keys[0])}getLegendKeys(){}legendVisibleCount(){let n=0;for(let i of this.keys)this.legend[i]&&this.legend[i].visible&&n++;return n}setAllLegendItems(n){for(let i of this.keys)this.legend[i].visible=n}toggleLegendItem(n){this.keys.length===this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legend[n].visible=!this.legend[n].visible,this.legendVisibleCount()===0&&this.setAllLegendItems(!0),this.renderFilteredChart()}toggleAllLegendItems(){let n=[],i=[];for(let o of this.keys)o!=="Period"&&this.legend[o]&&(this.legend[o].visible?i.push(o):(this.legend[o].visible=!this.legend[o].visible,n.push(o)));n.length||i.forEach(o=>{this.legend[o].visible=!this.legend[o].visible}),this.renderFilteredChart()}renderFilteredChart(){let n=JSON.parse(JSON.stringify(this.advertisers)),i=[];for(let o of this.keys)this.legend[o]&&!this.legend[o].visible&&i.push(o);i.length&&(n=n.map(o=>(i.forEach(s=>{delete o[s]}),o))),this.renderChart(n)}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}parseValue(n){if(typeof n!="string"&&typeof n!="number")return 0;let i=String(n).replace(/%/g,"").replace(/,/g,""),o=parseFloat(i);return isNaN(o)?0:o}renderChart(n){if(this.destroyChart(),!this.selectedAdvertiser||!this.selectedAdvertiser.data.length)return;let i=this.margins,o=Q(this.parentElement),s=this.svg=o.select("svg");s.attr("width",this.getChartWidth()),s.attr("height",this.height);let a=+s.attr("width")-i.left-i.right,l=+s.attr("height")-i.top-i.bottom,c=s.append("g").attr("transform","translate("+i.left+","+i.top+")"),u=JSON.parse(JSON.stringify(this.selectedAdvertiser.data)),d=document.getElementById("bar-tooltip"),f=this;if(this.showStacked){let p=this.keys.filter(_=>this.legend[_].visible);p.length||(p=this.keys);let m=cn().domain(u.map(_=>_.UTM_SOURCE)).rangeRound([0,a]).padding(.2),v;this.stackMode==="percent"?(u.forEach(_=>{for(let w of p)_[w]=this.parseValue(_[w])}),v=Ye().domain([0,100]).nice().rangeRound([l,0])):v=Ye().domain([0,ct(u,_=>p.reduce((w,b)=>w+this.parseValue(_[b]),0))]).nice().rangeRound([l,0]),c.append("g").attr("class","x-axis").attr("transform","translate(0,"+l+")").call(fn(m)),c.append("g").attr("class","y-axis").call(Bt(v).ticks(8));let g=ps().keys(p)(u);c.append("g").selectAll("g").data(g).enter().append("g").attr("data-key",_=>_.key).attr("class",_=>"stack "+this.getKeyClassName(_.key)).attr("fill",_=>this.legend[_.key].color).selectAll("rect").data(_=>_).enter().append("rect").attr("x",_=>m(_.data.UTM_SOURCE)).attr("y",_=>v(_[1])).attr("height",_=>{let w=v(_[0])-v(_[1]);return isNaN(w)?0:w}).attr("width",m.bandwidth()).attr("class",function(_){let w=Q(this.parentNode).datum();return"bar "+f.getKeyClassName(w.key)}).attr("fill",function(_){let w=Q(this.parentNode).datum(),b=f.getKeyClassName(w.key);return f.keys.includes(b)?null:f.legend[w.key].color}).on("mousemove",function(_,w){let k=Q(this.parentNode).datum().key,E=w[1]-w[0],V=w.data.UTM_SOURCE;d&&(d.style.display="block",d.style.left=_.pageX+16+"px",d.style.top=_.pageY-24+"px",d.innerHTML=`<b>${k}</b><br>UTM_SOURCE: <b>${V}</b><br>Value: <b>${E}</b>`)}).on("mouseout",function(){d&&(d.style.display="none")})}else{if(!this.selectedField)return;let p=cn().domain(u.map(g=>g.UTM_SOURCE)).rangeRound([0,a]).padding(.2),m=Ye().domain([0,ct(u,g=>this.parseValue(g[this.selectedField]))]).nice().rangeRound([l,0]);c.append("g").attr("class","x-axis").attr("transform","translate(0,"+l+")").call(fn(p)),c.append("g").attr("class","y-axis").call(Bt(m).ticks(8));let v=this.selectedField;c.selectAll(".bar").data(u).enter().append("rect").attr("class","bar").attr("x",g=>p(g.UTM_SOURCE)).attr("y",g=>m(this.parseValue(g[v]))).attr("height",g=>{let x=l-m(this.parseValue(g[v]));return isNaN(x)?0:x}).attr("width",p.bandwidth()).attr("fill",()=>this.legend[v]?.color||"#0072B2").on("mousemove",function(g,x){d&&(d.style.display="block",d.style.left=g.pageX+16+"px",d.style.top=g.pageY-24+"px",d.innerHTML=`<b>${x.UTM_SOURCE}</b><br>Field: <b>${v}</b><br>Value: <b>${x[v]}</b>`)}).on("mouseout",function(){d&&(d.style.display="none")})}}getChartWidth(){let n=this.parentElement.getBoundingClientRect().width;return this.keys.length>0&&this.presentationService.isLargePresentation()?n-=this.presentationService.isExtendedPresentation()?210:180:n-=5,n>0?n:0}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}};t.\u0275fac=function(i){return new(i||t)(Z(ze),Z(zt),Z(QH))},t.\u0275cmp=he({type:t,selectors:[["stacked-bar"]],decls:55,vars:15,consts:[["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[3,"loading"],[1,"panel-body"],["id","svg_container",1,"chart-wrapper"],["for","advertiser-select"],["id","advertiser-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["for","field-select"],["id","field-select",3,"disabled","change"],[2,"margin-left","1rem"],["type","checkbox",3,"ngModel","ngModelChange","change"],[2,"margin-top","1rem"],["type","radio","name","stackMode","value","count",3,"ngModel","ngModelChange","change"],["type","radio","name","stackMode","value","percent",3,"ngModel","ngModelChange","change"],["shape-rendering","crispEdges","width","1","height","1"],["class","legend",4,"ngIf"],["id","bar-tooltip",1,"bar-tooltip",2,"display","none"],[1,"row"],[1,"column"],[3,"data"],[3,"logData"],[3,"value","selected"],[1,"legend"],["title","Click here to turn all filters on/off at once",1,"title",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(R(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),H(4,"Advertising Campaign"),N(),R(5,"div",2)(6,"button",3),H(7,"\xAB Home"),N(),R(8,"button",4),H(9,"Next \xBB"),N()()()()(),R(10,"div")(11,"single-card",5)(12,"div",6)(13,"div",7)(14,"label",8),H(15,"Select Advertiser:"),N(),R(16,"select",9),ie("change",function(a){return o.onAdvertiserChange(a)}),Te(17,s1e,2,3,"option",10),N(),R(18,"label",11),H(19,"Select Field:"),N(),R(20,"select",12),ie("change",function(a){return o.onFieldChange(a)}),Te(21,a1e,2,3,"option",10),N(),R(22,"label",13)(23,"input",14),ie("ngModelChange",function(a){return o.showStacked=a})("change",function(a){return o.onStackedChange(a)}),N(),H(24," Show all fields stacked "),N(),R(25,"div",15)(26,"label")(27,"input",16),ie("ngModelChange",function(a){return o.stackMode=a})("change",function(a){return o.onStackModeChange(a)}),N(),H(28," Count"),N(),R(29,"label",13)(30,"input",17),ie("ngModelChange",function(a){return o.stackMode=a})("change",function(a){return o.onStackModeChange(a)}),N(),H(31," Percent"),N()(),Ut(),re(32,"svg",18),Te(33,u1e,5,1,"div",19),zn(),re(34,"div",20),N()()()(),R(35,"div",21)(36,"div",22)(37,"single-card",5)(38,"div",6),re(39,"radial-chart",23),N()()(),R(40,"div",22)(41,"single-card",5)(42,"div",6),re(43,"donut",24),N()()(),R(44,"div",22)(45,"single-card",5)(46,"div",6),re(47,"donut",24),N()()()(),R(48,"single-card",5)(49,"div",6),re(50,"advertiser-dashboard"),N()(),re(51,"region-stacked-bar")(52,"faceted-line-chart")(53,"price-heatmap")(54,"interactive-scatter")),i&2&&(q(11),Y("loading",o.isLoading),q(6),Y("ngForOf",o.advertisers),q(3),Y("disabled",o.showStacked),q(1),Y("ngForOf",o.keys),q(2),Y("ngModel",o.showStacked),q(4),Y("ngModel",o.stackMode),q(3),Y("ngModel",o.stackMode),q(3),Y("ngIf",o.showStacked),q(4),Y("loading",o.isLoading),q(2),Y("data",o.donutData),q(2),Y("loading",o.isLoading),q(2),Y("logData",o.donutData),q(2),Y("loading",o.isLoading),q(2),Y("logData",o.donutData),q(1),Y("loading",o.isLoading))},dependencies:[Jr,dn,vt,ri,ii,ti,J4,Xl,ni,xi,xt,KH,JH,Tf,eW,tW,Yx,Mt,bl],styles:[`.panel-body .date-label{text-align:center;font-weight:400;padding:0;margin:0}.panel-body-container{min-width:5rem}.row{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.column{display:flex;flex-direction:column;flex-basis:100%;flex:1}@media (min-width: 100rem){.chart-wrapper svg g text{font-size:1.2rem}.chart-wrapper svg>text{font-size:1.6rem}}stacked-bar .chart-wrapper{overflow:hidden}stacked-bar .checkmark-icon{margin-right:10px}stacked-bar .legend{font-weight:700;font-size:1.2rem;-webkit-user-select:none;user-select:none}stacked-bar .legend .title{cursor:pointer}stacked-bar .legend ul{font-weight:400;list-style-type:none;overflow-y:auto;padding:0}stacked-bar .legend li{cursor:pointer;min-width:12rem;margin:.8rem 0;white-space:nowrap}stacked-bar .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}stacked-bar .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#0072b2;font-size:1.4rem;font-weight:400}stacked-bar .bullet{display:inline-block;background-color:#000;height:1.6rem;width:1.6rem;vertical-align:middle;border-radius:50%}stacked-bar .disabled{opacity:.5}stacked-bar .tick line{stroke-opacity:.2}.bar-tooltip{position:absolute;pointer-events:none;background:#fff;color:#222;border:1px solid #888;border-radius:4px;padding:8px 12px;font-size:1.1rem;font-weight:500;box-shadow:0 2px 8px #00000026;z-index:1000;min-width:120px;max-width:320px;white-space:pre-line}.bar-highlight{stroke:#222;stroke-width:3px;opacity:1!important}@media (min-width: 10rem){stacked-bar .legend{float:right;margin:1rem -15px}stacked-bar .legend ul{max-height:31rem;width:15.2rem;margin:1rem 0}stacked-bar .legend li{width:11.8rem}stacked-bar .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();var d1e=["chartContainer"],rW=(()=>{let t=class t{constructor(n){this.router=n,this.width=800,this.metric="absolute",this.states=[{State:"Illinois",2010:12830632,2019:12671821},{State:"Virginia",2010:8001024,2019:8535519},{State:"Indiana",2010:6483802,2019:6732219},{State:"Missouri",2010:5988927,2019:6137428},{State:"Maryland",2010:5773552,2019:6045680},{State:"Wisconsin",2010:5686986,2019:5822434},{State:"Colorado",2010:5029196,2019:5758736},{State:"Minnesota",2010:5303925,2019:5639632},{State:"South Carolina",2010:4625364,2019:5148714},{State:"Alabama",2010:4779736,2019:4903185},{State:"Louisiana",2010:4533372,2019:4648794},{State:"Kentucky",2010:4339367,2019:4467673},{State:"Oregon",2010:3831074,2019:4217737},{State:"Oklahoma",2010:3751351,2019:3956971},{State:"Connecticut",2010:3574097,2019:3565287},{State:"Utah",2010:2763885,2019:3205958},{State:"Puerto Rico",2010:3725789,2019:3193694}]}ngOnInit(){this.createChart()}goHome(){this.router.navigate(["/"])}updateChart(){Q(this.chartContainer.nativeElement).selectAll("*").remove(),this.createChart()}createChart(){let n=Us(this.states,v=>v[2019]-v[2010]).map(v=>Ee(ne({},v),{value:this.metric==="absolute"?v[2019]-v[2010]:(v[2019]-v[2010])/v[2010]})),i=25,o=30,s=60,a=10,l=60,c=Math.ceil((n.length+.1)*i)+o+a,u=Ye().domain(yn(n,v=>v.value)).rangeRound([l,this.width-s]),d=cn().domain(n.map(v=>v.State)).rangeRound([o,c-a]).padding(.1),f=Ze(this.metric==="absolute"?"+,d":"+.1%"),p=this.metric==="absolute"?Cc("+.1",1e6):Ze("+.0%"),m=Q(this.chartContainer.nativeElement).append("svg").attr("viewBox",[0,0,this.width,c]).attr("style","max-width: 100%; height: auto; font: 10px sans-serif;");m.append("g").selectAll("rect").data(n).join("rect").attr("fill",v=>jm[3][v.value>0?2:0]).attr("x",v=>u(Math.min(v.value,0))).attr("y",v=>d(v.State)).attr("width",v=>Math.abs(u(v.value)-u(0))).attr("height",d.bandwidth()),m.append("g").attr("font-family","sans-serif").attr("font-size",10).selectAll("text").data(n).join("text").attr("text-anchor",v=>v.value<0?"end":"start").attr("x",v=>u(v.value)+Math.sign(v.value-0)*4).attr("y",v=>d(v.State)+d.bandwidth()/2).attr("dy","0.35em").text(v=>f(v.value)),m.append("g").attr("transform",`translate(0,${o})`).call(Yo(u).ticks(this.width/80).tickFormat(p)).call(v=>v.selectAll(".tick line").clone().attr("y2",c-o-a).attr("stroke-opacity",.1)).call(v=>v.select(".domain").remove()),m.append("g").attr("transform",`translate(${u(0)},0)`).call(Bt(d).tickSize(0).tickPadding(6)).call(v=>v.selectAll(".tick text").filter((g,x)=>n[x].value<0).attr("text-anchor","start").attr("x",6))}};t.\u0275fac=function(i){return new(i||t)(Z(Fn))},t.\u0275cmp=he({type:t,selectors:[["horizontal-diverging-bar"]],viewQuery:function(i,o){if(i&1&&lr(d1e,7),i&2){let s;Xn(s=Qn())&&(o.chartContainer=s.first)}},inputs:{width:"width"},decls:17,vars:2,consts:[[1,"chart-container"],[1,"controls"],["type","radio","name","metric","value","absolute",3,"ngModel","ngModelChange","change"],["type","radio","name","metric","value","relative",3,"ngModel","ngModelChange","change"],[1,"header-section"],["title","Go to Home",1,"home-button",3,"click"],[1,"home-icon"],[1,"chart"],["chartContainer",""]],template:function(i,o){i&1&&(R(0,"div",0)(1,"div",1)(2,"label")(3,"input",2),ie("ngModelChange",function(a){return o.metric=a})("change",function(){return o.updateChart()}),N(),H(4," Absolute Change "),N(),R(5,"label")(6,"input",3),ie("ngModelChange",function(a){return o.metric=a})("change",function(){return o.updateChart()}),N(),H(7," Relative Change (%) "),N()(),R(8,"div",4)(9,"button",5),ie("click",function(){return o.goHome()}),R(10,"span",6),H(11,"\u{1F3E0}"),N(),H(12," Home "),N(),R(13,"h2"),H(14,"US States Population"),N()(),re(15,"div",7,8),N()),i&2&&(q(3),Y("ngModel",o.metric),q(3),Y("ngModel",o.metric))},dependencies:[ti,Xl,ni,xi],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto}.controls[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;gap:20px}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;cursor:pointer}.chart[_ngcontent-%COMP%]{width:100%;overflow-x:auto}[_nghost-%COMP%]{display:block;padding:20px}"]});let e=t;return e})();var f1e=[{path:"",component:Nz,pathMatch:"full"},{path:"voronoi",data:{animate:!1},component:_x},{path:"voronoi-gdp",data:{animate:!1},component:Dx},{path:"earth",component:Qm},{path:"metrics",component:wB},{path:"industry",component:bB},{path:"compvaluation",component:cB},{path:"browser",component:Mx},{path:"sankey",component:VM},{path:"analytics",component:Pz},{path:"tabs",component:CB},{path:"radial",component:uB},{path:"funnel",component:Tx},{path:"attack-tree",component:GH},{path:"stacked",component:BH},{path:"diverging",component:MB},{path:"linechart",component:$H},{path:"finance",component:zH},{path:"crypto",component:Gx},{path:"bubble-monitor",component:WH},{path:"donut-monitor",component:qH},{path:"area",component:ZH},{path:"matrix",component:YH},{path:"advertiser",component:nW},{path:"labour",component:XH},{path:"states",component:rW},{path:"advertiser-dashboard",component:Yx},{path:"**",redirectTo:"/"}],iW=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t}),t.\u0275inj=Yt({imports:[gC.forRoot(f1e),gC]});let e=t;return e})();var h1e={companyData:[],filteredCompanyData:[],currentQuery:"Country",error:""};function oW(e=h1e,t){switch(t.type){case fi.SetCurrentQuery:return Ee(ne({},e),{currentQuery:t.currentQuery});case fi.CompanyLoadFailed:return Ee(ne({},e),{error:t.error});case fi.CompanyLoadSuccess:let r=t.companyData.data.length<=0?[]:t.companyData;return Ee(ne({},e),{companyData:r});case fi.FilterByCompany:return e;case fi.FilterByCountry:return e;case fi.GetAllData:return e}}var sW={companyData:oW},aW=O1("companyData"),$st=uo(aW,e=>e&&e.currentQuery!==void 0?e.currentQuery:"Country"),zst=uo(aW,e=>e.companyData);var lW=(()=>{let t=class t{constructor(n,i){this.actions$=n,this.voronoService=i,this.filterByCompanyData$=Uh(()=>this.actions$.pipe($h(fi.GetAllData),Nt(o=>this.voronoService.getNestedCompanyData(o.currentQuery).pipe(ye(s=>new px(s)),_n(s=>Ae(new mx(s)))))))}};t.\u0275fac=function(i){return new(i||t)(ee(F1),ee(Pf))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();var cW=(()=>{let t=class t{constructor(n,i){this.actions$=n,this.http=i,this.csvData$=this.http.get("assets/datasets/companies_capitalization.csv",{responseType:"text"}).pipe(Wb(1)),this.loadCountries$=Uh(()=>this.actions$.pipe($h(Af),Nt(()=>this.csvData$.pipe(ye(o=>{let s=[],a=o.split(`
`),l=a[0].split(",");for(let c=1;c<a.length-1;c++){let u=a[c].split(","),d={};for(let f in l)u[f].includes(", ")?d[l[f]]=u[f].split(", ").map(p=>p.trim()):d[l[f]]=u[f];s.push(d)}return gx({countries:s})}),_n(o=>Ae(yx({error:o.message}))))))),this.loadCompanies$=Uh(()=>this.actions$.pipe($h(Of),Nt(()=>this.csvData$.pipe(ye(o=>{let s=[],a=o.split(`
`);for(let c=1;c<a.length-1;c++){let u=a[c].split(",");s.push({Rank:u[0],Company:u[1],Symbol:u[2].trim(),Capital:Number(u[3]).toLocaleString(),SharePrice:Number(u[4]),Country:u[5].replace(/(\r\n|\n|\r)/gm,"")})}let l=s.filter(c=>["Germany","Belgium","Spain","Turkey","Russia","Argentina","Brazil","Ireland","Poland","Italy","Greece","Czech Republic"].includes(c.Country));return vx({companies:l})}),_n(o=>Ae(xx({error:o.message})))))))}};t.\u0275fac=function(i){return new(i||t)(ee(F1),ee(zt))},t.\u0275prov=ce({token:t,factory:t.\u0275fac});let e=t;return e})();var uW={countries:[],companies:[],countrySelected:null,loading:!1,error:null};var dW=dI(uW,Oa(Af,e=>Ee(ne({},e),{loading:!0})),Oa(gx,(e,{countries:t})=>Ee(ne({},e),{loading:!1,countries:t,error:null})),Oa(yx,(e,{error:t})=>Ee(ne({},e),{loading:!1,error:t})),Oa(Of,e=>Ee(ne({},e),{loading:!0})),Oa(vx,(e,{companies:t})=>Ee(ne({},e),{loading:!1,companies:t,error:null})),Oa(xx,(e,{error:t})=>Ee(ne({},e),{loading:!1,error:t})),Oa(Zm,(e,{data:t})=>Ee(ne({},e),{countrySelected:t})));var fW=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=Zt({type:t,bootstrap:[EO]}),t.\u0275inj=Yt({providers:[bx],imports:[y1,nA,tA,E1,iW,NA,Tk,Y4.forRoot([lW]),H4.forRoot(sW),H4.forFeature("voronoi",dW),Y4.forFeature([cW])]});let e=t;return e})();Rk().bootstrapModule(fW).catch(e=>console.error(e));
