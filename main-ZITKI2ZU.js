var DZ=Object.create;var lh=Object.defineProperty,SZ=Object.defineProperties,MZ=Object.getOwnPropertyDescriptor,EZ=Object.getOwnPropertyDescriptors,TZ=Object.getOwnPropertyNames,D7=Object.getOwnPropertySymbols,kZ=Object.getPrototypeOf,M7=Object.prototype.hasOwnProperty,IZ=Object.prototype.propertyIsEnumerable;var qb=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")};var S7=(e,t,r)=>t in e?lh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ne=(e,t)=>{for(var r in t||={})M7.call(t,r)&&S7(e,r,t[r]);if(D7)for(var r of D7(t))IZ.call(t,r)&&S7(e,r,t[r]);return e},Se=(e,t)=>SZ(e,EZ(t));var E7=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var we=(e,t)=>()=>(e&&(t=e(e=0)),t);var Oi=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),fu=(e,t)=>{for(var r in t)lh(e,r,{get:t[r],enumerable:!0})},T7=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of TZ(t))!M7.call(e,i)&&i!==r&&lh(e,i,{get:()=>t[i],enumerable:!(n=MZ(t,i))||n.enumerable});return e};var jg=(e,t,r)=>(r=e!=null?DZ(kZ(e)):{},T7(t||!e||!e.__esModule?lh(r,"default",{value:e,enumerable:!0}):r,e)),ch=e=>T7(lh({},"__esModule",{value:!0}),e);var Sn=(e,t,r)=>new Promise((n,i)=>{var o=l=>{try{a(r.next(l))}catch(c){i(c)}},s=l=>{try{a(r.throw(l))}catch(c){i(c)}},a=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,s);a((r=r.apply(e,t)).next())}),AZ=function(e,t){this[0]=e,this[1]=t};var k7=e=>{var t=e[qb("asyncIterator")],r=!1,n,i={};return t==null?(t=e[qb("iterator")](),n=o=>i[o]=s=>t[o](s)):(t=t.call(e),n=o=>i[o]=s=>{if(r){if(r=!1,o==="throw")throw s;return s}return r=!0,{done:!1,value:new AZ(new Promise(a=>{var l=t[o](s);if(!(l instanceof Object))throw TypeError("Object expected");a(l)}),1)}}),i[qb("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i};function at(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var xo=we(()=>{"use strict"});function Ya(e){let t=e,r=e;e.length===1&&(t=(s,a)=>e(s)-a,r=Ele(e));function n(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){let u=l+c>>>1;r(s[u],a)<0?l=u+1:c=u}return l}function i(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){let u=l+c>>>1;r(s[u],a)>0?c=u:l=u+1}return l}function o(s,a,l,c){l==null&&(l=0),c==null&&(c=s.length);let u=n(s,a,l,c-1);return u>l&&t(s[u-1],a)>-t(s[u],a)?u-1:u}return{left:n,center:o,right:i}}function Ele(e){return(t,r)=>at(e(t),r)}var QC=we(()=>{"use strict";xo()});function Wy(e){return e===null?NaN:+e}function*vP(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}var XC=we(()=>{"use strict"});var xP,Gy,KC,JC,$r,e6=we(()=>{"use strict";xo();QC();XC();xP=Ya(at),Gy=xP.right,KC=xP.left,JC=Ya(Wy).center,$r=Gy});function Xo(e,t){let r=0;if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&++r;else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(i=+i)>=i&&++r}return r}var Np=we(()=>{"use strict"});function Tle(e){return e.length|0}function kle(e){return!(e>0)}function Ile(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Ale(e){return t=>e(...t)}function Yy(...e){let t=typeof e[e.length-1]=="function"&&Ale(e.pop());e=e.map(Ile);let r=e.map(Tle),n=e.length-1,i=new Array(n+1).fill(0),o=[];if(n<0||r.some(kle))return o;for(;;){o.push(i.map((a,l)=>e[l][a]));let s=n;for(;++i[s]===r[s];){if(s===0)return t?o.map(t):o;i[s--]=0}}}var bP=we(()=>{"use strict"});function Zy(e,t){var r=0,n=0;return Float64Array.from(e,t===void 0?i=>r+=+i||0:i=>r+=+t(i,n++,e)||0)}var wP=we(()=>{"use strict"});function Hs(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var _P=we(()=>{"use strict"});function vd(e,t){let r=0,n,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(n=s-i,i+=n/++r,o+=n*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(n=a-i,i+=n/++r,o+=n*(a-i))}if(r>1)return o/(r-1)}var t6=we(()=>{"use strict"});function xd(e,t){let r=vd(e,t);return r&&Math.sqrt(r)}var n6=we(()=>{"use strict";t6()});function Mt(e,t){let r,n;if(t===void 0)for(let i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(r===void 0?o>=o&&(r=n=o):(r>o&&(r=o),n<o&&(n=o)))}return[r,n]}var r6=we(()=>{"use strict"});function i6(e,t){let r=new Qt;if(t===void 0)for(let n of e)(n=+n)&&r.add(n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&r.add(i)}return+r}function o6(e,t){let r=new Qt,n=-1;return Float64Array.from(e,t===void 0?i=>r.add(+i||0):i=>r.add(+t(i,++n,e)||0))}var Qt,CP=we(()=>{"use strict";Qt=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let r=this._partials,n=0;for(let i=0;i<this._n&&i<32;i++){let o=r[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(r[n++]=a),t=s}return r[n]=t,this._n=n+1,this}valueOf(){let t=this._partials,r=this._n,n,i,o,s=0;if(r>0){for(s=t[--r];r>0&&(n=s,i=t[--r],s=n+i,o=i-(s-n),!o););r>0&&(o<0&&t[r-1]<0||o>0&&t[r-1]>0)&&(i=o*2,n=s+i,i==n-s&&(s=n))}return s}}});function s6({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):r}function DP({_intern:e,_key:t},r){let n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function SP({_intern:e,_key:t},r){let n=t(r);return e.has(n)&&(r=e.get(r),e.delete(n)),r}function MP(e){return e!==null&&typeof e=="object"?e.valueOf():e}var fc,Rp,a6=we(()=>{"use strict";fc=class extends Map{constructor(t,r=MP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let[n,i]of t)this.set(n,i)}get(t){return super.get(s6(this,t))}has(t){return super.has(s6(this,t))}set(t,r){return super.set(DP(this,t),r)}delete(t){return super.delete(SP(this,t))}},Rp=class extends Set{constructor(t,r=MP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(let n of t)this.add(n)}has(t){return super.has(s6(this,t))}add(t){return super.add(DP(this,t))}delete(t){return super.delete(SP(this,t))}}});function Za(e){return e}var l6=we(()=>{"use strict"});function Rn(e,...t){return wd(e,Za,Za,t)}function c6(e,...t){return wd(e,Array.from,Za,t)}function li(e,t,...r){return wd(e,Za,t,r)}function bd(e,t,...r){return wd(e,Array.from,t,r)}function Fp(e,...t){return wd(e,Za,EP,t)}function u6(e,...t){return wd(e,Array.from,EP,t)}function EP(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function wd(e,t,r,n){return function i(o,s){if(s>=n.length)return r(o);let a=new fc,l=n[s++],c=-1;for(let u of o){let d=l(u,++c,o),f=a.get(d);f?f.push(u):a.set(d,[u])}for(let[u,d]of a)a.set(u,i(d,s));return t(a)}(e,0)}var d6=we(()=>{"use strict";a6();l6()});function Lp(e,t){return Array.from(t,r=>e[r])}var f6=we(()=>{"use strict"});function qs(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r=at]=t;if(r.length===1||t.length>1){let n=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),n.sort((i,o)=>{for(let s of t){let a=at(s[i],s[o]);if(a)return a}})):(r=e.map(r),n.sort((i,o)=>at(r[i],r[o]))),Lp(e,n)}return e.sort(r)}var h6=we(()=>{"use strict";xo();f6()});function Qy(e,t,r){return(t.length===1?qs(li(e,t,r),([n,i],[o,s])=>at(i,s)||at(n,o)):qs(Rn(e,r),([n,i],[o,s])=>t(i,s)||at(n,o))).map(([n])=>n)}var TP=we(()=>{"use strict";xo();d6();h6()});var kP,IP,y8e,AP=we(()=>{"use strict";kP=Array.prototype,IP=kP.slice,y8e=kP.map});function Vp(e){return function(){return e}}var OP=we(()=>{"use strict"});function Sr(e,t,r){var n,i=-1,o,s,a;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(o=e,e=t,t=o),(a=Ko(e,t,r))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),c=Math.round(t/a);for(l*a<e&&++l,c*a>t&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)*a}else{a=-a;let l=Math.round(e*a),c=Math.round(t*a);for(l/a<e&&++l,c/a>t&&--c,s=new Array(o=c-l+1);++i<o;)s[i]=(l+i)/a}return n&&s.reverse(),s}function Ko(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),o=n/Math.pow(10,i);return i>=0?(o>=p6?10:o>=m6?5:o>=g6?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=p6?10:o>=m6?5:o>=g6?2:1)}function ji(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/i;return o>=p6?i*=10:o>=m6?i*=5:o>=g6&&(i*=2),t<e?-i:i}var p6,m6,g6,Xy=we(()=>{"use strict";p6=Math.sqrt(50),m6=Math.sqrt(10),g6=Math.sqrt(2)});function _d(e,t,r){let n;for(;;){let i=Ko(e,t,r);if(i===n||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),n=i}}var y6=we(()=>{"use strict";Xy()});function hc(e){return Math.ceil(Math.log(Xo(e))/Math.LN2)+1}var v6=we(()=>{"use strict";Np()});function Cd(){var e=Za,t=Mt,r=hc;function n(i){Array.isArray(i)||(i=Array.from(i));var o,s=i.length,a,l=new Array(s);for(o=0;o<s;++o)l[o]=e(i[o],o,i);var c=t(l),u=c[0],d=c[1],f=r(l,u,d);if(!Array.isArray(f)){let g=d,x=+f;if(t===Mt&&([u,d]=_d(u,d,x)),f=Sr(u,d,x),f[f.length-1]>=d)if(g>=d&&t===Mt){let C=Ko(u,d,x);isFinite(C)&&(C>0?d=(Math.floor(d/C)+1)*C:C<0&&(d=(Math.ceil(d*-C)+1)/-C))}else f.pop()}for(var h=f.length;f[0]<=u;)f.shift(),--h;for(;f[h-1]>d;)f.pop(),--h;var m=new Array(h+1),y;for(o=0;o<=h;++o)y=m[o]=[],y.x0=o>0?f[o-1]:u,y.x1=o<h?f[o]:d;for(o=0;o<s;++o)a=l[o],u<=a&&a<=d&&m[$r(f,a,0,h)].push(i[o]);return m}return n.value=function(i){return arguments.length?(e=typeof i=="function"?i:Vp(i),n):e},n.domain=function(i){return arguments.length?(t=typeof i=="function"?i:Vp([i[0],i[1]]),n):t},n.thresholds=function(i){return arguments.length?(r=typeof i=="function"?i:Array.isArray(i)?Vp(IP.call(i)):Vp(i),n):r},n}var PP=we(()=>{"use strict";AP();e6();OP();r6();l6();y6();Xy();v6()});function Ue(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}var x6=we(()=>{"use strict"});function mr(e,t){let r;if(t===void 0)for(let n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}var Ky=we(()=>{"use strict"});function pc(e,t,r=0,n=e.length-1,i=at){for(;n>r;){if(n-r>600){let l=n-r+1,c=t-r+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*d/l+f)),m=Math.min(n,Math.floor(t+(l-c)*d/l+f));pc(e,t,h,m,i)}let o=e[t],s=r,a=n;for(jp(e,r,t),i(e[n],o)>0&&jp(e,r,n);s<a;){for(jp(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[r],o)===0?jp(e,r,a):(++a,jp(e,a,n)),a<=t&&(r=a+1),t<=a&&(n=a-1)}return e}function jp(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}var b6=we(()=>{"use strict";xo()});function bo(e,t,r){if(e=Float64Array.from(vP(e,r)),!!(n=e.length)){if((t=+t)<=0||n<2)return mr(e);if(t>=1)return Ue(e);var n,i=(n-1)*t,o=Math.floor(i),s=Ue(pc(e,o).subarray(0,o+1)),a=mr(e.subarray(o+1));return s+(a-s)*(i-o)}}function zp(e,t,r=Wy){if(n=e.length){if((t=+t)<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,o=Math.floor(i),s=+r(e[o],o,e),a=+r(e[o+1],o+1,e);return s+(a-s)*(i-o)}}var Jy=we(()=>{"use strict";x6();Ky();b6();XC()});function w6(e,t,r){return Math.ceil((r-t)/(2*(bo(e,.75)-bo(e,.25))*Math.pow(Xo(e),-1/3)))}var NP=we(()=>{"use strict";Np();Jy()});function _6(e,t,r){return Math.ceil((r-t)/(3.5*xd(e)*Math.pow(Xo(e),-1/3)))}var RP=we(()=>{"use strict";Np();n6()});function Dd(e,t){let r,n=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r<o||r===void 0&&o>=o)&&(r=o,n=i);return n}var C6=we(()=>{"use strict"});function Qa(e,t){let r=0,n=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++r,n+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++r,n+=o)}if(r)return n/r}var FP=we(()=>{"use strict"});function D6(e,t){return bo(e,.5,t)}var LP=we(()=>{"use strict";Jy()});function*Ole(e){for(let t of e)yield*k7(t)}function Xa(e){return Array.from(Ole(e))}var VP=we(()=>{"use strict"});function Sd(e,t){let r,n=-1,i=-1;if(t===void 0)for(let o of e)++i,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);return n}var S6=we(()=>{"use strict"});function Jn(e,t=Ple){let r=[],n,i=!1;for(let o of e)i&&r.push(t(n,o)),n=o,i=!0;return r}function Ple(e,t){return[e,t]}var jP=we(()=>{"use strict"});function $t(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(i);++n<i;)o[n]=e+n*r;return o}var zP=we(()=>{"use strict"});function e2(e,t=at){let r,n=!1;if(t.length===1){let i;for(let o of e){let s=t(o);(n?at(s,i)<0:at(s,s)===0)&&(r=o,i=s,n=!0)}}else for(let i of e)(n?t(i,r)<0:t(i,i)===0)&&(r=i,n=!0);return r}var $P=we(()=>{"use strict";xo()});function Md(e,t=at){if(t.length===1)return Sd(e,t);let r,n=-1,i=-1;for(let o of e)++i,(n<0?t(o,o)===0:t(o,r)<0)&&(r=o,n=i);return n}var M6=we(()=>{"use strict";xo();S6()});function t2(e,t=at){let r,n=!1;if(t.length===1){let i;for(let o of e){let s=t(o);(n?at(s,i)>0:at(s,s)===0)&&(r=o,i=s,n=!0)}}else for(let i of e)(n?t(i,r)>0:t(i,i)===0)&&(r=i,n=!0);return r}var BP=we(()=>{"use strict";xo()});function n2(e,t=at){if(t.length===1)return Dd(e,t);let r,n=-1,i=-1;for(let o of e)++i,(n<0?t(o,o)===0:t(o,r)>0)&&(r=o,n=i);return n}var UP=we(()=>{"use strict";xo();C6()});function r2(e,t){let r=Md(e,t);return r<0?void 0:r}var HP=we(()=>{"use strict";M6()});function i2(e){return function(r,n=0,i=r.length){let o=i-(n=+n);for(;o;){let s=e()*o--|0,a=r[o+n];r[o+n]=r[s+n],r[s+n]=a}return r}}var E6,qP=we(()=>{"use strict";E6=i2(Math.random)});function Ka(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let i of e)(i=+t(i,++n,e))&&(r+=i)}return r}var WP=we(()=>{"use strict"});function $p(e){if(!(o=e.length))return[];for(var t=-1,r=mr(e,Nle),n=new Array(r);++t<r;)for(var i=-1,o,s=n[t]=new Array(o);++i<o;)s[i]=e[i][t];return n}function Nle(e){return e.length}var T6=we(()=>{"use strict";Ky()});function k6(){return $p(arguments)}var GP=we(()=>{"use strict";T6()});function o2(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(!t(n,++r,e))return!1;return!0}var YP=we(()=>{"use strict"});function s2(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=-1;for(let n of e)if(t(n,++r,e))return!0;return!1}var ZP=we(()=>{"use strict"});function a2(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let r=[],n=-1;for(let i of e)t(i,++n,e)&&r.push(i);return r}var QP=we(()=>{"use strict"});function l2(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(r,n)=>t(r,n,e))}var XP=we(()=>{"use strict"});function c2(e,t,r){if(typeof t!="function")throw new TypeError("reducer is not a function");let n=e[Symbol.iterator](),i,o,s=-1;if(arguments.length<3){if({done:i,value:r}=n.next(),i)return;++s}for(;{done:i,value:o}=n.next(),!i;)r=t(r,o,++s,e);return r}var KP=we(()=>{"use strict"});function u2(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var JP=we(()=>{"use strict"});function d2(e,...t){e=new Set(e);for(let r of t)for(let n of r)e.delete(n);return e}var eN=we(()=>{"use strict"});function f2(e,t){let r=t[Symbol.iterator](),n=new Set;for(let i of e){if(n.has(i))return!1;let o,s;for(;({value:o,done:s}=r.next())&&!s;){if(Object.is(i,o))return!1;n.add(o)}}return!0}var tN=we(()=>{"use strict"});function I6(e){return e instanceof Set?e:new Set(e)}var nN=we(()=>{"use strict"});function h2(e,...t){e=new Set(e),t=t.map(I6);e:for(let r of e)for(let n of t)if(!n.has(r)){e.delete(r);continue e}return e}var rN=we(()=>{"use strict";nN()});function Ed(e,t){let r=e[Symbol.iterator](),n=new Set;for(let i of t){if(n.has(i))continue;let o,s;for(;{value:o,done:s}=r.next();){if(s)return!1;if(n.add(o),Object.is(i,o))break}}return!0}var A6=we(()=>{"use strict"});function p2(e,t){return Ed(t,e)}var iN=we(()=>{"use strict";A6()});function Td(...e){let t=new Set;for(let r of e)for(let n of r)t.add(n);return t}var oN=we(()=>{"use strict"});var sN={};fu(sN,{Adder:()=>Qt,InternMap:()=>fc,InternSet:()=>Rp,ascending:()=>at,bin:()=>Cd,bisect:()=>$r,bisectCenter:()=>JC,bisectLeft:()=>KC,bisectRight:()=>Gy,bisector:()=>Ya,count:()=>Xo,cross:()=>Yy,cumsum:()=>Zy,descending:()=>Hs,deviation:()=>xd,difference:()=>d2,disjoint:()=>f2,every:()=>o2,extent:()=>Mt,fcumsum:()=>o6,filter:()=>a2,fsum:()=>i6,greatest:()=>t2,greatestIndex:()=>n2,group:()=>Rn,groupSort:()=>Qy,groups:()=>c6,histogram:()=>Cd,index:()=>Fp,indexes:()=>u6,intersection:()=>h2,least:()=>e2,leastIndex:()=>Md,map:()=>l2,max:()=>Ue,maxIndex:()=>Dd,mean:()=>Qa,median:()=>D6,merge:()=>Xa,min:()=>mr,minIndex:()=>Sd,nice:()=>_d,pairs:()=>Jn,permute:()=>Lp,quantile:()=>bo,quantileSorted:()=>zp,quickselect:()=>pc,range:()=>$t,reduce:()=>c2,reverse:()=>u2,rollup:()=>li,rollups:()=>bd,scan:()=>r2,shuffle:()=>E6,shuffler:()=>i2,some:()=>s2,sort:()=>qs,subset:()=>p2,sum:()=>Ka,superset:()=>Ed,thresholdFreedmanDiaconis:()=>w6,thresholdScott:()=>_6,thresholdSturges:()=>hc,tickIncrement:()=>Ko,tickStep:()=>ji,ticks:()=>Sr,transpose:()=>$p,union:()=>Td,variance:()=>vd,zip:()=>k6});var mn=we(()=>{"use strict";e6();xo();QC();Np();bP();wP();_P();n6();r6();CP();d6();TP();PP();NP();RP();v6();x6();C6();FP();LP();VP();Ky();S6();y6();jP();f6();Jy();b6();zP();$P();M6();BP();UP();HP();qP();WP();Xy();T6();t6();GP();YP();ZP();QP();XP();KP();JP();h6();eN();tN();rN();iN();A6();oN();a6()});function uN(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new b2(r)}function b2(e){this._=e}function $le(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}function Ble(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function cN(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=zle,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var zle,Ei,dN=we(()=>{"use strict";zle={value:()=>{}};b2.prototype=uN.prototype={constructor:b2,on:function(e,t){var r=this._,n=$le(e+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(e=n[o]).type)&&(i=Ble(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=n[o]).type)r[i]=cN(r[i],e.name,t);else if(t==null)for(i in r)r[i]=cN(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new b2(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};Ei=uN});var fN={};fu(fN,{dispatch:()=>Ei});var Ja=we(()=>{"use strict";dN()});function Qs(){return xc||(WR(oue),xc=tm.now()+W2)}function oue(){xc=0}function bc(){this._call=this._time=this._next=null}function Xs(e,t,r){var n=new bc;return n.restart(e,t,r),n}function G2(){Qs(),++zd;for(var e=H2,t;e;)(t=xc-e._time)>=0&&e._call.call(null,t),e=e._next;--zd}function HR(){xc=(q2=tm.now())+W2,zd=Jp=0;try{G2()}finally{zd=0,aue(),xc=0}}function sue(){var e=tm.now(),t=e-q2;t>qR&&(W2-=t,q2=e)}function aue(){for(var e,t=H2,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:H2=r);em=e,Z6(n)}function Z6(e){if(!zd){Jp&&(Jp=clearTimeout(Jp));var t=e-xc;t>24?(e<1/0&&(Jp=setTimeout(HR,e-tm.now()-W2)),Kp&&(Kp=clearInterval(Kp))):(Kp||(q2=tm.now(),Kp=setInterval(sue,qR)),zd=1,WR(HR))}}var zd,Jp,Kp,qR,H2,em,q2,xc,W2,tm,WR,Y2=we(()=>{"use strict";zd=0,Jp=0,Kp=0,qR=1e3,q2=0,xc=0,W2=0,tm=typeof performance=="object"&&performance.now?performance:Date,WR=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};bc.prototype=Xs.prototype={constructor:bc,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Qs():+r)+(t==null?0:+t),!this._next&&em!==this&&(em?em._next=this:H2=this,em=this),this._call=e,this._time=r,Z6()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z6())}}});function $d(e,t,r){var n=new bc;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var GR=we(()=>{"use strict";Y2()});function nm(e,t,r){var n=new bc,i=t;return t==null?(n.restart(e,t,r),n):(n._restart=n.restart,n.restart=function(o,s,a){s=+s,a=a==null?Qs():+a,n._restart(function l(c){c+=i,n._restart(l,i+=s,a),o(c)},s,a)},n.restart(e,t,r),n)}var YR=we(()=>{"use strict";Y2()});var ZR={};fu(ZR,{interval:()=>nm,now:()=>Qs,timeout:()=>$d,timer:()=>Xs,timerFlush:()=>G2});var Bd=we(()=>{"use strict";Y2();GR();YR()});function DD(e){for(var t=-1,r=e.length,n,i=e[r-1],o=0;++t<r;)n=i,i=e[t],o+=n[1]*i[0]-n[0]*i[1];return o/2}var Xj=we(()=>{"use strict"});function Lm(e){for(var t=-1,r=e.length,n=0,i=0,o,s=e[r-1],a,l=0;++t<r;)o=s,s=e[t],l+=a=o[0]*s[1]-s[0]*o[1],n+=(o[0]+s[0])*a,i+=(o[1]+s[1])*a;return l*=3,[n/l,i/l]}var Kj=we(()=>{"use strict"});function Jj(e,t,r){return(t[0]-e[0])*(r[1]-e[1])-(t[1]-e[1])*(r[0]-e[0])}var ez=we(()=>{"use strict"});function che(e,t){return e[0]-t[0]||e[1]-t[1]}function tz(e){let t=e.length,r=[0,1],n=2,i;for(i=2;i<t;++i){for(;n>1&&Jj(e[r[n-2]],e[r[n-1]],e[i])<=0;)--n;r[n++]=i}return r.slice(0,n)}function SD(e){if((r=e.length)<3)return null;var t,r,n=new Array(r),i=new Array(r);for(t=0;t<r;++t)n[t]=[+e[t][0],+e[t][1],t];for(n.sort(che),t=0;t<r;++t)i[t]=[n[t][0],-n[t][1]];var o=tz(n),s=tz(i),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],c=[];for(t=o.length-1;t>=0;--t)c.push(e[n[o[t]][2]]);for(t=+a;t<s.length-l;++t)c.push(e[n[s[t]][2]]);return c}var nz=we(()=>{"use strict";ez()});function MD(e,t){for(var r=e.length,n=e[r-1],i=t[0],o=t[1],s=n[0],a=n[1],l,c,u=!1,d=0;d<r;++d)n=e[d],l=n[0],c=n[1],c>o!=a>o&&i<(s-l)*(o-c)/(a-c)+l&&(u=!u),s=l,a=c;return u}var rz=we(()=>{"use strict"});function ED(e){for(var t=-1,r=e.length,n=e[r-1],i,o,s=n[0],a=n[1],l=0;++t<r;)i=s,o=a,n=e[t],s=n[0],a=n[1],i-=s,o-=a,l+=Math.hypot(i,o);return l}var iz=we(()=>{"use strict"});var TD={};fu(TD,{polygonArea:()=>DD,polygonCentroid:()=>Lm,polygonContains:()=>MD,polygonHull:()=>SD,polygonLength:()=>ED});var I3=we(()=>{"use strict";Xj();Kj();nz();rz();iz()});var JB=Oi((qS,jf)=>{"use strict";(function(e,t){typeof qS=="object"&&typeof jf<"u"?jf.exports=t():typeof define=="function"&&define.amd?define(t):e.moment=t()})(qS,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function r(p){e=p}function n(p){return p instanceof Array||Object.prototype.toString.call(p)==="[object Array]"}function i(p){return p!=null&&Object.prototype.toString.call(p)==="[object Object]"}function o(p,v){return Object.prototype.hasOwnProperty.call(p,v)}function s(p){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(p).length===0;var v;for(v in p)if(o(p,v))return!1;return!0}function a(p){return p===void 0}function l(p){return typeof p=="number"||Object.prototype.toString.call(p)==="[object Number]"}function c(p){return p instanceof Date||Object.prototype.toString.call(p)==="[object Date]"}function u(p,v){var _=[],S,F=p.length;for(S=0;S<F;++S)_.push(v(p[S],S));return _}function d(p,v){for(var _ in v)o(v,_)&&(p[_]=v[_]);return o(v,"toString")&&(p.toString=v.toString),o(v,"valueOf")&&(p.valueOf=v.valueOf),p}function f(p,v,_,S){return t7(p,v,_,S,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(p){return p._pf==null&&(p._pf=h()),p._pf}var y;Array.prototype.some?y=Array.prototype.some:y=function(p){var v=Object(this),_=v.length>>>0,S;for(S=0;S<_;S++)if(S in v&&p.call(this,v[S],S,v))return!0;return!1};function g(p){var v=null,_=!1,S=p._d&&!isNaN(p._d.getTime());if(S&&(v=m(p),_=y.call(v.parsedDateParts,function(F){return F!=null}),S=v.overflow<0&&!v.empty&&!v.invalidEra&&!v.invalidMonth&&!v.invalidWeekday&&!v.weekdayMismatch&&!v.nullInput&&!v.invalidFormat&&!v.userInvalidated&&(!v.meridiem||v.meridiem&&_),p._strict&&(S=S&&v.charsLeftOver===0&&v.unusedTokens.length===0&&v.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(p))p._isValid=S;else return S;return p._isValid}function x(p){var v=f(NaN);return p!=null?d(m(v),p):m(v).userInvalidated=!0,v}var C=t.momentProperties=[],w=!1;function b(p,v){var _,S,F,Y=C.length;if(a(v._isAMomentObject)||(p._isAMomentObject=v._isAMomentObject),a(v._i)||(p._i=v._i),a(v._f)||(p._f=v._f),a(v._l)||(p._l=v._l),a(v._strict)||(p._strict=v._strict),a(v._tzm)||(p._tzm=v._tzm),a(v._isUTC)||(p._isUTC=v._isUTC),a(v._offset)||(p._offset=v._offset),a(v._pf)||(p._pf=m(v)),a(v._locale)||(p._locale=v._locale),Y>0)for(_=0;_<Y;_++)S=C[_],F=v[S],a(F)||(p[S]=F);return p}function I(p){b(this,p),this._d=new Date(p._d!=null?p._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),w===!1&&(w=!0,t.updateOffset(this),w=!1)}function T(p){return p instanceof I||p!=null&&p._isAMomentObject!=null}function z(p){t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+p)}function H(p,v){var _=!0;return d(function(){if(t.deprecationHandler!=null&&t.deprecationHandler(null,p),_){var S=[],F,Y,J,Ee=arguments.length;for(Y=0;Y<Ee;Y++){if(F="",typeof arguments[Y]=="object"){F+=`
[`+Y+"] ";for(J in arguments[0])o(arguments[0],J)&&(F+=J+": "+arguments[0][J]+", ");F=F.slice(0,-2)}else F=arguments[Y];S.push(F)}z(p+`
Arguments: `+Array.prototype.slice.call(S).join("")+`
`+new Error().stack),_=!1}return v.apply(this,arguments)},v)}var q={};function $(p,v){t.deprecationHandler!=null&&t.deprecationHandler(p,v),q[p]||(z(v),q[p]=!0)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;function D(p){return typeof Function<"u"&&p instanceof Function||Object.prototype.toString.call(p)==="[object Function]"}function O(p){var v,_;for(_ in p)o(p,_)&&(v=p[_],D(v)?this[_]=v:this["_"+_]=v);this._config=p,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j(p,v){var _=d({},p),S;for(S in v)o(v,S)&&(i(p[S])&&i(v[S])?(_[S]={},d(_[S],p[S]),d(_[S],v[S])):v[S]!=null?_[S]=v[S]:delete _[S]);for(S in p)o(p,S)&&!o(v,S)&&i(p[S])&&(_[S]=d({},_[S]));return _}function N(p){p!=null&&this.set(p)}var E;Object.keys?E=Object.keys:E=function(p){var v,_=[];for(v in p)o(p,v)&&_.push(v);return _};var A={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function R(p,v,_){var S=this._calendar[p]||this._calendar.sameElse;return D(S)?S.call(v,_):S}function B(p,v,_){var S=""+Math.abs(p),F=v-S.length,Y=p>=0;return(Y?_?"+":"":"-")+Math.pow(10,Math.max(0,F)).toString().substr(1)+S}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Z={},ee={};function K(p,v,_,S){var F=S;typeof S=="string"&&(F=function(){return this[S]()}),p&&(ee[p]=F),v&&(ee[v[0]]=function(){return B(F.apply(this,arguments),v[1],v[2])}),_&&(ee[_]=function(){return this.localeData().ordinal(F.apply(this,arguments),p)})}function se(p){return p.match(/\[[\s\S]/)?p.replace(/^\[|\]$/g,""):p.replace(/\\/g,"")}function ke(p){var v=p.match(P),_,S;for(_=0,S=v.length;_<S;_++)ee[v[_]]?v[_]=ee[v[_]]:v[_]=se(v[_]);return function(F){var Y="",J;for(J=0;J<S;J++)Y+=D(v[J])?v[J].call(F,p):v[J];return Y}}function Me(p,v){return p.isValid()?(v=pe(v,p.localeData()),Z[v]=Z[v]||ke(v),Z[v](p)):p.localeData().invalidDate()}function pe(p,v){var _=5;function S(F){return v.longDateFormat(F)||F}for(L.lastIndex=0;_>=0&&L.test(p);)p=p.replace(L,S),L.lastIndex=0,_-=1;return p}var ze={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ie(p){var v=this._longDateFormat[p],_=this._longDateFormat[p.toUpperCase()];return v||!_?v:(this._longDateFormat[p]=_.match(P).map(function(S){return S==="MMMM"||S==="MM"||S==="DD"||S==="dddd"?S.slice(1):S}).join(""),this._longDateFormat[p])}var De="Invalid date";function Ae(){return this._invalidDate}var oe="%d",wt=/\d{1,2}/;function ft(p){return this._ordinal.replace("%d",p)}var an={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function An(p,v,_,S){var F=this._relativeTime[_];return D(F)?F(p,v,_,S):F.replace(/%d/i,p)}function He(p,v){var _=this._relativeTime[p>0?"future":"past"];return D(_)?_(v):_.replace(/%s/i,v)}var ln={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Hn(p){return typeof p=="string"?ln[p]||ln[p.toLowerCase()]:void 0}function Zr(p){var v={},_,S;for(S in p)o(p,S)&&(_=Hn(S),_&&(v[_]=p[S]));return v}var Db={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Cg(p){var v=[],_;for(_ in p)o(p,_)&&v.push({unit:_,priority:Db[_]});return v.sort(function(S,F){return S.priority-F.priority}),v}var Dg=/\d/,Nr=/\d\d/,Sg=/\d{3}/,Oe=/\d{4}/,Ht=/[+-]?\d{6}/,Re=/\d\d?/,Dt=/\d\d\d\d?/,_t=/\d\d\d\d\d\d?/,It=/\d{1,3}/,Nt=/\d{1,4}/,Kt=/[+-]?\d{1,6}/,Jt=/\d+/,Dn=/[+-]?\d+/,hr=/Z|[+-]\d\d:?\d\d/gi,ga=/Z|[+-]\d\d(?::?\d\d)?/gi,Hq=/[+-]?\d+(\.\d{1,3})?/,Jf=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ou=/^[1-9]\d?/,Sb=/^([1-9]\d|\d)/,Mg;Mg={};function Te(p,v,_){Mg[p]=D(v)?v:function(S,F){return S&&_?_:v}}function qq(p,v){return o(Mg,p)?Mg[p](v._strict,v._locale):new RegExp(Wq(p))}function Wq(p){return Cs(p.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(v,_,S,F,Y){return _||S||F||Y}))}function Cs(p){return p.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ai(p){return p<0?Math.ceil(p)||0:Math.floor(p)}function Ct(p){var v=+p,_=0;return v!==0&&isFinite(v)&&(_=Ai(v)),_}var Mb={};function en(p,v){var _,S=v,F;for(typeof p=="string"&&(p=[p]),l(v)&&(S=function(Y,J){J[v]=Ct(Y)}),F=p.length,_=0;_<F;_++)Mb[p[_]]=S}function eh(p,v){en(p,function(_,S,F,Y){F._w=F._w||{},v(_,F._w,F,Y)})}function Gq(p,v,_){v!=null&&o(Mb,p)&&Mb[p](v,_._a,_,p)}function Eg(p){return p%4===0&&p%100!==0||p%400===0}var xr=0,Ds=1,Po=2,Zn=3,eo=4,Ss=5,Il=6,Yq=7,Zq=8;K("Y",0,0,function(){var p=this.year();return p<=9999?B(p,4):"+"+p}),K(0,["YY",2],0,function(){return this.year()%100}),K(0,["YYYY",4],0,"year"),K(0,["YYYYY",5],0,"year"),K(0,["YYYYYY",6,!0],0,"year"),Te("Y",Dn),Te("YY",Re,Nr),Te("YYYY",Nt,Oe),Te("YYYYY",Kt,Ht),Te("YYYYYY",Kt,Ht),en(["YYYYY","YYYYYY"],xr),en("YYYY",function(p,v){v[xr]=p.length===2?t.parseTwoDigitYear(p):Ct(p)}),en("YY",function(p,v){v[xr]=t.parseTwoDigitYear(p)}),en("Y",function(p,v){v[xr]=parseInt(p,10)});function th(p){return Eg(p)?366:365}t.parseTwoDigitYear=function(p){return Ct(p)+(Ct(p)>68?1900:2e3)};var jM=su("FullYear",!0);function Qq(){return Eg(this.year())}function su(p,v){return function(_){return _!=null?(zM(this,p,_),t.updateOffset(this,v),this):nh(this,p)}}function nh(p,v){if(!p.isValid())return NaN;var _=p._d,S=p._isUTC;switch(v){case"Milliseconds":return S?_.getUTCMilliseconds():_.getMilliseconds();case"Seconds":return S?_.getUTCSeconds():_.getSeconds();case"Minutes":return S?_.getUTCMinutes():_.getMinutes();case"Hours":return S?_.getUTCHours():_.getHours();case"Date":return S?_.getUTCDate():_.getDate();case"Day":return S?_.getUTCDay():_.getDay();case"Month":return S?_.getUTCMonth():_.getMonth();case"FullYear":return S?_.getUTCFullYear():_.getFullYear();default:return NaN}}function zM(p,v,_){var S,F,Y,J,Ee;if(!(!p.isValid()||isNaN(_))){switch(S=p._d,F=p._isUTC,v){case"Milliseconds":return void(F?S.setUTCMilliseconds(_):S.setMilliseconds(_));case"Seconds":return void(F?S.setUTCSeconds(_):S.setSeconds(_));case"Minutes":return void(F?S.setUTCMinutes(_):S.setMinutes(_));case"Hours":return void(F?S.setUTCHours(_):S.setHours(_));case"Date":return void(F?S.setUTCDate(_):S.setDate(_));case"FullYear":break;default:return}Y=_,J=p.month(),Ee=p.date(),Ee=Ee===29&&J===1&&!Eg(Y)?28:Ee,F?S.setUTCFullYear(Y,J,Ee):S.setFullYear(Y,J,Ee)}}function Xq(p){return p=Hn(p),D(this[p])?this[p]():this}function Kq(p,v){if(typeof p=="object"){p=Zr(p);var _=Cg(p),S,F=_.length;for(S=0;S<F;S++)this[_[S].unit](p[_[S].unit])}else if(p=Hn(p),D(this[p]))return this[p](v);return this}function Jq(p,v){return(p%v+v)%v}var Ln;Array.prototype.indexOf?Ln=Array.prototype.indexOf:Ln=function(p){var v;for(v=0;v<this.length;++v)if(this[v]===p)return v;return-1};function Eb(p,v){if(isNaN(p)||isNaN(v))return NaN;var _=Jq(v,12);return p+=(v-_)/12,_===1?Eg(p)?29:28:31-_%7%2}K("M",["MM",2],"Mo",function(){return this.month()+1}),K("MMM",0,0,function(p){return this.localeData().monthsShort(this,p)}),K("MMMM",0,0,function(p){return this.localeData().months(this,p)}),Te("M",Re,ou),Te("MM",Re,Nr),Te("MMM",function(p,v){return v.monthsShortRegex(p)}),Te("MMMM",function(p,v){return v.monthsRegex(p)}),en(["M","MM"],function(p,v){v[Ds]=Ct(p)-1}),en(["MMM","MMMM"],function(p,v,_,S){var F=_._locale.monthsParse(p,S,_._strict);F!=null?v[Ds]=F:m(_).invalidMonth=p});var eW="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),$M="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),BM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,tW=Jf,nW=Jf;function rW(p,v){return p?n(this._months)?this._months[p.month()]:this._months[(this._months.isFormat||BM).test(v)?"format":"standalone"][p.month()]:n(this._months)?this._months:this._months.standalone}function iW(p,v){return p?n(this._monthsShort)?this._monthsShort[p.month()]:this._monthsShort[BM.test(v)?"format":"standalone"][p.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function oW(p,v,_){var S,F,Y,J=p.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],S=0;S<12;++S)Y=f([2e3,S]),this._shortMonthsParse[S]=this.monthsShort(Y,"").toLocaleLowerCase(),this._longMonthsParse[S]=this.months(Y,"").toLocaleLowerCase();return _?v==="MMM"?(F=Ln.call(this._shortMonthsParse,J),F!==-1?F:null):(F=Ln.call(this._longMonthsParse,J),F!==-1?F:null):v==="MMM"?(F=Ln.call(this._shortMonthsParse,J),F!==-1?F:(F=Ln.call(this._longMonthsParse,J),F!==-1?F:null)):(F=Ln.call(this._longMonthsParse,J),F!==-1?F:(F=Ln.call(this._shortMonthsParse,J),F!==-1?F:null))}function sW(p,v,_){var S,F,Y;if(this._monthsParseExact)return oW.call(this,p,v,_);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),S=0;S<12;S++){if(F=f([2e3,S]),_&&!this._longMonthsParse[S]&&(this._longMonthsParse[S]=new RegExp("^"+this.months(F,"").replace(".","")+"$","i"),this._shortMonthsParse[S]=new RegExp("^"+this.monthsShort(F,"").replace(".","")+"$","i")),!_&&!this._monthsParse[S]&&(Y="^"+this.months(F,"")+"|^"+this.monthsShort(F,""),this._monthsParse[S]=new RegExp(Y.replace(".",""),"i")),_&&v==="MMMM"&&this._longMonthsParse[S].test(p))return S;if(_&&v==="MMM"&&this._shortMonthsParse[S].test(p))return S;if(!_&&this._monthsParse[S].test(p))return S}}function UM(p,v){if(!p.isValid())return p;if(typeof v=="string"){if(/^\d+$/.test(v))v=Ct(v);else if(v=p.localeData().monthsParse(v),!l(v))return p}var _=v,S=p.date();return S=S<29?S:Math.min(S,Eb(p.year(),_)),p._isUTC?p._d.setUTCMonth(_,S):p._d.setMonth(_,S),p}function HM(p){return p!=null?(UM(this,p),t.updateOffset(this,!0),this):nh(this,"Month")}function aW(){return Eb(this.year(),this.month())}function lW(p){return this._monthsParseExact?(o(this,"_monthsRegex")||qM.call(this),p?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=tW),this._monthsShortStrictRegex&&p?this._monthsShortStrictRegex:this._monthsShortRegex)}function cW(p){return this._monthsParseExact?(o(this,"_monthsRegex")||qM.call(this),p?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=nW),this._monthsStrictRegex&&p?this._monthsStrictRegex:this._monthsRegex)}function qM(){function p(nt,St){return St.length-nt.length}var v=[],_=[],S=[],F,Y,J,Ee;for(F=0;F<12;F++)Y=f([2e3,F]),J=Cs(this.monthsShort(Y,"")),Ee=Cs(this.months(Y,"")),v.push(J),_.push(Ee),S.push(Ee),S.push(J);v.sort(p),_.sort(p),S.sort(p),this._monthsRegex=new RegExp("^("+S.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+_.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+v.join("|")+")","i")}function uW(p,v,_,S,F,Y,J){var Ee;return p<100&&p>=0?(Ee=new Date(p+400,v,_,S,F,Y,J),isFinite(Ee.getFullYear())&&Ee.setFullYear(p)):Ee=new Date(p,v,_,S,F,Y,J),Ee}function rh(p){var v,_;return p<100&&p>=0?(_=Array.prototype.slice.call(arguments),_[0]=p+400,v=new Date(Date.UTC.apply(null,_)),isFinite(v.getUTCFullYear())&&v.setUTCFullYear(p)):v=new Date(Date.UTC.apply(null,arguments)),v}function Tg(p,v,_){var S=7+v-_,F=(7+rh(p,0,S).getUTCDay()-v)%7;return-F+S-1}function WM(p,v,_,S,F){var Y=(7+_-S)%7,J=Tg(p,S,F),Ee=1+7*(v-1)+Y+J,nt,St;return Ee<=0?(nt=p-1,St=th(nt)+Ee):Ee>th(p)?(nt=p+1,St=Ee-th(p)):(nt=p,St=Ee),{year:nt,dayOfYear:St}}function ih(p,v,_){var S=Tg(p.year(),v,_),F=Math.floor((p.dayOfYear()-S-1)/7)+1,Y,J;return F<1?(J=p.year()-1,Y=F+Ms(J,v,_)):F>Ms(p.year(),v,_)?(Y=F-Ms(p.year(),v,_),J=p.year()+1):(J=p.year(),Y=F),{week:Y,year:J}}function Ms(p,v,_){var S=Tg(p,v,_),F=Tg(p+1,v,_);return(th(p)-S+F)/7}K("w",["ww",2],"wo","week"),K("W",["WW",2],"Wo","isoWeek"),Te("w",Re,ou),Te("ww",Re,Nr),Te("W",Re,ou),Te("WW",Re,Nr),eh(["w","ww","W","WW"],function(p,v,_,S){v[S.substr(0,1)]=Ct(p)});function dW(p){return ih(p,this._week.dow,this._week.doy).week}var fW={dow:0,doy:6};function hW(){return this._week.dow}function pW(){return this._week.doy}function mW(p){var v=this.localeData().week(this);return p==null?v:this.add((p-v)*7,"d")}function gW(p){var v=ih(this,1,4).week;return p==null?v:this.add((p-v)*7,"d")}K("d",0,"do","day"),K("dd",0,0,function(p){return this.localeData().weekdaysMin(this,p)}),K("ddd",0,0,function(p){return this.localeData().weekdaysShort(this,p)}),K("dddd",0,0,function(p){return this.localeData().weekdays(this,p)}),K("e",0,0,"weekday"),K("E",0,0,"isoWeekday"),Te("d",Re),Te("e",Re),Te("E",Re),Te("dd",function(p,v){return v.weekdaysMinRegex(p)}),Te("ddd",function(p,v){return v.weekdaysShortRegex(p)}),Te("dddd",function(p,v){return v.weekdaysRegex(p)}),eh(["dd","ddd","dddd"],function(p,v,_,S){var F=_._locale.weekdaysParse(p,S,_._strict);F!=null?v.d=F:m(_).invalidWeekday=p}),eh(["d","e","E"],function(p,v,_,S){v[S]=Ct(p)});function yW(p,v){return typeof p!="string"?p:isNaN(p)?(p=v.weekdaysParse(p),typeof p=="number"?p:null):parseInt(p,10)}function vW(p,v){return typeof p=="string"?v.weekdaysParse(p)%7||7:isNaN(p)?null:p}function Tb(p,v){return p.slice(v,7).concat(p.slice(0,v))}var xW="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),GM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bW="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),wW=Jf,_W=Jf,CW=Jf;function DW(p,v){var _=n(this._weekdays)?this._weekdays:this._weekdays[p&&p!==!0&&this._weekdays.isFormat.test(v)?"format":"standalone"];return p===!0?Tb(_,this._week.dow):p?_[p.day()]:_}function SW(p){return p===!0?Tb(this._weekdaysShort,this._week.dow):p?this._weekdaysShort[p.day()]:this._weekdaysShort}function MW(p){return p===!0?Tb(this._weekdaysMin,this._week.dow):p?this._weekdaysMin[p.day()]:this._weekdaysMin}function EW(p,v,_){var S,F,Y,J=p.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],S=0;S<7;++S)Y=f([2e3,1]).day(S),this._minWeekdaysParse[S]=this.weekdaysMin(Y,"").toLocaleLowerCase(),this._shortWeekdaysParse[S]=this.weekdaysShort(Y,"").toLocaleLowerCase(),this._weekdaysParse[S]=this.weekdays(Y,"").toLocaleLowerCase();return _?v==="dddd"?(F=Ln.call(this._weekdaysParse,J),F!==-1?F:null):v==="ddd"?(F=Ln.call(this._shortWeekdaysParse,J),F!==-1?F:null):(F=Ln.call(this._minWeekdaysParse,J),F!==-1?F:null):v==="dddd"?(F=Ln.call(this._weekdaysParse,J),F!==-1||(F=Ln.call(this._shortWeekdaysParse,J),F!==-1)?F:(F=Ln.call(this._minWeekdaysParse,J),F!==-1?F:null)):v==="ddd"?(F=Ln.call(this._shortWeekdaysParse,J),F!==-1||(F=Ln.call(this._weekdaysParse,J),F!==-1)?F:(F=Ln.call(this._minWeekdaysParse,J),F!==-1?F:null)):(F=Ln.call(this._minWeekdaysParse,J),F!==-1||(F=Ln.call(this._weekdaysParse,J),F!==-1)?F:(F=Ln.call(this._shortWeekdaysParse,J),F!==-1?F:null))}function TW(p,v,_){var S,F,Y;if(this._weekdaysParseExact)return EW.call(this,p,v,_);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),S=0;S<7;S++){if(F=f([2e3,1]).day(S),_&&!this._fullWeekdaysParse[S]&&(this._fullWeekdaysParse[S]=new RegExp("^"+this.weekdays(F,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[S]=new RegExp("^"+this.weekdaysShort(F,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[S]=new RegExp("^"+this.weekdaysMin(F,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[S]||(Y="^"+this.weekdays(F,"")+"|^"+this.weekdaysShort(F,"")+"|^"+this.weekdaysMin(F,""),this._weekdaysParse[S]=new RegExp(Y.replace(".",""),"i")),_&&v==="dddd"&&this._fullWeekdaysParse[S].test(p))return S;if(_&&v==="ddd"&&this._shortWeekdaysParse[S].test(p))return S;if(_&&v==="dd"&&this._minWeekdaysParse[S].test(p))return S;if(!_&&this._weekdaysParse[S].test(p))return S}}function kW(p){if(!this.isValid())return p!=null?this:NaN;var v=nh(this,"Day");return p!=null?(p=yW(p,this.localeData()),this.add(p-v,"d")):v}function IW(p){if(!this.isValid())return p!=null?this:NaN;var v=(this.day()+7-this.localeData()._week.dow)%7;return p==null?v:this.add(p-v,"d")}function AW(p){if(!this.isValid())return p!=null?this:NaN;if(p!=null){var v=vW(p,this.localeData());return this.day(this.day()%7?v:v-7)}else return this.day()||7}function OW(p){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||kb.call(this),p?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=wW),this._weekdaysStrictRegex&&p?this._weekdaysStrictRegex:this._weekdaysRegex)}function PW(p){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||kb.call(this),p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=_W),this._weekdaysShortStrictRegex&&p?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function NW(p){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||kb.call(this),p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=CW),this._weekdaysMinStrictRegex&&p?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function kb(){function p(Rr,As){return As.length-Rr.length}var v=[],_=[],S=[],F=[],Y,J,Ee,nt,St;for(Y=0;Y<7;Y++)J=f([2e3,1]).day(Y),Ee=Cs(this.weekdaysMin(J,"")),nt=Cs(this.weekdaysShort(J,"")),St=Cs(this.weekdays(J,"")),v.push(Ee),_.push(nt),S.push(St),F.push(Ee),F.push(nt),F.push(St);v.sort(p),_.sort(p),S.sort(p),F.sort(p),this._weekdaysRegex=new RegExp("^("+F.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+S.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+_.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+v.join("|")+")","i")}function Ib(){return this.hours()%12||12}function RW(){return this.hours()||24}K("H",["HH",2],0,"hour"),K("h",["hh",2],0,Ib),K("k",["kk",2],0,RW),K("hmm",0,0,function(){return""+Ib.apply(this)+B(this.minutes(),2)}),K("hmmss",0,0,function(){return""+Ib.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),K("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),K("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)});function YM(p,v){K(p,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),v)})}YM("a",!0),YM("A",!1);function ZM(p,v){return v._meridiemParse}Te("a",ZM),Te("A",ZM),Te("H",Re,Sb),Te("h",Re,ou),Te("k",Re,ou),Te("HH",Re,Nr),Te("hh",Re,Nr),Te("kk",Re,Nr),Te("hmm",Dt),Te("hmmss",_t),Te("Hmm",Dt),Te("Hmmss",_t),en(["H","HH"],Zn),en(["k","kk"],function(p,v,_){var S=Ct(p);v[Zn]=S===24?0:S}),en(["a","A"],function(p,v,_){_._isPm=_._locale.isPM(p),_._meridiem=p}),en(["h","hh"],function(p,v,_){v[Zn]=Ct(p),m(_).bigHour=!0}),en("hmm",function(p,v,_){var S=p.length-2;v[Zn]=Ct(p.substr(0,S)),v[eo]=Ct(p.substr(S)),m(_).bigHour=!0}),en("hmmss",function(p,v,_){var S=p.length-4,F=p.length-2;v[Zn]=Ct(p.substr(0,S)),v[eo]=Ct(p.substr(S,2)),v[Ss]=Ct(p.substr(F)),m(_).bigHour=!0}),en("Hmm",function(p,v,_){var S=p.length-2;v[Zn]=Ct(p.substr(0,S)),v[eo]=Ct(p.substr(S))}),en("Hmmss",function(p,v,_){var S=p.length-4,F=p.length-2;v[Zn]=Ct(p.substr(0,S)),v[eo]=Ct(p.substr(S,2)),v[Ss]=Ct(p.substr(F))});function FW(p){return(p+"").toLowerCase().charAt(0)==="p"}var LW=/[ap]\.?m?\.?/i,VW=su("Hours",!0);function jW(p,v,_){return p>11?_?"pm":"PM":_?"am":"AM"}var QM={calendar:A,longDateFormat:ze,invalidDate:De,ordinal:oe,dayOfMonthOrdinalParse:wt,relativeTime:an,months:eW,monthsShort:$M,week:fW,weekdays:xW,weekdaysMin:bW,weekdaysShort:GM,meridiemParse:LW},bn={},oh={},sh;function zW(p,v){var _,S=Math.min(p.length,v.length);for(_=0;_<S;_+=1)if(p[_]!==v[_])return _;return S}function XM(p){return p&&p.toLowerCase().replace("_","-")}function $W(p){for(var v=0,_,S,F,Y;v<p.length;){for(Y=XM(p[v]).split("-"),_=Y.length,S=XM(p[v+1]),S=S?S.split("-"):null;_>0;){if(F=kg(Y.slice(0,_).join("-")),F)return F;if(S&&S.length>=_&&zW(Y,S)>=_-1)break;_--}v++}return sh}function BW(p){return!!(p&&p.match("^[^/\\\\]*$"))}function kg(p){var v=null,_;if(bn[p]===void 0&&typeof jf<"u"&&jf&&jf.exports&&BW(p))try{v=sh._abbr,_=E7,_("./locale/"+p),ya(v)}catch{bn[p]=null}return bn[p]}function ya(p,v){var _;return p&&(a(v)?_=Es(p):_=Ab(p,v),_?sh=_:typeof console<"u"&&console.warn&&console.warn("Locale "+p+" not found. Did you forget to load it?")),sh._abbr}function Ab(p,v){if(v!==null){var _,S=QM;if(v.abbr=p,bn[p]!=null)$("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),S=bn[p]._config;else if(v.parentLocale!=null)if(bn[v.parentLocale]!=null)S=bn[v.parentLocale]._config;else if(_=kg(v.parentLocale),_!=null)S=_._config;else return oh[v.parentLocale]||(oh[v.parentLocale]=[]),oh[v.parentLocale].push({name:p,config:v}),null;return bn[p]=new N(j(S,v)),oh[p]&&oh[p].forEach(function(F){Ab(F.name,F.config)}),ya(p),bn[p]}else return delete bn[p],null}function UW(p,v){if(v!=null){var _,S,F=QM;bn[p]!=null&&bn[p].parentLocale!=null?bn[p].set(j(bn[p]._config,v)):(S=kg(p),S!=null&&(F=S._config),v=j(F,v),S==null&&(v.abbr=p),_=new N(v),_.parentLocale=bn[p],bn[p]=_),ya(p)}else bn[p]!=null&&(bn[p].parentLocale!=null?(bn[p]=bn[p].parentLocale,p===ya()&&ya(p)):bn[p]!=null&&delete bn[p]);return bn[p]}function Es(p){var v;if(p&&p._locale&&p._locale._abbr&&(p=p._locale._abbr),!p)return sh;if(!n(p)){if(v=kg(p),v)return v;p=[p]}return $W(p)}function HW(){return E(bn)}function Ob(p){var v,_=p._a;return _&&m(p).overflow===-2&&(v=_[Ds]<0||_[Ds]>11?Ds:_[Po]<1||_[Po]>Eb(_[xr],_[Ds])?Po:_[Zn]<0||_[Zn]>24||_[Zn]===24&&(_[eo]!==0||_[Ss]!==0||_[Il]!==0)?Zn:_[eo]<0||_[eo]>59?eo:_[Ss]<0||_[Ss]>59?Ss:_[Il]<0||_[Il]>999?Il:-1,m(p)._overflowDayOfYear&&(v<xr||v>Po)&&(v=Po),m(p)._overflowWeeks&&v===-1&&(v=Yq),m(p)._overflowWeekday&&v===-1&&(v=Zq),m(p).overflow=v),p}var qW=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,WW=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,GW=/Z|[+-]\d\d(?::?\d\d)?/,Ig=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Pb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],YW=/^\/?Date\((-?\d+)/i,ZW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,QW={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function KM(p){var v,_,S=p._i,F=qW.exec(S)||WW.exec(S),Y,J,Ee,nt,St=Ig.length,Rr=Pb.length;if(F){for(m(p).iso=!0,v=0,_=St;v<_;v++)if(Ig[v][1].exec(F[1])){J=Ig[v][0],Y=Ig[v][2]!==!1;break}if(J==null){p._isValid=!1;return}if(F[3]){for(v=0,_=Rr;v<_;v++)if(Pb[v][1].exec(F[3])){Ee=(F[2]||" ")+Pb[v][0];break}if(Ee==null){p._isValid=!1;return}}if(!Y&&Ee!=null){p._isValid=!1;return}if(F[4])if(GW.exec(F[4]))nt="Z";else{p._isValid=!1;return}p._f=J+(Ee||"")+(nt||""),Rb(p)}else p._isValid=!1}function XW(p,v,_,S,F,Y){var J=[KW(p),$M.indexOf(v),parseInt(_,10),parseInt(S,10),parseInt(F,10)];return Y&&J.push(parseInt(Y,10)),J}function KW(p){var v=parseInt(p,10);return v<=49?2e3+v:v<=999?1900+v:v}function JW(p){return p.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function eG(p,v,_){if(p){var S=GM.indexOf(p),F=new Date(v[0],v[1],v[2]).getDay();if(S!==F)return m(_).weekdayMismatch=!0,_._isValid=!1,!1}return!0}function tG(p,v,_){if(p)return QW[p];if(v)return 0;var S=parseInt(_,10),F=S%100,Y=(S-F)/100;return Y*60+F}function JM(p){var v=ZW.exec(JW(p._i)),_;if(v){if(_=XW(v[4],v[3],v[2],v[5],v[6],v[7]),!eG(v[1],_,p))return;p._a=_,p._tzm=tG(v[8],v[9],v[10]),p._d=rh.apply(null,p._a),p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),m(p).rfc2822=!0}else p._isValid=!1}function nG(p){var v=YW.exec(p._i);if(v!==null){p._d=new Date(+v[1]);return}if(KM(p),p._isValid===!1)delete p._isValid;else return;if(JM(p),p._isValid===!1)delete p._isValid;else return;p._strict?p._isValid=!1:t.createFromInputFallback(p)}t.createFromInputFallback=H("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(p){p._d=new Date(p._i+(p._useUTC?" UTC":""))});function au(p,v,_){return p??v??_}function rG(p){var v=new Date(t.now());return p._useUTC?[v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()]:[v.getFullYear(),v.getMonth(),v.getDate()]}function Nb(p){var v,_,S=[],F,Y,J;if(!p._d){for(F=rG(p),p._w&&p._a[Po]==null&&p._a[Ds]==null&&iG(p),p._dayOfYear!=null&&(J=au(p._a[xr],F[xr]),(p._dayOfYear>th(J)||p._dayOfYear===0)&&(m(p)._overflowDayOfYear=!0),_=rh(J,0,p._dayOfYear),p._a[Ds]=_.getUTCMonth(),p._a[Po]=_.getUTCDate()),v=0;v<3&&p._a[v]==null;++v)p._a[v]=S[v]=F[v];for(;v<7;v++)p._a[v]=S[v]=p._a[v]==null?v===2?1:0:p._a[v];p._a[Zn]===24&&p._a[eo]===0&&p._a[Ss]===0&&p._a[Il]===0&&(p._nextDay=!0,p._a[Zn]=0),p._d=(p._useUTC?rh:uW).apply(null,S),Y=p._useUTC?p._d.getUTCDay():p._d.getDay(),p._tzm!=null&&p._d.setUTCMinutes(p._d.getUTCMinutes()-p._tzm),p._nextDay&&(p._a[Zn]=24),p._w&&typeof p._w.d<"u"&&p._w.d!==Y&&(m(p).weekdayMismatch=!0)}}function iG(p){var v,_,S,F,Y,J,Ee,nt,St;v=p._w,v.GG!=null||v.W!=null||v.E!=null?(Y=1,J=4,_=au(v.GG,p._a[xr],ih(yn(),1,4).year),S=au(v.W,1),F=au(v.E,1),(F<1||F>7)&&(nt=!0)):(Y=p._locale._week.dow,J=p._locale._week.doy,St=ih(yn(),Y,J),_=au(v.gg,p._a[xr],St.year),S=au(v.w,St.week),v.d!=null?(F=v.d,(F<0||F>6)&&(nt=!0)):v.e!=null?(F=v.e+Y,(v.e<0||v.e>6)&&(nt=!0)):F=Y),S<1||S>Ms(_,Y,J)?m(p)._overflowWeeks=!0:nt!=null?m(p)._overflowWeekday=!0:(Ee=WM(_,S,F,Y,J),p._a[xr]=Ee.year,p._dayOfYear=Ee.dayOfYear)}t.ISO_8601=function(){},t.RFC_2822=function(){};function Rb(p){if(p._f===t.ISO_8601){KM(p);return}if(p._f===t.RFC_2822){JM(p);return}p._a=[],m(p).empty=!0;var v=""+p._i,_,S,F,Y,J,Ee=v.length,nt=0,St,Rr;for(F=pe(p._f,p._locale).match(P)||[],Rr=F.length,_=0;_<Rr;_++)Y=F[_],S=(v.match(qq(Y,p))||[])[0],S&&(J=v.substr(0,v.indexOf(S)),J.length>0&&m(p).unusedInput.push(J),v=v.slice(v.indexOf(S)+S.length),nt+=S.length),ee[Y]?(S?m(p).empty=!1:m(p).unusedTokens.push(Y),Gq(Y,S,p)):p._strict&&!S&&m(p).unusedTokens.push(Y);m(p).charsLeftOver=Ee-nt,v.length>0&&m(p).unusedInput.push(v),p._a[Zn]<=12&&m(p).bigHour===!0&&p._a[Zn]>0&&(m(p).bigHour=void 0),m(p).parsedDateParts=p._a.slice(0),m(p).meridiem=p._meridiem,p._a[Zn]=oG(p._locale,p._a[Zn],p._meridiem),St=m(p).era,St!==null&&(p._a[xr]=p._locale.erasConvertYear(St,p._a[xr])),Nb(p),Ob(p)}function oG(p,v,_){var S;return _==null?v:p.meridiemHour!=null?p.meridiemHour(v,_):(p.isPM!=null&&(S=p.isPM(_),S&&v<12&&(v+=12),!S&&v===12&&(v=0)),v)}function sG(p){var v,_,S,F,Y,J,Ee=!1,nt=p._f.length;if(nt===0){m(p).invalidFormat=!0,p._d=new Date(NaN);return}for(F=0;F<nt;F++)Y=0,J=!1,v=b({},p),p._useUTC!=null&&(v._useUTC=p._useUTC),v._f=p._f[F],Rb(v),g(v)&&(J=!0),Y+=m(v).charsLeftOver,Y+=m(v).unusedTokens.length*10,m(v).score=Y,Ee?Y<S&&(S=Y,_=v):(S==null||Y<S||J)&&(S=Y,_=v,J&&(Ee=!0));d(p,_||v)}function aG(p){if(!p._d){var v=Zr(p._i),_=v.day===void 0?v.date:v.day;p._a=u([v.year,v.month,_,v.hour,v.minute,v.second,v.millisecond],function(S){return S&&parseInt(S,10)}),Nb(p)}}function lG(p){var v=new I(Ob(e7(p)));return v._nextDay&&(v.add(1,"d"),v._nextDay=void 0),v}function e7(p){var v=p._i,_=p._f;return p._locale=p._locale||Es(p._l),v===null||_===void 0&&v===""?x({nullInput:!0}):(typeof v=="string"&&(p._i=v=p._locale.preparse(v)),T(v)?new I(Ob(v)):(c(v)?p._d=v:n(_)?sG(p):_?Rb(p):cG(p),g(p)||(p._d=null),p))}function cG(p){var v=p._i;a(v)?p._d=new Date(t.now()):c(v)?p._d=new Date(v.valueOf()):typeof v=="string"?nG(p):n(v)?(p._a=u(v.slice(0),function(_){return parseInt(_,10)}),Nb(p)):i(v)?aG(p):l(v)?p._d=new Date(v):t.createFromInputFallback(p)}function t7(p,v,_,S,F){var Y={};return(v===!0||v===!1)&&(S=v,v=void 0),(_===!0||_===!1)&&(S=_,_=void 0),(i(p)&&s(p)||n(p)&&p.length===0)&&(p=void 0),Y._isAMomentObject=!0,Y._useUTC=Y._isUTC=F,Y._l=_,Y._i=p,Y._f=v,Y._strict=S,lG(Y)}function yn(p,v,_,S){return t7(p,v,_,S,!1)}var uG=H("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=yn.apply(null,arguments);return this.isValid()&&p.isValid()?p<this?this:p:x()}),dG=H("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var p=yn.apply(null,arguments);return this.isValid()&&p.isValid()?p>this?this:p:x()});function n7(p,v){var _,S;if(v.length===1&&n(v[0])&&(v=v[0]),!v.length)return yn();for(_=v[0],S=1;S<v.length;++S)(!v[S].isValid()||v[S][p](_))&&(_=v[S]);return _}function fG(){var p=[].slice.call(arguments,0);return n7("isBefore",p)}function hG(){var p=[].slice.call(arguments,0);return n7("isAfter",p)}var pG=function(){return Date.now?Date.now():+new Date},ah=["year","quarter","month","week","day","hour","minute","second","millisecond"];function mG(p){var v,_=!1,S,F=ah.length;for(v in p)if(o(p,v)&&!(Ln.call(ah,v)!==-1&&(p[v]==null||!isNaN(p[v]))))return!1;for(S=0;S<F;++S)if(p[ah[S]]){if(_)return!1;parseFloat(p[ah[S]])!==Ct(p[ah[S]])&&(_=!0)}return!0}function gG(){return this._isValid}function yG(){return to(NaN)}function Ag(p){var v=Zr(p),_=v.year||0,S=v.quarter||0,F=v.month||0,Y=v.week||v.isoWeek||0,J=v.day||0,Ee=v.hour||0,nt=v.minute||0,St=v.second||0,Rr=v.millisecond||0;this._isValid=mG(v),this._milliseconds=+Rr+St*1e3+nt*6e4+Ee*1e3*60*60,this._days=+J+Y*7,this._months=+F+S*3+_*12,this._data={},this._locale=Es(),this._bubble()}function Og(p){return p instanceof Ag}function Fb(p){return p<0?Math.round(-1*p)*-1:Math.round(p)}function vG(p,v,_){var S=Math.min(p.length,v.length),F=Math.abs(p.length-v.length),Y=0,J;for(J=0;J<S;J++)(_&&p[J]!==v[J]||!_&&Ct(p[J])!==Ct(v[J]))&&Y++;return Y+F}function r7(p,v){K(p,0,0,function(){var _=this.utcOffset(),S="+";return _<0&&(_=-_,S="-"),S+B(~~(_/60),2)+v+B(~~_%60,2)})}r7("Z",":"),r7("ZZ",""),Te("Z",ga),Te("ZZ",ga),en(["Z","ZZ"],function(p,v,_){_._useUTC=!0,_._tzm=Lb(ga,p)});var xG=/([\+\-]|\d\d)/gi;function Lb(p,v){var _=(v||"").match(p),S,F,Y;return _===null?null:(S=_[_.length-1]||[],F=(S+"").match(xG)||["-",0,0],Y=+(F[1]*60)+Ct(F[2]),Y===0?0:F[0]==="+"?Y:-Y)}function Vb(p,v){var _,S;return v._isUTC?(_=v.clone(),S=(T(p)||c(p)?p.valueOf():yn(p).valueOf())-_.valueOf(),_._d.setTime(_._d.valueOf()+S),t.updateOffset(_,!1),_):yn(p).local()}function jb(p){return-Math.round(p._d.getTimezoneOffset())}t.updateOffset=function(){};function bG(p,v,_){var S=this._offset||0,F;if(!this.isValid())return p!=null?this:NaN;if(p!=null){if(typeof p=="string"){if(p=Lb(ga,p),p===null)return this}else Math.abs(p)<16&&!_&&(p=p*60);return!this._isUTC&&v&&(F=jb(this)),this._offset=p,this._isUTC=!0,F!=null&&this.add(F,"m"),S!==p&&(!v||this._changeInProgress?a7(this,to(p-S,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?S:jb(this)}function wG(p,v){return p!=null?(typeof p!="string"&&(p=-p),this.utcOffset(p,v),this):-this.utcOffset()}function _G(p){return this.utcOffset(0,p)}function CG(p){return this._isUTC&&(this.utcOffset(0,p),this._isUTC=!1,p&&this.subtract(jb(this),"m")),this}function DG(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var p=Lb(hr,this._i);p!=null?this.utcOffset(p):this.utcOffset(0,!0)}return this}function SG(p){return this.isValid()?(p=p?yn(p).utcOffset():0,(this.utcOffset()-p)%60===0):!1}function MG(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function EG(){if(!a(this._isDSTShifted))return this._isDSTShifted;var p={},v;return b(p,this),p=e7(p),p._a?(v=p._isUTC?f(p._a):yn(p._a),this._isDSTShifted=this.isValid()&&vG(p._a,v.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function TG(){return this.isValid()?!this._isUTC:!1}function kG(){return this.isValid()?this._isUTC:!1}function i7(){return this.isValid()?this._isUTC&&this._offset===0:!1}var IG=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,AG=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function to(p,v){var _=p,S=null,F,Y,J;return Og(p)?_={ms:p._milliseconds,d:p._days,M:p._months}:l(p)||!isNaN(+p)?(_={},v?_[v]=+p:_.milliseconds=+p):(S=IG.exec(p))?(F=S[1]==="-"?-1:1,_={y:0,d:Ct(S[Po])*F,h:Ct(S[Zn])*F,m:Ct(S[eo])*F,s:Ct(S[Ss])*F,ms:Ct(Fb(S[Il]*1e3))*F}):(S=AG.exec(p))?(F=S[1]==="-"?-1:1,_={y:Al(S[2],F),M:Al(S[3],F),w:Al(S[4],F),d:Al(S[5],F),h:Al(S[6],F),m:Al(S[7],F),s:Al(S[8],F)}):_==null?_={}:typeof _=="object"&&("from"in _||"to"in _)&&(J=OG(yn(_.from),yn(_.to)),_={},_.ms=J.milliseconds,_.M=J.months),Y=new Ag(_),Og(p)&&o(p,"_locale")&&(Y._locale=p._locale),Og(p)&&o(p,"_isValid")&&(Y._isValid=p._isValid),Y}to.fn=Ag.prototype,to.invalid=yG;function Al(p,v){var _=p&&parseFloat(p.replace(",","."));return(isNaN(_)?0:_)*v}function o7(p,v){var _={};return _.months=v.month()-p.month()+(v.year()-p.year())*12,p.clone().add(_.months,"M").isAfter(v)&&--_.months,_.milliseconds=+v-+p.clone().add(_.months,"M"),_}function OG(p,v){var _;return p.isValid()&&v.isValid()?(v=Vb(v,p),p.isBefore(v)?_=o7(p,v):(_=o7(v,p),_.milliseconds=-_.milliseconds,_.months=-_.months),_):{milliseconds:0,months:0}}function s7(p,v){return function(_,S){var F,Y;return S!==null&&!isNaN(+S)&&($(v,"moment()."+v+"(period, number) is deprecated. Please use moment()."+v+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Y=_,_=S,S=Y),F=to(_,S),a7(this,F,p),this}}function a7(p,v,_,S){var F=v._milliseconds,Y=Fb(v._days),J=Fb(v._months);p.isValid()&&(S=S??!0,J&&UM(p,nh(p,"Month")+J*_),Y&&zM(p,"Date",nh(p,"Date")+Y*_),F&&p._d.setTime(p._d.valueOf()+F*_),S&&t.updateOffset(p,Y||J))}var PG=s7(1,"add"),NG=s7(-1,"subtract");function l7(p){return typeof p=="string"||p instanceof String}function RG(p){return T(p)||c(p)||l7(p)||l(p)||LG(p)||FG(p)||p===null||p===void 0}function FG(p){var v=i(p)&&!s(p),_=!1,S=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],F,Y,J=S.length;for(F=0;F<J;F+=1)Y=S[F],_=_||o(p,Y);return v&&_}function LG(p){var v=n(p),_=!1;return v&&(_=p.filter(function(S){return!l(S)&&l7(p)}).length===0),v&&_}function VG(p){var v=i(p)&&!s(p),_=!1,S=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],F,Y;for(F=0;F<S.length;F+=1)Y=S[F],_=_||o(p,Y);return v&&_}function jG(p,v){var _=p.diff(v,"days",!0);return _<-6?"sameElse":_<-1?"lastWeek":_<0?"lastDay":_<1?"sameDay":_<2?"nextDay":_<7?"nextWeek":"sameElse"}function zG(p,v){arguments.length===1&&(arguments[0]?RG(arguments[0])?(p=arguments[0],v=void 0):VG(arguments[0])&&(v=arguments[0],p=void 0):(p=void 0,v=void 0));var _=p||yn(),S=Vb(_,this).startOf("day"),F=t.calendarFormat(this,S)||"sameElse",Y=v&&(D(v[F])?v[F].call(this,_):v[F]);return this.format(Y||this.localeData().calendar(F,this,yn(_)))}function $G(){return new I(this)}function BG(p,v){var _=T(p)?p:yn(p);return this.isValid()&&_.isValid()?(v=Hn(v)||"millisecond",v==="millisecond"?this.valueOf()>_.valueOf():_.valueOf()<this.clone().startOf(v).valueOf()):!1}function UG(p,v){var _=T(p)?p:yn(p);return this.isValid()&&_.isValid()?(v=Hn(v)||"millisecond",v==="millisecond"?this.valueOf()<_.valueOf():this.clone().endOf(v).valueOf()<_.valueOf()):!1}function HG(p,v,_,S){var F=T(p)?p:yn(p),Y=T(v)?v:yn(v);return this.isValid()&&F.isValid()&&Y.isValid()?(S=S||"()",(S[0]==="("?this.isAfter(F,_):!this.isBefore(F,_))&&(S[1]===")"?this.isBefore(Y,_):!this.isAfter(Y,_))):!1}function qG(p,v){var _=T(p)?p:yn(p),S;return this.isValid()&&_.isValid()?(v=Hn(v)||"millisecond",v==="millisecond"?this.valueOf()===_.valueOf():(S=_.valueOf(),this.clone().startOf(v).valueOf()<=S&&S<=this.clone().endOf(v).valueOf())):!1}function WG(p,v){return this.isSame(p,v)||this.isAfter(p,v)}function GG(p,v){return this.isSame(p,v)||this.isBefore(p,v)}function YG(p,v,_){var S,F,Y;if(!this.isValid())return NaN;if(S=Vb(p,this),!S.isValid())return NaN;switch(F=(S.utcOffset()-this.utcOffset())*6e4,v=Hn(v),v){case"year":Y=Pg(this,S)/12;break;case"month":Y=Pg(this,S);break;case"quarter":Y=Pg(this,S)/3;break;case"second":Y=(this-S)/1e3;break;case"minute":Y=(this-S)/6e4;break;case"hour":Y=(this-S)/36e5;break;case"day":Y=(this-S-F)/864e5;break;case"week":Y=(this-S-F)/6048e5;break;default:Y=this-S}return _?Y:Ai(Y)}function Pg(p,v){if(p.date()<v.date())return-Pg(v,p);var _=(v.year()-p.year())*12+(v.month()-p.month()),S=p.clone().add(_,"months"),F,Y;return v-S<0?(F=p.clone().add(_-1,"months"),Y=(v-S)/(S-F)):(F=p.clone().add(_+1,"months"),Y=(v-S)/(F-S)),-(_+Y)||0}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function ZG(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function QG(p){if(!this.isValid())return null;var v=p!==!0,_=v?this.clone().utc():this;return _.year()<0||_.year()>9999?Me(_,v?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?v?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Me(_,"Z")):Me(_,v?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function XG(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var p="moment",v="",_,S,F,Y;return this.isLocal()||(p=this.utcOffset()===0?"moment.utc":"moment.parseZone",v="Z"),_="["+p+'("]',S=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",F="-MM-DD[T]HH:mm:ss.SSS",Y=v+'[")]',this.format(_+S+F+Y)}function KG(p){p||(p=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var v=Me(this,p);return this.localeData().postformat(v)}function JG(p,v){return this.isValid()&&(T(p)&&p.isValid()||yn(p).isValid())?to({to:this,from:p}).locale(this.locale()).humanize(!v):this.localeData().invalidDate()}function eY(p){return this.from(yn(),p)}function tY(p,v){return this.isValid()&&(T(p)&&p.isValid()||yn(p).isValid())?to({from:this,to:p}).locale(this.locale()).humanize(!v):this.localeData().invalidDate()}function nY(p){return this.to(yn(),p)}function c7(p){var v;return p===void 0?this._locale._abbr:(v=Es(p),v!=null&&(this._locale=v),this)}var u7=H("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(p){return p===void 0?this.localeData():this.locale(p)});function d7(){return this._locale}var Ng=1e3,lu=60*Ng,Rg=60*lu,f7=(365*400+97)*24*Rg;function cu(p,v){return(p%v+v)%v}function h7(p,v,_){return p<100&&p>=0?new Date(p+400,v,_)-f7:new Date(p,v,_).valueOf()}function p7(p,v,_){return p<100&&p>=0?Date.UTC(p+400,v,_)-f7:Date.UTC(p,v,_)}function rY(p){var v,_;if(p=Hn(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(_=this._isUTC?p7:h7,p){case"year":v=_(this.year(),0,1);break;case"quarter":v=_(this.year(),this.month()-this.month()%3,1);break;case"month":v=_(this.year(),this.month(),1);break;case"week":v=_(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":v=_(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":v=_(this.year(),this.month(),this.date());break;case"hour":v=this._d.valueOf(),v-=cu(v+(this._isUTC?0:this.utcOffset()*lu),Rg);break;case"minute":v=this._d.valueOf(),v-=cu(v,lu);break;case"second":v=this._d.valueOf(),v-=cu(v,Ng);break}return this._d.setTime(v),t.updateOffset(this,!0),this}function iY(p){var v,_;if(p=Hn(p),p===void 0||p==="millisecond"||!this.isValid())return this;switch(_=this._isUTC?p7:h7,p){case"year":v=_(this.year()+1,0,1)-1;break;case"quarter":v=_(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":v=_(this.year(),this.month()+1,1)-1;break;case"week":v=_(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":v=_(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":v=_(this.year(),this.month(),this.date()+1)-1;break;case"hour":v=this._d.valueOf(),v+=Rg-cu(v+(this._isUTC?0:this.utcOffset()*lu),Rg)-1;break;case"minute":v=this._d.valueOf(),v+=lu-cu(v,lu)-1;break;case"second":v=this._d.valueOf(),v+=Ng-cu(v,Ng)-1;break}return this._d.setTime(v),t.updateOffset(this,!0),this}function oY(){return this._d.valueOf()-(this._offset||0)*6e4}function sY(){return Math.floor(this.valueOf()/1e3)}function aY(){return new Date(this.valueOf())}function lY(){var p=this;return[p.year(),p.month(),p.date(),p.hour(),p.minute(),p.second(),p.millisecond()]}function cY(){var p=this;return{years:p.year(),months:p.month(),date:p.date(),hours:p.hours(),minutes:p.minutes(),seconds:p.seconds(),milliseconds:p.milliseconds()}}function uY(){return this.isValid()?this.toISOString():null}function dY(){return g(this)}function fY(){return d({},m(this))}function hY(){return m(this).overflow}function pY(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}K("N",0,0,"eraAbbr"),K("NN",0,0,"eraAbbr"),K("NNN",0,0,"eraAbbr"),K("NNNN",0,0,"eraName"),K("NNNNN",0,0,"eraNarrow"),K("y",["y",1],"yo","eraYear"),K("y",["yy",2],0,"eraYear"),K("y",["yyy",3],0,"eraYear"),K("y",["yyyy",4],0,"eraYear"),Te("N",zb),Te("NN",zb),Te("NNN",zb),Te("NNNN",SY),Te("NNNNN",MY),en(["N","NN","NNN","NNNN","NNNNN"],function(p,v,_,S){var F=_._locale.erasParse(p,S,_._strict);F?m(_).era=F:m(_).invalidEra=p}),Te("y",Jt),Te("yy",Jt),Te("yyy",Jt),Te("yyyy",Jt),Te("yo",EY),en(["y","yy","yyy","yyyy"],xr),en(["yo"],function(p,v,_,S){var F;_._locale._eraYearOrdinalRegex&&(F=p.match(_._locale._eraYearOrdinalRegex)),_._locale.eraYearOrdinalParse?v[xr]=_._locale.eraYearOrdinalParse(p,F):v[xr]=parseInt(p,10)});function mY(p,v){var _,S,F,Y=this._eras||Es("en")._eras;for(_=0,S=Y.length;_<S;++_){switch(typeof Y[_].since){case"string":F=t(Y[_].since).startOf("day"),Y[_].since=F.valueOf();break}switch(typeof Y[_].until){case"undefined":Y[_].until=1/0;break;case"string":F=t(Y[_].until).startOf("day").valueOf(),Y[_].until=F.valueOf();break}}return Y}function gY(p,v,_){var S,F,Y=this.eras(),J,Ee,nt;for(p=p.toUpperCase(),S=0,F=Y.length;S<F;++S)if(J=Y[S].name.toUpperCase(),Ee=Y[S].abbr.toUpperCase(),nt=Y[S].narrow.toUpperCase(),_)switch(v){case"N":case"NN":case"NNN":if(Ee===p)return Y[S];break;case"NNNN":if(J===p)return Y[S];break;case"NNNNN":if(nt===p)return Y[S];break}else if([J,Ee,nt].indexOf(p)>=0)return Y[S]}function yY(p,v){var _=p.since<=p.until?1:-1;return v===void 0?t(p.since).year():t(p.since).year()+(v-p.offset)*_}function vY(){var p,v,_,S=this.localeData().eras();for(p=0,v=S.length;p<v;++p)if(_=this.clone().startOf("day").valueOf(),S[p].since<=_&&_<=S[p].until||S[p].until<=_&&_<=S[p].since)return S[p].name;return""}function xY(){var p,v,_,S=this.localeData().eras();for(p=0,v=S.length;p<v;++p)if(_=this.clone().startOf("day").valueOf(),S[p].since<=_&&_<=S[p].until||S[p].until<=_&&_<=S[p].since)return S[p].narrow;return""}function bY(){var p,v,_,S=this.localeData().eras();for(p=0,v=S.length;p<v;++p)if(_=this.clone().startOf("day").valueOf(),S[p].since<=_&&_<=S[p].until||S[p].until<=_&&_<=S[p].since)return S[p].abbr;return""}function wY(){var p,v,_,S,F=this.localeData().eras();for(p=0,v=F.length;p<v;++p)if(_=F[p].since<=F[p].until?1:-1,S=this.clone().startOf("day").valueOf(),F[p].since<=S&&S<=F[p].until||F[p].until<=S&&S<=F[p].since)return(this.year()-t(F[p].since).year())*_+F[p].offset;return this.year()}function _Y(p){return o(this,"_erasNameRegex")||$b.call(this),p?this._erasNameRegex:this._erasRegex}function CY(p){return o(this,"_erasAbbrRegex")||$b.call(this),p?this._erasAbbrRegex:this._erasRegex}function DY(p){return o(this,"_erasNarrowRegex")||$b.call(this),p?this._erasNarrowRegex:this._erasRegex}function zb(p,v){return v.erasAbbrRegex(p)}function SY(p,v){return v.erasNameRegex(p)}function MY(p,v){return v.erasNarrowRegex(p)}function EY(p,v){return v._eraYearOrdinalRegex||Jt}function $b(){var p=[],v=[],_=[],S=[],F,Y,J,Ee,nt,St=this.eras();for(F=0,Y=St.length;F<Y;++F)J=Cs(St[F].name),Ee=Cs(St[F].abbr),nt=Cs(St[F].narrow),v.push(J),p.push(Ee),_.push(nt),S.push(J),S.push(Ee),S.push(nt);this._erasRegex=new RegExp("^("+S.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+v.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+_.join("|")+")","i")}K(0,["gg",2],0,function(){return this.weekYear()%100}),K(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Fg(p,v){K(0,[p,p.length],0,v)}Fg("gggg","weekYear"),Fg("ggggg","weekYear"),Fg("GGGG","isoWeekYear"),Fg("GGGGG","isoWeekYear"),Te("G",Dn),Te("g",Dn),Te("GG",Re,Nr),Te("gg",Re,Nr),Te("GGGG",Nt,Oe),Te("gggg",Nt,Oe),Te("GGGGG",Kt,Ht),Te("ggggg",Kt,Ht),eh(["gggg","ggggg","GGGG","GGGGG"],function(p,v,_,S){v[S.substr(0,2)]=Ct(p)}),eh(["gg","GG"],function(p,v,_,S){v[S]=t.parseTwoDigitYear(p)});function TY(p){return m7.call(this,p,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function kY(p){return m7.call(this,p,this.isoWeek(),this.isoWeekday(),1,4)}function IY(){return Ms(this.year(),1,4)}function AY(){return Ms(this.isoWeekYear(),1,4)}function OY(){var p=this.localeData()._week;return Ms(this.year(),p.dow,p.doy)}function PY(){var p=this.localeData()._week;return Ms(this.weekYear(),p.dow,p.doy)}function m7(p,v,_,S,F){var Y;return p==null?ih(this,S,F).year:(Y=Ms(p,S,F),v>Y&&(v=Y),NY.call(this,p,v,_,S,F))}function NY(p,v,_,S,F){var Y=WM(p,v,_,S,F),J=rh(Y.year,0,Y.dayOfYear);return this.year(J.getUTCFullYear()),this.month(J.getUTCMonth()),this.date(J.getUTCDate()),this}K("Q",0,"Qo","quarter"),Te("Q",Dg),en("Q",function(p,v){v[Ds]=(Ct(p)-1)*3});function RY(p){return p==null?Math.ceil((this.month()+1)/3):this.month((p-1)*3+this.month()%3)}K("D",["DD",2],"Do","date"),Te("D",Re,ou),Te("DD",Re,Nr),Te("Do",function(p,v){return p?v._dayOfMonthOrdinalParse||v._ordinalParse:v._dayOfMonthOrdinalParseLenient}),en(["D","DD"],Po),en("Do",function(p,v){v[Po]=Ct(p.match(Re)[0])});var g7=su("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear"),Te("DDD",It),Te("DDDD",Sg),en(["DDD","DDDD"],function(p,v,_){_._dayOfYear=Ct(p)});function FY(p){var v=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return p==null?v:this.add(p-v,"d")}K("m",["mm",2],0,"minute"),Te("m",Re,Sb),Te("mm",Re,Nr),en(["m","mm"],eo);var LY=su("Minutes",!1);K("s",["ss",2],0,"second"),Te("s",Re,Sb),Te("ss",Re,Nr),en(["s","ss"],Ss);var VY=su("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)}),K(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),K(0,["SSS",3],0,"millisecond"),K(0,["SSSS",4],0,function(){return this.millisecond()*10}),K(0,["SSSSS",5],0,function(){return this.millisecond()*100}),K(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),K(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),K(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),K(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Te("S",It,Dg),Te("SS",It,Nr),Te("SSS",It,Sg);var va,y7;for(va="SSSS";va.length<=9;va+="S")Te(va,Jt);function jY(p,v){v[Il]=Ct(("0."+p)*1e3)}for(va="S";va.length<=9;va+="S")en(va,jY);y7=su("Milliseconds",!1),K("z",0,0,"zoneAbbr"),K("zz",0,0,"zoneName");function zY(){return this._isUTC?"UTC":""}function $Y(){return this._isUTC?"Coordinated Universal Time":""}var de=I.prototype;de.add=PG,de.calendar=zG,de.clone=$G,de.diff=YG,de.endOf=iY,de.format=KG,de.from=JG,de.fromNow=eY,de.to=tY,de.toNow=nY,de.get=Xq,de.invalidAt=hY,de.isAfter=BG,de.isBefore=UG,de.isBetween=HG,de.isSame=qG,de.isSameOrAfter=WG,de.isSameOrBefore=GG,de.isValid=dY,de.lang=u7,de.locale=c7,de.localeData=d7,de.max=dG,de.min=uG,de.parsingFlags=fY,de.set=Kq,de.startOf=rY,de.subtract=NG,de.toArray=lY,de.toObject=cY,de.toDate=aY,de.toISOString=QG,de.inspect=XG,typeof Symbol<"u"&&Symbol.for!=null&&(de[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),de.toJSON=uY,de.toString=ZG,de.unix=sY,de.valueOf=oY,de.creationData=pY,de.eraName=vY,de.eraNarrow=xY,de.eraAbbr=bY,de.eraYear=wY,de.year=jM,de.isLeapYear=Qq,de.weekYear=TY,de.isoWeekYear=kY,de.quarter=de.quarters=RY,de.month=HM,de.daysInMonth=aW,de.week=de.weeks=mW,de.isoWeek=de.isoWeeks=gW,de.weeksInYear=OY,de.weeksInWeekYear=PY,de.isoWeeksInYear=IY,de.isoWeeksInISOWeekYear=AY,de.date=g7,de.day=de.days=kW,de.weekday=IW,de.isoWeekday=AW,de.dayOfYear=FY,de.hour=de.hours=VW,de.minute=de.minutes=LY,de.second=de.seconds=VY,de.millisecond=de.milliseconds=y7,de.utcOffset=bG,de.utc=_G,de.local=CG,de.parseZone=DG,de.hasAlignedHourOffset=SG,de.isDST=MG,de.isLocal=TG,de.isUtcOffset=kG,de.isUtc=i7,de.isUTC=i7,de.zoneAbbr=zY,de.zoneName=$Y,de.dates=H("dates accessor is deprecated. Use date instead.",g7),de.months=H("months accessor is deprecated. Use month instead",HM),de.years=H("years accessor is deprecated. Use year instead",jM),de.zone=H("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",wG),de.isDSTShifted=H("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",EG);function BY(p){return yn(p*1e3)}function UY(){return yn.apply(null,arguments).parseZone()}function v7(p){return p}var jt=N.prototype;jt.calendar=R,jt.longDateFormat=ie,jt.invalidDate=Ae,jt.ordinal=ft,jt.preparse=v7,jt.postformat=v7,jt.relativeTime=An,jt.pastFuture=He,jt.set=O,jt.eras=mY,jt.erasParse=gY,jt.erasConvertYear=yY,jt.erasAbbrRegex=CY,jt.erasNameRegex=_Y,jt.erasNarrowRegex=DY,jt.months=rW,jt.monthsShort=iW,jt.monthsParse=sW,jt.monthsRegex=cW,jt.monthsShortRegex=lW,jt.week=dW,jt.firstDayOfYear=pW,jt.firstDayOfWeek=hW,jt.weekdays=DW,jt.weekdaysMin=MW,jt.weekdaysShort=SW,jt.weekdaysParse=TW,jt.weekdaysRegex=OW,jt.weekdaysShortRegex=PW,jt.weekdaysMinRegex=NW,jt.isPM=FW,jt.meridiem=jW;function Lg(p,v,_,S){var F=Es(),Y=f().set(S,v);return F[_](Y,p)}function x7(p,v,_){if(l(p)&&(v=p,p=void 0),p=p||"",v!=null)return Lg(p,v,_,"month");var S,F=[];for(S=0;S<12;S++)F[S]=Lg(p,S,_,"month");return F}function Bb(p,v,_,S){typeof p=="boolean"?(l(v)&&(_=v,v=void 0),v=v||""):(v=p,_=v,p=!1,l(v)&&(_=v,v=void 0),v=v||"");var F=Es(),Y=p?F._week.dow:0,J,Ee=[];if(_!=null)return Lg(v,(_+Y)%7,S,"day");for(J=0;J<7;J++)Ee[J]=Lg(v,(J+Y)%7,S,"day");return Ee}function HY(p,v){return x7(p,v,"months")}function qY(p,v){return x7(p,v,"monthsShort")}function WY(p,v,_){return Bb(p,v,_,"weekdays")}function GY(p,v,_){return Bb(p,v,_,"weekdaysShort")}function YY(p,v,_){return Bb(p,v,_,"weekdaysMin")}ya("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(p){var v=p%10,_=Ct(p%100/10)===1?"th":v===1?"st":v===2?"nd":v===3?"rd":"th";return p+_}}),t.lang=H("moment.lang is deprecated. Use moment.locale instead.",ya),t.langData=H("moment.langData is deprecated. Use moment.localeData instead.",Es);var Ts=Math.abs;function ZY(){var p=this._data;return this._milliseconds=Ts(this._milliseconds),this._days=Ts(this._days),this._months=Ts(this._months),p.milliseconds=Ts(p.milliseconds),p.seconds=Ts(p.seconds),p.minutes=Ts(p.minutes),p.hours=Ts(p.hours),p.months=Ts(p.months),p.years=Ts(p.years),this}function b7(p,v,_,S){var F=to(v,_);return p._milliseconds+=S*F._milliseconds,p._days+=S*F._days,p._months+=S*F._months,p._bubble()}function QY(p,v){return b7(this,p,v,1)}function XY(p,v){return b7(this,p,v,-1)}function w7(p){return p<0?Math.floor(p):Math.ceil(p)}function KY(){var p=this._milliseconds,v=this._days,_=this._months,S=this._data,F,Y,J,Ee,nt;return p>=0&&v>=0&&_>=0||p<=0&&v<=0&&_<=0||(p+=w7(Ub(_)+v)*864e5,v=0,_=0),S.milliseconds=p%1e3,F=Ai(p/1e3),S.seconds=F%60,Y=Ai(F/60),S.minutes=Y%60,J=Ai(Y/60),S.hours=J%24,v+=Ai(J/24),nt=Ai(_7(v)),_+=nt,v-=w7(Ub(nt)),Ee=Ai(_/12),_%=12,S.days=v,S.months=_,S.years=Ee,this}function _7(p){return p*4800/146097}function Ub(p){return p*146097/4800}function JY(p){if(!this.isValid())return NaN;var v,_,S=this._milliseconds;if(p=Hn(p),p==="month"||p==="quarter"||p==="year")switch(v=this._days+S/864e5,_=this._months+_7(v),p){case"month":return _;case"quarter":return _/3;case"year":return _/12}else switch(v=this._days+Math.round(Ub(this._months)),p){case"week":return v/7+S/6048e5;case"day":return v+S/864e5;case"hour":return v*24+S/36e5;case"minute":return v*1440+S/6e4;case"second":return v*86400+S/1e3;case"millisecond":return Math.floor(v*864e5)+S;default:throw new Error("Unknown unit "+p)}}function ks(p){return function(){return this.as(p)}}var C7=ks("ms"),eZ=ks("s"),tZ=ks("m"),nZ=ks("h"),rZ=ks("d"),iZ=ks("w"),oZ=ks("M"),sZ=ks("Q"),aZ=ks("y"),lZ=C7;function cZ(){return to(this)}function uZ(p){return p=Hn(p),this.isValid()?this[p+"s"]():NaN}function Ol(p){return function(){return this.isValid()?this._data[p]:NaN}}var dZ=Ol("milliseconds"),fZ=Ol("seconds"),hZ=Ol("minutes"),pZ=Ol("hours"),mZ=Ol("days"),gZ=Ol("months"),yZ=Ol("years");function vZ(){return Ai(this.days()/7)}var Is=Math.round,uu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function xZ(p,v,_,S,F){return F.relativeTime(v||1,!!_,p,S)}function bZ(p,v,_,S){var F=to(p).abs(),Y=Is(F.as("s")),J=Is(F.as("m")),Ee=Is(F.as("h")),nt=Is(F.as("d")),St=Is(F.as("M")),Rr=Is(F.as("w")),As=Is(F.as("y")),xa=Y<=_.ss&&["s",Y]||Y<_.s&&["ss",Y]||J<=1&&["m"]||J<_.m&&["mm",J]||Ee<=1&&["h"]||Ee<_.h&&["hh",Ee]||nt<=1&&["d"]||nt<_.d&&["dd",nt];return _.w!=null&&(xa=xa||Rr<=1&&["w"]||Rr<_.w&&["ww",Rr]),xa=xa||St<=1&&["M"]||St<_.M&&["MM",St]||As<=1&&["y"]||["yy",As],xa[2]=v,xa[3]=+p>0,xa[4]=S,xZ.apply(null,xa)}function wZ(p){return p===void 0?Is:typeof p=="function"?(Is=p,!0):!1}function _Z(p,v){return uu[p]===void 0?!1:v===void 0?uu[p]:(uu[p]=v,p==="s"&&(uu.ss=v-1),!0)}function CZ(p,v){if(!this.isValid())return this.localeData().invalidDate();var _=!1,S=uu,F,Y;return typeof p=="object"&&(v=p,p=!1),typeof p=="boolean"&&(_=p),typeof v=="object"&&(S=Object.assign({},uu,v),v.s!=null&&v.ss==null&&(S.ss=v.s-1)),F=this.localeData(),Y=bZ(this,!_,S,F),_&&(Y=F.pastFuture(+this,Y)),F.postformat(Y)}var Hb=Math.abs;function du(p){return(p>0)-(p<0)||+p}function Vg(){if(!this.isValid())return this.localeData().invalidDate();var p=Hb(this._milliseconds)/1e3,v=Hb(this._days),_=Hb(this._months),S,F,Y,J,Ee=this.asSeconds(),nt,St,Rr,As;return Ee?(S=Ai(p/60),F=Ai(S/60),p%=60,S%=60,Y=Ai(_/12),_%=12,J=p?p.toFixed(3).replace(/\.?0+$/,""):"",nt=Ee<0?"-":"",St=du(this._months)!==du(Ee)?"-":"",Rr=du(this._days)!==du(Ee)?"-":"",As=du(this._milliseconds)!==du(Ee)?"-":"",nt+"P"+(Y?St+Y+"Y":"")+(_?St+_+"M":"")+(v?Rr+v+"D":"")+(F||S||p?"T":"")+(F?As+F+"H":"")+(S?As+S+"M":"")+(p?As+J+"S":"")):"P0D"}var At=Ag.prototype;At.isValid=gG,At.abs=ZY,At.add=QY,At.subtract=XY,At.as=JY,At.asMilliseconds=C7,At.asSeconds=eZ,At.asMinutes=tZ,At.asHours=nZ,At.asDays=rZ,At.asWeeks=iZ,At.asMonths=oZ,At.asQuarters=sZ,At.asYears=aZ,At.valueOf=lZ,At._bubble=KY,At.clone=cZ,At.get=uZ,At.milliseconds=dZ,At.seconds=fZ,At.minutes=hZ,At.hours=pZ,At.days=mZ,At.weeks=vZ,At.months=gZ,At.years=yZ,At.humanize=CZ,At.toISOString=Vg,At.toString=Vg,At.toJSON=Vg,At.locale=c7,At.localeData=d7,At.toIsoString=H("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vg),At.lang=u7,K("X",0,0,"unix"),K("x",0,0,"valueOf"),Te("x",Dn),Te("X",Hq),en("X",function(p,v,_){_._d=new Date(parseFloat(p)*1e3)}),en("x",function(p,v,_){_._d=new Date(Ct(p))});return t.version="2.30.1",r(yn),t.fn=de,t.min=fG,t.max=hG,t.now=pG,t.utc=f,t.unix=BY,t.months=HY,t.isDate=c,t.locale=ya,t.invalid=x,t.duration=to,t.isMoment=T,t.weekdays=WY,t.parseZone=UY,t.localeData=Es,t.isDuration=Og,t.monthsShort=qY,t.weekdaysMin=YY,t.defineLocale=Ab,t.updateLocale=UW,t.locales=HW,t.weekdaysShort=GY,t.normalizeUnits=Hn,t.relativeTimeRounding=wZ,t.relativeTimeThreshold=_Z,t.calendarFormat=jG,t.prototype=de,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t})});var oU=Oi((iU,GS)=>{"use strict";(function(e,t,r){function n(a){var l=this,c=s();l.next=function(){var u=2091639*l.s0+l.c*23283064365386963e-26;return l.s0=l.s1,l.s1=l.s2,l.s2=u-(l.c=u|0)},l.c=1,l.s0=c(" "),l.s1=c(" "),l.s2=c(" "),l.s0-=c(a),l.s0<0&&(l.s0+=1),l.s1-=c(a),l.s1<0&&(l.s1+=1),l.s2-=c(a),l.s2<0&&(l.s2+=1),c=null}function i(a,l){return l.c=a.c,l.s0=a.s0,l.s1=a.s1,l.s2=a.s2,l}function o(a,l){var c=new n(a),u=l&&l.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,u&&(typeof u=="object"&&i(u,c),d.state=function(){return i(c,{})}),d}function s(){var a=4022871197,l=function(c){c=String(c);for(var u=0;u<c.length;u++){a+=c.charCodeAt(u);var d=.02519603282416938*a;a=d>>>0,d-=a,d*=a,a=d>>>0,d-=a,a+=d*4294967296}return(a>>>0)*23283064365386963e-26};return l}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.alea=o})(iU,typeof GS=="object"&&GS,typeof define=="function"&&define)});var aU=Oi((sU,YS)=>{"use strict";(function(e,t,r){function n(s){var a=this,l="";a.x=0,a.y=0,a.z=0,a.w=0,a.next=function(){var u=a.x^a.x<<11;return a.x=a.y,a.y=a.z,a.z=a.w,a.w^=a.w>>>19^u^u>>>8},s===(s|0)?a.x=s:l+=s;for(var c=0;c<l.length+64;c++)a.x^=l.charCodeAt(c)|0,a.next()}function i(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a}function o(s,a){var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor128=o})(sU,typeof YS=="object"&&YS,typeof define=="function"&&define)});var cU=Oi((lU,ZS)=>{"use strict";(function(e,t,r){function n(s){var a=this,l="";a.next=function(){var u=a.x^a.x>>>2;return a.x=a.y,a.y=a.z,a.z=a.w,a.w=a.v,(a.d=a.d+362437|0)+(a.v=a.v^a.v<<4^(u^u<<1))|0},a.x=0,a.y=0,a.z=0,a.w=0,a.v=0,s===(s|0)?a.x=s:l+=s;for(var c=0;c<l.length+64;c++)a.x^=l.charCodeAt(c)|0,c==l.length&&(a.d=a.x<<10^a.x>>>4),a.next()}function i(s,a){return a.x=s.x,a.y=s.y,a.z=s.z,a.w=s.w,a.v=s.v,a.d=s.d,a}function o(s,a){var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorwow=o})(lU,typeof ZS=="object"&&ZS,typeof define=="function"&&define)});var dU=Oi((uU,QS)=>{"use strict";(function(e,t,r){function n(s){var a=this;a.next=function(){var c=a.x,u=a.i,d,f,h;return d=c[u],d^=d>>>7,f=d^d<<24,d=c[u+1&7],f^=d^d>>>10,d=c[u+3&7],f^=d^d>>>3,d=c[u+4&7],f^=d^d<<7,d=c[u+7&7],d=d^d<<13,f^=d^d<<9,c[u]=f,a.i=u+1&7,f};function l(c,u){var d,f,h=[];if(u===(u|0))f=h[0]=u;else for(u=""+u,d=0;d<u.length;++d)h[d&7]=h[d&7]<<15^u.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?f=h[7]=-1:f=h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}l(a,s)}function i(s,a){return a.x=s.x.slice(),a.i=s.i,a}function o(s,a){s==null&&(s=+new Date);var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=l.next,u.quick=u,c&&(c.x&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xorshift7=o})(uU,typeof QS=="object"&&QS,typeof define=="function"&&define)});var hU=Oi((fU,XS)=>{"use strict";(function(e,t,r){function n(s){var a=this;a.next=function(){var c=a.w,u=a.X,d=a.i,f,h;return a.w=c=c+1640531527|0,h=u[d+34&127],f=u[d=d+1&127],h^=h<<13,f^=f<<17,h^=h>>>15,f^=f>>>12,h=u[d]=h^f,a.i=d,h+(c^c>>>16)|0};function l(c,u){var d,f,h,m,y,g=[],x=128;for(u===(u|0)?(f=u,u=null):(u=u+"\0",f=0,x=Math.max(x,u.length)),h=0,m=-32;m<x;++m)u&&(f^=u.charCodeAt((m+32)%u.length)),m===0&&(y=f),f^=f<<10,f^=f>>>15,f^=f<<4,f^=f>>>13,m>=0&&(y=y+1640531527|0,d=g[m&127]^=f+y,h=d==0?h+1:0);for(h>=128&&(g[(u&&u.length||0)&127]=-1),h=127,m=4*128;m>0;--m)f=g[h+34&127],d=g[h=h+1&127],f^=f<<13,d^=d<<17,f^=f>>>15,d^=d>>>12,g[h]=f^d;c.w=y,c.X=g,c.i=h}l(a,s)}function i(s,a){return a.i=s.i,a.w=s.w,a.X=s.X.slice(),a}function o(s,a){s==null&&(s=+new Date);var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=l.next,u.quick=u,c&&(c.X&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.xor4096=o})(fU,typeof XS=="object"&&XS,typeof define=="function"&&define)});var mU=Oi((pU,KS)=>{"use strict";(function(e,t,r){function n(s){var a=this,l="";a.next=function(){var u=a.b,d=a.c,f=a.d,h=a.a;return u=u<<25^u>>>7^d,d=d-f|0,f=f<<24^f>>>8^h,h=h-u|0,a.b=u=u<<20^u>>>12^d,a.c=d=d-f|0,a.d=f<<16^d>>>16^h,a.a=h-u|0},a.a=0,a.b=0,a.c=-1640531527,a.d=1367130551,s===Math.floor(s)?(a.a=s/4294967296|0,a.b=s|0):l+=s;for(var c=0;c<l.length+20;c++)a.b^=l.charCodeAt(c)|0,a.next()}function i(s,a){return a.a=s.a,a.b=s.b,a.c=s.c,a.d=s.d,a}function o(s,a){var l=new n(s),c=a&&a.state,u=function(){return(l.next()>>>0)/4294967296};return u.double=function(){do var d=l.next()>>>11,f=(l.next()>>>0)/4294967296,h=(d+f)/(1<<21);while(h===0);return h},u.int32=l.next,u.quick=u,c&&(typeof c=="object"&&i(c,l),u.state=function(){return i(l,{})}),u}t&&t.exports?t.exports=o:r&&r.amd?r(function(){return o}):this.tychei=o})(pU,typeof KS=="object"&&KS,typeof define=="function"&&define)});var gU=Oi(()=>{"use strict"});var vU=Oi((yU,zx)=>{"use strict";(function(e,t,r){var n=256,i=6,o=52,s="random",a=r.pow(n,i),l=r.pow(2,o),c=l*2,u=n-1,d;function f(w,b,I){var T=[];b=b==!0?{entropy:!0}:b||{};var z=g(y(b.entropy?[w,C(t)]:w??x(),3),T),H=new h(T),q=function(){for(var $=H.g(i),D=a,O=0;$<l;)$=($+O)*n,D*=n,O=H.g(1);for(;$>=c;)$/=2,D/=2,O>>>=1;return($+O)/D};return q.int32=function(){return H.g(4)|0},q.quick=function(){return H.g(4)/4294967296},q.double=q,g(C(H.S),t),(b.pass||I||function($,D,O,j){return j&&(j.S&&m(j,H),$.state=function(){return m(H,{})}),O?(r[s]=$,D):$})(q,z,"global"in b?b.global:this==r,b.state)}function h(w){var b,I=w.length,T=this,z=0,H=T.i=T.j=0,q=T.S=[];for(I||(w=[I++]);z<n;)q[z]=z++;for(z=0;z<n;z++)q[z]=q[H=u&H+w[z%I]+(b=q[z])],q[H]=b;(T.g=function($){for(var D,O=0,j=T.i,N=T.j,E=T.S;$--;)D=E[j=u&j+1],O=O*n+E[u&(E[j]=E[N=u&N+D])+(E[N]=D)];return T.i=j,T.j=N,O})(n)}function m(w,b){return b.i=w.i,b.j=w.j,b.S=w.S.slice(),b}function y(w,b){var I=[],T=typeof w,z;if(b&&T=="object")for(z in w)try{I.push(y(w[z],b-1))}catch{}return I.length?I:T=="string"?w:w+"\0"}function g(w,b){for(var I=w+"",T,z=0;z<I.length;)b[u&z]=u&(T^=b[u&z]*19)+I.charCodeAt(z++);return C(b)}function x(){try{var w;return d&&(w=d.randomBytes)?w=w(n):(w=new Uint8Array(n),(e.crypto||e.msCrypto).getRandomValues(w)),C(w)}catch{var b=e.navigator,I=b&&b.plugins;return[+new Date,e,I,e.screen,C(t)]}}function C(w){return String.fromCharCode.apply(0,w)}if(g(r.random(),t),typeof zx=="object"&&zx.exports){zx.exports=f;try{d=gU()}catch{}}else typeof define=="function"&&define.amd?define(function(){return f}):r["seed"+s]=f})(typeof self<"u"?self:yU,[],Math)});var JS=Oi((RJe,xU)=>{"use strict";var Mme=oU(),Eme=aU(),Tme=cU(),kme=dU(),Ime=hU(),Ame=mU(),Jc=vU();Jc.alea=Mme;Jc.xor128=Eme;Jc.xorwow=Tme;Jc.xorshift7=kme;Jc.xor4096=Ime;Jc.tychei=Ame;xU.exports=Jc});var wU=Oi(($x,bU)=>{"use strict";(function(e,t){typeof $x=="object"&&typeof bU<"u"?t($x,(mn(),ch(sN)),(I3(),ch(TD))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-polygon"],t):t(e.d3=e.d3||{},e.d3,e.d3)})($x,function(e,t,r){"use strict";var n=1e-10;function i(D){return D<=n&&D>=-n}function o(D,O){return D.x*O.x+D.y*O.y+D.z*O.z}function s(D,O){return i(D.x*O.y-D.y*O.x)&&i(D.y*O.z-D.z*O.y)&&i(D.z*O.x-D.x*O.z)}function a(D){var O,j,N,E,A,R,B,P;if(N=D[D.length-2],E=D[D.length-1],A=D[0],R=l(N,E),B=l(E,A),j=c(R,B),O=Math.sign(j),N=E,E=A,A=D[1],R=B,B=l(E,A),j=c(R,B),Math.sign(j)===O){for(P=2;P<D.length-1;P++)if(N=E,E=A,A=D[P],R=B,B=l(E,A),j=c(R,B),Math.sign(j)!==O)return;return O}}function l(D,O){return[O[0]-D[0],O[1]-D[1]]}function c(D,O){return D[0]*O[1]-D[1]*O[0]}function u(D,O){this.face=D,this.vert=O,this.nextf=null,this.prevf=null,this.nextv=null,this.prevv=null}function d(D){this.forFace=D,this.head=null}d.prototype.add=function(D){this.head===null?this.head=D:this.forFace?(this.head.prevv=D,D.nextv=this.head,this.head=D):(this.head.prevf=D,D.nextf=this.head,this.head=D)},d.prototype.isEmpty=function(){return this.head===null},d.prototype.fill=function(D){if(!this.forFace){var O=this.head;do D.push(O.face),O.face.marked=!0,O=O.nextf;while(O!==null)}},d.prototype.removeAll=function(){if(this.forFace){var D=this.head;do D.prevf===null?D.nextf===null?D.vert.conflicts.head=null:(D.nextf.prevf=null,D.vert.conflicts.head=D.nextf):(D.nextf!=null&&(D.nextf.prevf=D.prevf),D.prevf.nextf=D.nextf),D=D.nextv,D!=null&&(D.prevv=null);while(D!=null)}else{var D=this.head;do D.prevv==null?D.nextv==null?D.face.conflicts.head=null:(D.nextv.prevv=null,D.face.conflicts.head=D.nextv):(D.nextv!=null&&(D.nextv.prevv=D.prevv),D.prevv.nextv=D.nextv),D=D.nextf,D!=null&&(D.prevf=null);while(D!=null)}},d.prototype.getVertices=function(){for(var D=[],O=this.head;O!==null;)D.push(O.vert),O=O.nextv;return D};function f(D,O,j,N,E,A){this.x=D,this.y=O,this.weight=n,this.index=0,this.conflicts=new d(!1),this.neighbours=null,this.nonClippedPolygon=null,this.polygon=null,this.originalObject=null,this.isDummy=!1,E!==void 0&&(this.originalObject=E),A!=null&&(this.isDummy=A),N!=null&&(this.weight=N),j!=null?this.z=j:this.z=this.projectZ(this.x,this.y,this.weight)}f.prototype.projectZ=function(D,O,j){return D*D+O*O-j},f.prototype.setWeight=function(D){this.weight=D,this.z=this.projectZ(this.x,this.y,this.weight)},f.prototype.subtract=function(D){return new f(D.x-this.x,D.y-this.y,D.z-this.z)},f.prototype.crossproduct=function(D){return new f(this.y*D.z-this.z*D.y,this.z*D.x-this.x*D.z,this.x*D.y-this.y*D.x)},f.prototype.equals=function(D){return this.x===D.x&&this.y===D.y&&this.z===D.z};function h(D){var O=D.verts[0],j=D.verts[1],N=D.verts[2];this.a=O.y*(j.z-N.z)+j.y*(N.z-O.z)+N.y*(O.z-j.z),this.b=O.z*(j.x-N.x)+j.z*(N.x-O.x)+N.z*(O.x-j.x),this.c=O.x*(j.y-N.y)+j.x*(N.y-O.y)+N.x*(O.y-j.y),this.d=-1*(O.x*(j.y*N.z-N.y*j.z)+j.x*(N.y*O.z-O.y*N.z)+N.x*(O.y*j.z-j.y*O.z))}h.prototype.getNormZPlane=function(){return[-1*(this.a/this.c),-1*(this.b/this.c),-1*(this.d/this.c)]},h.prototype.getDualPointMappedToPlane=function(){var D=this.getNormZPlane(),O=new m(D[0]/2,D[1]/2);return O};function m(D,O){this.x=D,this.y=O}function y(D,O,j){this.x=D,this.y=O,this.z=j}y.prototype.negate=function(){this.x*=-1,this.y*=-1,this.z*=-1},y.prototype.normalize=function(){var D=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);D>0&&(this.x/=D,this.y/=D,this.z/=D)};function g(D,O,j){this.next=null,this.prev=null,this.twin=null,this.orig=D,this.dest=O,this.iFace=j}g.prototype.isHorizon=function(){return this.twin!==null&&!this.iFace.marked&&this.twin.iFace.marked},g.prototype.findHorizon=function(D){if(this.isHorizon()){if(D.length>0&&this===D[0])return;D.push(this),this.next.findHorizon(D)}else this.twin!==null&&this.twin.next.findHorizon(D)},g.prototype.isEqual=function(D,O){return this.orig.equals(D)&&this.dest.equals(O)||this.orig.equals(O)&&this.dest.equals(D)};function x(D){this.message=D,this.stack=new Error().stack}x.prototype.name="d3WeightedVoronoiError",x.prototype=new Error;function C(D,O,j,N){this.conflicts=new d(!0),this.verts=[D,O,j],this.marked=!1;var E=D.subtract(O).crossproduct(O.subtract(j));this.normal=new y(-E.x,-E.y,-E.z),this.normal.normalize(),this.createEdges(),this.dualPoint=null,N!=null&&this.orient(N)}C.prototype.getDualPoint=function(){if(this.dualPoint==null){var D=new h(this);this.dualPoint=D.getDualPointMappedToPlane()}return this.dualPoint},C.prototype.isVisibleFromBelow=function(){return this.normal.z<-14259414393190911e-25},C.prototype.createEdges=function(){this.edges=[],this.edges[0]=new g(this.verts[0],this.verts[1],this),this.edges[1]=new g(this.verts[1],this.verts[2],this),this.edges[2]=new g(this.verts[2],this.verts[0],this),this.edges[0].next=this.edges[1],this.edges[0].prev=this.edges[2],this.edges[1].next=this.edges[2],this.edges[1].prev=this.edges[0],this.edges[2].next=this.edges[0],this.edges[2].prev=this.edges[1]},C.prototype.orient=function(D){if(!(o(this.normal,D)<o(this.normal,this.verts[0]))){var O=this.verts[1];this.verts[1]=this.verts[2],this.verts[2]=O,this.normal.negate(),this.createEdges()}},C.prototype.getEdge=function(D,O){for(var j=0;j<3;j++)if(this.edges[j].isEqual(D,O))return this.edges[j];return null},C.prototype.link=function(D,O,j){if(D instanceof C){var N=D.getEdge(O,j);if(N===null)throw new x("when linking, twin is null");var E=this.getEdge(O,j);if(E===null)throw new x("when linking, twin is null");N.twin=E,E.twin=N}else{var N=D,E=this.getEdge(N.orig,N.dest);N.twin=E,E.twin=N}},C.prototype.conflict=function(D){return o(this.normal,D)>o(this.normal,this.verts[0])+n},C.prototype.getHorizon=function(){for(var D=0;D<3;D++)if(this.edges[D].twin!==null&&this.edges[D].twin.isHorizon())return this.edges[D];return null},C.prototype.removeConflict=function(){this.conflicts.removeAll()};function w(){this.points=[],this.facets=[],this.created=[],this.horizon=[],this.visible=[],this.current=0}w.prototype.init=function(D,O){this.points=[];for(var j=0;j<O.length;j++)this.points[j]=new f(O[j].x,O[j].y,O[j].z,null,O[j],!1);this.points=this.points.concat(D)},w.prototype.permutate=function(){for(var D=this.points.length,O=D-1;O>0;O--){var j=Math.floor(Math.random()*O),N=this.points[j];N.index=O;var E=this.points[O];E.index=j,this.points.splice(j,1,E),this.points.splice(O,1,N)}},w.prototype.prep=function(){if(this.points.length<=3)throw new x("Less than 4 points");for(var D=0;D<this.points.length;D++)this.points[D].index=D;var O,j,N,E,A,R,B,P;O=this.points[0],j=this.points[1],N=E=null;for(var D=2;D<this.points.length;D++)if(!(s(O,this.points[D])&&s(j,this.points[D]))){N=this.points[D],N.index=2,this.points[2].index=D,this.points.splice(D,1,this.points[2]),this.points.splice(2,1,N);break}if(N===null)throw new x("Not enough non-planar Points (v2 is null)");P=new C(O,j,N);for(var D=3;D<this.points.length;D++)if(!i(o(P.normal,P.verts[0])-o(P.normal,this.points[D]))){E=this.points[D],E.index=3,this.points[3].index=D,this.points.splice(D,1,this.points[3]),this.points.splice(3,1,E);break}if(E===null)throw new x("Not enough non-planar Points (v3 is null)");P.orient(E),A=new C(O,N,E,j),R=new C(O,j,E,N),B=new C(j,N,E,O),this.addFacet(P),this.addFacet(A),this.addFacet(R),this.addFacet(B),P.link(A,O,N),P.link(R,O,j),P.link(B,j,N),A.link(R,O,E),A.link(B,N,E),R.link(B,E,j),this.current=4;for(var L,D=this.current;D<this.points.length;D++)L=this.points[D],P.conflict(L)&&this.addConflict(P,L),A.conflict(L)&&this.addConflict(A,L),R.conflict(L)&&this.addConflict(R,L),B.conflict(L)&&this.addConflict(B,L)},w.prototype.addConflicts=function(D,O,j){var N=D.conflicts.getVertices(),E=O.conflicts.getVertices(),A=[],R,B,P,L;for(P=L=0;P<N.length||L<E.length;)P<N.length&&L<E.length?(R=N[P],B=E[L],R.index===B.index?(A.push(R),P++,L++):R.index>B.index?(A.push(R),P++):(A.push(B),L++)):P<N.length?A.push(N[P++]):A.push(E[L++]);for(var P=A.length-1;P>=0;P--)R=A[P],j.conflict(R)&&this.addConflict(j,R)},w.prototype.addConflict=function(D,O){var j=new u(D,O);D.conflicts.add(j),O.conflicts.add(j)},w.prototype.removeConflict=function(D){D.removeConflict();var O=D.index;if(D.index=-1,O===this.facets.length-1){this.facets.splice(this.facets.length-1,1);return}if(!(O>=this.facets.length||O<0)){var j=this.facets.splice(this.facets.length-1,1);j[0].index=O,this.facets.splice(O,1,j[0])}},w.prototype.addFacet=function(D){D.index=this.facets.length,this.facets.push(D)},w.prototype.compute=function(){for(this.prep();this.current<this.points.length;){var D=this.points[this.current];if(D.conflicts.isEmpty()){this.current++;continue}this.created=[],this.horizon=[],this.visible=[],D.conflicts.fill(this.visible);for(var O,j=0;j<this.visible.length;j++)if(O=this.visible[j].getHorizon(),O!==null){O.findHorizon(this.horizon);break}for(var N=null,E=null,A=0;A<this.horizon.length;A++){var R=this.horizon[A],B=new C(D,R.orig,R.dest,R.twin.next.dest);B.conflicts=new d(!0),this.addFacet(B),this.created.push(B),this.addConflicts(R.iFace,R.twin.iFace,B),B.link(R),N!==null&&B.link(N,D,R.orig),N=B,E===null&&(E=B)}if(E!==null&&N!==null&&N.link(E,D,this.horizon[0].orig),this.created.length!=0){for(var P=0;P<this.visible.length;P++)this.removeConflict(this.visible[P]);this.current++,this.created=[]}}return this.facets},w.prototype.clear=function(){this.points=[],this.facets=[],this.created=[],this.horizon=[],this.visible=[],this.current=0};function b(D,O){for(var j,N=z(O),E=-1,A=D.length-z(D),R,B,P=D[A-1],L,Z,ee,K;++E<A;){for(j=O.slice(),O.length=0,L=D[E],Z=j[(B=j.length-N)-1],R=-1;++R<B;)ee=j[R],I(ee,P,L)?(I(Z,P,L)||(K=T(Z,ee,P,L),isFinite(K[0])&&O.push(K)),O.push(ee)):I(Z,P,L)&&(K=T(Z,ee,P,L),isFinite(K[0])&&O.push(K)),Z=ee;N&&O.push(O[0]),P=L}return O}function I(D,O,j){return(j[0]-O[0])*(D[1]-O[1])<(j[1]-O[1])*(D[0]-O[0])}function T(D,O,j,N){var E=D[0],A=j[0],R=O[0]-E,B=N[0]-A,P=D[1],L=j[1],Z=O[1]-P,ee=N[1]-L,K=(B*(P-L)-ee*(E-A))/(ee*R-B*Z);return[E+K*R,P+K*Z]}function z(D){var O=D[0],j=D[D.length-1];return!(O[0]-j[0]||O[1]-j[1])}function H(D){var O=[],j=D,N=D.dest,E=N.originalObject,A=[];do{j=j.twin.prev;var R=j.orig.originalObject;R.isDummy||A.push(R);var B=j.iFace;B.isVisibleFromBelow()&&O.push(B)}while(j!==D);return E.neighbours=A,O}function q(D,O,j){var N=new w;N.clear(),N.init(O,D);for(var E=N.compute(D),A=[],R=[],B=E.length,P=0;P<B;P++){var L=E[P];if(L.isVisibleFromBelow())for(var Z=0;Z<3;Z++){var ee=L.edges[Z],K=ee.dest,se=K.originalObject;if(!R[K.index]){if(R[K.index]=!0,se.isDummy)continue;for(var ke=H(ee),Me=[],pe=null,ze=null,ie=1,De=1,Ae=0;Ae<ke.length;Ae++){var oe=ke[Ae].getDualPoint(),wt=oe.x,ft=oe.y;pe!==null&&(ie=pe-wt,De=ze-ft,ie<0&&(ie=-ie),De<0&&(De=-De)),(ie>n||De>n)&&(Me.push([wt,ft]),pe=wt,ze=ft)}if(se.nonClippedPolygon=Me.reverse(),!se.isDummy&&r.polygonLength(se.nonClippedPolygon)>0){var an=b(j,se.nonClippedPolygon);se.polygon=an,an.site=se,an.length>0&&A.push(an)}}}}return A}function $(){var D=function(P){return P.x},O=function(P){return P.y},j=function(P){return P.weight},N=[[0,0],[0,1],[1,1],[1,0]],E=[[0,0],[1,1]],A=[1,1];function R(P){var L;return L=P.map(function(Z){return new f(D(Z),O(Z),null,j(Z),Z,!1)}),q(L,B(),N)}R.x=function(P){return arguments.length?(D=P,R):D},R.y=function(P){return arguments.length?(O=P,R):O},R.weight=function(P){return arguments.length?(j=P,R):j},R.clip=function(P){var L,Z,ee;return arguments.length?(Z=t.extent(P.map(function(K){return K[0]})),ee=t.extent(P.map(function(K){return K[1]})),L=a(P),L===void 0?N=r.polygonHull(P):L===1?N=P.reverse():N=P,E=[[Z[0],ee[0]],[Z[1],ee[1]]],A=[Z[1]-Z[0],ee[1]-ee[0]],R):N},R.extent=function(P){return arguments.length?(N=[P[0],[P[0][0],P[1][1]],P[1],[P[1][0],P[0][1]]],E=P,A=[P[1][0]-P[0][0],P[1][1]-P[0][1]],R):E},R.size=function(P){return arguments.length?(N=[[0,0],[0,P[1]],[P[0],P[1]],[P[0],0]],E=[[0,0],P],A=P,R):A};function B(){var P,L,Z,ee,K,se,ke,Me,pe,ze,ie=[],De=[];P=E[0][0],L=E[1][0],Z=E[0][1],ee=E[1][1],K=L-P,se=ee-Z,ke=P-K,Me=L+K,pe=Z-se,ze=ee+se,ie[0]=[ke,pe],ie[1]=[ke,ze],ie[2]=[Me,ze],ie[3]=[Me,pe];for(var Ae=0;Ae<4;Ae++)De.push(new f(ie[Ae][0],ie[Ae][1],null,n,new f(ie[Ae][0],ie[Ae][1],null,n,null,!0),!0));return De}return R}e.weightedVoronoi=$,e.d3WeightedVoronoiError=x,Object.defineProperty(e,"__esModule",{value:!0})})});var CU=Oi((Bx,_U)=>{"use strict";(function(e,t){typeof Bx=="object"&&typeof _U<"u"?t(Bx,(I3(),ch(TD)),(Bd(),ch(ZR)),(Ja(),ch(fN)),wU()):typeof define=="function"&&define.amd?define(["exports","d3-polygon","d3-timer","d3-dispatch","d3-weighted-voronoi"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3)})(Bx,function(e,t,r,n,i){"use strict";function o(){this.growthChangesLength=s,this.totalAvailableArea=NaN,this.lastAreaError=NaN,this.lastGrowth=NaN,this.growthChanges=[],this.growthChangeWeights=l(this.growthChangesLength),this.growthChangeWeightsSum=c(this.growthChangeWeights)}var s=10;function a(y,g){return y>=g?1:-1}function l(y){for(var g=3,x=1,C=1,w=g,b=[],I=0;I<y;I++)b.push(w),w-=x,w<C&&(w=C);return b}function c(y){for(var g=0,x=0;x<y.length;x++)g+=y[x];return g}o.prototype.reset=function(){return this.lastAreaError=NaN,this.lastGrowth=NaN,this.growthChanges=[],this.growthChangesLength=s,this.growthChangeWeights=l(this.growthChangesLength),this.growthChangeWeightsSum=c(this.growthChangeWeights),this.totalAvailableArea=NaN,this},o.prototype.clear=function(){return this.lastAreaError=NaN,this.lastGrowth=NaN,this.growthChanges=[],this},o.prototype.length=function(y){return arguments.length?(parseInt(y)>0?(this.growthChangesLength=Math.floor(parseInt(y)),this.growthChangeWeights=l(this.growthChangesLength),this.growthChangeWeightsSum=c(this.growthChangeWeights)):console.warn("FlickeringMitigation.length() accepts only positive integers; unable to handle "+y),this):this.growthChangesLength},o.prototype.totalArea=function(y){return arguments.length?(parseFloat(y)>0?this.totalAvailableArea=parseFloat(y):console.warn("FlickeringMitigation.totalArea() accepts only positive numbers; unable to handle "+y),this):this.totalAvailableArea},o.prototype.add=function(y){var g,x;return g=this.lastAreaError,this.lastAreaError=y,isNaN(g)||(x=this.lastGrowth,this.lastGrowth=a(this.lastAreaError,g)),isNaN(x)||this.growthChanges.unshift(this.lastGrowth!=x),this.growthChanges.length>this.growthChangesLength&&this.growthChanges.pop(),this},o.prototype.ratio=function(){var y=0,g;if(this.growthChanges.length<this.growthChangesLength||this.lastAreaError>this.totalAvailableArea/10)return 0;for(var x=0;x<this.growthChangesLength;x++)this.growthChanges[x]&&(y+=this.growthChangeWeights[x]);return g=y/this.growthChangeWeightsSum,g};function u(){var y,g,x,C,w,b,I,T;function z(q,$,D,O){var j=!1,N,E;for(y!==O.clip()&&(y=O.clip(),g=O.extent(),j=!0),j&&H(),N=x+I*O.prng()(),E=w+T*O.prng()();!t.polygonContains(y,[N,E]);)N=x+I*O.prng()(),E=w+T*O.prng()();return[N,E]}function H(){x=g[0][0],C=g[1][0],w=g[0][1],b=g[1][1],I=C-x,T=b-w}return z}function d(){var y=0,g,x,C,w,b,I;function T($,D,O,j){var N=!1;return g!==j.clip()&&(g=j.clip(),N|=!0),x!==O&&(x=O,N|=!0),N&&z(),[w[0]+Math.cos(y+D*I)*b+(j.prng()()-.5)*.001,w[1]+Math.sin(y+D*I)*b+(j.prng()()-.5)*.001]}T.startAngle=function($){return arguments.length?(y=$,T):y};function z(){w=t.polygonCentroid(g),b=H(w,g)/2,C=x.length,I=2*Math.PI/C}function H($,D){for(var O=1/0,j=0,N=D[D.length-1],E=D[j],A;j<D.length;)A=q($,N,E),A<O&&(O=A),j++,N=E,E=D[j];return O}function q($,D,O){var j=$[0],N=$[1],E=D[0],A=D[1],R=O[0],B=O[1],P=j-E,L=N-A,Z=R-E,ee=B-A,K=P*Z+L*ee,se=Z*Z+ee*ee,ke=-1;se!=0&&(ke=K/se);var Me,pe;ke<0?(Me=E,pe=A):ke>1?(Me=R,pe=B):(Me=E+ke*Z,pe=A+ke*ee);var ze=j-Me,ie=N-pe;return Math.sqrt(ze*ze+ie*ie)}return T}function f(){var y,g,x,C,w;function b(T,z,H,q){var $=!1;return y!==q.clip()&&(y=q.clip(),$|=!0),g!==H&&(g=H,$|=!0),$&&I(),w}function I(){x=g.length,C=t.polygonArea(y),w=C/x/2}return b}function h(y){this.message=y,this.stack=new Error().stack}h.prototype.name="d3VoronoiMapError",h.prototype=new Error;function m(y){var g=.01,x=50,C=.01,w=Math.random,b=u(),I=f(),T=u(),z=1e-10,H=function(Oe){return Oe.weight},q=g,$=x,D=C,O=w,j=b,N=I,E=i.weightedVoronoi(),A=new o,R=!0,B,P,L,Z,ee,K,se,ke,Me,pe=r.timer(ft),ze=n.dispatch("tick","end");let ie=1,De=1e3;var Ae;function oe(Oe){return Math.pow(Oe,2)}function wt(Oe,Ht){return oe(Ht.x-Oe.x)+oe(Ht.y-Oe.y)}Me={tick:an,restart:function(){return pe.restart(ft),Me},stop:function(){return pe.stop(),Me},weight:function(Oe){return arguments.length?(H=Oe,R=!0,Me):H},convergenceRatio:function(Oe){return arguments.length?(q=Oe,R=!0,Me):q},maxIterationCount:function(Oe){return arguments.length?($=Oe,Me):$},minWeightRatio:function(Oe){return arguments.length?(D=Oe,R=!0,Me):D},clip:function(Oe){return arguments.length?(E.clip(Oe),R=!0,Me):E.clip()},extent:function(Oe){return arguments.length?(E.extent(Oe),R=!0,Me):E.extent()},size:function(Oe){return arguments.length?(E.size(Oe),R=!0,Me):E.size()},prng:function(Oe){return arguments.length?(O=Oe,R=!0,Me):O},initialPosition:function(Oe){return arguments.length?(j=Oe,R=!0,Me):j},initialWeight:function(Oe){return arguments.length?(N=Oe,R=!0,Me):N},state:function(){return R&&An(),{ended:ke,iterationCount:Z,convergenceRatio:K/P,polygons:ee}},on:function(Oe,Ht){return arguments.length===1?ze.on(Oe):(ze.on(Oe,Ht),Me)}};function ft(){an(),ze.call("tick",Me),ke&&(pe.stop(),ze.call("end",Me))}function an(){ke||(R&&An(),ee=Hn(ee,A.ratio()),Z++,K=Nr(ee),A.add(K),se=K<L,ke=se||Z>=$)}function An(){Sg(),B=y.length,P=Math.abs(t.polygonArea(E.clip())),L=q*P,A.clear().totalArea(P),Z=0,se=!1,ee=He(y,Me),ke=!1,R=!1}function He(Oe,Ht){var Re=Oe.reduce(function(Nt,Kt){return Math.max(Nt,H(Kt))},-1/0),Dt=Re*D,_t,It;return _t=Oe.map(function(Nt,Kt,Jt){return{index:Kt,weight:Math.max(H(Nt),Dt),initialPosition:j(Nt,Kt,Jt,Ht),initialWeight:N(Nt,Kt,Jt,Ht),originalData:Nt}}),It=ln(_t,Ht),Ae(It),E(It)}function ln(Oe,Ht){var Re=Oe.reduce(function(_t,It){return _t+=It.weight},0),Dt;return Oe.map(function(_t,It,Nt){return Dt=_t.initialPosition,t.polygonContains(E.clip(),Dt)||(Dt=b(_t,It,Nt,Ht)),{index:_t.index,targetedArea:P*_t.weight/Re,data:_t,x:Dt[0],y:Dt[1],weight:_t.initialWeight}})}function Hn(Oe,Ht){var Re;if(Zr(Oe,Ht),Re=Oe.map(function(Dt){return Dt.site.originalObject}),Oe=E(Re),Oe.length<B)throw new h("at least 1 site has no area, which is not supposed to arise");if(Db(Oe,Ht),Re=Oe.map(function(Dt){return Dt.site.originalObject}),Oe=E(Re),Oe.length<B)throw new h("at least 1 site has no area, which is not supposed to arise");return Oe}function Zr(Oe,Ht){var Re=[],Dt=.5,_t,It,Nt,Kt,Jt,Dn,hr;_t=Dt*Ht,It=1-_t;for(var ga=0;ga<B;ga++)Nt=Oe[ga],Kt=Nt.site.originalObject,Jt=t.polygonCentroid(Nt),Dn=Jt[0]-Kt.x,hr=Jt[1]-Kt.y,Dn*=It,hr*=It,Kt.x+=Dn,Kt.y+=hr,Re.push(Kt);Ae(Re)}function Db(Oe,Ht){var Re=[],Dt=.1,_t,It,Nt,Kt,Jt,Dn;_t=Dt*Ht;for(var hr=0;hr<B;hr++)It=Oe[hr],Nt=It.site.originalObject,Kt=t.polygonArea(It),Jt=Nt.targetedArea/Kt,Jt=Math.max(Jt,1-Dt+_t),Jt=Math.min(Jt,1+Dt-_t),Dn=Nt.weight*Jt,Dn=Math.max(Dn,z),Nt.weight=Dn,Re.push(Nt);Ae(Re)}function Cg(Oe){var Ht=0,Re,Dt,_t,It,Nt,Kt,Jt;do{if(Ht>De)throw new h("handleOverweighted0 is looping too much");Re=!1;for(var Dn=0;Dn<B;Dn++){Dt=Oe[Dn];for(var hr=Dn+1;hr<B;hr++)if(_t=Oe[hr],Dt.weight>_t.weight?(It=Dt,Nt=_t):(It=_t,Nt=Dt),Kt=wt(Dt,_t),Kt<It.weight-Nt.weight){Jt=Kt+Nt.weight/2,Jt=Math.max(Jt,z),It.weight=Jt,Re=!0,Ht++;break}if(Re)break}}while(Re)}function Dg(Oe){var Ht=0,Re,Dt,_t,It,Nt,Kt,Jt;do{if(Ht>De)throw new h("handleOverweighted1 is looping too much");Re=!1;for(var Dn=0;Dn<B;Dn++){Dt=Oe[Dn];for(var hr=Dn+1;hr<B;hr++)if(_t=Oe[hr],Dt.weight>_t.weight?(It=Dt,Nt=_t):(It=_t,Nt=Dt),Kt=wt(Dt,_t),Kt<It.weight-Nt.weight){Jt=It.weight-Nt.weight-Kt,Nt.weight+=Jt+z,Re=!0,Ht++;break}if(Re)break}}while(Re)}function Nr(Oe){for(var Ht=0,Re,Dt,_t,It=0;It<B;It++)Re=Oe[It],Dt=Re.site.originalObject,_t=t.polygonArea(Re),Ht+=Math.abs(Dt.targetedArea-_t);return Ht}function Sg(){switch(ie){case 0:Ae=Cg;break;case 1:Ae=Dg;break;default:console.error("unknown 'handleOverweighted' variant; using variant #1"),Ae=Cg}}return Me}e.voronoiMapSimulation=m,e.voronoiMapInitialPositionRandom=u,e.voronoiMapInitialPositionPie=d,e.d3VoronoiMapError=h,Object.defineProperty(e,"__esModule",{value:!0})})});function I7(e,t){return Object.is(e,t)}var ir=null,zg=!1,$g=1,Pl=Symbol("SIGNAL");function vi(e){let t=ir;return ir=e,t}var Ug={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function A7(e){if(zg)throw new Error("");if(ir===null)return;ir.consumerOnSignalRead(e);let t=ir.nextProducerIndex++;if(hu(ir),t<ir.producerNode.length&&ir.producerNode[t]!==e&&uh(ir)){let r=ir.producerNode[t];Hg(r,ir.producerIndexOfThis[t])}ir.producerNode[t]!==e&&(ir.producerNode[t]=e,ir.producerIndexOfThis[t]=uh(ir)?F7(e,ir,t):0),ir.producerLastReadVersion[t]=e.version}function OZ(){$g++}function O7(e){if(!(uh(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$g)){if(!e.producerMustRecompute(e)&&!Qb(e)){e.dirty=!1,e.lastCleanEpoch=$g;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$g}}function P7(e){if(e.liveConsumerNode===void 0)return;let t=zg;zg=!0;try{for(let r of e.liveConsumerNode)r.dirty||PZ(r)}finally{zg=t}}function N7(){return ir?.consumerAllowSignalWrites!==!1}function PZ(e){e.dirty=!0,P7(e),e.consumerMarkedDirty?.(e)}function Yb(e){return e&&(e.nextProducerIndex=0),vi(e)}function Zb(e,t){if(vi(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(uh(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Hg(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Qb(e){hu(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(O7(r),n!==r.version))return!0}return!1}function R7(e){if(hu(e),uh(e))for(let t=0;t<e.producerNode.length;t++)Hg(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function F7(e,t,r){if(L7(e),hu(e),e.liveConsumerNode.length===0)for(let n=0;n<e.producerNode.length;n++)e.producerIndexOfThis[n]=F7(e.producerNode[n],e,n);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function Hg(e,t){if(L7(e),hu(e),e.liveConsumerNode.length===1)for(let n=0;n<e.producerNode.length;n++)Hg(e.producerNode[n],e.producerIndexOfThis[n]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];hu(i),i.producerIndexOfThis[n]=t}}function uh(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hu(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function L7(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function V7(e){let t=Object.create(NZ);t.computation=e;let r=()=>{if(O7(t),A7(t),t.value===Bg)throw t.error;return t.value};return r[Pl]=t,r}var Wb=Symbol("UNSET"),Gb=Symbol("COMPUTING"),Bg=Symbol("ERRORED"),NZ=(()=>Se(ne({},Ug),{value:Wb,dirty:!0,error:null,equal:I7,producerMustRecompute(e){return e.value===Wb||e.value===Gb},producerRecomputeValue(e){if(e.value===Gb)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Gb;let r=Yb(e),n;try{n=e.computation()}catch(i){n=Bg,e.error=i}finally{Zb(e,r)}if(t!==Wb&&t!==Bg&&n!==Bg&&e.equal(t,n)){e.value=t;return}e.value=n,e.version++}}))();function RZ(){throw new Error}var j7=RZ;function z7(){j7()}function $7(e){j7=e}var FZ=null;function B7(e){let t=Object.create(LZ);t.value=e;let r=()=>(A7(t),t.value);return r[Pl]=t,r}function Xb(e,t){N7()||z7();let r=e.value;Object.is(r,t)||e.equal(r,t)||(e.value=t,VZ(e))}function U7(e,t){N7()||z7(),Xb(e,t(e.value))}var LZ=(()=>Se(ne({},Ug),{equal:I7,value:void 0}))();function VZ(e){e.version++,OZ(),P7(e),FZ?.()}function $e(e){return typeof e=="function"}function pu(e){let r=e(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var qg=pu(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Nl(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var qn=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if($e(n))try{n()}catch(o){t=o instanceof qg?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{H7(o)}catch(s){t=t??[],s instanceof qg?t=[...t,...s.errors]:t.push(s)}}if(t)throw new qg(t)}}add(t){var r;if(t&&t!==this)if(this.closed)H7(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&Nl(r,t)}remove(t){let{_finalizers:r}=this;r&&Nl(r,t),t instanceof e&&t._removeParent(this)}};qn.EMPTY=(()=>{let e=new qn;return e.closed=!0,e})();var Kb=qn.EMPTY;function Wg(e){return e instanceof qn||e&&"closed"in e&&$e(e.remove)&&$e(e.add)&&$e(e.unsubscribe)}function H7(e){$e(e)?e():e.unsubscribe()}var no={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var mu={setTimeout(e,t,...r){let{delegate:n}=mu;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=mu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Gg(e){mu.setTimeout(()=>{let{onUnhandledError:t}=no;if(t)t(e);else throw e})}function Os(){}var q7=(()=>Jb("C",void 0,void 0))();function W7(e){return Jb("E",void 0,e)}function G7(e){return Jb("N",e,void 0)}function Jb(e,t,r){return{kind:e,value:t,error:r}}var Rl=null;function gu(e){if(no.useDeprecatedSynchronousErrorHandling){let t=!Rl;if(t&&(Rl={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:n}=Rl;if(Rl=null,r)throw n}}else e()}function Y7(e){no.useDeprecatedSynchronousErrorHandling&&Rl&&(Rl.errorThrown=!0,Rl.error=e)}var Fl=class extends qn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Wg(t)&&t.add(this)):this.destination=$Z}static create(t,r,n){return new ro(t,r,n)}next(t){this.isStopped?tw(G7(t),this):this._next(t)}error(t){this.isStopped?tw(W7(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?tw(q7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jZ=Function.prototype.bind;function ew(e,t){return jZ.call(e,t)}var nw=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){Yg(n)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){Yg(n)}else Yg(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){Yg(r)}}},ro=class extends Fl{constructor(t,r,n){super();let i;if($e(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&no.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ew(t.next,o),error:t.error&&ew(t.error,o),complete:t.complete&&ew(t.complete,o)}):i=t}this.destination=new nw(i)}};function Yg(e){no.useDeprecatedSynchronousErrorHandling?Y7(e):Gg(e)}function zZ(e){throw e}function tw(e,t){let{onStoppedNotification:r}=no;r&&mu.setTimeout(()=>r(e,t))}var $Z={closed:!0,next:Os,error:zZ,complete:Os};var yu=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")();function pr(e){return e}function rw(...e){return iw(e)}function iw(e){return e.length===0?pr:e.length===1?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}var Ke=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=UZ(r)?r:new ro(r,n,i);return gu(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=Z7(n),new n((i,o)=>{let s=new ro({next:a=>{try{r(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[yu](){return this}pipe(...r){return iw(r)(this)}toPromise(r){return r=Z7(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=t=>new e(t),e})();function Z7(e){var t;return(t=e??no.Promise)!==null&&t!==void 0?t:Promise}function BZ(e){return e&&$e(e.next)&&$e(e.error)&&$e(e.complete)}function UZ(e){return e&&e instanceof Fl||BZ(e)&&Wg(e)}function ow(e){return $e(e?.lift)}function qe(e){return t=>{if(ow(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Fe(e,t,r,n,i){return new dh(e,t,r,n,i)}var dh=class extends Fl{constructor(t,r,n,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function vu(){return qe((e,t)=>{let r=null;e._refCount++;let n=Fe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var xu=class extends Ke{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,ow(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new qn;let r=this.getSubject();t.add(this.source.subscribe(Fe(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=qn.EMPTY)}return t}refCount(){return vu()(this)}};var Q7=pu(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var zt=(()=>{class e extends Ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new Zg(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Q7}next(r){gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){gu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?Kb:(this.currentObservers=null,o.push(r),new qn(()=>{this.currentObservers=null,Nl(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new Ke;return r.source=this,r}}return e.create=(t,r)=>new Zg(t,r),e})(),Zg=class extends zt{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)}error(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:Kb}};var qt=class extends zt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var fh={now(){return(fh.delegate||Date).now()},delegate:void 0};var Qg=class extends zt{constructor(t=1/0,r=1/0,n=fh){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(t),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){let{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let l=1;l<n.length&&n[l]<=s;l+=2)a=l;a&&n.splice(0,a+1)}}};var Xg=class extends qn{constructor(t,r){super()}schedule(t,r=0){return this}};var hh={setInterval(e,t,...r){let{delegate:n}=hh;return n?.setInterval?n.setInterval(e,t,...r):setInterval(e,t,...r)},clearInterval(e){let{delegate:t}=hh;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var bu=class extends Xg{constructor(t,r){super(t,r),this.scheduler=t,this.work=r,this.pending=!1}schedule(t,r=0){var n;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(t,r,n=0){return hh.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&hh.clearInterval(r)}execute(t,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,r){let n=!1,i;try{this.work(t)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Nl(n,this),t!=null&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,super.unsubscribe()}}};var wu=class e{constructor(t,r=e.now){this.schedulerActionCtor=t,this.now=r}schedule(t,r=0,n){return new this.schedulerActionCtor(this,t).schedule(n,r)}};wu.now=fh.now;var _u=class extends wu{constructor(t,r=wu.now){super(t,r),this.actions=[],this._active=!1}flush(t){let{actions:r}=this;if(this._active){r.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=r.shift());if(this._active=!1,n){for(;t=r.shift();)t.unsubscribe();throw n}}};var ph=new _u(bu),X7=ph;var Kg=class extends bu{constructor(t,r){super(t,r),this.scheduler=t,this.work=r}schedule(t,r=0){return r>0?super.schedule(t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)}execute(t,r){return r>0||this.closed?super.execute(t,r):this._execute(t,r)}requestAsyncId(t,r,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(t,r,n):(t.flush(this),0)}};var Jg=class extends _u{};var sw=new Jg(Kg);var br=new Ke(e=>e.complete());function e0(e){return e&&$e(e.schedule)}function aw(e){return e[e.length-1]}function Cu(e){return $e(aw(e))?e.pop():void 0}function No(e){return e0(aw(e))?e.pop():void 0}function K7(e,t){return typeof aw(e)=="number"?e.pop():t}function eE(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(d){s(d)}}function l(u){try{c(n.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function J7(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ll(e){return this instanceof Ll?(this.v=e,this):new Ll(e)}function tE(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(h){return new Promise(function(m,y){o.push([f,h,m,y])>1||a(f,h)})})}function a(f,h){try{l(n[f](h))}catch(m){d(o[0][3],m)}}function l(f){f.value instanceof Ll?Promise.resolve(f.value.v).then(c,u):d(o[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function nE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof J7=="function"?J7(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(a,l){s=e[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}}var Du=e=>e&&typeof e.length=="number"&&typeof e!="function";function t0(e){return $e(e?.then)}function n0(e){return $e(e[yu])}function r0(e){return Symbol.asyncIterator&&$e(e?.[Symbol.asyncIterator])}function i0(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function HZ(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var o0=HZ();function s0(e){return $e(e?.[o0])}function a0(e){return tE(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:n,done:i}=yield Ll(r.read());if(i)return yield Ll(void 0);yield yield Ll(n)}}finally{r.releaseLock()}})}function l0(e){return $e(e?.getReader)}function Ot(e){if(e instanceof Ke)return e;if(e!=null){if(n0(e))return qZ(e);if(Du(e))return WZ(e);if(t0(e))return GZ(e);if(r0(e))return rE(e);if(s0(e))return YZ(e);if(l0(e))return ZZ(e)}throw i0(e)}function qZ(e){return new Ke(t=>{let r=e[yu]();if($e(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WZ(e){return new Ke(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function GZ(e){return new Ke(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,Gg)})}function YZ(e){return new Ke(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function rE(e){return new Ke(t=>{QZ(e,t).catch(r=>t.error(r))})}function ZZ(e){return rE(a0(e))}function QZ(e,t){var r,n,i,o;return eE(this,void 0,void 0,function*(){try{for(r=nE(e);n=yield r.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}t.complete()})}function Qr(e,t,r,n=0,i=!1){let o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function Vl(e,t=0){return qe((r,n)=>{r.subscribe(Fe(n,i=>Qr(n,e,()=>n.next(i),t),()=>Qr(n,e,()=>n.complete(),t),i=>Qr(n,e,()=>n.error(i),t)))})}function c0(e,t=0){return qe((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function iE(e,t){return Ot(e).pipe(c0(t),Vl(t))}function oE(e,t){return Ot(e).pipe(c0(t),Vl(t))}function sE(e,t){return new Ke(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function aE(e,t){return new Ke(r=>{let n;return Qr(r,t,()=>{n=e[o0](),Qr(r,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>$e(n?.return)&&n.return()})}function u0(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ke(r=>{Qr(r,t,()=>{let n=e[Symbol.asyncIterator]();Qr(r,t,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function lE(e,t){return u0(a0(e),t)}function cE(e,t){if(e!=null){if(n0(e))return iE(e,t);if(Du(e))return sE(e,t);if(t0(e))return oE(e,t);if(r0(e))return u0(e,t);if(s0(e))return aE(e,t);if(l0(e))return lE(e,t)}throw i0(e)}function cn(e,t){return t?cE(e,t):Ot(e)}function Pe(...e){let t=No(e);return cn(e,t)}function ba(e,t){let r=$e(e)?e:()=>e,n=i=>i.error(r());return new Ke(t?i=>t.schedule(n,0,i):n)}var wa=class e{constructor(t,r,n){this.kind=t,this.value=r,this.error=n,this.hasValue=t==="N"}observe(t){return lw(this,t)}do(t,r,n){let{kind:i,value:o,error:s}=this;return i==="N"?t?.(o):i==="E"?r?.(s):n?.()}accept(t,r,n){var i;return $e((i=t)===null||i===void 0?void 0:i.next)?this.observe(t):this.do(t,r,n)}toObservable(){let{kind:t,value:r,error:n}=this,i=t==="N"?Pe(r):t==="E"?ba(()=>n):t==="C"?br:0;if(!i)throw new TypeError(`Unexpected notification kind ${t}`);return i}static createNext(t){return new e("N",t)}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}};wa.completeNotification=new wa("C");function lw(e,t){var r,n,i;let{kind:o,value:s,error:a}=e;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(r=t.next)===null||r===void 0||r.call(t,s):o==="E"?(n=t.error)===null||n===void 0||n.call(t,a):(i=t.complete)===null||i===void 0||i.call(t)}function cw(e){return!!e&&(e instanceof Ke||$e(e.lift)&&$e(e.subscribe))}var io=pu(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function uw(e,t){let r=typeof t=="object";return new Promise((n,i)=>{let o=new ro({next:s=>{n(s),o.unsubscribe()},error:i,complete:()=>{r?n(t.defaultValue):i(new io)}});e.subscribe(o)})}function uE(e){return e instanceof Date&&!isNaN(e)}function ve(e,t){return qe((r,n)=>{let i=0;r.subscribe(Fe(n,o=>{n.next(e.call(t,o,i++))}))})}var{isArray:XZ}=Array;function KZ(e,t){return XZ(t)?e(...t):e(t)}function Su(e){return ve(t=>KZ(e,t))}var{isArray:JZ}=Array,{getPrototypeOf:eQ,prototype:tQ,keys:nQ}=Object;function d0(e){if(e.length===1){let t=e[0];if(JZ(t))return{args:t,keys:null};if(rQ(t)){let r=nQ(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}function rQ(e){return e&&typeof e=="object"&&eQ(e)===tQ}function f0(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}function mh(...e){let t=No(e),r=Cu(e),{args:n,keys:i}=d0(e);if(n.length===0)return cn([],t);let o=new Ke(iQ(n,t,i?s=>f0(i,s):pr));return r?o.pipe(Su(r)):o}function iQ(e,t,r=pr){return n=>{dE(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)dE(t,()=>{let c=cn(e[l],t),u=!1;c.subscribe(Fe(n,d=>{o[l]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function dE(e,t,r){e?Qr(r,e,t):t()}function fE(e,t,r,n,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=y=>c<n?m(y):l.push(y),m=y=>{o&&t.next(y),c++;let g=!1;Ot(r(y,u++)).subscribe(Fe(t,x=>{i?.(x),o?h(x):t.next(x)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<n;){let x=l.shift();s?Qr(t,s,()=>m(x)):m(x)}f()}catch(x){t.error(x)}}))};return e.subscribe(Fe(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Gt(e,t,r=1/0){return $e(t)?Gt((n,i)=>ve((o,s)=>t(n,o,i,s))(Ot(e(n,i))),r):(typeof t=="number"&&(r=t),qe((n,i)=>fE(n,i,e,r)))}function _a(e=1/0){return Gt(pr,e)}function hE(){return _a(1)}function Mu(...e){return hE()(cn(e,No(e)))}function gh(e){return new Ke(t=>{Ot(e()).subscribe(t)})}function dw(...e){let t=Cu(e),{args:r,keys:n}=d0(e),i=new Ke(o=>{let{length:s}=r;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;Ot(r[u]).subscribe(Fe(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(n?f0(n,a):a),o.complete())}))}});return t?i.pipe(Su(t)):i}var oQ=["addListener","removeListener"],sQ=["addEventListener","removeEventListener"],aQ=["on","off"];function Ps(e,t,r,n){if($e(r)&&(n=r,r=void 0),n)return Ps(e,t,r).pipe(Su(n));let[i,o]=uQ(e)?sQ.map(s=>a=>e[s](t,a,r)):lQ(e)?oQ.map(pE(e,t)):cQ(e)?aQ.map(pE(e,t)):[];if(!i&&Du(e))return Gt(s=>Ps(s,t,r))(Ot(e));if(!i)throw new TypeError("Invalid event target");return new Ke(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function pE(e,t){return r=>n=>e[r](t,n)}function lQ(e){return $e(e.addListener)&&$e(e.removeListener)}function cQ(e){return $e(e.on)&&$e(e.off)}function uQ(e){return $e(e.addEventListener)&&$e(e.removeEventListener)}function mE(e=0,t,r=X7){let n=-1;return t!=null&&(e0(t)?r=t:n=t),new Ke(i=>{let o=uE(e)?+e-r.now():e;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function fw(e=0,t=ph){return e<0&&(e=0),mE(e,e,t)}function Eu(...e){let t=No(e),r=K7(e,1/0),n=e;return n.length?n.length===1?Ot(n[0]):_a(r)(cn(n,t)):br}function Vn(e,t){return qe((r,n)=>{let i=0;r.subscribe(Fe(n,o=>e.call(t,o,i++)&&n.next(o)))})}function On(e){return qe((t,r)=>{let n=null,i=!1,o;n=t.subscribe(Fe(r,void 0,void 0,s=>{o=Ot(e(s,On(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function gE(e,t,r,n,i){return(o,s)=>{let a=r,l=t,c=0;o.subscribe(Fe(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),n&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Ro(e,t){return $e(t)?Gt(e,t,1):Gt(e,1)}function Ns(e,t=ph){return qe((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let c=o;o=null,n.next(c)}};function l(){let c=s+e,u=t.now();if(u<c){i=this.schedule(void 0,c-u),n.add(i);return}a()}r.subscribe(Fe(n,c=>{o=c,s=t.now(),i||(i=t.schedule(l,e),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function Ca(e){return qe((t,r)=>{let n=!1;t.subscribe(Fe(r,i=>{n=!0,r.next(i)},()=>{n||r.next(e),r.complete()}))})}function oo(e){return e<=0?()=>br:qe((t,r)=>{let n=0;t.subscribe(Fe(r,i=>{++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function hw(){return qe((e,t)=>{e.subscribe(Fe(t,Os))})}function pw(e){return ve(()=>e)}function mw(){return qe((e,t)=>{e.subscribe(Fe(t,r=>lw(r,t)))})}function so(e,t=pr){return e=e??dQ,qe((r,n)=>{let i,o=!0;r.subscribe(Fe(n,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,n.next(s))}))})}function dQ(e,t){return e===t}function h0(e=fQ){return qe((t,r)=>{let n=!1;t.subscribe(Fe(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(e())))})}function fQ(){return new io}function p0(e,t){return t?r=>r.pipe(p0((n,i)=>Ot(e(n,i)).pipe(ve((o,s)=>t(n,o,i,s))))):qe((r,n)=>{let i=0,o=null,s=!1;r.subscribe(Fe(n,a=>{o||(o=Fe(n,void 0,()=>{o=null,s&&n.complete()}),Ot(e(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function Rs(e){return qe((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function Fo(e,t){let r=arguments.length>=2;return n=>n.pipe(e?Vn((i,o)=>e(i,o,n)):pr,oo(1),r?Ca(t):h0(()=>new io))}function m0(e,t,r,n){return qe((i,o)=>{let s;!t||typeof t=="function"?s=t:{duration:r,element:s,connector:n}=t;let a=new Map,l=m=>{a.forEach(m),m(o)},c=m=>l(y=>y.error(m)),u=0,d=!1,f=new dh(o,m=>{try{let y=e(m),g=a.get(y);if(!g){a.set(y,g=n?n():new zt);let x=h(y,g);if(o.next(x),r){let C=Fe(g,()=>{g.complete(),C?.unsubscribe()},void 0,void 0,()=>a.delete(y));f.add(Ot(r(x)).subscribe(C))}}g.next(s?s(m):m)}catch(y){c(y)}},()=>l(m=>m.complete()),c,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(f);function h(m,y){let g=new Ke(x=>{u++;let C=y.subscribe(x);return()=>{C.unsubscribe(),--u===0&&d&&f.unsubscribe()}});return g.key=m,g}})}function Tu(e){return e<=0?()=>br:qe((t,r)=>{let n=[];t.subscribe(Fe(r,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function gw(e,t){let r=arguments.length>=2;return n=>n.pipe(e?Vn((i,o)=>e(i,o,n)):pr,Tu(1),r?Ca(t):h0(()=>new io))}function yw(){return qe((e,t)=>{e.subscribe(Fe(t,r=>{t.next(wa.createNext(r))},()=>{t.next(wa.createComplete()),t.complete()},r=>{t.next(wa.createError(r)),t.complete()}))})}function vw(...e){let t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return ve(r=>{let n=r;for(let i=0;i<t;i++){let o=n?.[e[i]];if(typeof o<"u")n=o;else return}return n})}function yh(e,t){return qe(gE(e,t,arguments.length>=2,!0))}function ku(e={}){let{connector:t=()=>new zt,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},m=()=>{let y=s;h(),y?.unsubscribe()};return qe((y,g)=>{c++,!d&&!u&&f();let x=l=l??t();g.add(()=>{c--,c===0&&!d&&!u&&(a=xw(m,i))}),x.subscribe(g),!s&&c>0&&(s=new ro({next:C=>x.next(C),error:C=>{d=!0,f(),a=xw(h,r,C),x.error(C)},complete:()=>{u=!0,f(),a=xw(h,n),x.complete()}}),Ot(y).subscribe(s))})(o)}}function xw(e,t,...r){if(t===!0){e();return}if(t===!1)return;let n=new ro({next:()=>{n.unsubscribe(),e()}});return Ot(t(...r)).subscribe(n)}function bw(e,t,r){let n,i=!1;return e&&typeof e=="object"?{bufferSize:n=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:r}=e:n=e??1/0,ku({connector:()=>new Qg(n,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function ww(...e){let t=No(e);return qe((r,n)=>{(t?Mu(e,r,t):Mu(e,r)).subscribe(n)})}function wr(e,t){return qe((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(Fe(n,l=>{i?.unsubscribe();let c=0,u=o++;Ot(e(l,u)).subscribe(i=Fe(n,d=>n.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function vh(e){return qe((t,r)=>{Ot(e).subscribe(Fe(r,()=>r.complete(),Os)),!r.closed&&t.subscribe(r)})}function Qn(e,t,r){let n=$e(e)||t||r?{next:e,error:t,complete:r}:e;return n?qe((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(Fe(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):pr}function _w(...e){let t=Cu(e);return qe((r,n)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)Ot(e[l]).subscribe(Fe(n,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(pr))&&(s=null))},Os));r.subscribe(Fe(n,l=>{if(a){let c=[l,...o];n.next(t?t(...c):c)}}))})}function un(e){for(let t in e)if(e[t]===un)return t;throw Error("Could not find renamed property on target object.")}function g0(e,t){for(let r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function _r(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(_r).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function Vw(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var hQ=un({__forward_ref__:un});function ho(e){return e.__forward_ref__=ho,e.toString=function(){return _r(this())},e}function Fr(e){return o9(e)?e():e}function o9(e){return typeof e=="function"&&e.hasOwnProperty(hQ)&&e.__forward_ref__===ho}function s9(e){return e&&!!e.\u0275providers}var a9="https://g.co/ng/security#xss",ce=class extends Error{constructor(t,r){super(K0(t,r)),this.code=t}};function K0(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var pQ=un({\u0275cmp:un}),mQ=un({\u0275dir:un}),gQ=un({\u0275pipe:un}),yQ=un({\u0275mod:un}),I0=un({\u0275fac:un}),xh=un({__NG_ELEMENT_ID__:un}),yE=un({__NG_ENV_ID__:un});function $l(e){return typeof e=="string"?e:e==null?"":String(e)}function vQ(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():$l(e)}function xQ(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ce(-200,`Circular dependency in DI detected for ${e}${r}`)}function F_(e,t){let r=t?` in ${t}`:"";throw new ce(-201,!1)}function bQ(e,t){e==null&&wQ(t,e,null,"!=")}function wQ(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(n==null?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function J0(e){return vE(e,c9)||vE(e,u9)}function l9(e){return J0(e)!==null}function vE(e,t){return e.hasOwnProperty(t)?e[t]:null}function _Q(e){let t=e&&(e[c9]||e[u9]);return t||null}function xE(e){return e&&(e.hasOwnProperty(bE)||e.hasOwnProperty(CQ))?e[bE]:null}var c9=un({\u0275prov:un}),bE=un({\u0275inj:un}),u9=un({ngInjectableDef:un}),CQ=un({ngInjectorDef:un}),vt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(vt||{}),jw;function d9(){return jw}function Xr(e){let t=jw;return jw=e,t}function f9(e,t,r){let n=J0(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&vt.Optional)return null;if(t!==void 0)return t;F_(_r(e),"Injector")}var jn=globalThis;var ae=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=ue({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var DQ={},wh=DQ,zw="__NG_DI_FLAG__",A0="ngTempTokenPath",SQ="ngTokenPath",MQ=/\n/gm,EQ="\u0275",wE="__source",Nu;function TQ(){return Nu}function Da(e){let t=Nu;return Nu=e,t}function kQ(e,t=vt.Default){if(Nu===void 0)throw new ce(-203,!1);return Nu===null?f9(e,void 0,t):Nu.get(e,t&vt.Optional?null:void 0,t)}function re(e,t=vt.Default){return(d9()||kQ)(Fr(e),t)}function he(e,t=vt.Default){return re(e,e1(t))}function e1(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $w(e){let t=[];for(let r=0;r<e.length;r++){let n=Fr(e[r]);if(Array.isArray(n)){if(n.length===0)throw new ce(900,!1);let i,o=vt.Default;for(let s=0;s<n.length;s++){let a=n[s],l=IQ(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(re(i,o))}else t.push(re(n))}return t}function L_(e,t){return e[zw]=t,e.prototype[zw]=t,e}function IQ(e){return e[zw]}function AQ(e,t,r,n){let i=e[A0];throw t[wE]&&i.unshift(t[wE]),e.message=OQ(`
`+e.message,i,r,n),e[SQ]=i,e[A0]=null,e}function OQ(e,t,r,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==EQ?e.slice(2):e;let i=_r(t);if(Array.isArray(t))i=t.map(_r).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):_r(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(MQ,`
  `)}`}function Th(e){return{toString:e}.toString()}var h9=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(h9||{}),zo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(zo||{}),Fu={},Kr=[];function p9(e,t,r){let n=e.length;for(;;){let i=e.indexOf(t,r);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}r=i+1}}function Bw(e,t,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];e.setAttribute(t,s,a,o)}else{let o=i,s=r[++n];PQ(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),n++}}return n}function m9(e){return e===3||e===4||e===6}function PQ(e){return e.charCodeAt(0)===64}function _h(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?_E(e,r,i,null,t[++n]):_E(e,r,i,null,null))}}return e}function _E(e,t,r,n,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(e[o+1]=i);return}else if(n===e[o+1]){e[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,r),n!==null&&e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}var g9="ng-template";function NQ(e,t,r){let n=0,i=!0;for(;n<e.length;){let o=e[n++];if(typeof o=="string"&&i){let s=e[n++];if(r&&o==="class"&&p9(s.toLowerCase(),t,0)!==-1)return!0}else if(o===1){for(;n<e.length&&typeof(o=e[n++])=="string";)if(o.toLowerCase()===t)return!0;return!1}else typeof o=="number"&&(i=!1)}return!1}function y9(e){return e.type===4&&e.value!==g9}function RQ(e,t,r){let n=e.type===4&&!r?g9:e.value;return t===n}function FQ(e,t,r){let n=4,i=e.attrs||[],o=jQ(i),s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!ao(n)&&!ao(l))return!1;if(s&&ao(l))continue;s=!1,n=l|n&1;continue}if(!s)if(n&4){if(n=2|n&1,l!==""&&!RQ(e,l,r)||l===""&&t.length===1){if(ao(n))return!1;s=!0}}else{let c=n&8?l:t[++a];if(n&8&&e.attrs!==null){if(!NQ(e.attrs,c,r)){if(ao(n))return!1;s=!0}continue}let u=n&8?"class":l,d=LQ(u,i,y9(e),r);if(d===-1){if(ao(n))return!1;s=!0;continue}if(c!==""){let f;d>o?f="":f=i[d+1].toLowerCase();let h=n&8?f:null;if(h&&p9(h,c,0)!==-1||n&2&&c!==f){if(ao(n))return!1;s=!0}}}}return ao(n)||s}function ao(e){return(e&1)===0}function LQ(e,t,r,n){if(t===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zQ(t,e)}function v9(e,t,r=!1){for(let n=0;n<t.length;n++)if(FQ(e,t[n],r))return!0;return!1}function VQ(e){let t=e.attrs;if(t!=null){let r=t.indexOf(5);if(!(r&1))return t[r+1]}return null}function jQ(e){for(let t=0;t<e.length;t++){let r=e[t];if(m9(r))return t}return e.length}function zQ(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let n=e[r];if(typeof n=="number")return-1;if(n===t)return r;r++}return-1}function $Q(e,t){e:for(let r=0;r<t.length;r++){let n=t[r];if(e.length===n.length){for(let i=0;i<e.length;i++)if(e[i]!==n[i])continue e;return!0}}return!1}function CE(e,t){return e?":not("+t.trim()+")":t}function BQ(e){let t=e[0],r=1,n=2,i="",o=!1;for(;r<e.length;){let s=e[r];if(typeof s=="string")if(n&2){let a=e[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!ao(s)&&(t+=CE(o,i),i=""),n=s,o=o||!ao(n);r++}return i!==""&&(t+=CE(o,i)),t}function UQ(e){return e.map(BQ).join(",")}function HQ(e){let t=[],r=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++n]):i===8&&r.push(o);else{if(!ao(i))break;i=o}n++}return{attrs:t,classes:r}}function le(e){return Th(()=>{let t=C9(e),r=Se(ne({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===h9.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||zo.Emulated,styles:e.styles||Kr,_:null,schemas:e.schemas||null,tView:null,id:""});D9(r);let n=e.dependencies;return r.directiveDefs=SE(n,!1),r.pipeDefs=SE(n,!0),r.id=GQ(r),r})}function qQ(e){return Ea(e)||x9(e)}function WQ(e){return e!==null}function nn(e){return Th(()=>({type:e.type,bootstrap:e.bootstrap||Kr,declarations:e.declarations||Kr,imports:e.imports||Kr,exports:e.exports||Kr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function DE(e,t){if(e==null)return Fu;let r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,t&&(t[i]=o)}return r}function hn(e){return Th(()=>{let t=C9(e);return D9(t),t})}function V_(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ea(e){return e[pQ]||null}function x9(e){return e[mQ]||null}function b9(e){return e[gQ]||null}function w9(e){let t=Ea(e)||x9(e)||b9(e);return t!==null?t.standalone:!1}function _9(e,t){let r=e[yQ]||null;if(!r&&t===!0)throw new Error(`Type ${_r(e)} does not have '\u0275mod' property.`);return r}function C9(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Fu,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Kr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:DE(e.inputs,t),outputs:DE(e.outputs),debugInfo:null}}function D9(e){e.features?.forEach(t=>t(e))}function SE(e,t){if(!e)return null;let r=t?b9:qQ;return()=>(typeof e=="function"?e():e).map(n=>r(n)).filter(WQ)}function GQ(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483647+1,"c"+t}var Fs=0,pt=1,rt=2,Wn=3,co=4,bi=5,O0=6,Ch=7,Pi=8,Lu=9,Vu=10,Pn=11,Dh=12,ME=13,qu=14,uo=15,kh=16,Iu=17,jo=18,t1=19,S9=20,Sa=21,Cw=22,Bl=23,Jr=25,M9=1;var Ul=7,P0=8,ju=9,xi=10,zu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e[e.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",e}(zu||{});function Ma(e){return Array.isArray(e)&&typeof e[M9]=="object"}function fo(e){return Array.isArray(e)&&e[M9]===!0}function j_(e){return(e.flags&4)!==0}function n1(e){return e.componentOffset>-1}function r1(e){return(e.flags&1)===1}function Ta(e){return!!e.template}function YQ(e){return(e[rt]&512)!==0}function Hl(e,t){let r=e.hasOwnProperty(I0);return r?e[I0]:null}var Uw=class{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function wn(){return E9}function E9(e){return e.type.prototype.ngOnChanges&&(e.setInput=QQ),ZQ}wn.ngInherit=!0;function ZQ(){let e=k9(this),t=e?.current;if(t){let r=e.previous;if(r===Fu)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function QQ(e,t,r,n){let i=this.declaredInputs[r],o=k9(e)||XQ(e,{previous:Fu,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new Uw(l&&l.currentValue,t,a===Fu),e[n]=t}var T9="__ngSimpleChanges__";function k9(e){return e[T9]||null}function XQ(e,t){return e[T9]=t}var EE=null;var Lo=function(e,t,r){EE?.(e,t,r)},I9="svg",KQ="math";function $o(e){for(;Array.isArray(e);)e=e[Fs];return e}function A9(e,t){return $o(t[e])}function Ri(e,t){return $o(t[e.index])}function O9(e,t){return e.data[t]}function z_(e,t){return e[t]}function Oa(e,t){let r=t[e];return Ma(r)?r:r[Fs]}function JQ(e){return(e[rt]&4)===4}function $_(e){return(e[rt]&128)===128}function eX(e){return fo(e[Wn])}function $u(e,t){return t==null?null:e[t]}function P9(e){e[Iu]=0}function tX(e){e[rt]&1024||(e[rt]|=1024,$_(e)&&i1(e))}function nX(e,t){for(;e>0;)t=t[qu],e--;return t}function N9(e){e[rt]&9216&&i1(e)}function i1(e){let t=e[Wn];for(;t!==null&&!(fo(t)&&t[rt]&zu.HasChildViewsToRefresh||Ma(t)&&t[rt]&8192);){if(fo(t))t[rt]|=zu.HasChildViewsToRefresh;else if(t[rt]|=8192,!$_(t))break;t=t[Wn]}}function R9(e,t){if((e[rt]&256)===256)throw new ce(911,!1);e[Sa]===null&&(e[Sa]=[]),e[Sa].push(t)}function rX(e,t){if(e[Sa]===null)return;let r=e[Sa].indexOf(t);r!==-1&&e[Sa].splice(r,1)}var dt={lFrame:B9(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iX(){return dt.lFrame.elementDepthCount}function oX(){dt.lFrame.elementDepthCount++}function sX(){dt.lFrame.elementDepthCount--}function F9(){return dt.bindingsEnabled}function L9(){return dt.skipHydrationRootTNode!==null}function aX(e){return dt.skipHydrationRootTNode===e}function lX(){dt.skipHydrationRootTNode=null}function xt(){return dt.lFrame.lView}function Xn(){return dt.lFrame.tView}function lt(e){return dt.lFrame.contextLView=e,e[Pi]}function ct(e){return dt.lFrame.contextLView=null,e}function ei(){let e=V9();for(;e!==null&&e.type===64;)e=e.parent;return e}function V9(){return dt.lFrame.currentTNode}function cX(){let e=dt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Jl(e,t){let r=dt.lFrame;r.currentTNode=e,r.isParent=t}function B_(){return dt.lFrame.isParent}function U_(){dt.lFrame.isParent=!1}function uX(){return dt.lFrame.contextLView}function o1(){let e=dt.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function dX(){return dt.lFrame.bindingIndex}function fX(e){return dt.lFrame.bindingIndex=e}function H_(){return dt.lFrame.bindingIndex++}function q_(e){let t=dt.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function hX(){return dt.lFrame.inI18n}function pX(e,t){let r=dt.lFrame;r.bindingIndex=r.bindingRootIndex=e,Hw(t)}function mX(){return dt.lFrame.currentDirectiveIndex}function Hw(e){dt.lFrame.currentDirectiveIndex=e}function gX(e){let t=dt.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function j9(){return dt.lFrame.currentQueryIndex}function W_(e){dt.lFrame.currentQueryIndex=e}function yX(e){let t=e[pt];return t.type===2?t.declTNode:t.type===1?e[bi]:null}function z9(e,t,r){if(r&vt.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(r&vt.Host);)if(i=yX(o),i===null||(o=o[qu],i.type&10))break;if(i===null)return!1;t=i,e=o}let n=dt.lFrame=$9();return n.currentTNode=t,n.lView=e,!0}function G_(e){let t=$9(),r=e[pt];dt.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function $9(){let e=dt.lFrame,t=e===null?null:e.child;return t===null?B9(e):t}function B9(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function U9(){let e=dt.lFrame;return dt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var H9=U9;function Y_(){let e=U9();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vX(e){return(dt.lFrame.contextLView=nX(e,dt.lFrame.contextLView))[Pi]}function Pa(){return dt.lFrame.selectedIndex}function ql(e){dt.lFrame.selectedIndex=e}function Z_(){let e=dt.lFrame;return O9(e.tView,e.selectedIndex)}function Ft(){dt.lFrame.currentNamespace=I9}function zn(){xX()}function xX(){dt.lFrame.currentNamespace=null}function bX(){return dt.lFrame.currentNamespace}var q9=!0;function s1(){return q9}function a1(e){q9=e}function wX(e,t,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){let s=E9(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}i&&(r.preOrderHooks??=[]).push(0-e,i),o&&((r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o))}function l1(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){let o=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-r,s),a&&((e.contentHooks??=[]).push(r,a),(e.contentCheckHooks??=[]).push(r,a)),l&&(e.viewHooks??=[]).push(-r,l),c&&((e.viewHooks??=[]).push(r,c),(e.viewCheckHooks??=[]).push(r,c)),u!=null&&(e.destroyHooks??=[]).push(r,u)}}function D0(e,t,r){W9(e,t,3,r)}function S0(e,t,r,n){(e[rt]&3)===r&&W9(e,t,r,n)}function Dw(e,t){let r=e[rt];(r&3)===t&&(r&=16383,r+=1,e[rt]=r)}function W9(e,t,r,n){let i=n!==void 0?e[Iu]&65535:0,o=n??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],n!=null&&a>=n)break}else t[l]<0&&(e[Iu]+=65536),(a<o||o==-1)&&(_X(e,r,t,l),e[Iu]=(e[Iu]&4294901760)+l+2),l++}function TE(e,t){Lo(4,e,t);let r=vi(null);try{t.call(e)}finally{vi(r),Lo(5,e,t)}}function _X(e,t,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=e[s];i?e[rt]>>14<e[Iu]>>16&&(e[rt]&3)===t&&(e[rt]+=16384,TE(a,o)):TE(a,o)}var Ru=-1,Wl=class{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function CX(e){return e instanceof Wl}function DX(e){return(e.flags&8)!==0}function SX(e){return(e.flags&16)!==0}function G9(e){return e!==Ru}function N0(e){let t=e&32767;return e&32767}function MX(e){return e>>16}function R0(e,t){let r=MX(e),n=t;for(;r>0;)n=n[qu],r--;return n}var qw=!0;function F0(e){let t=qw;return qw=e,t}var EX=256,Y9=EX-1,Z9=5,TX=0,Vo={};function kX(e,t,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(xh)&&(n=r[xh]),n==null&&(n=r[xh]=TX++);let i=n&Y9,o=1<<i;t.data[e+(i>>Z9)]|=o}function L0(e,t){let r=Q9(e,t);if(r!==-1)return r;let n=t[pt];n.firstCreatePass&&(e.injectorIndex=t.length,Sw(n.data,e),Sw(t,null),Sw(n.blueprint,null));let i=Q_(e,t),o=e.injectorIndex;if(G9(i)){let s=N0(i),a=R0(i,t),l=a[pt].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Sw(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Q9(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Q_(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;i!==null;){if(n=tT(i),n===null)return Ru;if(r++,i=i[qu],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Ru}function Ww(e,t,r){kX(e,t,r)}function IX(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let r=e.attrs;if(r){let n=r.length,i=0;for(;i<n;){let o=r[i];if(m9(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<n&&typeof r[i]=="string";)i++;else{if(o===t)return r[i+1];i=i+2}}}return null}function X9(e,t,r){if(r&vt.Optional||e!==void 0)return e;F_(t,"NodeInjector")}function K9(e,t,r,n){if(r&vt.Optional&&n===void 0&&(n=null),!(r&(vt.Self|vt.Host))){let i=e[Lu],o=Xr(void 0);try{return i?i.get(t,n,r&vt.Optional):f9(t,n,r&vt.Optional)}finally{Xr(o)}}return X9(n,t,r)}function J9(e,t,r,n=vt.Default,i){if(e!==null){if(t[rt]&2048&&!(n&vt.Self)){let s=NX(e,t,r,n,Vo);if(s!==Vo)return s}let o=eT(e,t,r,n,Vo);if(o!==Vo)return o}return K9(t,r,n,i)}function eT(e,t,r,n,i){let o=OX(r);if(typeof o=="function"){if(!z9(t,e,n))return n&vt.Host?X9(i,r,n):K9(t,r,n,i);try{let s;if(s=o(n),s==null&&!(n&vt.Optional))F_(r);else return s}finally{H9()}}else if(typeof o=="number"){let s=null,a=Q9(e,t),l=Ru,c=n&vt.Host?t[uo][bi]:null;for((a===-1||n&vt.SkipSelf)&&(l=a===-1?Q_(e,t):t[a+8],l===Ru||!IE(n,!1)?a=-1:(s=t[pt],a=N0(l),t=R0(l,t)));a!==-1;){let u=t[pt];if(kE(o,a,u.data)){let d=AX(a,t,r,s,n,c);if(d!==Vo)return d}l=t[a+8],l!==Ru&&IE(n,t[pt].data[a+8]===c)&&kE(o,a,t)?(s=u,a=N0(l),t=R0(l,t)):a=-1}}return i}function AX(e,t,r,n,i,o){let s=t[pt],a=s.data[e+8],l=n==null?n1(a)&&qw:n!=s&&(a.type&3)!==0,c=i&vt.Host&&o===a,u=M0(a,s,r,l,c);return u!==null?Gl(t,s,u,a):Vo}function M0(e,t,r,n,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=n?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let m=s[h];if(h<l&&r===m||h>=l&&m.type===r)return h}if(i){let h=s[l];if(h&&Ta(h)&&h.type===r)return l}return null}function Gl(e,t,r,n){let i=e[r],o=t.data;if(CX(i)){let s=i;s.resolving&&xQ(vQ(o[r]));let a=F0(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Xr(s.injectImpl):null,u=z9(e,n,vt.Default);try{i=e[r]=s.factory(void 0,o,e,n),t.firstCreatePass&&r>=n.directiveStart&&wX(r,o[r],t)}finally{c!==null&&Xr(c),F0(a),s.resolving=!1,H9()}}return i}function OX(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(xh)?e[xh]:void 0;return typeof t=="number"?t>=0?t&Y9:PX:t}function kE(e,t,r){let n=1<<e;return!!(r[t+(e>>Z9)]&n)}function IE(e,t){return!(e&vt.Self)&&!(e&vt.Host&&t)}var zl=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return J9(this._tNode,this._lView,t,e1(n),r)}};function PX(){return new zl(ei(),xt())}function po(e){return Th(()=>{let t=e.prototype.constructor,r=t[I0]||Gw(t),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[I0]||Gw(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gw(e){return o9(e)?()=>{let t=Gw(Fr(e));return t&&t()}:Hl(e)}function NX(e,t,r,n,i){let o=e,s=t;for(;o!==null&&s!==null&&s[rt]&2048&&!(s[rt]&512);){let a=eT(o,s,r,n|vt.Self,Vo);if(a!==Vo)return a;let l=o.parent;if(!l){let c=s[S9];if(c){let u=c.get(r,Vo,n);if(u!==Vo)return u}l=tT(s),s=s[qu]}o=l}return i}function tT(e){let t=e[pt],r=t.type;return r===2?t.declTNode:r===1?e[bi]:null}function X_(e){return IX(ei(),e)}var y0="__parameters__";function RX(e){return function(...r){if(e){let n=e(...r);for(let i in n)this[i]=n[i]}}}function K_(e,t,r){return Th(()=>{let n=RX(t);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(y0)?l[y0]:Object.defineProperty(l,y0,{value:[]})[y0];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function FX(e){let t=jn.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function LX(e){return typeof e=="function"}function VX(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=t[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}function jX(e){return e.flat(Number.POSITIVE_INFINITY)}function J_(e,t){e.forEach(r=>Array.isArray(r)?J_(r,t):t(r))}function nT(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function V0(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function rT(e,t){let r=[];for(let n=0;n<e;n++)r.push(t);return r}function zX(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(i===1)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=r,e[t+1]=n}}function c1(e,t,r){let n=Ih(e,t);return n>=0?e[n|1]=r:(n=~n,zX(e,n,t,r)),n}function Mw(e,t){let r=Ih(e,t);if(r>=0)return e[r|1]}function Ih(e,t){return $X(e,t,1)}function $X(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<r];if(t===s)return o<<r;s>t?i=o:n=o+1}return~(i<<r)}var e4=L_(K_("Inject",e=>({token:e})),-1),Ah=L_(K_("Optional"),8);var u1=L_(K_("SkipSelf"),4);function BX(e){let t=[],r=new Map;function n(i){let o=r.get(i);if(!o){let s=e(i);r.set(i,o=s.then(WX))}return o}return j0.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(n(i.templateUrl).then(c=>{i.template=c}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let c=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(n(d).then(h=>{a[c+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(n(i.styleUrl).then(c=>{a.push(c),i.styleUrl=void 0}));let l=Promise.all(s).then(()=>GX(o));t.push(l)}),HX(),Promise.all(t).then(()=>{})}var j0=new Map,UX=new Set;function HX(){let e=j0;return j0=new Map,e}function qX(){return j0.size===0}function WX(e){return typeof e=="string"?e:e.text()}function GX(e){UX.delete(e)}var ec=new ae("ENVIRONMENT_INITIALIZER"),iT=new ae("INJECTOR",-1),oT=new ae("INJECTOR_DEF_TYPES"),z0=class{get(t,r=wh){if(r===wh){let n=new Error(`NullInjectorError: No provider for ${_r(t)}!`);throw n.name="NullInjectorError",n}return r}};function Wu(e){return{\u0275providers:e}}function YX(...e){return{\u0275providers:sT(!0,e),\u0275fromNgModule:!0}}function sT(e,...t){let r=[],n=new Set,i,o=s=>{r.push(s)};return J_(t,s=>{let a=s;Yw(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&aT(i,o),r}function aT(e,t){for(let r=0;r<e.length;r++){let{ngModule:n,providers:i}=e[r];t4(i,o=>{t(o,n)})}}function Yw(e,t,r,n){if(e=Fr(e),!e)return!1;let i=null,o=xE(e),s=!o&&Ea(e);if(!o&&!s){let l=e.ngModule;if(o=xE(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Yw(c,t,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let c;try{J_(o.imports,u=>{Yw(u,t,r,n)&&(c||=[],c.push(u))})}finally{}c!==void 0&&aT(c,t)}if(!a){let c=Hl(i)||(()=>new i);t({provide:i,useFactory:c,deps:Kr},i),t({provide:oT,useValue:i,multi:!0},i),t({provide:ec,useValue:()=>re(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;t4(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function t4(e,t){for(let r of e)s9(r)&&(r=r.\u0275providers),Array.isArray(r)?t4(r,t):t(r)}var ZX=un({provide:String,useValue:un});function lT(e){return e!==null&&typeof e=="object"&&ZX in e}function QX(e){return!!(e&&e.useExisting)}function XX(e){return!!(e&&e.useFactory)}function Bu(e){return typeof e=="function"}function KX(e){return!!e.useClass}var d1=new ae("Set Injector scope."),E0={},JX={},Ew;function n4(){return Ew===void 0&&(Ew=new z0),Ew}var Lr=class{},Sh=class extends Lr{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qw(t,s=>this.processProvider(s)),this.records.set(iT,Au(void 0,this)),i.has("environment")&&this.records.set(Lr,Au(void 0,this));let o=this.records.get(d1);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(oT,Kr,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=Da(this),n=Xr(void 0),i;try{return t()}finally{Da(r),Xr(n)}}get(t,r=wh,n=vt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(yE))return t[yE](this);n=e1(n);let i,o=Da(this),s=Xr(void 0);try{if(!(n&vt.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=iK(t)&&J0(t);c&&this.injectableDefInScope(c)?l=Au(Zw(t),E0):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=n&vt.Self?n4():this.parent;return r=n&vt.Optional&&r===wh?null:r,a.get(t,r)}catch(a){if(a.name==="NullInjectorError"){if((a[A0]=a[A0]||[]).unshift(_r(t)),o)throw a;return AQ(a,t,"R3InjectorError",this.source)}else throw a}finally{Xr(s),Da(o)}}resolveInjectorInitializers(){let t=Da(this),r=Xr(void 0),n;try{let i=this.get(ec,Kr,vt.Self);for(let o of i)o()}finally{Da(t),Xr(r)}}toString(){let t=[],r=this.records;for(let n of r.keys())t.push(_r(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(t){t=Fr(t);let r=Bu(t)?t:Fr(t&&t.provide),n=tK(t);if(!Bu(t)&&t.multi===!0){let i=this.records.get(r);i||(i=Au(void 0,E0,!0),i.factory=()=>$w(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}else{let i=this.records.get(r)}this.records.set(r,n)}hydrate(t,r){return r.value===E0&&(r.value=JX,r.value=r.factory()),typeof r.value=="object"&&r.value&&rK(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;let r=Fr(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Zw(e){let t=J0(e),r=t!==null?t.factory:Hl(e);if(r!==null)return r;if(e instanceof ae)throw new ce(204,!1);if(e instanceof Function)return eK(e);throw new ce(204,!1)}function eK(e){let t=e.length;if(t>0){let n=rT(t,"?");throw new ce(204,!1)}let r=_Q(e);return r!==null?()=>r.factory(e):()=>new e}function tK(e){if(lT(e))return Au(void 0,e.useValue);{let t=cT(e);return Au(t,E0)}}function cT(e,t,r){let n;if(Bu(e)){let i=Fr(e);return Hl(i)||Zw(i)}else if(lT(e))n=()=>Fr(e.useValue);else if(XX(e))n=()=>e.useFactory(...$w(e.deps||[]));else if(QX(e))n=()=>re(Fr(e.useExisting));else{let i=Fr(e&&(e.useClass||e.provide));if(nK(e))n=()=>new i(...$w(e.deps));else return Hl(i)||Zw(i)}return n}function Au(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function nK(e){return!!e.deps}function rK(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function iK(e){return typeof e=="function"||typeof e=="object"&&e instanceof ae}function Qw(e,t){for(let r of e)Array.isArray(r)?Qw(r,t):r&&s9(r)?Qw(r.\u0275providers,t):t(r)}function uT(e,t){e instanceof Sh&&e.assertNotDestroyed();let r,n=Da(e),i=Xr(void 0);try{return t()}finally{Da(n),Xr(i)}}function r4(e){if(!d9()&&!TQ())throw new ce(-203,!1)}function AE(e,t=null,r=null,n){let i=dT(e,t,r,n);return i.resolveInjectorInitializers(),i}function dT(e,t=null,r=null,n,i=new Set){let o=[r||Kr,YX(e)];return n=n||(typeof e=="object"?void 0:_r(e)),new Sh(o,t||n4(),n||null,i)}var ti=(()=>{let t=class t{static create(n,i){if(Array.isArray(n))return AE({name:""},i,n,"");{let o=n.name??"";return AE({name:o},n.parent,n.providers,o)}}};t.THROW_IF_NOT_FOUND=wh,t.NULL=new z0,t.\u0275prov=ue({token:t,providedIn:"any",factory:()=>re(iT)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var Xw;function fT(e){Xw=e}function hT(){if(Xw!==void 0)return Xw;if(typeof document<"u")return document;throw new ce(210,!1)}var f1=new ae("AppId",{providedIn:"root",factory:()=>oK}),oK="ng",i4=new ae("Platform Initializer"),Ls=new ae("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var o4=new ae("AnimationModuleType"),s4=new ae("CSP nonce",{providedIn:"root",factory:()=>hT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function pT(e){return e.ownerDocument}function mT(e){return e instanceof Function?e():e}function sK(e){return(e??he(ti)).get(Ls)==="browser"}function gT(e){return(e.flags&128)===128}var Bo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bo||{}),aK=/^>|^->|<!--|-->|--!>|<!-$/g,lK=/(<|>)/g,cK="\u200B$1\u200B";function uK(e){return e.replace(aK,t=>t.replace(lK,cK))}var yT=new Map,dK=0;function fK(){return dK++}function hK(e){yT.set(e[t1],e)}function pK(e){yT.delete(e[t1])}var OE="__ngContext__";function ka(e,t){Ma(t)?(e[OE]=t[t1],hK(t)):e[OE]=t}var mK;function a4(e,t){return mK(e,t)}function l4(e){let t=e[Wn];return fo(t)?t[Wn]:t}function vT(e){return bT(e[Dh])}function xT(e){return bT(e[co])}function bT(e){for(;e!==null&&!fo(e);)e=e[co];return e}function Ou(e,t,r,n,i){if(n!=null){let o,s=!1;fo(n)?o=n:Ma(n)&&(s=!0,n=n[Fs]);let a=$o(n);e===0&&r!==null?i==null?ST(t,r,a):$0(t,r,a,i||null,!0):e===1&&r!==null?$0(t,r,a,i||null,!0):e===2?OK(t,a,s):e===3&&t.destroyNode(a),o!=null&&NK(t,e,o,r,i)}}function gK(e,t){return e.createText(t)}function yK(e,t,r){e.setValue(t,r)}function vK(e,t){return e.createComment(uK(t))}function wT(e,t,r){return e.createElement(t,r)}function xK(e,t){let r=t[Pn];Oh(e,t,r,2,null,null),t[Fs]=null,t[bi]=null}function bK(e,t,r,n,i,o){n[Fs]=i,n[bi]=t,Oh(e,n,r,1,i,o)}function wK(e,t){Oh(e,t,t[Pn],2,null,null)}function _K(e){let t=e[Dh];if(!t)return Tw(e[pt],e);for(;t;){let r=null;if(Ma(t))r=t[Dh];else{let n=t[xi];n&&(r=n)}if(!r){for(;t&&!t[co]&&t!==e;)Ma(t)&&Tw(t[pt],t),t=t[Wn];t===null&&(t=e),Ma(t)&&Tw(t[pt],t),r=t&&t[co]}t=r}}function CK(e,t,r,n){let i=xi+n,o=r.length;n>0&&(r[i-1][co]=t),n<o-xi?(t[co]=r[i],nT(r,xi+n,t)):(r.push(t),t[co]=null),t[Wn]=r;let s=t[kh];s!==null&&r!==s&&DK(s,t);let a=t[jo];a!==null&&a.insertView(e),N9(t),t[rt]|=128}function DK(e,t){let r=e[ju],i=t[Wn][Wn][uo];t[uo]!==i&&(e[rt]|=zu.HasTransplantedViews),r===null?e[ju]=[t]:r.push(t)}function _T(e,t){let r=e[ju],n=r.indexOf(t),i=t[Wn];r.splice(n,1)}function Kw(e,t){if(e.length<=xi)return;let r=xi+t,n=e[r];if(n){let i=n[kh];i!==null&&i!==e&&_T(i,n),t>0&&(e[r-1][co]=n[co]);let o=V0(e,xi+t);xK(n[pt],n);let s=o[jo];s!==null&&s.detachView(o[pt]),n[Wn]=null,n[co]=null,n[rt]&=-129}return n}function CT(e,t){if(!(t[rt]&256)){let r=t[Pn];t[Bl]&&R7(t[Bl]),r.destroyNode&&Oh(e,t,r,3,null,null),_K(t)}}function Tw(e,t){if(!(t[rt]&256)){t[rt]&=-129,t[rt]|=256,MK(e,t),SK(e,t),t[pt].type===1&&t[Pn].destroy();let r=t[kh];if(r!==null&&fo(t[Wn])){r!==t[Wn]&&_T(r,t);let n=t[jo];n!==null&&n.detachView(e)}pK(t)}}function SK(e,t){let r=e.cleanup,n=t[Ch];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(t[Ch]=null);let i=t[Sa];if(i!==null){t[Sa]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function MK(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=t[r[n]];if(!(i instanceof Wl)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Lo(4,a,l);try{l.call(a)}finally{Lo(5,a,l)}}else{Lo(4,i,o);try{o.call(i)}finally{Lo(5,i,o)}}}}}function DT(e,t,r){return EK(e,t.parent,r)}function EK(e,t,r){let n=t;for(;n!==null&&n.type&40;)t=n,n=t.parent;if(n===null)return r[Fs];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=e.data[n.directiveStart+i];if(o===zo.None||o===zo.Emulated)return null}return Ri(n,r)}}function $0(e,t,r,n,i){e.insertBefore(t,r,n,i)}function ST(e,t,r){e.appendChild(t,r)}function PE(e,t,r,n,i){n!==null?$0(e,t,r,n,i):ST(e,t,r)}function TK(e,t,r,n){e.removeChild(t,r,n)}function c4(e,t){return e.parentNode(t)}function kK(e,t){return e.nextSibling(t)}function MT(e,t,r){return AK(e,t,r)}function IK(e,t,r){return e.type&40?Ri(e,r):null}var AK=IK,NE;function h1(e,t,r,n){let i=DT(e,n,t),o=t[Pn],s=n.parent||t[bi],a=MT(s,n,t);if(i!=null)if(Array.isArray(r))for(let l=0;l<r.length;l++)PE(o,i,r[l],a,!1);else PE(o,i,r,a,!1);NE!==void 0&&NE(o,n,t,r,i)}function T0(e,t){if(t!==null){let r=t.type;if(r&3)return Ri(t,e);if(r&4)return Jw(-1,e[t.index]);if(r&8){let n=t.child;if(n!==null)return T0(e,n);{let i=e[t.index];return fo(i)?Jw(-1,i):$o(i)}}else{if(r&32)return a4(t,e)()||$o(e[t.index]);{let n=ET(e,t);if(n!==null){if(Array.isArray(n))return n[0];let i=l4(e[uo]);return T0(i,n)}else return T0(e,t.next)}}}return null}function ET(e,t){if(t!==null){let n=e[uo][bi],i=t.projection;return n.projection[i]}return null}function Jw(e,t){let r=xi+e+1;if(r<t.length){let n=t[r],i=n[pt].firstChild;if(i!==null)return T0(n,i)}return t[Ul]}function OK(e,t,r){let n=c4(e,t);n&&TK(e,n,t,r)}function u4(e,t,r,n,i,o,s){for(;r!=null;){let a=n[r.index],l=r.type;if(s&&t===0&&(a&&ka($o(a),n),r.flags|=2),(r.flags&32)!==32)if(l&8)u4(e,t,r.child,n,i,o,!1),Ou(t,e,i,a,o);else if(l&32){let c=a4(r,n),u;for(;u=c();)Ou(t,e,i,u,o);Ou(t,e,i,a,o)}else l&16?TT(e,t,n,r,i,o):Ou(t,e,i,a,o);r=s?r.projectionNext:r.next}}function Oh(e,t,r,n,i,o){u4(r,n,e.firstChild,t,i,o,!1)}function PK(e,t,r){let n=t[Pn],i=DT(e,r,t),o=r.parent||t[bi],s=MT(o,r,t);TT(n,0,t,r,i,s)}function TT(e,t,r,n,i,o){let s=r[uo],l=s[bi].projection[n.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ou(t,e,i,u,o)}else{let c=l,u=s[Wn];gT(n)&&(c.flags|=128),u4(e,t,c,u,i,o,!0)}}function NK(e,t,r,n,i){let o=r[Ul],s=$o(r);o!==s&&Ou(t,e,n,o,i);for(let a=xi;a<r.length;a++){let l=r[a];Oh(l[pt],l,e,t,n,o)}}function RK(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:Bo.DashCase;i==null?e.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bo.Important),e.setStyle(r,n,i,o))}}function FK(e,t,r){e.setAttribute(t,"style",r)}function kT(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function IT(e,t,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&Bw(e,t,n),i!==null&&kT(e,t,i),o!==null&&FK(e,t,o)}var v0;function LK(){if(v0===void 0&&(v0=null,jn.trustedTypes))try{v0=jn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return v0}function p1(e){return LK()?.createHTML(e)||e}var x0;function AT(){if(x0===void 0&&(x0=null,jn.trustedTypes))try{x0=jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return x0}function RE(e){return AT()?.createHTML(e)||e}function FE(e){return AT()?.createScriptURL(e)||e}var B0=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${a9})`}};function tc(e){return e instanceof B0?e.changingThisBreaksApplicationSecurity:e}function m1(e,t){let r=VK(e);if(r!=null&&r!==t){if(r==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${a9})`)}return r===t}function VK(e){return e instanceof B0&&e.getTypeName()||null}function jK(e){let t=new t_(e);return zK()?new e_(t):t}var e_=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let r=new window.DOMParser().parseFromString(p1(t),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(t):(r.removeChild(r.firstChild),r)}catch{return null}}},t_=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let r=this.inertDocument.createElement("template");return r.innerHTML=p1(t),r}};function zK(){try{return!!new window.DOMParser().parseFromString(p1(""),"text/html")}catch{return!1}}var $K=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function d4(e){return e=String(e),e.match($K)?e:"unsafe:"+e}function Vs(e){let t={};for(let r of e.split(","))t[r]=!0;return t}function Ph(...e){let t={};for(let r of e)for(let n in r)r.hasOwnProperty(n)&&(t[n]=!0);return t}var OT=Vs("area,br,col,hr,img,wbr"),PT=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),NT=Vs("rp,rt"),BK=Ph(NT,PT),UK=Ph(PT,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),HK=Ph(NT,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),LE=Ph(OT,UK,HK,BK),RT=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),qK=Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WK=Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),GK=Ph(RT,qK,WK),YK=Vs("script,style,template"),n_=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let r=t.firstChild,n=!0;for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){r=r.firstChild;continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let i=this.checkClobberedElement(r,r.nextSibling);if(i){r=i;break}r=this.checkClobberedElement(r,r.parentNode)}}return this.buf.join("")}startElement(t){let r=t.nodeName.toLowerCase();if(!LE.hasOwnProperty(r))return this.sanitizedSomething=!0,!YK.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=t.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!GK.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;RT[a]&&(l=d4(l)),this.buf.push(" ",s,'="',VE(l),'"')}return this.buf.push(">"),!0}endElement(t){let r=t.nodeName.toLowerCase();LE.hasOwnProperty(r)&&!OT.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(t){this.buf.push(VE(t))}checkClobberedElement(t,r){if(r&&(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return r}},ZK=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QK=/([^\#-~ |!])/g;function VE(e){return e.replace(/&/g,"&amp;").replace(ZK,function(t){let r=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(QK,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var b0;function FT(e,t){let r=null;try{b0=b0||jK(e);let n=t?String(t):"";r=b0.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=b0.getInertBodyElement(n)}while(n!==o);let a=new n_().sanitizeChildren(jE(r)||r);return p1(a)}finally{if(r){let n=jE(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function jE(e){return"content"in e&&XK(e)?e.content:null}function XK(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Nh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Nh||{});function Rh(e){let t=f4();return t?RE(t.sanitize(Nh.HTML,e)||""):m1(e,"HTML")?RE(tc(e)):FT(hT(),$l(e))}function KK(e){let t=f4();return t?t.sanitize(Nh.URL,e)||"":m1(e,"URL")?tc(e):d4($l(e))}function JK(e){let t=f4();if(t)return FE(t.sanitize(Nh.RESOURCE_URL,e)||"");if(m1(e,"ResourceURL"))return FE(tc(e));throw new ce(904,!1)}function eJ(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?JK:KK}function LT(e,t,r){return eJ(t,r)(e)}function f4(){let e=xt();return e&&e[Vu].sanitizer}var tJ="h",nJ="b";var rJ=(e,t,r)=>null;function h4(e,t,r=!1){return rJ(e,t,r)}var r_=class{},U0=class{};function iJ(e){let t=Error(`No component factory found for ${_r(e)}.`);return t[oJ]=e,t}var oJ="ngComponent";var i_=class{resolveComponentFactory(t){throw iJ(t)}},g1=(()=>{let t=class t{};t.NULL=new i_;let e=t;return e})();function sJ(){return Gu(ei(),xt())}function Gu(e,t){return new Ye(Ri(e,t))}var Ye=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=sJ;let e=t;return e})();function aJ(e){return e instanceof Ye?e.nativeElement:e}var Yl=class{},ni=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>lJ();let e=t;return e})();function lJ(){let e=xt(),t=ei(),r=Oa(t.index,e);return(Ma(r)?r:e)[Pn]}var cJ=(()=>{let t=class t{};t.\u0275prov=ue({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),Zl=class{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}},uJ=new Zl("17.0.4"),kw={};function y1(e,t){let r=V7(e);return t?.equal&&(r[Pl].equal=t.equal),r}function p4(e,t){let r=B7(e),n=r[Pl];return t?.equal&&(n.equal=t.equal),r.set=i=>Xb(n,i),r.update=i=>U7(n,i),r.asReadonly=dJ.bind(r),r}function dJ(){let e=this[Pl];if(e.readonlyFn===void 0){let t=()=>this();t[Pl]=e,e.readonlyFn=t}return e.readonlyFn}function VT(e){return m4(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function fJ(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{let r=e[Symbol.iterator](),n;for(;!(n=r.next()).done;)t(n.value)}}function m4(e){return e!==null&&(typeof e=="function"||typeof e=="object")}var o_=class{constructor(){}supports(t){return VT(t)}create(t){return new s_(t)}},hJ=(e,t)=>t,s_=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||hJ}forEachItem(t){let r;for(r=this._itHead;r!==null;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){let s=!n||r&&r.currentIndex<zE(n,i,o)?r:n,a=zE(s,i,o),l=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(r=r._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;r!==null;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;r!==null;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;r!==null;r=r._nextIdentityChange)t(r)}diff(t){if(t==null&&(t=[]),!VT(t))throw new ce(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._itHead,n=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,o,s,a),n=!0):(n&&(r=this._verifyReinsertion(r,o,s,a)),Object.is(r.item,o)||this._addIdentityChange(r,o)),r=r._next}else i=0,fJ(t,a=>{s=this._trackByFn(i,a),r===null||!Object.is(r.trackById,s)?(r=this._mismatch(r,a,s,i),n=!0):(n&&(r=this._verifyReinsertion(r,a,s,i)),Object.is(r.item,a)||this._addIdentityChange(r,a)),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),t!==null?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(n,i),t!==null?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,i)):t=this._addAfter(new a_(r,n),o,i)),t}_verifyReinsertion(t,r,n,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let r=t._next;this._addToRemovals(this._unlink(t)),t=r}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){let i=r===null?this._itHead:r._next;return t._next=i,t._prev=r,i===null?this._itTail=t:i._prev=t,r===null?this._itHead=t:r._next=t,this._linkedRecords===null&&(this._linkedRecords=new H0),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let r=t._prev,n=t._next;return r===null?this._itHead=n:r._next=n,n===null?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new H0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},a_=class{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},l_=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;n!==null;n=n._nextDup)if((r===null||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){let r=t._prevDup,n=t._nextDup;return r===null?this._head=n:r._nextDup=n,n===null?this._tail=r:n._prevDup=r,this._head===null}},H0=class{constructor(){this.map=new Map}put(t){let r=t.trackById,n=this.map.get(r);n||(n=new l_,this.map.set(r,n)),n.add(t)}get(t,r){let n=t,i=this.map.get(n);return i?i.get(t,r):null}remove(t){let r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zE(e,t,r){let n=e.previousIndex;if(n===null)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+t+i}var c_=class{constructor(){}supports(t){return t instanceof Map||m4(t)}create(){return new u_}},u_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let r;for(r=this._mapHead;r!==null;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;r!==null;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;r!==null;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;r!==null;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;r!==null;r=r._nextRemoved)t(r)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||m4(t)))throw new ce(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{let o=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){let n=t._prev;return r._next=t,r._prev=n,t._prev=r,n&&(n._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,r);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let n=new d_(t);return this._records.set(t,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(n=>r(t[n],n))}},d_=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function $E(){return new v1([new o_])}var v1=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i!=null){let o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||$E()),deps:[[t,new u1,new Ah]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i!=null)return i;throw new ce(901,!1)}};t.\u0275prov=ue({token:t,providedIn:"root",factory:$E});let e=t;return e})();function BE(){return new Fh([new c_])}var Fh=(()=>{let t=class t{constructor(n){this.factories=n}static create(n,i){if(i){let o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||BE()),deps:[[t,new u1,new Ah]]}}find(n){let i=this.factories.find(o=>o.supports(n));if(i)return i;throw new ce(901,!1)}};t.\u0275prov=ue({token:t,providedIn:"root",factory:BE});let e=t;return e})();function q0(e,t,r,n,i=!1){for(;r!==null;){let o=t[r.index];o!==null&&n.push($o(o)),fo(o)&&pJ(o,n);let s=r.type;if(s&8)q0(e,t,r.child,n);else if(s&32){let a=a4(r,t),l;for(;l=a();)n.push(l)}else if(s&16){let a=ET(t,r);if(Array.isArray(a))n.push(...a);else{let l=l4(t[uo]);q0(l[pt],l,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function pJ(e,t){for(let r=xi;r<e.length;r++){let n=e[r],i=n[pt].firstChild;i!==null&&q0(n[pt],n,i,t)}e[Ul]!==e[Fs]&&t.push(e[Ul])}var jT=[];function mJ(e){return e[Bl]??gJ(e)}function gJ(e){let t=jT.pop()??Object.create(vJ);return t.lView=e,t}function yJ(e){e.lView[Bl]!==e&&(e.lView=null,jT.push(e))}var vJ=Se(ne({},Ug),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{i1(e.lView)},consumerOnSignalRead(){this.lView[Bl]=this}}),xJ="ngOriginalError";function Iw(e){return e[xJ]}var Ni=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Iw(t);for(;r&&Iw(r);)r=Iw(r);return r||null}};var zT=!1,bJ=new ae("",{providedIn:"root",factory:()=>zT});var wi={};function U(e){$T(Xn(),xt(),Pa()+e,!1)}function $T(e,t,r,n){if(!n)if((t[rt]&3)===3){let o=e.preOrderCheckHooks;o!==null&&D0(t,o,r)}else{let o=e.preOrderHooks;o!==null&&S0(t,o,0,r)}ql(r)}function X(e,t=vt.Default){let r=xt();if(r===null)return re(e,t);let n=ei();return J9(n,r,Fr(e),t)}function BT(){let e="invalid";throw new Error(e)}function wJ(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)ql(~i);else{let o=i,s=r[++n],a=r[++n];pX(s,o);let l=t[o];a(2,l)}}}finally{ql(-1)}}function x1(e,t,r,n,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[Fs]=i,d[rt]=n|4|128|8,(c!==null||e&&e[rt]&2048)&&(d[rt]|=2048),P9(d),d[Wn]=d[qu]=e,d[Pi]=r,d[Vu]=s||e&&e[Vu],d[Pn]=a||e&&e[Pn],d[Lu]=l||e&&e[Lu]||null,d[bi]=o,d[t1]=fK(),d[O0]=u,d[S9]=c,d[uo]=t.type==2?e[uo]:d,d}function Yu(e,t,r,n,i){let o=e.data[t];if(o===null)o=_J(e,t,r,n,i),hX()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=cX();o.injectorIndex=s===null?-1:s.injectorIndex}return Jl(o,!0),o}function _J(e,t,r,n,i){let o=V9(),s=B_(),a=s?o:o&&o.parent,l=e.data[t]=TJ(e,a,r,t,n,i);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function UT(e,t,r,n){if(r===0)return-1;let i=t.length;for(let o=0;o<r;o++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function HT(e,t,r,n,i){let o=Pa(),s=n&2;try{ql(-1),s&&t.length>Jr&&$T(e,t,Jr,!1),Lo(s?2:0,i),r(n,i)}finally{ql(o),Lo(s?3:1,i)}}function g4(e,t,r){if(j_(t)){let n=vi(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];a.contentQueries&&a.contentQueries(1,r[s],s)}}finally{vi(n)}}}function y4(e,t,r){F9()&&(NJ(e,t,r,Ri(r,t)),(r.flags&64)===64&&YT(e,t,r))}function v4(e,t,r=Ri){let n=t.localNames;if(n!==null){let i=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(t,e):e[s];e[i++]=a}}}function qT(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=x4(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function x4(e,t,r,n,i,o,s,a,l,c,u){let d=Jr+n,f=d+i,h=CJ(d,f),m=typeof c=="function"?c():c;return h[pt]={type:e,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1,ssrId:u}}function CJ(e,t){let r=[];for(let n=0;n<t;n++)r.push(n<e?null:wi);return r}function DJ(e,t,r,n){let o=n.get(bJ,zT)||r===zo.ShadowDom,s=e.selectRootElement(t,o);return SJ(s),s}function SJ(e){MJ(e)}var MJ=e=>null;function EJ(e,t,r,n){let i=KT(t);i.push(r),e.firstCreatePass&&JT(e).push(n,i.length-1)}function TJ(e,t,r,n,i,o){let s=t?t.injectorIndex:-1,a=0;return L9()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UE(e,t,r,n){for(let i in e)if(e.hasOwnProperty(i)){r=r===null?{}:r;let o=e[i];n===null?HE(r,t,i,o):n.hasOwnProperty(i)&&HE(r,t,n[i],o)}return r}function HE(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function kJ(e,t,r){let n=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=n;u<i;u++){let d=o[u],f=r?r.get(d):null,h=f?f.inputs:null,m=f?f.outputs:null;l=UE(d.inputs,u,l,h),c=UE(d.outputs,u,c,m);let y=l!==null&&s!==null&&!y9(t)?qJ(l,u,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function IJ(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function WT(e,t,r,n,i,o,s,a){let l=Ri(t,r),c=t.inputs,u;!a&&c!=null&&(u=c[n])?(w4(e,r,u,n,i),n1(t)&&AJ(r,t.index)):t.type&3?(n=IJ(n),i=s!=null?s(i,t.value||"",n):i,o.setProperty(l,n,i)):t.type&12}function AJ(e,t){let r=Oa(t,e);r[rt]&16||(r[rt]|=64)}function b4(e,t,r,n){if(F9()){let i=n===null?null:{"":-1},o=FJ(e,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&GT(e,t,r,s,i,a),i&&LJ(r,n,i)}r.mergedAttrs=_h(r.mergedAttrs,r.attrs)}function GT(e,t,r,n,i,o){for(let c=0;c<n.length;c++)Ww(L0(r,t),e,n[c].type);jJ(r,e.data.length,n.length);for(let c=0;c<n.length;c++){let u=n[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=UT(e,t,n.length,null);for(let c=0;c<n.length;c++){let u=n[c];r.mergedAttrs=_h(r.mergedAttrs,u.hostAttrs),zJ(e,r,t,l,u),VJ(l,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),a=!0),l++}kJ(e,r,o)}function OJ(e,t,r,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;PJ(s)!=a&&s.push(a),s.push(r,n,o)}}function PJ(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function NJ(e,t,r,n){let i=r.directiveStart,o=r.directiveEnd;n1(r)&&$J(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||L0(r,t),ka(n,t);let s=r.initialInputs;for(let a=i;a<o;a++){let l=e.data[a],c=Gl(t,e,a,r);if(ka(c,t),s!==null&&HJ(t,a-i,c,l,r,s),Ta(l)){let u=Oa(r.index,t);u[Pi]=Gl(t,e,a,r)}}}function YT(e,t,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=mX();try{ql(o);for(let a=n;a<i;a++){let l=e.data[a],c=t[a];Hw(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&RJ(l,c)}}finally{ql(-1),Hw(s)}}function RJ(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function FJ(e,t){let r=e.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(v9(t,s.selectors,!1))if(n||(n=[]),Ta(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let l=a.length;f_(e,t,l)}else n.unshift(s),f_(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function f_(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function LJ(e,t,r){if(t){let n=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=r[t[i+1]];if(o==null)throw new ce(-301,!1);n.push(t[i],o)}}}function VJ(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Ta(t)&&(r[""]=e)}}function jJ(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function zJ(e,t,r,n,i){e.data[n]=i;let o=i.factory||(i.factory=Hl(i.type,!0)),s=new Wl(o,Ta(i),X);e.blueprint[n]=s,r[n]=s,OJ(e,t,n,UT(e,r,i.hostVars,wi),i)}function $J(e,t,r){let n=Ri(t,e),i=qT(r),o=e[Vu].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=b1(e,x1(e,i,null,s,n,t,null,o.createRenderer(n,r),null,null,null));e[t.index]=a}function BJ(e,t,r,n,i,o){let s=Ri(e,t);UJ(t[Pn],s,o,e.value,r,n,i)}function UJ(e,t,r,n,i,o,s){if(o==null)e.removeAttribute(t,i,r);else{let a=s==null?$l(o):s(o,n||"",i);e.setAttribute(t,i,a,r)}}function HJ(e,t,r,n,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++];ZT(n,r,l,c,u)}}function ZT(e,t,r,n,i){let o=vi(null);try{let s=e.inputTransforms;s!==null&&s.hasOwnProperty(n)&&(i=s[n].call(t,i)),e.setInput!==null?e.setInput(t,i,r,n):t[n]=i}finally{vi(o)}}function qJ(e,t,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){n===null&&(n=[]);let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){n.push(o,s[a+1],r[i+1]);break}}i+=2}return n}function QT(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function XT(e,t){let r=e.contentQueries;if(r!==null){let n=vi(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=e.data[s];W_(o),a.contentQueries(2,t[s],s)}}}finally{vi(n)}}}function b1(e,t){return e[Dh]?e[ME][co]=t:e[Dh]=t,e[ME]=t,t}function h_(e,t,r){W_(0);let n=vi(null);try{t(e,r)}finally{vi(n)}}function KT(e){return e[Ch]||(e[Ch]=[])}function JT(e){return e.cleanup||(e.cleanup=[])}function ek(e,t){let r=e[Lu],n=r?r.get(Ni,null):null;n&&n.handleError(t)}function w4(e,t,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],l=t[s],c=e.data[s];ZT(c,l,n,a,i)}}function tk(e,t,r){let n=A9(t,e);yK(e[Pn],n,r)}var WJ=100;function GJ(e,t=!0){let r=e[Vu],n=r.rendererFactory,i=r.afterRenderEventManager,o=!1;o||(n.begin?.(),i?.begin());try{let s=e[pt],a=e[Pi];nk(s,e,s.template,a),YJ(e)}catch(s){throw t&&ek(e,s),s}finally{o||(n.end?.(),r.inlineEffectRunner?.flush(),i?.end())}}function YJ(e){let t=0;for(;e[rt]&9216||e[Bl]?.dirty;){if(t===WJ)throw new ce(103,!1);t++,ok(e,1)}}function nk(e,t,r,n){let i=t[rt];if((i&256)===256)return;let o=!1;!o&&t[Vu].inlineEffectRunner?.flush(),G_(t);let s=null,a=null;!o&&ZJ(e)&&(a=mJ(t),s=Yb(a));try{P9(t),fX(e.bindingStartIndex),r!==null&&HT(e,t,r,2,n);let l=(i&3)===3;if(!o)if(l){let d=e.preOrderCheckHooks;d!==null&&D0(t,d,null)}else{let d=e.preOrderHooks;d!==null&&S0(t,d,0,null),Dw(t,0)}if(QJ(t),rk(t,0),e.contentQueries!==null&&XT(e,t),!o)if(l){let d=e.contentCheckHooks;d!==null&&D0(t,d)}else{let d=e.contentHooks;d!==null&&S0(t,d,1),Dw(t,1)}wJ(e,t);let c=e.components;c!==null&&sk(t,c,0);let u=e.viewQuery;if(u!==null&&h_(2,u,n),!o)if(l){let d=e.viewCheckHooks;d!==null&&D0(t,d)}else{let d=e.viewHooks;d!==null&&S0(t,d,2),Dw(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Cw]){for(let d of t[Cw])d();t[Cw]=null}o||(t[rt]&=-73)}catch(l){throw i1(t),l}finally{a!==null&&(Zb(a,s),yJ(a)),Y_()}}function ZJ(e){return e.type!==2}function rk(e,t){for(let r=vT(e);r!==null;r=xT(r)){r[rt]&=~zu.HasChildViewsToRefresh;for(let n=xi;n<r.length;n++){let i=r[n];ik(i,t)}}}function QJ(e){for(let t=vT(e);t!==null;t=xT(t)){if(!(t[rt]&zu.HasTransplantedViews))continue;let r=t[ju];for(let n=0;n<r.length;n++){let i=r[n],o=i[Wn];tX(i)}}}function XJ(e,t,r){let n=Oa(t,e);ik(n,r)}function ik(e,t){$_(e)&&ok(e,t)}function ok(e,t){let n=e[pt],i=e[rt],o=e[Bl],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qb(o)),o&&(o.dirty=!1),e[rt]&=-9217,s)nk(n,e,n.template,e[Pi]);else if(i&8192){rk(e,1);let a=n.components;a!==null&&sk(e,a,1)}}function sk(e,t,r){for(let n=0;n<t.length;n++)XJ(e,t[n],r)}function _4(e){for(;e;){e[rt]|=64;let t=l4(e);if(YQ(e)&&!t)return e;e=t}return null}var Ql=class{get rootNodes(){let t=this._lView,r=t[pt];return q0(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pi]}set context(t){this._lView[Pi]=t}get destroyed(){return(this._lView[rt]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Wn];if(fo(t)){let r=t[P0],n=r?r.indexOf(this):-1;n>-1&&(Kw(t,n),V0(r,n))}this._attachedToViewContainer=!1}CT(this._lView[pt],this._lView)}onDestroy(t){R9(this._lView,t)}markForCheck(){_4(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-129}reattach(){N9(this._lView),this._lView[rt]|=128}detectChanges(){GJ(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,wK(this._lView[pt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=t}},Na=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=KJ;let e=t;return e})();function KJ(e){return JJ(ei(),xt(),(e&16)===16)}function JJ(e,t,r){if(n1(e)&&!r){let n=Oa(e.index,t);return new Ql(n,n)}else if(e.type&47){let n=t[uo];return new Ql(n,t)}return null}var Lh=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=eee,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),p_=class extends Lh{constructor(t){super(),this._lView=t}onDestroy(t){return R9(this._lView,t),()=>rX(this._lView,t)}};function eee(){return new p_(xt())}var qE=new Set;function w1(e){qE.has(e)||(qE.add(e),performance?.mark?.("mark_use_counter",{detail:{feature:e}}))}var m_=class extends zt{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let i=t,o=r||(()=>null),s=n;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Aw(o),i&&(i=Aw(i)),s&&(s=Aw(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof qn&&t.add(a),a}};function Aw(e){return t=>{setTimeout(e,void 0,t)}}var yt=m_;function WE(...e){}function tee(){let e=typeof jn.requestAnimationFrame=="function",t=jn[e?"requestAnimationFrame":"setTimeout"],r=jn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){let n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}var Rt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=tee().nativeRequestAnimationFrame,iee(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ce(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,nee,WE,WE);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}},nee={};function C4(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ree(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(jn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,g_(e),e.isCheckStableRunning=!0,C4(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),g_(e))}function iee(e){let t=()=>{ree(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(oee(a))return r.invokeTask(i,o,s,a);try{return GE(e),r.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),YE(e)}},onInvoke:(r,n,i,o,s,a,l)=>{try{return GE(e),r.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),YE(e)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,g_(e),C4(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function g_(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function GE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function YE(e){e._nesting--,C4(e)}var y_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,i){return t.apply(r,n)}},ak=new ae("",{providedIn:"root",factory:lk});function lk(){let e=he(Rt),t=!0,r=new Ke(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),n=new Ke(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Rt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});let s=e.onUnstable.subscribe(()=>{Rt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}});return Eu(r,n.pipe(ku()))}function oee(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Pu=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Pu||{}),see={destroy(){}};function D4(e,t){!t&&r4(D4);let r=t?.injector??he(ti);if(!sK(r))return see;w1("NgAfterNextRender");let n=r.get(ck),i=n.handler??=new x_,o=t?.phase??Pu.MixedReadWrite,s=()=>{i.unregister(l),a()},a=r.get(Lh).onDestroy(s),l=new v_(r,o,()=>{s(),e()});return i.register(l),{destroy:s}}var v_=class{constructor(t,r,n){this.phase=r,this.callbackFn=n,this.zone=t.get(Rt),this.errorHandler=t.get(Ni,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},x_=class{constructor(){this.executingCallbacks=!1,this.buckets={[Pu.EarlyRead]:new Set,[Pu.Write]:new Set,[Pu.MixedReadWrite]:new Set,[Pu.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new ce(102,!1)}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let r of t)r.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},ck=(()=>{let t=class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,this.renderDepth===0){for(let n of this.internalCallbacks)n();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=ue({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function aee(e,t){let r=Oa(t,e),n=r[pt];lee(n,r);let i=r[Fs];i!==null&&r[O0]===null&&(r[O0]=h4(i,r[Lu])),S4(n,r,r[Pi])}function lee(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function S4(e,t,r){G_(t);try{let n=e.viewQuery;n!==null&&h_(1,n,r);let i=e.template;i!==null&&HT(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&XT(e,t),e.staticViewQueries&&h_(2,e.viewQuery,r);let o=e.components;o!==null&&cee(t,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[rt]&=-5,Y_()}}function cee(e,t){for(let r=0;r<t.length;r++)aee(e,t[r])}function W0(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Vw(i,a);else if(o==2){let l=a,c=t[++s];n=Vw(n,l+": "+c+";")}}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}var G0=class extends g1{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=Ea(t);return new Uu(r,this.ngModule)}};function ZE(e){let t=[];for(let r in e)if(e.hasOwnProperty(r)){let n=e[r];t.push({propName:n,templateName:r})}return t}function uee(e){let t=e.toLowerCase();return t==="svg"?I9:t==="math"?KQ:null}var b_=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=e1(n);let i=this.injector.get(t,kw,n);return i!==kw||r===kw?i:this.parentInjector.get(t,r,n)}},Uu=class extends U0{get inputs(){let t=this.componentDef,r=t.inputTransforms,n=ZE(t.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return ZE(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=UQ(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){i=i||this.ngModule;let o=i instanceof Lr?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let s=o?new b_(t,o):t,a=s.get(Yl,null);if(a===null)throw new ce(407,!1);let l=s.get(cJ,null),c=s.get(ck,null),u={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c},d=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",h=n?DJ(d,n,this.componentDef.encapsulation,s):wT(d,f,uee(f)),m=4608,y=this.componentDef.onPush?576:528,g=this.componentDef.signals?m:y,x=null;h!==null&&(x=h4(h,s,!0));let C=x4(0,null,null,1,0,null,null,null,null,null,null),w=x1(null,C,null,g,null,null,u,d,s,null,x);G_(w);let b,I;try{let T=this.componentDef,z,H=null;T.findHostDirectiveDefs?(z=[],H=new Map,T.findHostDirectiveDefs(T,z,H),z.push(T)):z=[T];let q=dee(w,h),$=fee(q,h,T,z,w,u,d);I=O9(C,Jr),h&&mee(d,T,h,n),r!==void 0&&gee(I,this.ngContentSelectors,r),b=pee($,T,z,H,w,[yee]),S4(C,w,null)}finally{Y_()}return new w_(this.componentType,b,Gu(I,w),w,I)}},w_=class extends r_{constructor(t,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Ql(i,void 0,!1),this.componentType=t}setInput(t,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let o=this._rootLView;w4(o[pt],o,i,t,r),this.previousInputValues.set(t,r);let s=Oa(this._tNode.index,o);_4(s)}}get injector(){return new zl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function dee(e,t){let r=e[pt],n=Jr;return e[n]=t,Yu(r,n,2,"#host",null)}function fee(e,t,r,n,i,o,s){let a=i[pt];hee(n,e,t,s);let l=null;t!==null&&(l=h4(t,i[Lu]));let c=o.rendererFactory.createRenderer(t,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=x1(i,qT(r),null,u,i[e.index],e,o,c,null,null,l);return a.firstCreatePass&&f_(a,e,n.length-1),b1(i,d),i[e.index]=d}function hee(e,t,r,n){for(let i of e)t.mergedAttrs=_h(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(W0(t,t.mergedAttrs,!0),r!==null&&IT(n,r,t))}function pee(e,t,r,n,i,o){let s=ei(),a=i[pt],l=Ri(s,i);GT(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,f=Gl(i,a,d,s);ka(f,i)}YT(a,i,s),l&&ka(l,i);let c=Gl(i,a,s.directiveStart+s.componentOffset,s);if(e[Pi]=i[Pi]=c,o!==null)for(let u of o)u(c,t);return g4(a,s,e),c}function mee(e,t,r,n){if(n)Bw(e,r,["ng-version",uJ.full]);else{let{attrs:i,classes:o}=HQ(t.selectors[0]);i&&Bw(e,r,i),o&&o.length>0&&kT(e,r,o.join(" "))}}function gee(e,t,r){let n=e.projection=[];for(let i=0;i<t.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function yee(){let e=ei();l1(xt()[pt],e)}function vee(e){return Object.getPrototypeOf(e.prototype).constructor}function ri(e){let t=vee(e.type),r=!0,n=[e];for(;t;){let i;if(Ta(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ce(903,!1);i=t.\u0275dir}if(i){if(r){n.push(i);let s=e;s.inputs=w0(e.inputs),s.inputTransforms=w0(e.inputTransforms),s.declaredInputs=w0(e.declaredInputs),s.outputs=w0(e.outputs);let a=i.hostBindings;a&&_ee(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&bee(e,l),c&&wee(e,c),g0(e.inputs,i.inputs),g0(e.declaredInputs,i.declaredInputs),g0(e.outputs,i.outputs),i.inputTransforms!==null&&(s.inputTransforms===null&&(s.inputTransforms={}),g0(s.inputTransforms,i.inputTransforms)),Ta(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===ri&&(r=!1)}}t=Object.getPrototypeOf(t)}xee(n)}function xee(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){let i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=_h(i.hostAttrs,r=_h(r,i.hostAttrs))}}function w0(e){return e===Fu?{}:e===Kr?[]:e}function bee(e,t){let r=e.viewQuery;r?e.viewQuery=(n,i)=>{t(n,i),r(n,i)}:e.viewQuery=t}function wee(e,t){let r=e.contentQueries;r?e.contentQueries=(n,i,o)=>{t(n,i,o),r(n,i,o)}:e.contentQueries=t}function _ee(e,t){let r=e.hostBindings;r?e.hostBindings=(n,i)=>{t(n,i),r(n,i)}:e.hostBindings=t}function M4(e){let t=e.inputConfig,r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];Array.isArray(i)&&i[2]&&(r[n]=i[2])}e.inputTransforms=r}function E4(e,t,r){return e[t]=r}function Cee(e,t){return e[t]}function Ia(e,t,r){let n=e[t];return Object.is(n,r)?!1:(e[t]=r,!0)}function uk(e,t,r,n){let i=Ia(e,t,r);return Ia(e,t+1,n)||i}function _1(e,t,r,n){let i=xt(),o=H_();if(Ia(i,o,t)){let s=Xn(),a=Z_();BJ(a,i,e,t,r,n)}return _1}function T4(e,t,r,n){return Ia(e,H_(),r)?t+$l(r)+n:wi}function Dee(e,t,r,n,i,o){let s=dX(),a=uk(e,s,r,i);return q_(2),a?t+$l(r)+n+$l(i)+o:wi}function _0(e,t){return e<<17|t<<2}function Xl(e){return e>>17&32767}function See(e){return(e&2)==2}function Mee(e,t){return e&131071|t<<17}function __(e){return e|2}function Hu(e){return(e&131068)>>2}function Ow(e,t){return e&-131069|t<<2}function Eee(e){return(e&1)===1}function C_(e){return e|1}function Tee(e,t,r,n,i,o){let s=o?t.classBindings:t.styleBindings,a=Xl(s),l=Hu(s);e[n]=r;let c=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||Ih(d,u)>0)&&(c=!0)}else u=r;if(i)if(l!==0){let f=Xl(e[a+1]);e[n+1]=_0(f,a),f!==0&&(e[f+1]=Ow(e[f+1],n)),e[a+1]=Mee(e[a+1],n)}else e[n+1]=_0(a,0),a!==0&&(e[a+1]=Ow(e[a+1],n)),a=n;else e[n+1]=_0(l,0),a===0?a=n:e[l+1]=Ow(e[l+1],n),l=n;c&&(e[n+1]=__(e[n+1])),QE(e,u,n,!0,o),QE(e,u,n,!1,o),kee(t,u,e,n,o),s=_0(a,l),o?t.classBindings=s:t.styleBindings=s}function kee(e,t,r,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ih(o,t)>=0&&(r[n+1]=C_(r[n+1]))}function QE(e,t,r,n,i){let o=e[r+1],s=t===null,a=n?Xl(o):Hu(o),l=!1;for(;a!==0&&(l===!1||s);){let c=e[a],u=e[a+1];Iee(c,t)&&(l=!0,e[a+1]=n?C_(u):__(u)),a=n?Xl(u):Hu(u)}l&&(e[r+1]=n?__(o):C_(o))}function Iee(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ih(e,t)>=0:!1}var lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Aee(e){return e.substring(lo.key,lo.keyEnd)}function Oee(e){return Pee(e),dk(e,fk(e,0,lo.textEnd))}function dk(e,t){let r=lo.textEnd;return r===t?-1:(t=lo.keyEnd=Nee(e,lo.key=t,r),fk(e,t,r))}function Pee(e){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=e.length}function fk(e,t,r){for(;t<r&&e.charCodeAt(t)<=32;)t++;return t}function Nee(e,t,r){for(;t<r&&e.charCodeAt(t)>32;)t++;return t}function G(e,t,r){let n=xt(),i=H_();if(Ia(n,i,t)){let o=Xn(),s=Z_();WT(o,s,n,e,t,n[Pn],r,!1)}return G}function D_(e,t,r,n,i){let o=t.inputs,s=i?"class":"style";w4(e,r,o[s],s,n)}function ii(e,t,r){return pk(e,t,r,!1),ii}function rn(e,t){return pk(e,t,null,!0),rn}function C1(e){mk(zee,hk,e,!0)}function hk(e,t){for(let r=Oee(t);r>=0;r=dk(t,r))c1(e,Aee(t),!0)}function pk(e,t,r,n){let i=xt(),o=Xn(),s=q_(2);if(o.firstUpdatePass&&yk(o,e,s,n),t!==wi&&Ia(i,s,t)){let a=o.data[Pa()];vk(o,a,i,i[Pn],e,i[s+1]=Bee(t,r),n,s)}}function mk(e,t,r,n){let i=Xn(),o=q_(2);i.firstUpdatePass&&yk(i,null,o,n);let s=xt();if(r!==wi&&Ia(s,o,r)){let a=i.data[Pa()];if(xk(a,n)&&!gk(i,o)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(r=Vw(l,r||"")),D_(i,a,s,r,n)}else $ee(i,a,s,s[Pn],s[o+1],s[o+1]=jee(e,t,r),n,o)}}function gk(e,t){return t>=e.expandoStartIndex}function yk(e,t,r,n){let i=e.data;if(i[r+1]===null){let o=i[Pa()],s=gk(e,r);xk(o,n)&&t===null&&!s&&(t=!1),t=Ree(i,o,t,n),Tee(i,o,t,r,s,n)}}function Ree(e,t,r,n){let i=gX(e),o=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(r=Pw(null,e,t,r,n),r=Mh(r,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(r=Pw(i,e,t,r,n),o===null){let l=Fee(e,t,n);l!==void 0&&Array.isArray(l)&&(l=Pw(null,e,t,l[1],n),l=Mh(l,t.attrs,n),Lee(e,t,n,l))}else o=Vee(e,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),r}function Fee(e,t,r){let n=r?t.classBindings:t.styleBindings;if(Hu(n)!==0)return e[Xl(n)]}function Lee(e,t,r,n){let i=r?t.classBindings:t.styleBindings;e[Xl(i)]=n}function Vee(e,t,r){let n,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=Mh(n,s,r)}return Mh(n,t.attrs,r)}function Pw(e,t,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=t[a],n=Mh(n,o.hostAttrs,i),o!==e);)a++;return e!==null&&(r.directiveStylingLast=a),n}function Mh(e,t,r){let n=r?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),c1(e,s,r?!0:t[++o]))}return e===void 0?null:e}function jee(e,t,r){if(r==null||r==="")return Kr;let n=[],i=tc(r);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(n,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(n,o,i[o]);else typeof i=="string"&&t(n,i);return n}function zee(e,t,r){let n=String(t);n!==""&&!n.includes(" ")&&c1(e,n,r)}function $ee(e,t,r,n,i,o,s,a){i===wi&&(i=Kr);let l=0,c=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let f=l<i.length?i[l+1]:void 0,h=c<o.length?o[c+1]:void 0,m=null,y;u===d?(l+=2,c+=2,f!==h&&(m=d,y=h)):d===null||u!==null&&u<d?(l+=2,m=u):(c+=2,m=d,y=h),m!==null&&vk(e,t,r,n,m,y,s,a),u=l<i.length?i[l]:null,d=c<o.length?o[c]:null}}function vk(e,t,r,n,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=Eee(c)?XE(l,t,r,i,Hu(c),s):void 0;if(!Y0(u)){Y0(o)||See(c)&&(o=XE(l,null,r,i,a,s));let d=A9(Pa(),r);RK(n,s,d,i,o)}}function XE(e,t,r,n,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=r[i+1];f===wi&&(f=d?Kr:void 0);let h=d?Mw(f,n):u===n?f:void 0;if(c&&!Y0(h)&&(h=Mw(l,n)),Y0(h)&&(a=h,s))return a;let m=e[i+1];i=s?Xl(m):Hu(m)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Mw(l,n))}return a}function Y0(e){return e!==void 0}function Bee(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=_r(tc(e)))),e}function xk(e,t){return(e.flags&(t?8:16))!==0}function Ra(e,t,r){let n=xt(),i=T4(n,e,t,r);mk(c1,hk,i,!0)}var g5e=new RegExp(`^(\\d+)*(${nJ}|${tJ})*(.*)`);var Uee=(e,t)=>null;function KE(e,t){return Uee(e,t)}function Hee(e,t,r,n){let i=t.tView,s=e[rt]&4096?4096:16,a=x1(e,i,r,s,null,t,null,null,null,n?.injector??null,n?.dehydratedView??null),l=e[t.index];a[kh]=l;let c=e[jo];return c!==null&&(a[jo]=c.createEmbeddedView(i)),S4(i,a,r),a}function JE(e,t){return!t||gT(e)}function qee(e,t,r,n=!0){let i=t[pt];if(CK(i,t,e,r),n){let o=Jw(r,e),s=t[Pn],a=c4(s,e[Ul]);a!==null&&bK(i,e[bi],s,t,a,o)}}var Fa=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Wee;let e=t;return e})();function Wee(){let e=ei();return wk(e,xt())}var Gee=Fa,bk=class extends Gee{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Gu(this._hostTNode,this._hostLView)}get injector(){return new zl(this._hostTNode,this._hostLView)}get parentInjector(){let t=Q_(this._hostTNode,this._hostLView);if(G9(t)){let r=R0(t,this._hostLView),n=N0(t),i=r[pt].data[n+8];return new zl(i,r)}else return new zl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=e9(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-xi}createEmbeddedView(t,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=KE(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,JE(this._hostTNode,s)),a}createComponent(t,r,n,i,o){let s=t&&!LX(t),a;if(s)a=r;else{let m=r||{};a=m.index,n=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}let l=s?t:new Uu(Ea(t)),c=n||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?c:this.parentInjector).get(Lr,null);y&&(o=y)}let u=Ea(l.componentType??{}),d=KE(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,JE(this._hostTNode,d)),h}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){let i=t._lView;if(eX(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[Wn],c=new bk(l,l[bi],l[Wn]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(r),s=this._lContainer;return qee(s,i,o,n),t.attachToViewContainerRef(),nT(Nw(s),o,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=e9(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),n=Kw(this._lContainer,r);n&&(V0(Nw(this._lContainer),r),CT(n[pt],n))}detach(t){let r=this._adjustIndex(t,-1),n=Kw(this._lContainer,r);return n&&V0(Nw(this._lContainer),r)!=null?new Ql(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function e9(e){return e[P0]}function Nw(e){return e[P0]||(e[P0]=[])}function wk(e,t){let r,n=t[e.index];return fo(n)?r=n:(r=QT(n,t,null,e),t[e.index]=r,b1(t,r)),Zee(r,t,e,n),new bk(r,e,t)}function Yee(e,t){let r=e[Pn],n=r.createComment(""),i=Ri(t,e),o=c4(r,i);return $0(r,o,n,kK(r,i),!1),n}var Zee=Kee,Qee=(e,t,r)=>!1;function Xee(e,t,r){return Qee(e,t,r)}function Kee(e,t,r,n){if(e[Ul])return;let i;r.type&8?i=$o(n):i=Yee(t,r),e[Ul]=i}function Jee(e,t,r,n,i,o,s,a,l){let c=t.consts,u=Yu(t,e,4,s||null,$u(c,a));b4(t,r,u,$u(c,l)),l1(t,u);let d=u.tView=x4(2,u,n,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function ge(e,t,r,n,i,o,s,a){let l=xt(),c=Xn(),u=e+Jr,d=c.firstCreatePass?Jee(u,c,l,t,r,n,i,o,s):c.data[u];Jl(d,!1);let f=ete(c,l,d,e);s1()&&h1(c,l,f,d),ka(f,l);let h=QT(f,l,f,d);return l[u]=h,b1(l,h),Xee(h,d,l),r1(d)&&y4(c,l,d),s!=null&&v4(l,d,a),ge}var ete=tte;function tte(e,t,r,n){return a1(!0),t[Pn].createComment("")}function nte(e,t,r,n,i,o){let s=t.consts,a=$u(s,i),l=Yu(t,e,2,n,a);return b4(t,r,l,$u(s,o)),l.attrs!==null&&W0(l,l.attrs,!1),l.mergedAttrs!==null&&W0(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function k(e,t,r,n){let i=xt(),o=Xn(),s=Jr+e,a=i[Pn],l=o.firstCreatePass?nte(s,o,i,t,r,n):o.data[s],c=rte(o,i,l,a,t,e);i[s]=c;let u=r1(l);return Jl(l,!0),IT(a,c,l),(l.flags&32)!==32&&s1()&&h1(o,i,c,l),iX()===0&&ka(c,i),oX(),u&&(y4(o,i,l),g4(o,l,i)),n!==null&&v4(i,l),k}function M(){let e=ei();B_()?U_():(e=e.parent,Jl(e,!1));let t=e;aX(t)&&lX(),sX();let r=Xn();return r.firstCreatePass&&(l1(r,e),j_(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&DX(t)&&D_(r,t,xt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&SX(t)&&D_(r,t,xt(),t.stylesWithoutHost,!1),M}function Q(e,t,r,n){return k(e,t,r,n),M(),Q}var rte=(e,t,r,n,i,o)=>(a1(!0),wT(n,i,bX()));function ite(e,t,r,n,i){let o=t.consts,s=$u(o,n),a=Yu(t,e,8,"ng-container",s);s!==null&&W0(a,s,!0);let l=$u(o,i);return b4(t,r,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function k4(e,t,r){let n=xt(),i=Xn(),o=e+Jr,s=i.firstCreatePass?ite(o,i,n,t,r):i.data[o];Jl(s,!0);let a=ote(i,n,s,e);return n[o]=a,s1()&&h1(i,n,a,s),ka(a,n),r1(s)&&(y4(i,n,s),g4(i,s,n)),r!=null&&v4(n,s),k4}function I4(){let e=ei(),t=Xn();return B_()?U_():(e=e.parent,Jl(e,!1)),t.firstCreatePass&&(l1(t,e),j_(e)&&t.queries.elementEnd(e)),I4}var ote=(e,t,r,n)=>(a1(!0),vK(t[Pn],""));function bt(){return xt()}var jl=void 0;function ste(e){let t=e,r=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return r===1&&n===0?1:5}var ate=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",ste],Rw={};function A4(e){let t=lte(e),r=t9(t);if(r)return r;let n=t.split("-")[0];if(r=t9(n),r)return r;if(n==="en")return ate;throw new ce(701,!1)}function t9(e){return e in Rw||(Rw[e]=jn.ng&&jn.ng.common&&jn.ng.common.locales&&jn.ng.common.locales[e]),Rw[e]}var Zu=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Zu||{});function lte(e){return e.toLowerCase().replace(/_/g,"-")}var Z0="en-US";var cte=Z0;function ute(e){bQ(e,"Expected localeId to be defined"),typeof e=="string"&&(cte=e.toLowerCase().replace(/_/g,"-"))}function nc(e){return!!e&&typeof e.then=="function"}function _k(e){return!!e&&typeof e.subscribe=="function"}function te(e,t,r,n){let i=xt(),o=Xn(),s=ei();return fte(o,i,i[Pn],s,e,t,n),te}function dte(e,t,r,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=t[Ch],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function fte(e,t,r,n,i,o,s){let a=r1(n),c=e.firstCreatePass&&JT(e),u=t[Pi],d=KT(t),f=!0;if(n.type&3||s){let y=Ri(n,t),g=s?s(y):y,x=d.length,C=s?b=>s($o(b[n.index])):n.index,w=null;if(!s&&a&&(w=dte(e,t,i,n.index)),w!==null){let b=w.__ngLastListenerFn__||w;b.__ngNextListenerFn__=o,w.__ngLastListenerFn__=o,f=!1}else{o=r9(n,t,u,o,!1);let b=r.listen(g,i,o);d.push(o,b),c&&c.push(i,C,x,x+1)}}else o=r9(n,t,u,o,!1);let h=n.outputs,m;if(f&&h!==null&&(m=h[i])){let y=m.length;if(y)for(let g=0;g<y;g+=2){let x=m[g],C=m[g+1],I=t[x][C].subscribe(o),T=d.length;d.push(o,I),c&&c.push(i,n.index,T,-(T+1))}}}function n9(e,t,r,n){try{return Lo(6,t,r),r(n)!==!1}catch(i){return ek(e,i),!1}finally{Lo(7,t,r)}}function r9(e,t,r,n,i){return function o(s){if(s===Function)return n;let a=e.componentOffset>-1?Oa(e.index,t):t;_4(a);let l=n9(t,r,n,s),c=o.__ngNextListenerFn__;for(;c;)l=n9(t,r,c,s)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&s.preventDefault(),l}}function _e(e=1){return vX(e)}function hte(e,t){let r=null,n=VQ(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){r=i;continue}if(n===null?v9(e,o,!0):$Q(n,o))return i}return r}function Qu(e){let t=xt()[uo][bi];if(!t.projection){let r=e?e.length:1,n=t.projection=rT(r,null),i=n.slice(),o=t.child;for(;o!==null;){let s=e?hte(o,e):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function mo(e,t=0,r){let n=xt(),i=Xn(),o=Yu(i,Jr+e,16,null,r||null);o.projection===null&&(o.projection=t),U_(),(!n[O0]||L9())&&(o.flags&32)!==32&&PK(i,n,o)}function _i(e,t,r){return Ck(e,"",t,"",r),_i}function Ck(e,t,r,n,i){let o=xt(),s=T4(o,t,r,n);if(s!==wi){let a=Xn(),l=Z_();WT(a,l,o,e,s,o[Pn],i,!1)}return Ck}function pte(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}function rc(e){let t=uX();return z_(t,Jr+e)}function V(e,t=""){let r=xt(),n=Xn(),i=e+Jr,o=n.firstCreatePass?Yu(n,i,1,t,null):n.data[i],s=mte(n,r,o,t,e);r[i]=s,s1()&&h1(n,r,s,o),Jl(o,!1)}var mte=(e,t,r,n,i)=>(a1(!0),gK(t[Pn],n));function Ze(e){return ut("",e,""),Ze}function ut(e,t,r){let n=xt(),i=T4(n,e,t,r);return i!==wi&&tk(n,Pa(),i),ut}function D1(e,t,r,n,i){let o=xt(),s=Dee(o,e,t,r,n,i);return s!==wi&&tk(o,Pa(),s),D1}function gte(e,t,r){let n=Xn();if(n.firstCreatePass){let i=Ta(e);S_(r,n.data,n.blueprint,i,!0),S_(t,n.data,n.blueprint,i,!1)}}function S_(e,t,r,n,i){if(e=Fr(e),Array.isArray(e))for(let o=0;o<e.length;o++)S_(e[o],t,r,n,i);else{let o=Xn(),s=xt(),a=ei(),l=Bu(e)?e:Fr(e.provide),c=cT(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Bu(e)||!e.multi){let h=new Wl(c,i,X),m=Lw(l,t,i?u:u+f,d);m===-1?(Ww(L0(a,s),o,l),Fw(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(h),s.push(h)):(r[m]=h,s[m]=h)}else{let h=Lw(l,t,u+f,d),m=Lw(l,t,u,u+f),y=h>=0&&r[h],g=m>=0&&r[m];if(i&&!g||!i&&!y){Ww(L0(a,s),o,l);let x=xte(i?vte:yte,r.length,i,n,c);!i&&g&&(r[m].providerFactory=x),Fw(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(x),s.push(x)}else{let x=Dk(r[i?m:h],c,!i&&n);Fw(o,e,h>-1?h:m,x)}!i&&n&&g&&r[m].componentProviders++}}}function Fw(e,t,r,n){let i=Bu(t),o=KX(t);if(i||o){let l=(o?Fr(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(r);u===-1?c.push(r,[n,l]):c[u+1].push(n,l)}else c.push(r,l)}}}function Dk(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Lw(e,t,r,n){for(let i=r;i<n;i++)if(t[i]===e)return i;return-1}function yte(e,t,r,n){return M_(this.multi,[])}function vte(e,t,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Gl(r,r[pt],this.providerFactory.index,n);o=a.slice(0,s),M_(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],M_(i,o);return o}function M_(e,t){for(let r=0;r<e.length;r++){let n=e[r];t.push(n())}return t}function xte(e,t,r,n,i){let o=new Wl(e,r,X);return o.multi=[],o.index=t,o.componentProviders=0,Dk(o,i,n&&!r),o}function Vr(e,t=[]){return r=>{r.providersResolver=(n,i)=>gte(n,i?i(e):e,t)}}var Aa=class{},Eh=class{};var Q0=class extends Aa{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new G0(this);let i=_9(t);this._bootstrapComponents=mT(i.bootstrap),this._r3Injector=dT(t,r,[{provide:Aa,useValue:this},{provide:g1,useValue:this.componentFactoryResolver},...n],_r(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},X0=class extends Eh{constructor(t){super(),this.moduleType=t}create(t){return new Q0(this.moduleType,t,[])}};function bte(e,t,r){return new Q0(e,t,r)}var E_=class extends Aa{constructor(t){super(),this.componentFactoryResolver=new G0(this),this.instance=null;let r=new Sh([...t.providers,{provide:Aa,useValue:this},{provide:g1,useValue:this.componentFactoryResolver}],t.parent||n4(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function S1(e,t,r=null){return new E_({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}var wte=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=sT(!1,n.type),o=i.length>0?S1([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=ue({token:t,providedIn:"environment",factory:()=>new t(re(Lr))});let e=t;return e})();function Sk(e){w1("NgStandalone"),e.getStandaloneInjector=t=>t.get(wte).getOrCreateStandaloneInjector(e)}function Mk(e,t,r){let n=o1()+e,i=xt();return i[n]===wi?E4(i,n,r?t.call(r):t()):Cee(i,n)}function jr(e,t,r,n){return Tk(xt(),o1(),e,t,r,n)}function Ek(e,t){let r=e[t];return r===wi?void 0:r}function Tk(e,t,r,n,i,o){let s=t+r;return Ia(e,s,i)?E4(e,s+1,o?n.call(o,i):n(i)):Ek(e,s+1)}function _te(e,t,r,n,i,o,s){let a=t+r;return uk(e,a,i,o)?E4(e,a+2,s?n.call(s,i,o):n(i,o)):Ek(e,a+2)}function Vh(e,t){let r=Xn(),n,i=e+Jr;r.firstCreatePass?(n=Cte(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=Hl(n.type,!0)),s,a=Xr(X);try{let l=F0(!1),c=o();return F0(l),pte(r,xt(),i,c),c}finally{Xr(a)}}function Cte(e,t){if(t)for(let r=t.length-1;r>=0;r--){let n=t[r];if(e===n.name)return n}}function kk(e,t,r){let n=e+Jr,i=xt(),o=z_(i,n);return Ik(i,n)?Tk(i,o1(),t,o.transform,r,o):o.transform(r)}function O4(e,t,r,n){let i=e+Jr,o=xt(),s=z_(o,i);return Ik(o,i)?_te(o,o1(),t,s.transform,r,n,s):s.transform(r,n)}function Ik(e,t){return e[pt].data[t].pure}function Dte(){return this._results[Symbol.iterator]()}var T_=class e{get changes(){return this._changes||(this._changes=new yt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;let r=e.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Dte)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;let n=jX(t);(this._changesDetected=!VX(this._results,n,r))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}},Kl=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Ete;let e=t;return e})(),Ste=Kl,Mte=class extends Ste{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){let i=Hee(this._declarationLView,this._declarationTContainer,t,{injector:r,dehydratedView:n});return new Ql(i)}};function Ete(){return M1(ei(),xt())}function M1(e,t){return e.type&4?new Mte(t,e,Gu(e,t)):null}var k_=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},I_=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let r=t.queries;if(r!==null){let n=t.contentQueries!==null?t.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){let s=r.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)Ok(t,r).matches!==null&&this.queries[r].setDirty()}},A_=class{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}},O_=class e{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){let i=r!==null?r.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,r!==null?r.push(o):r=[o])}return r!==null?new e(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},P_=class e{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let r=this._declarationNodeIndex,n=t.parent;for(;n!==null&&n.type&8&&n.index!==r;)n=n.parent;return r===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){let n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){let o=n[i];this.matchTNodeWithReadOption(t,r,Tte(r,o)),this.matchTNodeWithReadOption(t,r,M0(r,t,o,!1,!1))}else n===Kl?r.type&4&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,M0(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(n!==null){let i=this.metadata.read;if(i!==null)if(i===Ye||i===Fa||i===Kl&&r.type&4)this.addMatch(r.index,-2);else{let o=M0(r,t,i,!1,!1);o!==null&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(t,r){this.matches===null?this.matches=[t,r]:this.matches.push(t,r)}};function Tte(e,t){let r=e.localNames;if(r!==null){for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1]}return null}function kte(e,t){return e.type&11?Gu(e,t):e.type&4?M1(e,t):null}function Ite(e,t,r,n){return r===-1?kte(t,e):r===-2?Ate(e,t,n):Gl(e,e[pt],r,t)}function Ate(e,t,r){if(r===Ye)return Gu(t,e);if(r===Kl)return M1(t,e);if(r===Fa)return wk(t,e)}function Ak(e,t,r,n){let i=t[jo].queries[n];if(i.matches===null){let o=e.data,s=r.matches,a=[];for(let l=0;l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Ite(t,u,s[l+1],r.metadata.read))}}i.matches=a}return i.matches}function N_(e,t,r,n){let i=e.queries.getByIndex(r),o=i.matches;if(o!==null){let s=Ak(e,t,i,r);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)n.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=xi;d<u.length;d++){let f=u[d];f[kh]===f[Wn]&&N_(f[pt],f,c,n)}if(u[ju]!==null){let d=u[ju];for(let f=0;f<d.length;f++){let h=d[f];N_(h[pt],h,c,n)}}}}}return n}function Le(e){let t=xt(),r=Xn(),n=j9();W_(n+1);let i=Ok(r,n);if(e.dirty&&JQ(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=i.crossesNgTemplate?N_(r,t,n,[]):Ak(r,t,i,n);e.reset(o,aJ),e.notifyOnChanges()}return!0}return!1}function Be(e,t,r){let n=Xn();n.firstCreatePass&&(Nte(n,new A_(e,t,r),-1),(t&2)===2&&(n.staticViewQueries=!0)),Pte(n,xt(),t)}function Ve(){return Ote(xt(),j9())}function Ote(e,t){return e[jo].queries[t].queryList}function Pte(e,t,r){let n=new T_((r&4)===4);EJ(e,t,n,n.destroy),t[jo]===null&&(t[jo]=new I_),t[jo].queries.push(new k_(n))}function Nte(e,t,r){e.queries===null&&(e.queries=new O_),e.queries.track(new P_(t,r))}function Ok(e,t){return e.queries.getByIndex(t)}function Pk(e,t){return M1(e,t)}var C0=null;function Rte(e){C0!==null&&(e.defaultEncapsulation!==C0.defaultEncapsulation||e.preserveWhitespaces!==C0.preserveWhitespaces)||(C0=e)}var E1=new ae("Application Initializer"),Nk=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=he(E1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(nc(s))n.push(s);else if(_k(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),T1=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function Fte(){return typeof $localize<"u"&&$localize.locale||Z0}var k1=new ae("LocaleId",{providedIn:"root",factory:()=>he(k1,vt.Optional|vt.SkipSelf)||Fte()});var Xu=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qt(!1)}add(){this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),R_=class{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},I1=(()=>{let t=class t{compileModuleSync(n){return new X0(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=_9(n),s=mT(o.declarations).reduce((a,l)=>{let c=Ea(l);return c&&a.push(new Uu(c)),a},[]);return new R_(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Lte=new ae("compilerOptions");var P4=new ae(""),jh=new ae(""),A1=(()=>{let t=class t{constructor(n,i,o){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,N4||(Vte(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}};t.\u0275fac=function(i){return new(i||t)(re(Rt),re(O1),re(jh))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),O1=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return N4?.findTestabilityInTree(this,n,i)??null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function Vte(e){N4=e}var N4,bh=null,Rk=new ae("AllowMultipleToken"),Fk=new ae("PlatformDestroyListeners"),P1=new ae("appBootstrapListener");function jte(e,t,r){let n=new X0(r);return Promise.resolve(n)}function zte(){$7(()=>{throw new ce(600,!1)})}function $te(e){return e.isBoundToModule}function Bte(e){if(bh&&!bh.get(Rk,!1))throw new ce(400,!1);zte(),bh=e;let t=e.get(Vk);return Ute(e),t}function Ute(e){e.get(i4,null)?.forEach(r=>r())}function R4(e,t,r=[]){let n=`Platform: ${t}`,i=new ae(n);return(o=[])=>{let s=Lk();if(!s||s.injector.get(Rk,!1)){let a=[...r,...o,{provide:i,useValue:!0}];e?e(a):Bte(qte(a,n))}return Hte(i)}}function Hte(e){let t=Lk();if(!t)throw new ce(401,!1);return t}function qte(e=[],t){return ti.create({name:t,providers:[{provide:d1,useValue:"platform"},{provide:Fk,useValue:new Set([()=>bh=null])},...e]})}function Lk(){return bh?.get(Vk)??null}var Vk=(()=>{let t=class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let o=Gte(i?.ngZone,Wte({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=bte(n.moduleType,this.injector,Xte(()=>o)),a=s.injector.get(Ni,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{k0(this._modules,s),l.unsubscribe()})}),Yte(a,o,()=>{let l=s.injector.get(Nk);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(k1,Z0);return ute(c||Z0),this._moduleDoBootstrap(s),s})})})}bootstrapModule(n,i=[]){let o=jk({},i);return jte(this.injector,o,n).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(n){let i=n.injector.get(js);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(i);else throw new ce(-403,!1);this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(Fk,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};t.\u0275fac=function(i){return new(i||t)(re(ti))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function Wte(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}function Gte(e="zone.js",t){return e==="noop"?new y_:e==="zone.js"?new Rt(t):e}function Yte(e,t,r){try{let n=r();return nc(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}function jk(e,t){return Array.isArray(t)?t.reduce(jk,e):ne(ne({},e),t)}var js=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=he(zk),this.zoneIsStable=he(ak),this.componentTypes=[],this.components=[],this.isStable=he(Xu).hasPendingTasks.pipe(wr(n=>n?Pe(!1):this.zoneIsStable),so(),ku()),this._injector=he(Lr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof U0;if(!this._injector.get(Nk).done){let m="Cannot bootstrap as there are still asynchronous initializers running."+(!o&&w9(n)?"":" Bootstrap components in the `ngDoBootstrap` method of the root module.");throw new ce(405,!1)}let a;o?a=n:a=this._injector.get(g1).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let l=$te(a)?void 0:this._injector.get(Aa),c=i||a.selector,u=a.create(ti.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(P4,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),k0(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;k0(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(P1,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>k0(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ce(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function k0(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function i9(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var zk=new ae("",{providedIn:"root",factory:()=>he(Ni).handleError.bind(void 0)});function Zte(){let e=he(Rt),t=he(Ni);return r=>e.runOutsideAngular(()=>t.handleError(r))}var Qte=(()=>{let t=class t{constructor(){this.zone=he(Rt),this.applicationRef=he(js)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Xte(e){return[{provide:Rt,useFactory:e},{provide:ec,multi:!0,useFactory:()=>{let t=he(Qte,{optional:!0});return()=>t.initialize()}},{provide:zk,useFactory:Zte},{provide:ak,useFactory:lk}]}function F4(){return!1}var $k=R4(null,"core",[]),Bk=(()=>{let t=class t{constructor(n){}};t.\u0275fac=function(i){return new(i||t)(re(js))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})();function ic(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Uk(e){let t=Ea(e);if(!t)return null;let r=new Uu(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var z4=null;function Ho(){return z4}function Xk(e){z4||(z4=e)}var N1=class{},Kn=new ae("DocumentToken"),H4=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>he(Jte))(),providedIn:"platform"});let e=t;return e})(),Kk=new ae("Location Initialized"),Jte=(()=>{let t=class t extends H4{constructor(){super(),this._doc=he(Kn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ho().getBaseHref(this._doc)}onPopState(n){let i=Ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>new t)(),providedIn:"platform"});let e=t;return e})();function q4(e,t){if(e.length==0)return t;if(t.length==0)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,r==2?e+t.substring(1):r==1?e+t:e+"/"+t}function Hk(e){let t=e.match(/#|\?|$/),r=t&&t.index||e.length,n=r-(e[r-1]==="/"?1:0);return e.slice(0,n)+e.slice(r)}function zs(e){return e&&e[0]!=="?"?"?"+e:e}var $s=(()=>{let t=class t{historyGo(n){throw new Error("Not implemented")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>he(W4))(),providedIn:"root"});let e=t;return e})(),Jk=new ae("appBaseHref"),W4=(()=>{let t=class t extends $s{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??he(Kn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return q4(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+zs(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+zs(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+zs(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(re(H4),re(Jk,8))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),eI=(()=>{let t=class t extends $s{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return i==null&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=q4(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+zs(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+zs(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(re(H4),re(Jk,8))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),La=(()=>{let t=class t{constructor(n){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=nne(Hk(qk(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+zs(i))}normalize(n){return t.stripTrailingSlash(tne(this._basePath,qk(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zs(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+zs(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};t.normalizeQueryParams=zs,t.joinWithSlash=q4,t.stripTrailingSlash=Hk,t.\u0275fac=function(i){return new(i||t)(re($s))},t.\u0275prov=ue({token:t,factory:()=>ene(),providedIn:"root"});let e=t;return e})();function ene(){return new La(re($s))}function tne(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function qk(e){return e.replace(/\/index.html$/,"")}function nne(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}var tI=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(tI||{});var Uo=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Uo||{});function zh(e,t){let r=A4(e),n=r[Zu.NumberSymbols][t];if(typeof n>"u"){if(t===Uo.CurrencyDecimal)return r[Zu.NumberSymbols][Uo.Decimal];if(t===Uo.CurrencyGroup)return r[Zu.NumberSymbols][Uo.Group]}return n}function rne(e,t){return A4(e)[Zu.NumberFormats][t]}var ine=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Wk=22,R1=".",$h="0",one=";",sne=",",L4="#";function ane(e,t,r,n,i,o,s=!1){let a="",l=!1;if(!isFinite(e))a=zh(r,Uo.Infinity);else{let c=dne(e);s&&(c=une(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){let C=o.match(ine);if(C===null)throw new Error(`${o} is not a valid digit info`);let w=C[1],b=C[3],I=C[5];w!=null&&(u=V4(w)),b!=null&&(d=V4(b)),I!=null?f=V4(I):b!=null&&d>f&&(f=d)}fne(c,d,f);let h=c.digits,m=c.integerLen,y=c.exponent,g=[];for(l=h.every(C=>!C);m<u;m++)h.unshift(0);for(;m<0;m++)h.unshift(0);m>0?g=h.splice(m,h.length):(g=h,h=[0]);let x=[];for(h.length>=t.lgSize&&x.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)x.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&x.unshift(h.join("")),a=x.join(zh(r,n)),g.length&&(a+=zh(r,i)+g.join("")),y&&(a+=zh(r,Uo.Exponential)+"+"+y)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function lne(e,t,r){let n=rne(t,tI.Decimal),i=cne(n,zh(t,Uo.MinusSign));return ane(e,i,t,Uo.Group,Uo.Decimal,r)}function cne(e,t="-"){let r={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},n=e.split(one),i=n[0],o=n[1],s=i.indexOf(R1)!==-1?i.split(R1):[i.substring(0,i.lastIndexOf($h)+1),i.substring(i.lastIndexOf($h)+1)],a=s[0],l=s[1]||"";r.posPre=a.substring(0,a.indexOf(L4));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===$h?r.minFrac=r.maxFrac=u+1:d===L4?r.maxFrac=u+1:r.posSuf+=d}let c=a.split(sne);if(r.gSize=c[1]?c[1].length:0,r.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=i.length-r.posPre.length-r.posSuf.length,d=o.indexOf(L4);r.negPre=o.substring(0,d).replace(/'/g,""),r.negSuf=o.slice(d+u).replace(/'/g,"")}else r.negPre=t+r.posPre,r.negSuf=r.posSuf;return r}function une(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function dne(e){let t=Math.abs(e)+"",r=0,n,i,o,s,a;for((i=t.indexOf(R1))>-1&&(t=t.replace(R1,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===$h;o++);if(o===(a=t.length))n=[0],i=1;else{for(a--;t.charAt(a)===$h;)a--;for(i-=o,n=[],s=0;o<=a;o++,s++)n[s]=Number(t.charAt(o))}return i>Wk&&(n=n.splice(0,Wk-1),r=i-1,i=1),{digits:n,exponent:r,integerLen:i}}function fne(e,t,r){if(t>r)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${r}).`);let n=e.digits,i=n.length-e.integerLen,o=Math.min(Math.max(t,i),r),s=o+e.integerLen,a=n[s];if(s>0){n.splice(Math.max(e.integerLen,s));for(let d=s;d<n.length;d++)n[d]=0}else{i=Math.max(0,i),e.integerLen=1,n.length=Math.max(1,s=o+1),n[0]=0;for(let d=1;d<s;d++)n[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)n.unshift(0),e.integerLen++;n.unshift(1),e.integerLen++}else n[s-1]++;for(;i<Math.max(0,o);i++)n.push(0);let l=o!==0,c=t+e.integerLen,u=n.reduceRight(function(d,f,h,m){return f=f+d,m[h]=f<10?f:f-10,l&&(m[h]===0&&h>=c?m.pop():l=!1),f>=10?1:0},0);u&&(n.unshift(u),e.integerLen++)}function V4(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function F1(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var j4=/\s+/,Gk=[],oi=(()=>{let t=class t{constructor(n,i,o,s){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=o,this._renderer=s,this.initialClasses=Gk,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(j4):Gk}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(j4):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(j4).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};t.\u0275fac=function(i){return new(i||t)(X(v1),X(Fh),X(Ye),X(ni))},t.\u0275dir=hn({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var $4=class{constructor(t,r,n,i){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Yt=(()=>{let t=class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(!1)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new $4(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let l=i.get(s);i.move(l,a),Yk(l,o)}});for(let o=0,s=i.length;o<s;o++){let l=i.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Yk(s,o)})}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(X(Fa),X(Kl),X(v1))},t.\u0275dir=hn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function Yk(e,t){e.context.$implicit=t.item}var mt=(()=>{let t=class t{constructor(n,i){this._viewContainer=n,this._context=new B4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Zk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Zk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}};t.\u0275fac=function(i){return new(i||t)(X(Fa),X(Kl))},t.\u0275dir=hn({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),B4=class{constructor(){this.$implicit=null,this.ngIf=null}};function Zk(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${_r(t)}'.`)}var nI=(()=>{let t=class t{constructor(n,i,o){this._ngEl=n,this._differs=i,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,i){let[o,s]=n.split("."),a=o.indexOf("-")===-1?void 0:Bo.DashCase;i!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,s?`${i}${s}`:i,a):this._renderer.removeStyle(this._ngEl.nativeElement,o,a)}_applyChanges(n){n.forEachRemovedItem(i=>this._setStyle(i.key,null)),n.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),n.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Fh),X(ni))},t.\u0275dir=hn({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})();function hne(e,t){return new ce(2100,!1)}function pne(e,t){return{key:e,value:t}}var rI=(()=>{let t=class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=Qk}transform(n,i=Qk){if(!n||!(n instanceof Map)&&typeof n!="object")return null;this.differ||(this.differ=this.differs.find(n).create());let o=this.differ.diff(n),s=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(a=>{this.keyValues.push(pne(a.key,a.currentValue))})),(o||s)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}};t.\u0275fac=function(i){return new(i||t)(X(Fh,16))},t.\u0275pipe=V_({name:"keyvalue",type:t,pure:!1,standalone:!0});let e=t;return e})();function Qk(e,t){let r=e.key,n=t.key;if(r===n)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(r===null)return 1;if(n===null)return-1;if(typeof r=="string"&&typeof n=="string")return r<n?-1:1;if(typeof r=="number"&&typeof n=="number")return r-n;if(typeof r=="boolean"&&typeof n=="boolean")return r<n?-1:1;let i=String(r),o=String(n);return i==o?0:i<o?-1:1}var iI=(()=>{let t=class t{constructor(n){this._locale=n}transform(n,i,o){if(!mne(n))return null;o=o||this._locale;try{let s=gne(n);return lne(s,o,i)}catch(s){throw hne(t,s.message)}}};t.\u0275fac=function(i){return new(i||t)(X(k1,16))},t.\u0275pipe=V_({name:"number",type:t,pure:!0,standalone:!0});let e=t;return e})();function mne(e){return!(e==null||e===""||e!==e)}function gne(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var L1=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})(),oI="browser",yne="server";function G4(e){return e===yne}var sI=(()=>{let t=class t{};t.\u0275prov=ue({token:t,providedIn:"root",factory:()=>new U4(re(Kn),window)});let e=t;return e})(),U4=class{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;let r=vne(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){let r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}};function vne(e,t){let r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=n.nextNode()}}return null}var Ku=class{};var Uh=class{},j1=class{},Bs=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(r=>{let n=r.indexOf(":");if(n>0){let i=r.slice(0,n),o=i.toLowerCase(),s=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){let r=new e;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){let r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,r);let i=(t.op==="a"?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":let o=t.value;if(!o)this.headers.delete(r),this.normalizedNames.delete(r);else{let s=this.headers.get(r);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,s)}break}}setHeaderEntries(t,r){let n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}};var Z4=class{encodeKey(t){return aI(t)}encodeValue(t){return aI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function wne(e,t){let r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=r.get(s)||[];l.push(a),r.set(s,l)}),r}var _ne=/%(\d[a-f0-9])/gi,Cne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aI(e){return encodeURIComponent(e).replace(_ne,(t,r)=>Cne[r]??t)}function V1(e){return`${e}`}var Va=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Z4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=wne(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{let n=t.fromObject[r],i=Array.isArray(n)?n.map(V1):[V1(n)];this.map.set(r,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){let r=[];return Object.keys(t).forEach(n=>{let i=t[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let r=new e({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let r=(t.op==="a"?this.map.get(t.param):void 0)||[];r.push(V1(t.value)),this.map.set(t.param,r);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],i=n.indexOf(V1(t.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Q4=class{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function Dne(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function lI(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function cI(e){return typeof Blob<"u"&&e instanceof Blob}function uI(e){return typeof FormData<"u"&&e instanceof FormData}function Sne(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Bh=class e{constructor(t,r,n,i){this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let o;if(Dne(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers||(this.headers=new Bs),this.context||(this.context=new Q4),!this.params)this.params=new Va,this.urlWithParams=r;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=r;else{let a=r.indexOf("?"),l=a===-1?"?":a<r.length-1?"&":"";this.urlWithParams=r+l+s}}}serializeBody(){return this.body===null?null:lI(this.body)||cI(this.body)||uI(this.body)||Sne(this.body)||typeof this.body=="string"?this.body:this.body instanceof Va?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||uI(this.body)?null:cI(this.body)?this.body.type||null:lI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Va?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let r=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=t.body!==void 0?t.body:this.body,s=t.withCredentials!==void 0?t.withCredentials:this.withCredentials,a=t.reportProgress!==void 0?t.reportProgress:this.reportProgress,l=t.headers||this.headers,c=t.params||this.params,u=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),c)),new e(r,n,o,{params:c,headers:l,context:u,reportProgress:a,responseType:i,withCredentials:s})}},Ju=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ju||{}),Hh=class{constructor(t,r=200,n="OK"){this.headers=t.headers||new Bs,this.status=t.status!==void 0?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},X4=class e extends Hh{constructor(t={}){super(t),this.type=Ju.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},z1=class e extends Hh{constructor(t={}){super(t),this.type=Ju.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},$1=class extends Hh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}};function Y4(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Wt=(()=>{let t=class t{constructor(n){this.handler=n}request(n,i,o={}){let s;if(n instanceof Bh)s=n;else{let c;o.headers instanceof Bs?c=o.headers:c=new Bs(o.headers);let u;o.params&&(o.params instanceof Va?u=o.params:u=new Va({fromObject:o.params})),s=new Bh(n,i,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Pe(s).pipe(Ro(c=>this.handler.handle(c)));if(n instanceof Bh||o.observe==="events")return a;let l=a.pipe(Vn(c=>c instanceof z1));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(ve(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(ve(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(ve(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(ve(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Va().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,Y4(o,i))}post(n,i,o={}){return this.request("POST",n,Y4(o,i))}put(n,i,o={}){return this.request("PUT",n,Y4(o,i))}};t.\u0275fac=function(i){return new(i||t)(re(Uh))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function pI(e,t){return t(e)}function Mne(e,t){return(r,n)=>t.intercept(r,{handle:i=>e(i,n)})}function Ene(e,t,r){return(n,i)=>r.runInContext(()=>t(n,o=>e(o,i)))}var Tne=new ae(""),K4=new ae(""),kne=new ae(""),Ine=new ae("");function Ane(){let e=null;return(t,r)=>{e===null&&(e=(he(Tne,{optional:!0})??[]).reduceRight(Mne,pI));let n=he(Xu),i=n.add();return e(t,r).pipe(Rs(()=>n.remove(i)))}}var dI=(()=>{let t=class t extends Uh{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=he(Xu);let o=he(Ine,{optional:!0});this.backend=o??n}handle(n){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(K4),...this.injector.get(kne,[])]));this.chain=o.reduceRight((s,a)=>Ene(s,a,this.injector),pI)}let i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(Rs(()=>this.pendingTasks.remove(i)))}};t.\u0275fac=function(i){return new(i||t)(re(j1),re(Lr))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();var One=/^\)\]\}',?\n/;function Pne(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var fI=(()=>{let t=class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new ce(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?cn(i.\u0275loadImpl()):Pe(null)).pipe(wr(()=>new Ke(s=>{let a=i.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((g,x)=>a.setRequestHeader(g,x.join(","))),n.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let g=n.detectContentTypeHeader();g!==null&&a.setRequestHeader("Content-Type",g)}if(n.responseType){let g=n.responseType.toLowerCase();a.responseType=g!=="json"?g:"text"}let l=n.serializeBody(),c=null,u=()=>{if(c!==null)return c;let g=a.statusText||"OK",x=new Bs(a.getAllResponseHeaders()),C=Pne(a)||n.url;return c=new X4({headers:x,status:a.status,statusText:g,url:C}),c},d=()=>{let{headers:g,status:x,statusText:C,url:w}=u(),b=null;x!==204&&(b=typeof a.response>"u"?a.responseText:a.response),x===0&&(x=b?200:0);let I=x>=200&&x<300;if(n.responseType==="json"&&typeof b=="string"){let T=b;b=b.replace(One,"");try{b=b!==""?JSON.parse(b):null}catch(z){b=T,I&&(I=!1,b={error:z,text:b})}}I?(s.next(new z1({body:b,headers:g,status:x,statusText:C,url:w||void 0})),s.complete()):s.error(new $1({error:b,headers:g,status:x,statusText:C,url:w||void 0}))},f=g=>{let{url:x}=u(),C=new $1({error:g,status:a.status||0,statusText:a.statusText||"Unknown Error",url:x||void 0});s.error(C)},h=!1,m=g=>{h||(s.next(u()),h=!0);let x={type:Ju.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(x.total=g.total),n.responseType==="text"&&a.responseText&&(x.partialText=a.responseText),s.next(x)},y=g=>{let x={type:Ju.UploadProgress,loaded:g.loaded};g.lengthComputable&&(x.total=g.total),s.next(x)};return a.addEventListener("load",d),a.addEventListener("error",f),a.addEventListener("timeout",f),a.addEventListener("abort",f),n.reportProgress&&(a.addEventListener("progress",m),l!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(l),s.next({type:Ju.Sent}),()=>{a.removeEventListener("error",f),a.removeEventListener("abort",f),a.removeEventListener("load",d),a.removeEventListener("timeout",f),n.reportProgress&&(a.removeEventListener("progress",m),l!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};t.\u0275fac=function(i){return new(i||t)(re(Ku))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),mI=new ae("XSRF_ENABLED"),Nne="XSRF-TOKEN",Rne=new ae("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>Nne}),Fne="X-XSRF-TOKEN",Lne=new ae("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Fne}),B1=class{},Vne=(()=>{let t=class t{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=F1(n,this.cookieName),this.lastCookieString=n),this.lastToken}};t.\u0275fac=function(i){return new(i||t)(re(Kn),re(Ls),re(Rne))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function jne(e,t){let r=e.url.toLowerCase();if(!he(mI)||e.method==="GET"||e.method==="HEAD"||r.startsWith("http://")||r.startsWith("https://"))return t(e);let n=he(B1).getToken(),i=he(Lne);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),t(e)}var gI=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(gI||{});function zne(e,t){return{\u0275kind:e,\u0275providers:t}}function $ne(...e){let t=[Wt,fI,dI,{provide:Uh,useExisting:dI},{provide:j1,useExisting:fI},{provide:K4,useValue:jne,multi:!0},{provide:mI,useValue:!0},{provide:B1,useClass:Vne}];for(let r of e)t.push(...r.\u0275providers);return Wu(t)}var hI=new ae("LEGACY_INTERCEPTOR_FN");function Bne(){return zne(gI.LegacyInterceptors,[{provide:hI,useFactory:Ane},{provide:K4,useExisting:hI,multi:!0}])}var yI=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({providers:[$ne(Bne())]});let e=t;return e})();var t5=class extends N1{constructor(){super(...arguments),this.supportsDOMEvents=!0}},n5=class e extends t5{static makeCurrent(){Xk(new e)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=Une();return r==null?null:Hne(r)}resetBaseElement(){qh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return F1(document.cookie,t)}},qh=null;function Une(){return qh=qh||document.querySelector("base"),qh?qh.getAttribute("href"):null}var U1;function Hne(e){U1=U1||document.createElement("a"),U1.setAttribute("href",e);let t=U1.pathname;return t.charAt(0)==="/"?t:`/${t}`}var r5=class{addToWindow(t){jn.getAngularTestability=(n,i=!0)=>{let o=t.findTestabilityInTree(n,i);if(o==null)throw new ce(5103,!1);return o},jn.getAllAngularTestabilities=()=>t.getAllTestabilities(),jn.getAllAngularRootElements=()=>t.getAllRootElements();let r=n=>{let i=jn.getAllAngularTestabilities(),o=i.length,s=!1,a=function(l){s=s||l,o--,o==0&&n(s)};i.forEach(l=>{l.whenStable(a)})};jn.frameworkStabilizers||(jn.frameworkStabilizers=[]),jn.frameworkStabilizers.push(r)}findTestabilityInTree(t,r,n){if(r==null)return null;let i=t.getTestability(r);return i??(n?Ho().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},qne=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),i5=new ae("EventManagerPlugins"),bI=(()=>{let t=class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new ce(5101,!1);return this._eventNameToPlugin.set(n,i),i}};t.\u0275fac=function(i){return new(i||t)(re(i5),re(Rt))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),H1=class{constructor(t){this._doc=t}},J4="ng-app-id",wI=(()=>{let t=class t{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=G4(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${J4}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(J4),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(J4,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(re(Kn),re(f1),re(s4,8),re(Ls))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),e5={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s5=/%COMP%/g,_I="%COMP%",Wne=`_nghost-${_I}`,Gne=`_ngcontent-${_I}`,Yne=!0,Zne=new ae("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>Yne});function Qne(e){return Gne.replace(s5,e)}function Xne(e){return Wne.replace(s5,e)}function CI(e,t){return t.map(r=>r.replace(s5,e))}var q1=(()=>{let t=class t{constructor(n,i,o,s,a,l,c,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=G4(l),this.defaultRenderer=new Wh(n,a,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===zo.ShadowDom&&(i=Se(ne({},i),{encapsulation:zo.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof W1?o.applyToHost(n):o instanceof Gh&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case zo.Emulated:s=new W1(c,u,i,this.appId,d,a,l,f);break;case zo.ShadowDom:return new o5(c,u,n,i,a,l,this.nonce,f);default:s=new Gh(c,u,i,d,a,l,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(re(bI),re(wI),re(f1),re(Zne),re(Kn),re(Ls),re(Rt),re(s4))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),Wh=class{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(e5[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(vI(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(vI(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new ce(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;let o=e5[i];o?t.setAttributeNS(o,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){let i=e5[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(Bo.DashCase|Bo.Important)?t.style.setProperty(r,n,i&Bo.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Bo.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t!=null&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if(typeof t=="string"&&(t=Ho().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function vI(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var o5=class extends Wh{constructor(t,r,n,i,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=CI(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gh=class extends Wh{constructor(t,r,n,i,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=l?CI(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},W1=class extends Gh{constructor(t,r,n,i,o,s,a,l){let c=i+"-"+n.id;super(t,r,n,o,s,a,l,c),this.contentAttr=Qne(c),this.hostAttr=Xne(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}},Kne=(()=>{let t=class t extends H1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(re(Kn))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),xI=["alt","control","meta","shift"],Jne={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ere={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},tre=(()=>{let t=class t extends H1{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,o){let s=t.parseEventName(i),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ho().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),xI.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(n,i){let o=Jne[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),xI.forEach(a=>{if(a!==o){let l=ere[a];l(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(i){return new(i||t)(re(Kn))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function nre(){n5.makeCurrent()}function rre(){return new Ni}function ire(){return fT(document),document}var ore=[{provide:Ls,useValue:oI},{provide:i4,useValue:nre,multi:!0},{provide:Kn,useFactory:ire,deps:[]}],DI=R4($k,"browser",ore),sre=new ae(""),are=[{provide:jh,useClass:r5,deps:[]},{provide:P4,useClass:A1,deps:[Rt,O1,jh]},{provide:A1,useClass:A1,deps:[Rt,O1,jh]}],lre=[{provide:d1,useValue:"root"},{provide:Ni,useFactory:rre,deps:[]},{provide:i5,useClass:Kne,multi:!0,deps:[Kn,Rt,Ls]},{provide:i5,useClass:tre,multi:!0,deps:[Kn]},q1,wI,bI,{provide:Yl,useExisting:q1},{provide:Ku,useClass:qne,deps:[]},[]],G1=(()=>{let t=class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:f1,useValue:n.appId}]}}};t.\u0275fac=function(i){return new(i||t)(re(sre,12))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({providers:[...lre,...are],imports:[L1,Bk]});let e=t;return e})();function cre(){return new a5(re(Kn))}var a5=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(i){return new(i||t)(re(Kn))},t.\u0275prov=ue({token:t,factory:function(i){let o=null;return i?o=new i:o=cre(),o},providedIn:"root"});let e=t;return e})();function l5(e,t){let r=!t?.manualCleanup;r&&!t?.injector&&r4(l5);let n=r?t?.injector?.get(Lh)??he(Lh):null,i;t?.requireSync?i=p4({kind:0}):i=p4({kind:1,value:t?.initialValue});let o=e.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(t?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),y1(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new ce(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var f5={};function qo(e,t){if(f5[e]=(f5[e]||0)+1,typeof t=="function")return c5(e,(...n)=>Se(ne({},t(...n)),{type:e}));switch(t?t._as:"empty"){case"empty":return c5(e,()=>({type:e}));case"props":return c5(e,n=>Se(ne({},n),{type:e}));default:throw new Error("Unexpected config.")}}function ed(){return{_as:"props",_p:void 0}}function c5(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}var $I="@ngrx/store/init",td=(()=>{let t=class t extends qt{constructor(){super({type:$I})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),ure=[td],BI=new ae("@ngrx/store Internal Root Guard"),MI=new ae("@ngrx/store Internal Initial State"),g5=new ae("@ngrx/store Initial State"),UI=new ae("@ngrx/store Reducer Factory"),EI=new ae("@ngrx/store Internal Reducer Factory Provider"),HI=new ae("@ngrx/store Initial Reducers"),u5=new ae("@ngrx/store Internal Initial Reducers"),TI=new ae("@ngrx/store Store Features"),kI=new ae("@ngrx/store Internal Store Reducers"),d5=new ae("@ngrx/store Internal Feature Reducers"),II=new ae("@ngrx/store Internal Feature Configs"),qI=new ae("@ngrx/store Internal Store Features"),AI=new ae("@ngrx/store Internal Feature Reducers Token"),WI=new ae("@ngrx/store Feature Reducers"),OI=new ae("@ngrx/store User Provided Meta Reducers"),Y1=new ae("@ngrx/store Meta Reducers"),PI=new ae("@ngrx/store Internal Resolved Meta Reducers"),NI=new ae("@ngrx/store User Runtime Checks Config"),RI=new ae("@ngrx/store Internal User Runtime Checks Config"),Yh=new ae("@ngrx/store Internal Runtime Checks"),y5=new ae("@ngrx/store Check if Action types are unique"),dre=new ae("@ngrx/store Root Store Provider"),fre=new ae("@ngrx/store Feature State Provider");function v5(e,t={}){let r=Object.keys(e),n={};for(let o=0;o<r.length;o++){let s=r[o];typeof e[s]=="function"&&(n[s]=e[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?t:s;let l=!1,c={};for(let u=0;u<i.length;u++){let d=i[u],f=n[d],h=s[d],m=f(h,a);c[d]=m,l=l||m!==h}return l?c:s}}function hre(e,t){return Object.keys(e).filter(r=>r!==t).reduce((r,n)=>Object.assign(r,{[n]:e[n]}),{})}function GI(...e){return function(t){if(e.length===0)return t;let r=e[e.length-1];return e.slice(0,-1).reduceRight((i,o)=>o(i),r(t))}}function YI(e,t){return Array.isArray(t)&&t.length>0&&(e=GI.apply(null,[...t,e])),(r,n)=>{let i=e(r);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function pre(e){let t=Array.isArray(e)&&e.length>0?GI(...e):r=>r;return(r,n)=>(r=t(r),(i,o)=>(i=i===void 0?n:i,r(i,o)))}var Zh=class extends Ke{},Z1=class extends td{},mre="@ngrx/store/update-reducers",Q1=(()=>{let t=class t extends qt{get currentReducers(){return this.reducers}constructor(n,i,o,s){super(s(o,i)),this.dispatcher=n,this.initialState=i,this.reducers=o,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let i=n.reduce((o,{reducers:s,reducerFactory:a,metaReducers:l,initialState:c,key:u})=>{let d=typeof s=="function"?pre(l)(s,c):YI(a,l)(s,c);return o[u]=d,o},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers=ne(ne({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=hre(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:mre,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(i){return new(i||t)(re(Z1),re(g5),re(HI),re(UI))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),gre=[Q1,{provide:Zh,useExisting:Q1},{provide:Z1,useExisting:td}],Qh=(()=>{let t=class t extends zt{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),yre=[Qh],X1=class extends Ke{},FI=(()=>{let t=class t extends qt{constructor(n,i,o,s){super(s);let l=n.pipe(Vl(sw)).pipe(_w(i)),c={state:s},u=l.pipe(yh(vre,c));this.stateSubscription=u.subscribe(({state:d,action:f})=>{this.next(d),o.next(f)}),this.state=l5(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=$I,t.\u0275fac=function(i){return new(i||t)(re(td),re(Zh),re(Qh),re(g5))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function vre(e={state:void 0},[t,r]){let{state:n}=e;return{state:r(n,t),action:t}}var xre=[FI,{provide:X1,useExisting:FI}],go=(()=>{let t=class t extends Ke{constructor(n,i,o){super(),this.actionsObserver=i,this.reducerManager=o,this.source=n,this.state=n.state}select(n,...i){return wre.call(null,n,...i)(this)}selectSignal(n,i){return y1(()=>n(this.state()),i)}lift(n){let i=new t(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}};t.\u0275fac=function(i){return new(i||t)(re(X1),re(td),re(Q1))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),bre=[go];function wre(e,t,...r){return function(i){let o;if(typeof e=="string"){let s=[t,...r].filter(Boolean);o=i.pipe(vw(e,...s))}else if(typeof e=="function")o=i.pipe(ve(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(so())}}var x5="https://ngrx.io/guide/store/configuration/runtime-checks";function LI(e){return e===void 0}function VI(e){return e===null}function ZI(e){return Array.isArray(e)}function _re(e){return typeof e=="string"}function Cre(e){return typeof e=="boolean"}function Dre(e){return typeof e=="number"}function QI(e){return typeof e=="object"&&e!==null}function Sre(e){return QI(e)&&!ZI(e)}function Mre(e){if(!Sre(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function h5(e){return typeof e=="function"}function Ere(e){return h5(e)&&e.hasOwnProperty("\u0275cmp")}function Tre(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var kre=!1;function Ire(){return kre}function jI(e,t){return e===t}function Are(e,t,r){for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!0;return!1}function XI(e,t=jI,r=jI){let n=null,i=null,o;function s(){n=null,i=null}function a(u=void 0){o={result:u}}function l(){o=void 0}function c(){if(o!==void 0)return o.result;if(!n)return i=e.apply(null,arguments),n=arguments,i;if(!Are(arguments,n,t))return i;let u=e.apply(null,arguments);return n=arguments,r(i,u)?i:(i=u,u)}return{memoized:c,reset:s,setResult:a,clearResult:l}}function yo(...e){return Pre(XI)(...e)}function Ore(e,t,r,n){if(r===void 0){let o=t.map(s=>s(e));return n.memoized.apply(null,o)}let i=t.map(o=>o(e,r));return n.memoized.apply(null,[...i,r])}function Pre(e,t={stateFn:Ore}){return function(...r){let n=r;if(Array.isArray(n[0])){let[u,...d]=n;n=[...u,...d]}else n.length===1&&Nre(n[0])&&(n=Rre(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=e(function(...u){return o.apply(null,u)}),l=XI(function(u,d){return t.stateFn.apply(null,[u,i,d,a])});function c(){l.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(l.memoized,{release:c,projector:a.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function K1(e){return yo(t=>{let r=t[e];return!Ire()&&F4()&&!(e in t)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),r},t=>t)}function Nre(e){return!!e&&typeof e=="object"&&Object.values(e).every(t=>typeof t=="function")}function Rre(e){let t=Object.values(e),r=Object.keys(e),n=(...i)=>r.reduce((o,s,a)=>Se(ne({},o),{[s]:i[a]}),{});return[...t,n]}function Fre(e){return e instanceof ae?he(e):e}function Lre(e,t){return t.map((r,n)=>{if(e[n]instanceof ae){let i=he(e[n]);return{key:r.key,reducerFactory:i.reducerFactory?i.reducerFactory:v5,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return r})}function Vre(e){return e.map(t=>t instanceof ae?he(t):t)}function KI(e){return typeof e=="function"?e():e}function jre(e,t){return e.concat(t)}function zre(){if(he(go,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function $re(e,t){return function(r,n){let i=t.action(n)?p5(n):n,o=e(r,i);return t.state()?p5(o):o}}function p5(e){Object.freeze(e);let t=h5(e);return Object.getOwnPropertyNames(e).forEach(r=>{if(!r.startsWith("\u0275")&&Tre(e,r)&&(!t||r!=="caller"&&r!=="callee"&&r!=="arguments")){let n=e[r];(QI(n)||h5(n))&&!Object.isFrozen(n)&&p5(n)}}),e}function Bre(e,t){return function(r,n){if(t.action(n)){let o=m5(n);zI(o,"action")}let i=e(r,n);if(t.state()){let o=m5(i);zI(o,"state")}return i}}function m5(e,t=[]){return(LI(e)||VI(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,i)=>{if(n)return n;let o=e[i];return Ere(o)?n:LI(o)||VI(o)||Dre(o)||Cre(o)||_re(o)||ZI(o)?!1:Mre(o)?m5(o,[...t,i]):{path:[...t,i],value:o}},!1)}function zI(e,t){if(e===!1)return;let r=e.path.join("."),n=new Error(`Detected unserializable ${t} at "${r}". ${x5}#strict${t}serializability`);throw n.value=e.value,n.unserializablePath=r,n}function Ure(e,t){return function(r,n){if(t.action(n)&&!Rt.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${x5}#strictactionwithinngzone`);return e(r,n)}}function Hre(e){return F4()?ne({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function qre({strictActionSerializability:e,strictStateSerializability:t}){return r=>e||t?Bre(r,{action:n=>e&&!b5(n),state:()=>t}):r}function Wre({strictActionImmutability:e,strictStateImmutability:t}){return r=>e||t?$re(r,{action:n=>e&&!b5(n),state:()=>t}):r}function b5(e){return e.type.startsWith("@ngrx")}function Gre({strictActionWithinNgZone:e}){return t=>e?Ure(t,{action:r=>e&&!b5(r)}):t}function Yre(e){return[{provide:RI,useValue:e},{provide:NI,useFactory:Zre,deps:[RI]},{provide:Yh,deps:[NI],useFactory:Hre},{provide:Y1,multi:!0,deps:[Yh],useFactory:Wre},{provide:Y1,multi:!0,deps:[Yh],useFactory:qre},{provide:Y1,multi:!0,deps:[Yh],useFactory:Gre}]}function JI(){return[{provide:y5,multi:!0,deps:[Yh],useFactory:Qre}]}function Zre(e){return e}function Qre(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(f5).filter(([,r])=>r>1).map(([r])=>r);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(r=>`"${r}"`).join(", ")}. ${x5}#strictactiontypeuniqueness`)}function Xre(e={},t={}){return[{provide:BI,useFactory:zre},{provide:MI,useValue:t.initialState},{provide:g5,useFactory:KI,deps:[MI]},{provide:u5,useValue:e},{provide:kI,useExisting:e instanceof ae?e:u5},{provide:HI,deps:[u5,[new e4(kI)]],useFactory:Fre},{provide:OI,useValue:t.metaReducers?t.metaReducers:[]},{provide:PI,deps:[Y1,OI],useFactory:jre},{provide:EI,useValue:t.reducerFactory?t.reducerFactory:v5},{provide:UI,deps:[EI,PI],useFactory:YI},ure,gre,yre,xre,bre,Yre(t.runtimeChecks),JI()]}function Kre(e,t,r={}){return[{provide:II,multi:!0,useValue:e instanceof Object?{}:r},{provide:TI,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(r instanceof ae)&&r.reducerFactory?r.reducerFactory:v5,metaReducers:!(r instanceof ae)&&r.metaReducers?r.metaReducers:[],initialState:!(r instanceof ae)&&r.initialState?r.initialState:void 0}},{provide:qI,deps:[II,TI],useFactory:Lre},{provide:d5,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:AI,multi:!0,useExisting:t instanceof ae?t:d5},{provide:WI,multi:!0,deps:[d5,[new e4(AI)]],useFactory:Vre},JI()]}var Xh=(()=>{let t=class t{constructor(n,i,o,s,a,l){}};t.\u0275fac=function(i){return new(i||t)(re(td),re(Zh),re(Qh),re(go),re(BI,8),re(y5,8))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})(),J1=(()=>{let t=class t{constructor(n,i,o,s,a){this.features=n,this.featureReducers=i,this.reducerManager=o;let l=n.map((c,u)=>{let f=i.shift()[u];return Se(ne({},c),{reducers:f,initialState:KI(c.initialState)})});o.addFeatures(l)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}};t.\u0275fac=function(i){return new(i||t)(re(qI),re(WI),re(Q1),re(Xh),re(y5,8))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})(),w5=(()=>{let t=class t{static forRoot(n,i){return{ngModule:Xh,providers:[...Xre(n,i)]}}static forFeature(n,i,o={}){return{ngModule:J1,providers:[...Kre(n,i,o)]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})();function ja(...e){let t=e.pop(),r=e.map(n=>n.type);return{reducer:t,types:r}}function eA(e,...t){let r=new Map;for(let n of t)for(let i of n.types){let o=r.get(i);if(o){let s=(a,l)=>n.reducer(o(a,l),l);r.set(i,s)}else r.set(i,n.reducer)}return function(n=e,i){let o=r.get(i.type);return o?o(n,i):n}}var Jre={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},ty="__@ngrx/effects_create__";function Kh(e,t={}){let r=t.functional?e:e(),n=ne(ne({},Jre),t);return Object.defineProperty(r,ty,{value:n}),r}function eie(e){return Object.getOwnPropertyNames(e).filter(n=>e[n]&&e[n].hasOwnProperty(ty)?e[n][ty].hasOwnProperty("dispatch"):!1).map(n=>{let i=e[n][ty];return ne({propertyName:n},i)})}function tie(e){return eie(e)}function iA(e){return Object.getPrototypeOf(e)}function nie(e){return!!e.constructor&&e.constructor.name!=="Object"&&e.constructor.name!=="Function"}function oA(e){return typeof e=="function"}function tA(e){return e.filter(oA)}function rie(e){return e instanceof ae||oA(e)}function iie(e,t,r){let n=iA(e),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=tie(e).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:c})=>{let u=typeof e[a]=="function"?e[a]():e[a],d=c?r(u,t):u;return l===!1?d.pipe(hw()):d.pipe(yw()).pipe(ve(h=>({effect:e[a],notification:h,propertyName:a,sourceName:o,sourceInstance:e})))});return Eu(...s)}var oie=10;function sA(e,t,r=oie){return e.pipe(On(n=>(t&&t.handleError(n),r<=1?e:sA(e,t,r-1))))}var ny=(()=>{let t=class t extends Ke{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}};t.\u0275fac=function(i){return new(i||t)(re(Qh))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Jh(...e){return Vn(t=>e.some(r=>typeof r=="string"?r===t.type:r.type===t.type))}var aA=new ae("@ngrx/effects Internal Root Guard"),ey=new ae("@ngrx/effects User Provided Effects"),C5=new ae("@ngrx/effects Internal Root Effects"),lA=new ae("@ngrx/effects Internal Root Effects Instances"),nA=new ae("@ngrx/effects Internal Feature Effects"),cA=new ae("@ngrx/effects Internal Feature Effects Instance Groups"),sie=new ae("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>sA}),uA="@ngrx/effects/init",NCe=qo(uA);function aie(e,t){if(e.notification.kind==="N"){let r=e.notification.value;!lie(r)&&t.handleError(new Error(`Effect ${cie(e)} dispatched an invalid action: ${uie(r)}`))}}function lie(e){return typeof e!="function"&&e&&e.type&&typeof e.type=="string"}function cie({propertyName:e,sourceInstance:t,sourceName:r}){let n=typeof t[e]=="function";return!!r?`"${r}.${String(e)}${n?"()":""}"`:`"${String(e)}()"`}function uie(e){try{return JSON.stringify(e)}catch{return e}}var die="ngrxOnIdentifyEffects";function fie(e){return D5(e,die)}var hie="ngrxOnRunEffects";function pie(e){return D5(e,hie)}var mie="ngrxOnInitEffects";function gie(e){return D5(e,mie)}function D5(e,t){return e&&t in e&&typeof e[t]=="function"}var dA=(()=>{let t=class t extends zt{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(m0(n=>nie(n)?iA(n):n),Gt(n=>n.pipe(m0(yie))),Gt(n=>{let i=n.pipe(p0(s=>vie(this.errorHandler,this.effectsErrorHandler)(s)),ve(s=>(aie(s,this.errorHandler),s.notification)),Vn(s=>s.kind==="N"&&s.value!=null),mw()),o=n.pipe(oo(1),Vn(gie),ve(s=>s.ngrxOnInitEffects()));return Eu(i,o)}))}};t.\u0275fac=function(i){return new(i||t)(re(Ni),re(sie))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function yie(e){return fie(e)?e.ngrxOnIdentifyEffects():""}function vie(e,t){return r=>{let n=iie(r,e,t);return pie(r)?r.ngrxOnRunEffects(n):n}}var fA=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(i){return new(i||t)(re(dA),re(go))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),hA=(()=>{let t=class t{constructor(n,i,o,s,a,l,c){this.sources=n,i.start();for(let u of s)n.addEffects(u);o.dispatch({type:uA})}addEffects(n){this.sources.addEffects(n)}};t.\u0275fac=function(i){return new(i||t)(re(dA),re(fA),re(go),re(lA),re(Xh,8),re(J1,8),re(aA,8))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})(),xie=(()=>{let t=class t{constructor(n,i,o,s){let a=i.flat();for(let l of a)n.addEffects(l)}};t.\u0275fac=function(i){return new(i||t)(re(hA),re(cA),re(Xh,8),re(J1,8))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})(),S5=(()=>{let t=class t{static forFeature(...n){let i=n.flat(),o=tA(i);return{ngModule:xie,providers:[o,{provide:nA,multi:!0,useValue:i},{provide:ey,multi:!0,useValue:[]},{provide:cA,multi:!0,useFactory:rA,deps:[nA,ey]}]}}static forRoot(...n){let i=n.flat(),o=tA(i);return{ngModule:hA,providers:[o,{provide:C5,useValue:[i]},{provide:aA,useFactory:bie},{provide:ey,multi:!0,useValue:[]},{provide:lA,useFactory:rA,deps:[C5,ey]}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})();function rA(e,t){let r=[];for(let n of e)r.push(...n);for(let n of t)r.push(...n);return r.map(n=>rie(n)?he(n):n)}function bie(){let e=he(fA,{optional:!0,skipSelf:!0}),t=he(C5,{self:!0});if(!(t.length===1&&t[0].length===0)&&e)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}var CA=(()=>{let t=class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(i){return new(i||t)(X(ni),X(Ye))},t.\u0275dir=hn({type:t});let e=t;return e})(),rd=(()=>{let t=class t extends CA{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275dir=hn({type:t,features:[ri]});let e=t;return e})(),$a=new ae("NgValueAccessor"),wie={provide:$a,useExisting:ho(()=>I5),multi:!0},I5=(()=>{let t=class t extends rd{writeValue(n){this.setProperty("checked",n)}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275dir=hn({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&te("change",function(a){return o.onChange(a.target.checked)})("blur",function(){return o.onTouched()})},features:[Vr([wie]),ri]});let e=t;return e})(),_ie={provide:$a,useExisting:ho(()=>si),multi:!0};function Cie(){let e=Ho()?Ho().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Die=new ae("CompositionEventMode"),si=(()=>{let t=class t extends CA{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Cie())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(i){return new(i||t)(X(ni),X(Ye),X(Die,8))},t.\u0275dir=hn({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&te("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Vr([_ie]),ri]});let e=t;return e})();var DA=new ae("NgValidators"),SA=new ae("NgAsyncValidators");function MA(e){return e!=null}function EA(e){return nc(e)?cn(e):e}function TA(e){let t={};return e.forEach(r=>{t=r!=null?ne(ne({},t),r):t}),Object.keys(t).length===0?null:t}function kA(e,t){return t.map(r=>r(e))}function Sie(e){return!e.validate}function IA(e){return e.map(t=>Sie(t)?t:r=>t.validate(r))}function Mie(e){if(!e)return null;let t=e.filter(MA);return t.length==0?null:function(r){return TA(kA(r,t))}}function AA(e){return e!=null?Mie(IA(e)):null}function Eie(e){if(!e)return null;let t=e.filter(MA);return t.length==0?null:function(r){let n=kA(r,t).map(EA);return dw(n).pipe(ve(TA))}}function OA(e){return e!=null?Eie(IA(e)):null}function mA(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function PA(e){return e._rawValidators}function NA(e){return e._rawAsyncValidators}function M5(e){return e?Array.isArray(e)?e:[e]:[]}function iy(e,t){return Array.isArray(e)?e.includes(t):e===t}function gA(e,t){let r=M5(t);return M5(e).forEach(i=>{iy(r,i)||r.push(i)}),r}function yA(e,t){return M5(t).filter(r=>!iy(e,r))}var oy=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=AA(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=OA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return this.control?this.control.hasError(t,r):!1}getError(t,r){return this.control?this.control.getError(t,r):null}},E5=class extends oy{get formDirective(){return null}get path(){return null}},za=class extends oy{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},T5=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Tie={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XCe=Se(ne({},Tie),{"[class.ng-submitted]":"isSubmitted"}),ai=(()=>{let t=class t extends T5{constructor(n){super(n)}};t.\u0275fac=function(i){return new(i||t)(X(za,2))},t.\u0275dir=hn({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&rn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[ri]});let e=t;return e})();var ep="VALID",ry="INVALID",nd="PENDING",tp="DISABLED";function kie(e){return(ay(e)?e.validators:e)||null}function Iie(e){return Array.isArray(e)?AA(e):e||null}function Aie(e,t){return(ay(t)?t.asyncValidators:e)||null}function Oie(e){return Array.isArray(e)?OA(e):e||null}function ay(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var k5=class{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ep}get invalid(){return this.status===ry}get pending(){return this.status==nd}get disabled(){return this.status===tp}get enabled(){return this.status!==tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(gA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(gA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yA(t,this._rawAsyncValidators))}hasValidator(t){return iy(this._rawValidators,t)}hasAsyncValidator(t){return iy(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=nd,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=tp,this.errors=null,this._forEachChild(n=>{n.disable(Se(ne({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Se(ne({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let r=this._parentMarkedDirty(t.onlySelf);this.status=ep,this._forEachChild(n=>{n.enable(Se(ne({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Se(ne({},t),{skipPristineCheck:r})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ep||this.status===nd)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tp:ep}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=nd,this._hasOwnPendingAsyncValidator=!0;let r=EA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(r.emitEvent!==!1)}get(t){let r=t;return r==null||(Array.isArray(r)||(r=r.split(".")),r.length===0)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(t,r){let n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?tp:this.errors?ry:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nd)?nd:this._anyControlsHaveStatus(ry)?ry:ep}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ay(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let r=this._parent&&this._parent.dirty;return!t&&!!r&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Iie(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Oie(this._rawAsyncValidators)}};var np=new ae("CallSetDisabledState",{providedIn:"root",factory:()=>rp}),rp="always";function Pie(e,t){return[...t.path,e]}function RA(e,t,r=rp){Rie(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||r==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Lie(e,t),jie(e,t),Vie(e,t),Nie(e,t)}function vA(e,t,r=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Fie(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function sy(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function Nie(e,t){if(t.valueAccessor.setDisabledState){let r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}function Rie(e,t){let r=PA(e);t.validator!==null?e.setValidators(mA(r,t.validator)):typeof r=="function"&&e.setValidators([r]);let n=NA(e);t.asyncValidator!==null?e.setAsyncValidators(mA(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let i=()=>e.updateValueAndValidity();sy(t._rawValidators,i),sy(t._rawAsyncValidators,i)}function Fie(e,t){let r=!1;if(e!==null){if(t.validator!==null){let i=PA(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.validator);o.length!==i.length&&(r=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=NA(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(r=!0,e.setAsyncValidators(o))}}}let n=()=>{};return sy(t._rawValidators,n),sy(t._rawAsyncValidators,n),r}function Lie(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&FA(e,t)})}function Vie(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&FA(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function FA(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function jie(e,t){let r=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}function LA(e,t){if(!e.hasOwnProperty("model"))return!1;let r=e.model;return r.isFirstChange()?!0:!Object.is(t,r.currentValue)}function zie(e){return Object.getPrototypeOf(e.constructor)===rd}function VA(e,t){if(!t)return null;Array.isArray(t);let r,n,i;return t.forEach(o=>{o.constructor===si?r=o:zie(o)?n=o:i=o}),i||n||r||null}function xA(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function bA(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var A5=class extends k5{constructor(t=null,r,n){super(kie(r),Aie(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ay(r)&&(r.nonNullable||r.initialValueIsDefault)&&(bA(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&r.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,r.emitViewToModelChange!==!1)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){xA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){xA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){bA(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var $ie={provide:za,useExisting:ho(()=>Ci)},wA=(()=>Promise.resolve())(),Ci=(()=>{let t=class t extends za{constructor(n,i,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new A5,this._registered=!1,this.name="",this.update=new yt,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=VA(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),LA(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){RA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wA.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,o=i!==0&&ic(i);wA.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Pie(n,this._parent):[n]}};t.\u0275fac=function(i){return new(i||t)(X(E5,9),X(DA,10),X(SA,10),X($a,10),X(Na,8),X(np,8))},t.\u0275dir=hn({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Vr([$ie]),ri,wn]});let e=t;return e})();var Bie={provide:$a,useExisting:ho(()=>oc),multi:!0};var jA=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})(),Uie=(()=>{let t=class t{constructor(){this._accessors=[]}add(n,i){this._accessors.push([n,i])}remove(n){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===n){this._accessors.splice(i,1);return}}select(n){this._accessors.forEach(i=>{this._isSameGroup(i,n)&&i[1]!==n&&i[1].fireUncheck(n.value)})}_isSameGroup(n,i){return n[0].control?n[0]._parent===i._control._parent&&n[1].name===i.name:!1}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:jA});let e=t;return e})(),oc=(()=>{let t=class t extends rd{constructor(n,i,o,s){super(n,i),this._registry=o,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=he(np,{optional:!0})??rp}ngOnInit(){this._control=this._injector.get(za),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};t.\u0275fac=function(i){return new(i||t)(X(ni),X(Ye),X(Uie),X(ti))},t.\u0275dir=hn({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,o){i&1&&te("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Vr([Bie]),ri]});let e=t;return e})(),Hie={provide:$a,useExisting:ho(()=>O5),multi:!0},O5=(()=>{let t=class t extends rd{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275dir=hn({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(i,o){i&1&&te("change",function(a){return o.onChange(a.target.value)})("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[Vr([Hie]),ri]});let e=t;return e})(),zA=new ae("NgModelWithFormControlWarning"),qie={provide:za,useExisting:ho(()=>P5)},P5=(()=>{let t=class t extends za{set isDisabled(n){}constructor(n,i,o,s,a){super(),this._ngModelWarningConfig=s,this.callSetDisabledState=a,this.update=new yt,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=VA(this,o)}ngOnChanges(n){if(this._isControlChanged(n)){let i=n.form.previousValue;i&&vA(i,this,!1),RA(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}LA(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&vA(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(i){return new(i||t)(X(DA,10),X(SA,10),X($a,10),X(zA,8),X(np,8))},t.\u0275dir=hn({type:t,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Vr([qie]),ri,wn]});let e=t;return e})();var Wie={provide:$a,useExisting:ho(()=>id),multi:!0};function $A(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function Gie(e){return e.split(":")[0]}var id=(()=>{let t=class t extends rd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),o=$A(i,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=Gie(n);return this._optionMap.has(i)?this._optionMap.get(i):n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275dir=hn({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&te("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vr([Wie]),ri]});let e=t;return e})(),Cr=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue($A(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(ni),X(id,9))},t.\u0275dir=hn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})(),Yie={provide:$a,useExisting:ho(()=>BA),multi:!0};function _A(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function Zie(e){return e.split(":")[0]}var BA=(()=>{let t=class t extends rd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let o=n.map(s=>this._getOptionId(s));i=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else i=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let o=[],s=i.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=i.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,n(o)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=Zie(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275dir=hn({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&te("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[Vr([Yie]),ri]});let e=t;return e})(),Dr=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(_A(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_A(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(ni),X(BA,9))},t.\u0275dir=hn({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})();var UA=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({imports:[jA]});let e=t;return e})();var HA=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:np,useValue:n.callSetDisabledState??rp}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({imports:[UA]});let e=t;return e})(),qA=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:zA,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:np,useValue:n.callSetDisabledState??rp}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({imports:[UA]});let e=t;return e})();var Wo="*";function WA(e,t=null){return{type:2,steps:e,options:t}}function N5(e){return{type:6,styles:e,offset:null}}var Ba=class{constructor(t=0,r=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+r}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let r=t=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},ip=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let r=0,n=0,i=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++r==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let r=t*this.totalTime;this.players.forEach(n=>{let i=n.totalTime?Math.min(1,r/n.totalTime):1;n.setPosition(i)})}getPosition(){let t=this.players.reduce((r,n)=>r===null||n.totalTime>r.totalTime?n:r,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let r=t=="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},ly="!";function GA(e){return new ce(3e3,!1)}function Qie(){return new ce(3100,!1)}function Xie(){return new ce(3101,!1)}function Kie(e){return new ce(3001,!1)}function Jie(e){return new ce(3003,!1)}function eoe(e){return new ce(3004,!1)}function toe(e,t){return new ce(3005,!1)}function noe(){return new ce(3006,!1)}function roe(){return new ce(3007,!1)}function ioe(e,t){return new ce(3008,!1)}function ooe(e){return new ce(3002,!1)}function soe(e,t,r,n,i){return new ce(3010,!1)}function aoe(){return new ce(3011,!1)}function loe(){return new ce(3012,!1)}function coe(){return new ce(3200,!1)}function uoe(){return new ce(3202,!1)}function doe(){return new ce(3013,!1)}function foe(e){return new ce(3014,!1)}function hoe(e){return new ce(3015,!1)}function poe(e){return new ce(3016,!1)}function moe(e,t){return new ce(3404,!1)}function goe(e){return new ce(3502,!1)}function yoe(e){return new ce(3503,!1)}function voe(){return new ce(3300,!1)}function xoe(e){return new ce(3504,!1)}function boe(e){return new ce(3301,!1)}function woe(e,t){return new ce(3302,!1)}function _oe(e){return new ce(3303,!1)}function Coe(e,t){return new ce(3400,!1)}function Doe(e){return new ce(3401,!1)}function Soe(e){return new ce(3402,!1)}function Moe(e,t){return new ce(3505,!1)}function Ua(e){switch(e.length){case 0:return new Ba;case 1:return e[0];default:return new ip(e)}}function aO(e,t,r=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((f,h)=>{let m=h,y=f;if(h!=="offset")switch(m=e.normalizePropertyName(m,i),y){case ly:y=r.get(h);break;case Wo:y=n.get(h);break;default:y=e.normalizeStyleValue(h,m,y,i);break}d.set(m,y)}),u||o.push(d),a=d,s=c}),i.length)throw goe(i);return o}function nC(e,t,r,n){switch(t){case"start":e.onStart(()=>n(r&&R5(r,"start",e)));break;case"done":e.onDone(()=>n(r&&R5(r,"done",e)));break;case"destroy":e.onDestroy(()=>n(r&&R5(r,"destroy",e)));break}}function R5(e,t,r){let n=r.totalTime,i=!!r.disabled,o=rC(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,n??e.totalTime,i),s=e._data;return s!=null&&(o._data=s),o}function rC(e,t,r,n,i="",o=0,s){return{element:e,triggerName:t,fromState:r,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function Si(e,t,r){let n=e.get(t);return n||e.set(t,n=r),n}function YA(e){let t=e.indexOf(":"),r=e.substring(1,t),n=e.slice(t+1);return[r,n]}var Eoe=(()=>typeof document>"u"?null:document.documentElement)();function iC(e){let t=e.parentNode||e.host||null;return t===Eoe?null:t}function Toe(e){return e.substring(1,6)=="ebkit"}var sc=null,ZA=!1;function koe(e){sc||(sc=Ioe()||{},ZA=sc.style?"WebkitAppearance"in sc.style:!1);let t=!0;return sc.style&&!Toe(e)&&(t=e in sc.style,!t&&ZA&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in sc.style)),t}function Ioe(){return typeof document<"u"?document.body:null}function lO(e,t){for(;t;){if(t===e)return!0;t=iC(t)}return!1}function cO(e,t,r){if(r)return Array.from(e.querySelectorAll(t));let n=e.querySelector(t);return n?[n]:[]}var oC=(()=>{let t=class t{validateStyleProperty(n){return koe(n)}matchesElement(n,i){return!1}containsElement(n,i){return lO(n,i)}getParentElement(n){return iC(n)}query(n,i,o){return cO(n,i,o)}computeStyle(n,i,o){return o||""}animate(n,i,o,s,a,l=[],c){return new Ba(o,s)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})(),dp=(()=>{let t=class t{};t.NOOP=new oC;let e=t;return e})(),cc=class{};var Aoe=1e3,uO="{{",Ooe="}}",dO="ng-enter",$5="ng-leave",cy="ng-trigger",py=".ng-trigger",QA="ng-animating",B5=".ng-animating";function Us(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:U5(parseFloat(t[1]),t[2])}function U5(e,t){switch(t){case"s":return e*Aoe;default:return e}}function my(e,t,r){return e.hasOwnProperty("duration")?e:Poe(e,t,r)}function Poe(e,t,r){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof e=="string"){let a=e.match(n);if(a===null)return t.push(GA(e)),{duration:0,delay:0,easing:""};i=U5(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=U5(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else i=e;if(!r){let a=!1,l=t.length;i<0&&(t.push(Qie()),a=!0),o<0&&(t.push(Xie()),a=!0),a&&t.splice(l,0,GA(e))}return{duration:i,delay:o,easing:s}}function fp(e,t={}){return Object.keys(e).forEach(r=>{t[r]=e[r]}),t}function fO(e){let t=new Map;return Object.keys(e).forEach(r=>{let n=e[r];t.set(r,n)}),t}function Noe(e){return e.length?e[0]instanceof Map?e:e.map(t=>fO(t)):[]}function sd(e,t=new Map,r){if(r)for(let[n,i]of r)t.set(n,i);for(let[n,i]of e)t.set(n,i);return t}function Go(e,t,r){t.forEach((n,i)=>{let o=sC(i);r&&!r.has(i)&&r.set(i,e.style[o]),e.style[o]=n})}function lc(e,t){t.forEach((r,n)=>{let i=sC(n);e.style[i]=""})}function op(e){return Array.isArray(e)?e.length==1?e[0]:WA(e):e}function Roe(e,t,r){let n=t.params||{},i=hO(e);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||r.push(Kie(o))})}var H5=new RegExp(`${uO}\\s*(.+?)\\s*${Ooe}`,"g");function hO(e){let t=[];if(typeof e=="string"){let r;for(;r=H5.exec(e);)t.push(r[1]);H5.lastIndex=0}return t}function ap(e,t,r){let n=e.toString(),i=n.replace(H5,(o,s)=>{let a=t[s];return a==null&&(r.push(Jie(s)),a=""),a.toString()});return i==n?e:i}function gy(e){let t=[],r=e.next();for(;!r.done;)t.push(r.value),r=e.next();return t}var Foe=/-+([a-z0-9])/g;function sC(e){return e.replace(Foe,(...t)=>t[1].toUpperCase())}function Loe(e,t){return e===0||t===0}function Voe(e,t,r){if(r.size&&t.length){let n=t[0],i=[];if(r.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<t.length;o++){let s=t[o];i.forEach(a=>s.set(a,pO(e,a)))}}return t}function Di(e,t,r){switch(t.type){case 7:return e.visitTrigger(t,r);case 0:return e.visitState(t,r);case 1:return e.visitTransition(t,r);case 2:return e.visitSequence(t,r);case 3:return e.visitGroup(t,r);case 4:return e.visitAnimate(t,r);case 5:return e.visitKeyframes(t,r);case 6:return e.visitStyle(t,r);case 8:return e.visitReference(t,r);case 9:return e.visitAnimateChild(t,r);case 10:return e.visitAnimateRef(t,r);case 11:return e.visitQuery(t,r);case 12:return e.visitStagger(t,r);default:throw eoe(t.type)}}function pO(e,t){return window.getComputedStyle(e)[t]}var joe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),yy=class extends cc{normalizePropertyName(t,r){return sC(t)}normalizeStyleValue(t,r,n,i){let o="",s=n.toString().trim();if(joe.has(r)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(toe(t,n))}return s+o}};var vy="*";function zoe(e,t){let r=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(n=>$oe(n,r,t)):r.push(e),r}function $oe(e,t,r){if(e[0]==":"){let l=Boe(e,r);if(typeof l=="function"){t.push(l);return}e=l}let n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return r.push(hoe(e)),t;let i=n[1],o=n[2],s=n[3];t.push(XA(i,s));let a=i==vy&&s==vy;o[0]=="<"&&!a&&t.push(XA(s,i))}function Boe(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,n)=>parseFloat(n)>parseFloat(r);case":decrement":return(r,n)=>parseFloat(n)<parseFloat(r);default:return t.push(poe(e)),"* => *"}}var uy=new Set(["true","1"]),dy=new Set(["false","0"]);function XA(e,t){let r=uy.has(e)||dy.has(e),n=uy.has(t)||dy.has(t);return(i,o)=>{let s=e==vy||e==i,a=t==vy||t==o;return!s&&r&&typeof i=="boolean"&&(s=i?uy.has(e):dy.has(e)),!a&&n&&typeof o=="boolean"&&(a=o?uy.has(t):dy.has(t)),s&&a}}var mO=":self",Uoe=new RegExp(`s*${mO}s*,?`,"g");function gO(e,t,r,n){return new q5(e).build(t,r,n)}var KA="",q5=class{constructor(t){this._driver=t}build(t,r,n){let i=new W5(r);return this._resetContextStyleTimingState(i),Di(this,op(t),i)}_resetContextStyleTimingState(t){t.currentQuerySelector=KA,t.collectedStyles=new Map,t.collectedStyles.set(KA,new Map),t.currentTime=0}visitTrigger(t,r){let n=r.queryCount=0,i=r.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&r.errors.push(noe()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(r),a.type==0){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,r))}),l.name=c}else if(a.type==1){let l=this.visitTransition(a,r);n+=l.queryCount,i+=l.depCount,s.push(l)}else r.errors.push(roe())}),{type:7,name:t.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,r){let n=this.visitStyle(t.styles,r),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};if(n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{hO(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size){let a=gy(o.values());r.errors.push(ioe(t.name,a))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,r){r.queryCount=0,r.depCount=0;let n=Di(this,op(t.animation),r);return{type:1,matchers:zoe(t.expr,r.errors),animation:n,queryCount:r.queryCount,depCount:r.depCount,options:ac(t.options)}}visitSequence(t,r){return{type:2,steps:t.steps.map(n=>Di(this,n,r)),options:ac(t.options)}}visitGroup(t,r){let n=r.currentTime,i=0,o=t.steps.map(s=>{r.currentTime=n;let a=Di(this,s,r);return i=Math.max(i,r.currentTime),a});return r.currentTime=i,{type:3,steps:o,options:ac(t.options)}}visitAnimate(t,r){let n=Goe(t.timings,r.errors);r.currentAnimateTimings=n;let i,o=t.styles?t.styles:N5({});if(o.type==5)i=this.visitKeyframes(o,r);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=N5(c)}r.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,r);l.isEmptyStep=a,i=l}return r.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,r){let n=this._makeStyleAst(t,r);return this._validateStyleAst(n,r),n}_makeStyleAst(t,r){let n=[],i=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of i)typeof a=="string"?a===Wo?n.push(a):r.errors.push(ooe(a)):n.push(fO(a));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(uO)>=0){o=!0;break}}}),{type:6,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,r){let n=r.currentAnimateTimings,i=r.currentTime,o=r.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=r.collectedStyles.get(r.currentQuerySelector),u=c.get(l),d=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(r.errors.push(soe(l,u.startTime,u.endTime,o,i)),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:i}),r.options&&Roe(a,r.options,r.errors)})})}visitKeyframes(t,r){let n={type:5,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(aoe()),n;let i=1,o=0,s=[],a=!1,l=!1,c=0,u=t.steps.map(x=>{let C=this._makeStyleAst(x,r),w=C.offset!=null?C.offset:Woe(C.styles),b=0;return w!=null&&(o++,b=C.offset=w),l=l||b<0||b>1,a=a||b<c,c=b,s.push(b),C});l&&r.errors.push(loe()),a&&r.errors.push(coe());let d=t.steps.length,f=0;o>0&&o<d?r.errors.push(uoe()):o==0&&(f=i/(d-1));let h=d-1,m=r.currentTime,y=r.currentAnimateTimings,g=y.duration;return u.forEach((x,C)=>{let w=f>0?C==h?1:f*C:s[C],b=w*g;r.currentTime=m+y.delay+b,y.duration=b,this._validateStyleAst(x,r),x.offset=w,n.styles.push(x)}),n}visitReference(t,r){return{type:8,animation:Di(this,op(t.animation),r),options:ac(t.options)}}visitAnimateChild(t,r){return r.depCount++,{type:9,options:ac(t.options)}}visitAnimateRef(t,r){return{type:10,animation:this.visitReference(t.animation,r),options:ac(t.options)}}visitQuery(t,r){let n=r.currentQuerySelector,i=t.options||{};r.queryCount++,r.currentQuery=t;let[o,s]=Hoe(t.selector);r.currentQuerySelector=n.length?n+" "+o:o,Si(r.collectedStyles,r.currentQuerySelector,new Map);let a=Di(this,op(t.animation),r);return r.currentQuery=null,r.currentQuerySelector=n,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:ac(t.options)}}visitStagger(t,r){r.currentQuery||r.errors.push(doe());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:my(t.timings,r.errors,!0);return{type:12,animation:Di(this,op(t.animation),r),timings:n,options:null}}};function Hoe(e){let t=!!e.split(/\s*,\s*/).find(r=>r==mO);return t&&(e=e.replace(Uoe,"")),e=e.replace(/@\*/g,py).replace(/@\w+/g,r=>py+"-"+r.slice(1)).replace(/:animating/g,B5),[e,t]}function qoe(e){return e?fp(e):null}var W5=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Woe(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(r=>{if(r instanceof Map&&r.has("offset")){let n=r;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let r=e;t=parseFloat(r.get("offset")),r.delete("offset")}return t}function Goe(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let o=my(e,t).duration;return F5(o,0,"")}let r=e;if(r.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=F5(0,0,"");return o.dynamic=!0,o.strValue=r,o}let i=my(r,t);return F5(i.duration,i.delay,i.easing)}function ac(e){return e?(e=fp(e),e.params&&(e.params=qoe(e.params))):e={},e}function F5(e,t,r){return{duration:e,delay:t,easing:r}}function aC(e,t,r,n,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:r,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var lp=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,r){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...r)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Yoe=1,Zoe=":enter",Qoe=new RegExp(Zoe,"g"),Xoe=":leave",Koe=new RegExp(Xoe,"g");function yO(e,t,r,n,i,o=new Map,s=new Map,a,l,c=[]){return new G5().buildKeyframes(e,t,r,n,i,o,s,a,l,c)}var G5=class{buildKeyframes(t,r,n,i,o,s,a,l,c,u=[]){c=c||new lp;let d=new Y5(t,r,c,i,o,u,[]);d.options=l;let f=l.delay?Us(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([s],null,d.errors,l),Di(this,n,d);let h=d.timelines.filter(m=>m.containsAnimation());if(h.length&&a.size){let m;for(let y=h.length-1;y>=0;y--){let g=h[y];if(g.element===r){m=g;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,l)}return h.length?h.map(m=>m.buildKeyframes()):[aC(r,[],[],[],0,f,"",!1)]}visitTrigger(t,r){}visitState(t,r){}visitTransition(t,r){}visitAnimateChild(t,r){let n=r.subInstructions.get(r.element);if(n){let i=r.createSubContext(t.options),o=r.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&r.transformIntoNewTimeline(s)}r.previousNode=t}visitAnimateRef(t,r){let n=r.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],r,n),this.visitReference(t.animation,n),r.transformIntoNewTimeline(n.currentTimeline.currentTime),r.previousNode=t}_applyAnimationRefDelays(t,r,n){for(let i of t){let o=i?.delay;if(o){let s=typeof o=="number"?o:Us(ap(o,i?.params??{},r.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,r,n){let o=r.currentTimeline.currentTime,s=n.duration!=null?Us(n.duration):null,a=n.delay!=null?Us(n.delay):null;return s!==0&&t.forEach(l=>{let c=r.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,r){r.updateOptions(t.options,!0),Di(this,t.animation,r),r.previousNode=t}visitSequence(t,r){let n=r.subContextCount,i=r,o=t.options;if(o&&(o.params||o.delay)&&(i=r.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==6&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xy);let s=Us(o.delay);i.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Di(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),r.previousNode=t}visitGroup(t,r){let n=[],i=r.currentTimeline.currentTime,o=t.options&&t.options.delay?Us(t.options.delay):0;t.steps.forEach(s=>{let a=r.createSubContext(t.options);o&&a.delayNextStep(o),Di(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>r.currentTimeline.mergeTimelineCollectedStyles(s)),r.transformIntoNewTimeline(i),r.previousNode=t}_visitTiming(t,r){if(t.dynamic){let n=t.strValue,i=r.params?ap(n,r.params,r.errors):n;return my(i,r.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,r){let n=r.currentAnimateTimings=this._visitTiming(t.timings,r),i=r.currentTimeline;n.delay&&(r.incrementTime(n.delay),i.snapshotCurrentStyles());let o=t.style;o.type==5?this.visitKeyframes(o,r):(r.incrementTime(n.duration),this.visitStyle(o,r),i.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=t}visitStyle(t,r){let n=r.currentTimeline,i=r.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,r.errors,r.options),r.previousNode=t}visitKeyframes(t,r){let n=r.currentAnimateTimings,i=r.currentTimeline.duration,o=n.duration,a=r.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,r.errors,r.options),a.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(a),r.transformIntoNewTimeline(i+o),r.previousNode=t}visitQuery(t,r){let n=r.currentTimeline.currentTime,i=t.options||{},o=i.delay?Us(i.delay):0;o&&(r.previousNode.type===6||n==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xy);let s=n,a=r.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,r.errors);r.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{r.currentQueryIndex=u;let d=r.createSubContext(t.options,c);o&&d.delayNextStep(o),c===r.element&&(l=d.currentTimeline),Di(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;s=Math.max(s,f)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(s),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=t}visitStagger(t,r){let n=r.parentContext,i=r.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(r.currentQueryTotal-1),l=s*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=r.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Di(this,t.animation,r),r.previousNode=t,n.currentStaggerTime=i.currentTime-d+(i.startTime-n.currentTimeline.startTime)}},xy={},Y5=class e{constructor(t,r,n,i,o,s,a,l){this._driver=t,this.element=r,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new by(this._driver,r,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,r){if(!t)return;let n=t,i=this.options;n.duration!=null&&(i.duration=Us(n.duration)),n.delay!=null&&(i.delay=Us(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!r||!s.hasOwnProperty(a))&&(s[a]=ap(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let r=this.options.params;if(r){let n=t.params={};Object.keys(r).forEach(i=>{n[i]=r[i]})}}return t}createSubContext(t=null,r,n){let i=r||this.element,o=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=xy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,r,n){let i={duration:r??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new Z5(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,r,n,i,o,s){let a=[];if(i&&a.push(this.element),t.length>0){t=t.replace(Qoe,"."+this._enterClassName),t=t.replace(Koe,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(foe(r)),a}},by=class e{constructor(t,r,n,i){this._driver=t,this.element=r,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+t),r&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,r){return this.applyStylesToKeyframe(),new e(this._driver,t,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Yoe,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,r){this._localTimelineStyles.set(t,r),this._globalTimelineStyles.set(t,r),this._styleSummary.set(t,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[r,n]of this._globalTimelineStyles)this._backFill.set(r,n||Wo),this._currentKeyframe.set(r,Wo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,r,n,i){r&&this._previousKeyframe.set("easing",r);let o=i&&i.params||{},s=Joe(t,this._globalTimelineStyles);for(let[a,l]of s){let c=ap(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Wo),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,r)=>{this._currentKeyframe.set(r,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,t)}))}snapshotCurrentStyles(){for(let[t,r]of this._localTimelineStyles)this._pendingStyles.set(t,r),this._updateStyle(t,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let r in this._currentKeyframe)t.push(r);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((r,n)=>{let i=this._styleSummary.get(n);(!i||r.time>i.time)&&this._updateStyle(n,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,r=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=sd(a,new Map,this._backFill);c.forEach((u,d)=>{u===ly?t.add(d):u===Wo&&r.add(d)}),n||c.set("offset",l/this.duration),i.push(c)});let o=t.size?gy(t.values()):[],s=r.size?gy(r.values()):[];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return aC(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},Z5=class extends by{constructor(t,r,n,i,o,s,a=!1){super(t,r,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:r,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&r){let o=[],s=n+r,a=r/s,l=sd(t[0]);l.set("offset",0),o.push(l);let c=sd(t[0]);c.set("offset",JA(a)),o.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let f=sd(t[d]),h=f.get("offset"),m=r+h*n;f.set("offset",JA(m/s)),o.push(f)}n=s,r=0,i="",t=o}return aC(this.element,t,this.preStyleProps,this.postStyleProps,n,r,i,!0)}};function JA(e,t=3){let r=Math.pow(10,t-1);return Math.round(e*r)/r}function Joe(e,t){let r=new Map,n;return e.forEach(i=>{if(i==="*"){n=n||t.keys();for(let o of n)r.set(o,Wo)}else sd(i,r)}),r}function eO(e,t,r,n,i,o,s,a,l,c,u,d,f){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:r,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var L5={},wy=class{constructor(t,r,n){this._triggerName=t,this.ast=r,this._stateStyles=n}match(t,r,n,i){return ese(this.ast.matchers,t,r,n,i)}buildStyles(t,r,n){let i=this._stateStyles.get("*");return t!==void 0&&(i=this._stateStyles.get(t?.toString())||i),i?i.buildStyles(r,n):new Map}build(t,r,n,i,o,s,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||L5,h=a&&a.params||L5,m=this.buildStyles(n,h,d),y=l&&l.params||L5,g=this.buildStyles(i,y,d),x=new Set,C=new Map,w=new Map,b=i==="void",I={params:tse(y,f),delay:this.ast.options?.delay},T=u?[]:yO(t,r,this.ast.animation,o,s,m,g,I,c,d),z=0;if(T.forEach(q=>{z=Math.max(q.duration+q.delay,z)}),d.length)return eO(r,this._triggerName,n,i,b,m,g,[],[],C,w,z,d);T.forEach(q=>{let $=q.element,D=Si(C,$,new Set);q.preStyleProps.forEach(j=>D.add(j));let O=Si(w,$,new Set);q.postStyleProps.forEach(j=>O.add(j)),$!==r&&x.add($)});let H=gy(x.values());return eO(r,this._triggerName,n,i,b,m,g,T,H,C,w,z)}};function ese(e,t,r,n,i){return e.some(o=>o(t,r,n,i))}function tse(e,t){let r=fp(t);for(let n in e)e.hasOwnProperty(n)&&e[n]!=null&&(r[n]=e[n]);return r}var Q5=class{constructor(t,r,n){this.styles=t,this.defaultParams=r,this.normalizer=n}buildStyles(t,r){let n=new Map,i=fp(this.defaultParams);return Object.keys(t).forEach(o=>{let s=t[o];s!==null&&(i[o]=s)}),this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ap(s,i,r));let l=this.normalizer.normalizePropertyName(a,r);s=this.normalizer.normalizeStyleValue(a,l,s,r),n.set(a,s)})}),n}};function nse(e,t,r){return new X5(e,t,r)}var X5=class{constructor(t,r,n){this.name=t,this.ast=r,this._normalizer=n,this.transitionFactories=[],this.states=new Map,r.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Q5(i.style,o,n))}),tO(this.states,"true","1"),tO(this.states,"false","0"),r.transitions.forEach(i=>{this.transitionFactories.push(new wy(t,i,this.states))}),this.fallbackTransition=rse(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,r,n,i){return this.transitionFactories.find(s=>s.match(t,r,n,i))||null}matchStyles(t,r,n){return this.fallbackTransition.buildStyles(t,r,n)}};function rse(e,t,r){let o={type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0};return new wy(e,o,t)}function tO(e,t,r){e.has(t)?e.has(r)||e.set(r,e.get(t)):e.has(r)&&e.set(t,e.get(r))}var ise=new lp,K5=class{constructor(t,r,n){this.bodyNode=t,this._driver=r,this._normalizer=n,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,r){let n=[],i=[],o=gO(this._driver,r,n,i);if(n.length)throw yoe(n);i.length&&void 0,this._animations.set(t,o)}_buildPlayer(t,r,n){let i=t.element,o=aO(this._normalizer,t.keyframes,r,n);return this._driver.animate(i,o,t.duration,t.delay,t.easing,[],!0)}create(t,r,n={}){let i=[],o=this._animations.get(t),s,a=new Map;if(o?(s=yO(this._driver,r,o,dO,$5,new Map,new Map,n,ise,i),s.forEach(u=>{let d=Si(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(voe()),s=[]),i.length)throw xoe(i);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,Wo))})});let l=s.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Ua(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let r=this._getPlayer(t);r.destroy(),this._playersById.delete(t);let n=this.players.indexOf(r);n>=0&&this.players.splice(n,1)}_getPlayer(t){let r=this._playersById.get(t);if(!r)throw boe(t);return r}listen(t,r,n,i){let o=rC(r,"","","");return nC(this._getPlayer(t),n,o,i),()=>{}}command(t,r,n,i){if(n=="register"){this.register(t,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(t,r,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t);break}}},nO="ng-animate-queued",ose=".ng-animate-queued",V5="ng-animate-disabled",sse=".ng-animate-disabled",ase="ng-star-inserted",lse=".ng-star-inserted",cse=[],vO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},use={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vo="__ng_removed",cp=class{get params(){return this.options.params}constructor(t,r=""){this.namespaceId=r;let n=t&&t.hasOwnProperty("value"),i=n?t.value:t;if(this.value=fse(i),n){let o=fp(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let r=t.params;if(r){let n=this.options.params;Object.keys(r).forEach(i=>{n[i]==null&&(n[i]=r[i])})}}},sp="void",j5=new cp(sp),J5=class{constructor(t,r,n){this.id=t,this.hostElement=r,this._engine=n,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Li(r,this._hostClassName)}listen(t,r,n,i){if(!this._triggers.has(r))throw woe(n,r);if(n==null||n.length==0)throw _oe(r);if(!hse(n))throw Coe(n,r);let o=Si(this._elementListeners,t,[]),s={name:r,phase:n,callback:i};o.push(s);let a=Si(this._engine.statesByElement,t,new Map);return a.has(r)||(Li(t,cy),Li(t,cy+"-"+r),a.set(r,j5)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(r)||a.delete(r)})}}register(t,r){return this._triggers.has(t)?!1:(this._triggers.set(t,r),!0)}_getTrigger(t){let r=this._triggers.get(t);if(!r)throw Doe(t);return r}trigger(t,r,n,i=!0){let o=this._getTrigger(r),s=new up(this.id,r,t),a=this._engine.statesByElement.get(t);a||(Li(t,cy),Li(t,cy+"-"+r),this._engine.statesByElement.set(t,a=new Map));let l=a.get(r),c=new cp(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(r,c),l||(l=j5),!(c.value===sp)&&l.value===c.value){if(!gse(l.params,c.params)){let y=[],g=o.matchStyles(l.value,l.params,y),x=o.matchStyles(c.value,c.params,y);y.length?this._engine.reportError(y):this._engine.afterFlush(()=>{lc(t,g),Go(t,x)})}return}let f=Si(this._engine.playersByElement,t,[]);f.forEach(y=>{y.namespaceId==this.id&&y.triggerName==r&&y.queued&&y.destroy()});let h=o.matchTransition(l.value,c.value,t,c.params),m=!1;if(!h){if(!i)return;h=o.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:h,fromState:l,toState:c,player:s,isFallbackTransition:m}),m||(Li(t,nO),s.onStart(()=>{od(t,nO)})),s.onDone(()=>{let y=this.players.indexOf(s);y>=0&&this.players.splice(y,1);let g=this._engine.playersByElement.get(t);if(g){let x=g.indexOf(s);x>=0&&g.splice(x,1)}}),this.players.push(s),f.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(r=>r.delete(t)),this._elementListeners.forEach((r,n)=>{this._elementListeners.set(n,r.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let r=this._engine.playersByElement.get(t);r&&(r.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,r){let n=this._engine.driver.query(t,py,!0);n.forEach(i=>{if(i[vo])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,r,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,r,n,i){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,sp,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,r,s),n&&Ua(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let r=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(r&&n){let i=new Set;r.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||j5,u=new cp(sp),d=new up(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,r){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,r),this.triggerLeaveAnimation(t,r,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,r);else{let o=t[vo];(!o||o===vO)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,r))}}insertNode(t,r){Li(t,this._hostClassName)}drainQueuedTransitions(t){let r=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=rC(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,nC(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):r.push(n)}),this._queue=[],r.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(t){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},eC=class{_onRemovalComplete(t,r){this.onRemovalComplete(t,r)}constructor(t,r,n){this.bodyNode=t,this.driver=r,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(r=>{r.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,r){let n=new J5(t,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(n,r):(this.newHostElements.set(r,n),this.collectEnterElement(r)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,r){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(r);for(;a;){let l=i.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return i.set(r,t),t}register(t,r){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,r)),n}registerTrigger(t,r,n){let i=this._namespaceLookup[t];i&&i.register(r,n)&&this.totalAnimations++}destroy(t,r){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(r),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let r=new Set,n=this.statesByElement.get(t);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&r.add(o)}}return r}trigger(t,r,n,i){if(fy(r)){let o=this._fetchNamespace(t);if(o)return o.trigger(r,n,i),!0}return!1}insertNode(t,r,n,i){if(!fy(r))return;let o=r[vo];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(r);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(r,n)}i&&this.collectEnterElement(r)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,r){r?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Li(t,V5)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),od(t,V5))}removeNode(t,r,n){if(fy(r)){let i=t?this._fetchNamespace(t):null;i?i.removeNode(r,n):this.markElementAsRemoved(t,r,!1,n);let o=this.namespacesByHostElement.get(r);o&&o.id!==t&&o.removeNode(r,n)}else this._onRemovalComplete(r,n)}markElementAsRemoved(t,r,n,i,o){this.collectedLeaveElements.push(r),r[vo]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,r,n,i,o){return fy(r)?this._fetchNamespace(t).listen(r,n,i,o):()=>{}}_buildInstruction(t,r,n,i,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,r,o)}destroyInnerAnimations(t){let r=this.driver.query(t,py,!0);r.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(t,B5,!0),r.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let r=this.playersByElement.get(t);r&&r.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let r=this.playersByQueriedElement.get(t);r&&r.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ua(this.players).onDone(()=>t());t()})}processLeaveNode(t){let r=t[vo];if(r&&r.setForRemoval){if(t[vo]=vO,r.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(r.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}t.classList?.contains(V5)&&this.markElementAsDisabled(t,!1),this.driver.query(t,sse,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];Li(i,ase)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{r=this._flushAnimations(n,t)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],r.length?Ua(r).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(t){throw Soe(t)}_flushAnimations(t,r){let n=new lp,i=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(A=>{u.add(A);let R=this.driver.query(A,ose,!0);for(let B=0;B<R.length;B++)u.add(R[B])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=oO(f,this.collectedEnterElements),m=new Map,y=0;h.forEach((A,R)=>{let B=dO+y++;m.set(R,B),A.forEach(P=>Li(P,B))});let g=[],x=new Set,C=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){let R=this.collectedLeaveElements[A],B=R[vo];B&&B.setForRemoval&&(g.push(R),x.add(R),B.hasAnimation?this.driver.query(R,lse,!0).forEach(P=>x.add(P)):C.add(R))}let w=new Map,b=oO(f,Array.from(x));b.forEach((A,R)=>{let B=$5+y++;w.set(R,B),A.forEach(P=>Li(P,B))}),t.push(()=>{h.forEach((A,R)=>{let B=m.get(R);A.forEach(P=>od(P,B))}),b.forEach((A,R)=>{let B=w.get(R);A.forEach(P=>od(P,B))}),g.forEach(A=>{this.processLeaveNode(A)})});let I=[],T=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(r).forEach(B=>{let P=B.player,L=B.element;if(I.push(P),this.collectedEnterElements.length){let pe=L[vo];if(pe&&pe.setForMove){if(pe.previousTriggersValues&&pe.previousTriggersValues.has(B.triggerName)){let ze=pe.previousTriggersValues.get(B.triggerName),ie=this.statesByElement.get(B.element);if(ie&&ie.has(B.triggerName)){let De=ie.get(B.triggerName);De.value=ze,ie.set(B.triggerName,De)}}P.destroy();return}}let Z=!d||!this.driver.containsElement(d,L),ee=w.get(L),K=m.get(L),se=this._buildInstruction(B,n,K,ee,Z);if(se.errors&&se.errors.length){T.push(se);return}if(Z){P.onStart(()=>lc(L,se.fromStyles)),P.onDestroy(()=>Go(L,se.toStyles)),i.push(P);return}if(B.isFallbackTransition){P.onStart(()=>lc(L,se.fromStyles)),P.onDestroy(()=>Go(L,se.toStyles)),i.push(P);return}let ke=[];se.timelines.forEach(pe=>{pe.stretchStartingKeyframe=!0,this.disabledNodes.has(pe.element)||ke.push(pe)}),se.timelines=ke,n.append(L,se.timelines);let Me={instruction:se,player:P,element:L};s.push(Me),se.queriedElements.forEach(pe=>Si(a,pe,[]).push(P)),se.preStyleProps.forEach((pe,ze)=>{if(pe.size){let ie=l.get(ze);ie||l.set(ze,ie=new Set),pe.forEach((De,Ae)=>ie.add(Ae))}}),se.postStyleProps.forEach((pe,ze)=>{let ie=c.get(ze);ie||c.set(ze,ie=new Set),pe.forEach((De,Ae)=>ie.add(Ae))})});if(T.length){let A=[];T.forEach(R=>{A.push(Moe(R.triggerName,R.errors))}),I.forEach(R=>R.destroy()),this.reportError(A)}let z=new Map,H=new Map;s.forEach(A=>{let R=A.element;n.has(R)&&(H.set(R,R),this._beforeAnimationBuild(A.player.namespaceId,A.instruction,z))}),i.forEach(A=>{let R=A.element;this._getPreviousPlayers(R,!1,A.namespaceId,A.triggerName,null).forEach(P=>{Si(z,R,[]).push(P),P.destroy()})});let q=g.filter(A=>sO(A,l,c)),$=new Map;iO($,this.driver,C,c,Wo).forEach(A=>{sO(A,l,c)&&q.push(A)});let O=new Map;h.forEach((A,R)=>{iO(O,this.driver,new Set(A),l,ly)}),q.forEach(A=>{let R=$.get(A),B=O.get(A);$.set(A,new Map([...R?.entries()??[],...B?.entries()??[]]))});let j=[],N=[],E={};s.forEach(A=>{let{element:R,player:B,instruction:P}=A;if(n.has(R)){if(u.has(R)){B.onDestroy(()=>Go(R,P.toStyles)),B.disabled=!0,B.overrideTotalTime(P.totalTime),i.push(B);return}let L=E;if(H.size>1){let ee=R,K=[];for(;ee=ee.parentNode;){let se=H.get(ee);if(se){L=se;break}K.push(ee)}K.forEach(se=>H.set(se,L))}let Z=this._buildAnimation(B.namespaceId,P,z,o,O,$);if(B.setRealPlayer(Z),L===E)j.push(B);else{let ee=this.playersByElement.get(L);ee&&ee.length&&(B.parentPlayer=Ua(ee)),i.push(B)}}else lc(R,P.fromStyles),B.onDestroy(()=>Go(R,P.toStyles)),N.push(B),u.has(R)&&i.push(B)}),N.forEach(A=>{let R=o.get(A.element);if(R&&R.length){let B=Ua(R);A.setRealPlayer(B)}}),i.forEach(A=>{A.parentPlayer?A.syncPlayerEvents(A.parentPlayer):A.destroy()});for(let A=0;A<g.length;A++){let R=g[A],B=R[vo];if(od(R,$5),B&&B.hasAnimation)continue;let P=[];if(a.size){let Z=a.get(R);Z&&Z.length&&P.push(...Z);let ee=this.driver.query(R,B5,!0);for(let K=0;K<ee.length;K++){let se=a.get(ee[K]);se&&se.length&&P.push(...se)}}let L=P.filter(Z=>!Z.destroyed);L.length?pse(this,R,L):this.processLeaveNode(R)}return g.length=0,j.forEach(A=>{this.players.push(A),A.onDone(()=>{A.destroy();let R=this.players.indexOf(A);this.players.splice(R,1)}),A.play()}),j}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,r,n,i,o){let s=[];if(r){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==sp;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||s.push(c)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(t,r,n){let i=r.triggerName,o=r.element,s=r.isRemovalTransition?void 0:t,a=r.isRemovalTransition?void 0:i;for(let l of r.timelines){let c=l.element,u=c!==o,d=Si(n,c,[]);this._getPreviousPlayers(c,u,s,a,r.toState).forEach(h=>{let m=h.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),h.destroy(),d.push(h)})}lc(o,r.fromStyles)}_buildAnimation(t,r,n,i,o,s){let a=r.triggerName,l=r.element,c=[],u=new Set,d=new Set,f=r.timelines.map(m=>{let y=m.element;u.add(y);let g=y[vo];if(g&&g.removedBeforeQueried)return new Ba(m.duration,m.delay);let x=y!==l,C=mse((n.get(y)||cse).map(z=>z.getRealPlayer())).filter(z=>{let H=z;return H.element?H.element===y:!1}),w=o.get(y),b=s.get(y),I=aO(this._normalizer,m.keyframes,w,b),T=this._buildPlayer(m,I,C);if(m.subTimeline&&i&&d.add(y),x){let z=new up(t,a,y);z.setRealPlayer(T),c.push(z)}return T});c.forEach(m=>{Si(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>dse(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>Li(m,QA));let h=Ua(f);return h.onDestroy(()=>{u.forEach(m=>od(m,QA)),Go(l,r.toStyles)}),d.forEach(m=>{Si(i,m,[]).push(h)}),h}_buildPlayer(t,r,n){return r.length>0?this.driver.animate(t.element,r,t.duration,t.delay,t.easing,n):new Ba(t.duration,t.delay)}},up=class{constructor(t,r,n){this.namespaceId=t,this.triggerName=r,this.element=n,this._player=new Ba,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((r,n)=>{r.forEach(i=>nC(t,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let r=this._player;r.triggerCallback&&t.onStart(()=>r.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,r){Si(this._queuedCallbacks,t,[]).push(r)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let r=this._player;r.triggerCallback&&r.triggerCallback(t)}};function dse(e,t,r){let n=e.get(t);if(n){if(n.length){let i=n.indexOf(r);n.splice(i,1)}n.length==0&&e.delete(t)}return n}function fse(e){return e??null}function fy(e){return e&&e.nodeType===1}function hse(e){return e=="start"||e=="done"}function rO(e,t){let r=e.style.display;return e.style.display=t??"none",r}function iO(e,t,r,n,i){let o=[];r.forEach(l=>o.push(rO(l)));let s=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=t.computeStyle(c,d,i);u.set(d,f),(!f||f.length==0)&&(c[vo]=use,s.push(c))}),e.set(c,u)});let a=0;return r.forEach(l=>rO(l,o[a++])),s}function oO(e,t){let r=new Map;if(e.forEach(a=>r.set(a,[])),t.length==0)return r;let n=1,i=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return r.has(c)?l=c:i.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&r.get(l).push(a)}),r}function Li(e,t){e.classList?.add(t)}function od(e,t){e.classList?.remove(t)}function pse(e,t,r){Ua(r).onDone(()=>e.processLeaveNode(t))}function mse(e){let t=[];return xO(e,t),t}function xO(e,t){for(let r=0;r<e.length;r++){let n=e[r];n instanceof ip?xO(n.players,t):t.push(n)}}function gse(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!=n.length)return!1;for(let i=0;i<r.length;i++){let o=r[i];if(!t.hasOwnProperty(o)||e[o]!==t[o])return!1}return!0}function sO(e,t,r){let n=r.get(e);if(!n)return!1;let i=t.get(e);return i?n.forEach(o=>i.add(o)):t.set(e,n),r.delete(e),!0}var ad=class{constructor(t,r,n){this._driver=r,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new eC(t.body,r,n),this._timelineEngine=new K5(t.body,r,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(t,r,n,i,o){let s=t+"-"+i,a=this._triggerCache[s];if(!a){let l=[],c=[],u=gO(this._driver,o,l,c);if(l.length)throw moe(i,l);c.length&&void 0,a=nse(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(r,i,a)}register(t,r){this._transitionEngine.register(t,r)}destroy(t,r){this._transitionEngine.destroy(t,r)}onInsert(t,r,n,i){this._transitionEngine.insertNode(t,r,n,i)}onRemove(t,r,n){this._transitionEngine.removeNode(t,r,n)}disableAnimations(t,r){this._transitionEngine.markElementAsDisabled(t,r)}process(t,r,n,i){if(n.charAt(0)=="@"){let[o,s]=YA(n),a=i;this._timelineEngine.command(o,r,s,a)}else this._transitionEngine.trigger(t,r,n,i)}listen(t,r,n,i,o){if(n.charAt(0)=="@"){let[s,a]=YA(n);return this._timelineEngine.listen(s,r,a,o)}return this._transitionEngine.listen(t,r,n,i,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function yse(e,t){let r=null,n=null;return Array.isArray(t)&&t.length?(r=z5(t[0]),t.length>1&&(n=z5(t[t.length-1]))):t instanceof Map&&(r=z5(t)),r||n?new vse(e,r,n):null}var vse=(()=>{let t=class t{constructor(n,i,o){this._element=n,this._startStyles=i,this._endStyles=o,this._state=0;let s=t.initialStylesByElement.get(n);s||t.initialStylesByElement.set(n,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Go(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Go(this._element,this._initialStyles),this._endStyles&&(Go(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(lc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lc(this._element,this._endStyles),this._endStyles=null),Go(this._element,this._initialStyles),this._state=3)}};t.initialStylesByElement=new WeakMap;let e=t;return e})();function z5(e){let t=null;return e.forEach((r,n)=>{xse(n)&&(t=t||new Map,t.set(n,r))}),t}function xse(e){return e==="display"||e==="position"}var _y=class{constructor(t,r,n,i){this.element=t,this.keyframes=r,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let r=[];return t.forEach(n=>{r.push(Object.fromEntries(n))}),r}_triggerWebAnimation(t,r,n){return t.animate(this._convertKeyframesToObject(r),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&t.set(i,this._finished?n:pO(this.element,i))}),this.currentSnapshot=t}triggerCallback(t){let r=t==="start"?this._onStartFns:this._onDoneFns;r.forEach(n=>n()),r.length=0}},Cy=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,r){return!1}containsElement(t,r){return lO(t,r)}getParentElement(t){return iC(t)}query(t,r,n){return cO(t,r,n)}computeStyle(t,r,n){return window.getComputedStyle(t)[r]}animate(t,r,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(h=>h instanceof _y);Loe(n,i)&&u.forEach(h=>{h.currentSnapshot.forEach((m,y)=>c.set(y,m))});let d=Noe(r).map(h=>sd(h));d=Voe(t,d,c);let f=yse(t,d);return new _y(t,d,l,f)}};var hy="@",bO="@.disabled",Dy=class{constructor(t,r,n,i){this.namespaceId=t,this.delegate=r,this.engine=n,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,r){return this.delegate.createElement(t,r)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,r){this.delegate.appendChild(t,r),this.engine.onInsert(this.namespaceId,r,t,!1)}insertBefore(t,r,n,i=!0){this.delegate.insertBefore(t,r,n),this.engine.onInsert(this.namespaceId,r,t,i)}removeChild(t,r,n){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(t,r){return this.delegate.selectRootElement(t,r)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,r,n,i){this.delegate.setAttribute(t,r,n,i)}removeAttribute(t,r,n){this.delegate.removeAttribute(t,r,n)}addClass(t,r){this.delegate.addClass(t,r)}removeClass(t,r){this.delegate.removeClass(t,r)}setStyle(t,r,n,i){this.delegate.setStyle(t,r,n,i)}removeStyle(t,r,n){this.delegate.removeStyle(t,r,n)}setProperty(t,r,n){r.charAt(0)==hy&&r==bO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,r,n)}setValue(t,r){this.delegate.setValue(t,r)}listen(t,r,n){return this.delegate.listen(t,r,n)}disableAnimations(t,r){this.engine.disableAnimations(t,r)}},tC=class extends Dy{constructor(t,r,n,i,o){super(r,n,i,o),this.factory=t,this.namespaceId=r}setProperty(t,r,n){r.charAt(0)==hy?r.charAt(1)=="."&&r==bO?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,r.slice(1),n):this.delegate.setProperty(t,r,n)}listen(t,r,n){if(r.charAt(0)==hy){let i=bse(t),o=r.slice(1),s="";return o.charAt(0)!=hy&&([o,s]=wse(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,n,a)})}return this.delegate.listen(t,r,n)}};function bse(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function wse(e){let t=e.indexOf("."),r=e.substring(0,t),n=e.slice(t+1);return[r,n]}var Sy=class{constructor(t,r,n){this.delegate=t,this.engine=r,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(i,o)=>{let s=o?.parentNode(i);s&&o.removeChild(s,i)}}createRenderer(t,r){let n="",i=this.delegate.createRenderer(t,r);if(!t||!r?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Dy(n,i,this.engine,d),c.set(i,u)}return u}let o=r.id,s=r.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return r.data.animation.forEach(a),new tC(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>r(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([r,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Cse=(()=>{let t=class t extends ad{constructor(n,i,o,s){super(n,i,o)}ngOnDestroy(){this.flush()}};t.\u0275fac=function(i){return new(i||t)(re(Kn),re(dp),re(cc),re(js))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function Dse(){return new yy}function Sse(e,t,r){return new Sy(e,t,r)}var _O=[{provide:cc,useFactory:Dse},{provide:ad,useClass:Cse},{provide:Yl,useFactory:Sse,deps:[q1,ad,Rt]}],wO=[{provide:dp,useFactory:()=>new Cy},{provide:o4,useValue:"BrowserAnimations"},..._O],Mse=[{provide:dp,useClass:oC},{provide:o4,useValue:"NoopAnimations"},..._O],CO=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:n.disableAnimations?Mse:wO}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({providers:wO,imports:[G1]});let e=t;return e})();var ht="primary",Ep=Symbol("RouteTitle"),fC=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function fd(e){return new fC(e)}function Ese(e,t,r){let n=r.path.split("/");if(n.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function Tse(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!Yo(e[r],t[r]))return!1;return!0}function Yo(e,t){let r=e?hC(e):void 0,n=t?hC(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!PO(e[i],t[i]))return!1;return!0}function hC(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function PO(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((i,o)=>n[o]===i)}else return e===t}function NO(e){return e.length>0?e[e.length-1]:null}function Ga(e){return cw(e)?e:nc(e)?cn(Promise.resolve(e)):Pe(e)}var kse={exact:FO,subset:LO},RO={exact:Ise,subset:Ase,ignored:()=>!0};function DO(e,t,r){return kse[r.paths](e.root,t.root,r.matrixParams)&&RO[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function Ise(e,t){return Yo(e,t)}function FO(e,t,r){if(!dc(e.segments,t.segments)||!Ty(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!FO(e.children[n],t.children[n],r))return!1;return!0}function Ase(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>PO(e[r],t[r]))}function LO(e,t,r){return VO(e,t,t.segments,r)}function VO(e,t,r,n){if(e.segments.length>r.length){let i=e.segments.slice(0,r.length);return!(!dc(i,r)||t.hasChildren()||!Ty(i,r,n))}else if(e.segments.length===r.length){if(!dc(e.segments,r)||!Ty(e.segments,r,n))return!1;for(let i in t.children)if(!e.children[i]||!LO(e.children[i],t.children[i],n))return!1;return!0}else{let i=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!dc(e.segments,i)||!Ty(e.segments,i,n)||!e.children[ht]?!1:VO(e.children[ht],t,o,n)}}function Ty(e,t,r){return t.every((n,i)=>RO[r](e[i].parameters,n.parameters))}var Ha=class{constructor(t=new Zt([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fd(this.queryParams)),this._queryParamMap}toString(){return Nse.serialize(this)}},Zt=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ky(this)}},uc=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=fd(this.parameters)),this._parameterMap}toString(){return zO(this)}};function Ose(e,t){return dc(e,t)&&e.every((r,n)=>Yo(r.parameters,t[n].parameters))}function dc(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.path===t[n].path)}function Pse(e,t){let r=[];return Object.entries(e.children).forEach(([n,i])=>{n===ht&&(r=r.concat(t(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==ht&&(r=r.concat(t(i,n)))}),r}var Tp=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>new xp)(),providedIn:"root"});let e=t;return e})(),xp=class{parse(t){let r=new mC(t);return new Ha(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${hp(t.root,!0)}`,n=Lse(t.queryParams),i=typeof t.fragment=="string"?`#${Rse(t.fragment)}`:"";return`${r}${n}${i}`}},Nse=new xp;function ky(e){return e.segments.map(t=>zO(t)).join("/")}function hp(e,t){if(!e.hasChildren())return ky(e);if(t){let r=e.children[ht]?hp(e.children[ht],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ht&&n.push(`${i}:${hp(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=Pse(e,(n,i)=>i===ht?[hp(e.children[ht],!1)]:[`${i}:${hp(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[ht]!=null?`${ky(e)}/${r[0]}`:`${ky(e)}/(${r.join("//")})`}}function jO(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function My(e){return jO(e).replace(/%3B/gi,";")}function Rse(e){return encodeURI(e)}function pC(e){return jO(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Iy(e){return decodeURIComponent(e)}function SO(e){return Iy(e.replace(/\+/g,"%20"))}function zO(e){return`${pC(e.path)}${Fse(e.parameters)}`}function Fse(e){return Object.keys(e).map(t=>`;${pC(t)}=${pC(e[t])}`).join("")}function Lse(e){let t=Object.keys(e).map(r=>{let n=e[r];return Array.isArray(n)?n.map(i=>`${My(r)}=${My(i)}`).join("&"):`${My(r)}=${My(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}var Vse=/^[^\/()?;#]+/;function lC(e){let t=e.match(Vse);return t?t[0]:""}var jse=/^[^\/()?;=#]+/;function zse(e){let t=e.match(jse);return t?t[0]:""}var $se=/^[^=?&#]+/;function Bse(e){let t=e.match($se);return t?t[0]:""}var Use=/^[^&#]+/;function Hse(e){let t=e.match(Use);return t?t[0]:""}var mC=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[ht]=new Zt(t,r)),n}parseSegment(){let t=lC(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ce(4009,!1);return this.capture(t),new uc(Iy(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=zse(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=lC(this.remaining);i&&(n=i,this.capture(n))}t[Iy(r)]=Iy(n)}parseQueryParam(t){let r=Bse(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=Hse(this.remaining);s&&(n=s,this.capture(n))}let i=SO(r),o=SO(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=lC(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new ce(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ht);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[ht]:new Zt([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ce(4011,!1)}};function $O(e){return e.segments.length>0?new Zt([],{[ht]:e}):e}function BO(e){let t={};for(let n of Object.keys(e.children)){let i=e.children[n],o=BO(i);if(n===ht&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let r=new Zt(e.segments,t);return qse(r)}function qse(e){if(e.numberOfChildren===1&&e.children[ht]){let t=e.children[ht];return new Zt(e.segments.concat(t.segments),t.children)}return e}function hd(e){return e instanceof Ha}function Wse(e,t,r=null,n=null){let i=UO(e);return HO(i,t,r,n)}function UO(e){let t;function r(o){let s={};for(let l of o.children){let c=r(l);s[l.outlet]=c}let a=new Zt(o.url,s);return o===e&&(t=a),a}let n=r(e.root),i=$O(n);return t??i}function HO(e,t,r,n){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return cC(i,i,i,r,n);let o=Gse(t);if(o.toRoot())return cC(i,i,new Zt([],{}),r,n);let s=Yse(o,i,e),a=s.processChildren?gp(s.segmentGroup,s.index,o.commands):WO(s.segmentGroup,s.index,o.commands);return cC(i,s.segmentGroup,a,r,n)}function Ay(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function bp(e){return typeof e=="object"&&e!=null&&e.outlets}function cC(e,t,r,n,i){let o={};n&&Object.entries(n).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=r:s=qO(e,t,r);let a=$O(BO(s));return new Ha(a,o,i)}function qO(e,t,r){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===t?n[i]=r:n[i]=qO(o,t,r)}),new Zt(e.segments,n)}var Oy=class{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&Ay(n[0]))throw new ce(4003,!1);let i=n.find(bp);if(i&&i!==NO(n))throw new ce(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Gse(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Oy(!0,0,e);let t=0,r=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?r=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Oy(r,t,n)}var ud=class{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}};function Yse(e,t,r){if(e.isAbsolute)return new ud(t,!0,0);if(!r)return new ud(t,!1,NaN);if(r.parent===null)return new ud(r,!0,0);let n=Ay(e.commands[0])?0:1,i=r.segments.length-1+n;return Zse(r,i,e.numberOfDoubleDots)}function Zse(e,t,r){let n=e,i=t,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new ce(4005,!1);i=n.segments.length}return new ud(n,!1,i-o)}function Qse(e){return bp(e[0])?e[0].outlets:{[ht]:e}}function WO(e,t,r){if(e||(e=new Zt([],{})),e.segments.length===0&&e.hasChildren())return gp(e,t,r);let n=Xse(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new Zt(e.segments.slice(0,n.pathIndex),{});return o.children[ht]=new Zt(e.segments.slice(n.pathIndex),e.children),gp(o,0,i)}else return n.match&&i.length===0?new Zt(e.segments,{}):n.match&&!e.hasChildren()?gC(e,t,r):n.match?gp(e,0,i):gC(e,t,r)}function gp(e,t,r){if(r.length===0)return new Zt(e.segments,{});{let n=Qse(r),i={};if(Object.keys(n).some(o=>o!==ht)&&e.children[ht]&&e.numberOfChildren===1&&e.children[ht].segments.length===0){let o=gp(e.children[ht],t,r);return new Zt(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=WO(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Zt(e.segments,i)}}function Xse(e,t,r){let n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return o;let s=e.segments[i],a=r[n];if(bp(a))break;let l=`${a}`,c=n<r.length-1?r[n+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!EO(l,c,s))return o;n+=2}else{if(!EO(l,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function gC(e,t,r){let n=e.segments.slice(0,t),i=0;for(;i<r.length;){let o=r[i];if(bp(o)){let l=Kse(o.outlets);return new Zt(n,l)}if(i===0&&Ay(r[0])){let l=e.segments[t];n.push(new uc(l.path,MO(r[0]))),i++;continue}let s=bp(o)?o.outlets[ht]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&Ay(a)?(n.push(new uc(s,MO(a))),i+=2):(n.push(new uc(s,{})),i++)}return new Zt(n,{})}function Kse(e){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[r]=gC(new Zt([],{}),0,n))}),t}function MO(e){let t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function EO(e,t,r){return e==r.path&&Yo(t,r.parameters)}var yp="imperative",Vi=class{constructor(t,r){this.id=t,this.url=r}},pd=class extends Vi{constructor(t,r,n="imperative",i=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zo=class extends Vi{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qa=class extends Vi{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wa=class extends Vi{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=16}},wp=class extends Vi{constructor(t,r,n,i){super(t,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Py=class extends Vi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yC=class extends Vi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vC=class extends Vi{constructor(t,r,n,i,o){super(t,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xC=class extends Vi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bC=class extends Vi{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wC=class{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_C=class{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},CC=class{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},DC=class{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},SC=class{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},MC=class{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ny=class{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},_p=class{},Cp=class{constructor(t){this.url=t}};var EC=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new kp,this.attachRef=null}},kp=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new EC,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ry=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=TC(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){let r=TC(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=kC(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return kC(t,this._root).map(r=>r.value)}};function TC(e,t){if(e===t.value)return t;for(let r of t.children){let n=TC(e,r);if(n)return n}return null}function kC(e,t){if(e===t.value)return[t];for(let r of t.children){let n=kC(e,r);if(n.length)return n.unshift(t),n}return[]}var Mi=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function cd(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var Fy=class extends Ry{constructor(t,r){super(t),this.snapshot=r,jC(this,t)}toString(){return this.snapshot.toString()}};function GO(e,t){let r=Jse(e,t),n=new qt([new uc("",{})]),i=new qt({}),o=new qt({}),s=new qt({}),a=new qt(""),l=new $n(n,i,s,a,o,ht,t,r.root);return l.snapshot=r.root,new Fy(new Mi(l,[]),r)}function Jse(e,t){let r={},n={},i={},o="",s=new Dp([],r,i,o,n,ht,t,null,{});return new Ly("",new Mi(s,[]))}var $n=class{constructor(t,r,n,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ve(c=>c[Ep]))??Pe(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ve(t=>fd(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ve(t=>fd(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function VC(e,t,r="emptyOnly"){let n,{routeConfig:i}=e;return t!==null&&(r==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:ne(ne({},t.params),e.params),data:ne(ne({},t.data),e.data),resolve:ne(ne(ne(ne({},e.data),t.data),i?.data),e._resolvedData)}:n={params:e.params,data:e.data,resolve:ne(ne({},e.data),e._resolvedData??{})},i&&ZO(i)&&(n.resolve[Ep]=i.title),n}var Dp=class{get title(){return this.data?.[Ep]}constructor(t,r,n,i,o,s,a,l,c){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fd(this.queryParams)),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},Ly=class extends Ry{constructor(t,r){super(r),this.url=t,jC(this,r)}toString(){return YO(this._root)}};function jC(e,t){t.value._routerState=e,t.children.forEach(r=>jC(e,r))}function YO(e){let t=e.children.length>0?` { ${e.children.map(YO).join(", ")} } `:"";return`${e.value}${t}`}function uC(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,Yo(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),Yo(t.params,r.params)||e.paramsSubject.next(r.params),Tse(t.url,r.url)||e.urlSubject.next(r.url),Yo(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function IC(e,t){let r=Yo(e.params,t.params)&&Ose(e.url,t.url),n=!e.parent!=!t.parent;return r&&!n&&(!e.parent||IC(e.parent,t.parent))}function ZO(e){return typeof e.title=="string"||e.title===null}var zC=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=he(kp),this.location=he(Fa),this.changeDetector=he(Na),this.environmentInjector=he(Lr),this.inputBinder=he(By,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ce(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ce(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ce(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ce(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new AC(n,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=hn({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[wn]});let e=t;return e})(),AC=class{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===$n?this.route:t===kp?this.childContexts:this.parent.get(t,r)}},By=new ae(""),TO=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,o=mh([i.queryParams,i.params,i.data]).pipe(wr(([s,a,l],c)=>(l=ne(ne(ne({},s),a),l),c===0?Pe(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let a=Uk(i.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function eae(e,t,r){let n=Sp(e,t._root,r?r._root:void 0);return new Fy(n,t)}function Sp(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=t.value;let i=tae(e,t,r);return new Mi(n,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Sp(e,a)),s}}let n=nae(t.value),i=t.children.map(o=>Sp(e,o));return new Mi(n,i)}}function tae(e,t,r){return t.children.map(n=>{for(let i of r.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return Sp(e,n,i);return Sp(e,n)})}function nae(e){return new $n(new qt(e.url),new qt(e.params),new qt(e.queryParams),new qt(e.fragment),new qt(e.data),e.outlet,e.component,e)}var QO="ngNavigationCancelingError";function XO(e,t){let{redirectTo:r,navigationBehaviorOptions:n}=hd(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=KO(!1,0,t);return i.url=r,i.navigationBehaviorOptions=n,i}function KO(e,t,r){let n=new Error("NavigationCancelingError: "+(e||""));return n[QO]=!0,n.cancellationCode=t,r&&(n.url=r),n}function rae(e){return JO(e)&&hd(e.url)}function JO(e){return e&&e[QO]}var iae=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["ng-component"]],standalone:!0,features:[Sk],decls:1,vars:0,template:function(i,o){i&1&&Q(0,"router-outlet")},dependencies:[zC],encapsulation:2});let e=t;return e})();function oae(e,t){return e.providers&&!e._injector&&(e._injector=S1(e.providers,t,`Route: ${e.path}`)),e._injector??t}function $C(e){let t=e.children&&e.children.map($C),r=t?Se(ne({},e),{children:t}):ne({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==ht&&(r.component=iae),r}function Qo(e){return e.outlet||ht}function sae(e,t){let r=e.filter(n=>Qo(n)===t);return r.push(...e.filter(n=>Qo(n)!==t)),r}function Ip(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var aae=(e,t,r,n)=>ve(i=>(new OC(t,i.targetRouterState,i.currentRouterState,r,n).activate(e),i)),OC=class{constructor(t,r,n,i,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),uC(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){let i=cd(r);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,r,n){let i=t.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=cd(t);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=cd(t);for(let s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){let i=cd(r);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new MC(o.value.snapshot))}),t.children.length&&this.forwardEvent(new DC(t.value.snapshot))}activateRoutes(t,r,n){let i=t.value,o=r?r.value:null;if(uC(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),uC(a.route.value),this.activateChildRoutes(t,null,s.children)}else{let a=Ip(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},Vy=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},dd=class{constructor(t,r){this.component=t,this.route=r}};function lae(e,t,r){let n=e._root,i=t?t._root:null;return pp(n,i,r,[n.value])}function cae(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function gd(e,t){let r=Symbol(),n=t.get(e,r);return n===r?typeof e=="function"&&!l9(e)?e:t.get(e):n}function pp(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=cd(t);return e.children.forEach(s=>{uae(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>vp(a,r.getContext(s),i)),i}function uae(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=dae(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Vy(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?pp(e,t,a?a.children:null,n,i):pp(e,t,r,n,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new dd(a.outlet.component,s))}else s&&vp(t,a,i),i.canActivateChecks.push(new Vy(n)),o.component?pp(e,null,a?a.children:null,n,i):pp(e,null,r,n,i);return i}function dae(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!dc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!dc(e.url,t.url)||!Yo(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!IC(e,t)||!Yo(e.queryParams,t.queryParams);case"paramsChange":default:return!IC(e,t)}}function vp(e,t,r){let n=cd(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?t?vp(s,t.children.getContext(o),r):vp(s,null,r):vp(s,t,r)}),i.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new dd(t.outlet.component,i)):r.canDeactivateChecks.push(new dd(null,i)):r.canDeactivateChecks.push(new dd(null,i))}function Ap(e){return typeof e=="function"}function fae(e){return typeof e=="boolean"}function hae(e){return e&&Ap(e.canLoad)}function pae(e){return e&&Ap(e.canActivate)}function mae(e){return e&&Ap(e.canActivateChild)}function gae(e){return e&&Ap(e.canDeactivate)}function yae(e){return e&&Ap(e.canMatch)}function eP(e){return e instanceof io||e?.name==="EmptyError"}var Ey=Symbol("INITIAL_VALUE");function md(){return wr(e=>mh(e.map(t=>t.pipe(oo(1),ww(Ey)))).pipe(ve(t=>{for(let r of t)if(r!==!0){if(r===Ey)return Ey;if(r===!1||r instanceof Ha)return r}return!0}),Vn(t=>t!==Ey),oo(1)))}function vae(e,t){return Gt(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?Pe(Se(ne({},r),{guardsResult:!0})):xae(s,n,i,e).pipe(Gt(a=>a&&fae(a)?bae(n,o,e,t):Pe(a)),ve(a=>Se(ne({},r),{guardsResult:a})))})}function xae(e,t,r,n){return cn(e).pipe(Gt(i=>Sae(i.component,i.route,r,t,n)),Fo(i=>i!==!0,!0))}function bae(e,t,r,n){return cn(t).pipe(Ro(i=>Mu(_ae(i.route.parent,n),wae(i.route,n),Dae(e,i.path,r),Cae(e,i.route,r))),Fo(i=>i!==!0,!0))}function wae(e,t){return e!==null&&t&&t(new SC(e)),Pe(!0)}function _ae(e,t){return e!==null&&t&&t(new CC(e)),Pe(!0)}function Cae(e,t,r){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return Pe(!0);let i=n.map(o=>gh(()=>{let s=Ip(t)??r,a=gd(o,s),l=pae(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e));return Ga(l).pipe(Fo())}));return Pe(i).pipe(md())}function Dae(e,t,r){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>cae(s)).filter(s=>s!==null).map(s=>gh(()=>{let a=s.guards.map(l=>{let c=Ip(s.node)??r,u=gd(l,c),d=mae(u)?u.canActivateChild(n,e):c.runInContext(()=>u(n,e));return Ga(d).pipe(Fo())});return Pe(a).pipe(md())}));return Pe(o).pipe(md())}function Sae(e,t,r,n,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return Pe(!0);let s=o.map(a=>{let l=Ip(t)??i,c=gd(a,l),u=gae(c)?c.canDeactivate(e,t,r,n):l.runInContext(()=>c(e,t,r,n));return Ga(u).pipe(Fo())});return Pe(s).pipe(md())}function Mae(e,t,r,n){let i=t.canLoad;if(i===void 0||i.length===0)return Pe(!0);let o=i.map(s=>{let a=gd(s,e),l=hae(a)?a.canLoad(t,r):e.runInContext(()=>a(t,r));return Ga(l)});return Pe(o).pipe(md(),tP(n))}function tP(e){return rw(Qn(t=>{if(hd(t))throw XO(e,t)}),ve(t=>t===!0))}function Eae(e,t,r,n){let i=t.canMatch;if(!i||i.length===0)return Pe(!0);let o=i.map(s=>{let a=gd(s,e),l=yae(a)?a.canMatch(t,r):e.runInContext(()=>a(t,r));return Ga(l)});return Pe(o).pipe(md(),tP(n))}var Mp=class{constructor(t){this.segmentGroup=t||null}},jy=class extends Error{constructor(t){super(),this.urlTree=t}};function ld(e){return ba(new Mp(e))}function Tae(e){return ba(new ce(4e3,!1))}function kae(e){return ba(KO(!1,3))}var PC=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}noMatchError(t){return new ce(4002,!1)}lineralizeSegments(t,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return Pe(n);if(i.numberOfChildren>1||!i.children[ht])return Tae(t.redirectTo);i=i.children[ht]}}applyRedirectCommands(t,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r.startsWith("/"))throw new jy(i);return i}applyRedirectCreateUrlTree(t,r,n,i){let o=this.createSegmentGroup(t,r.root,n,i);return new Ha(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let n={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(t,r,n,i){let o=this.createSegments(t,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,n,i)}),new Zt(o,s)}createSegments(t,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,r,n){let i=n[r.path.substring(1)];if(!i)throw new ce(4001,!1);return i}findOrReturn(t,r){let n=0;for(let i of r){if(i.path===t.path)return r.splice(n),i;n++}return t}},NC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Iae(e,t,r,n,i){let o=BC(e,t,r);return o.matched?(n=oae(t,n),Eae(n,t,r,i).pipe(ve(s=>s===!0?o:ne({},NC)))):Pe(o)}function BC(e,t,r){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?ne({},NC):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Ese)(r,e,t);if(!i)return ne({},NC);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?ne(ne({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function kO(e,t,r,n){return r.length>0&&Pae(e,r,n)?{segmentGroup:new Zt(t,Oae(n,new Zt(r,e.children))),slicedSegments:[]}:r.length===0&&Nae(e,r,n)?{segmentGroup:new Zt(e.segments,Aae(e,t,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Zt(e.segments,e.children),slicedSegments:r}}function Aae(e,t,r,n,i){let o={};for(let s of n)if(Uy(e,r,s)&&!i[Qo(s)]){let a=new Zt([],{});o[Qo(s)]=a}return ne(ne({},i),o)}function Oae(e,t){let r={};r[ht]=t;for(let n of e)if(n.path===""&&Qo(n)!==ht){let i=new Zt([],{});r[Qo(n)]=i}return r}function Pae(e,t,r){return r.some(n=>Uy(e,t,n)&&Qo(n)!==ht)}function Nae(e,t,r){return r.some(n=>Uy(e,t,n))}function Uy(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Rae(e,t,r,n){return Qo(e)!==n&&(n===ht||!Uy(t,r,e))?!1:e.path==="**"?!0:BC(t,e,r).matched}function Fae(e,t,r){return t.length===0&&!e.children[r]}var RC=class{};function Lae(e,t,r,n,i,o,s="emptyOnly"){return new FC(e,t,r,n,i,s,o).recognize()}var Vae=31,FC=class{constructor(t,r,n,i,o,s,a){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new PC(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ce(4002,!1)}recognize(){let t=kO(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ve(r=>{let n=new Dp([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),i=new Mi(n,r),o=new Ly("",i),s=Wse(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ht).pipe(On(n=>{if(n instanceof jy)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Mp?this.noMatchError(n):n}))}inheritParamsAndData(t,r){let n=t.value,i=VC(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,i,!0).pipe(ve(o=>o instanceof Mi?[o]:[]))}processChildren(t,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return cn(i).pipe(Ro(o=>{let s=n.children[o],a=sae(r,o);return this.processSegmentGroup(t,a,s,o)}),yh((o,s)=>(o.push(...s),o)),Ca(null),gw(),Gt(o=>{if(o===null)return ld(n);let s=nP(o);return jae(s),Pe(s)}))}processSegment(t,r,n,i,o,s){return cn(r).pipe(Ro(a=>this.processSegmentAgainstRoute(a._injector??t,r,a,n,i,o,s).pipe(On(l=>{if(l instanceof Mp)return Pe(null);throw l}))),Fo(a=>!!a),On(a=>{if(eP(a))return Fae(n,i,o)?Pe(new RC):ld(n);throw a}))}processSegmentAgainstRoute(t,r,n,i,o,s,a){return Rae(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,n,o,s):ld(i):ld(i)}expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=i.path==="**"?IO(o):BC(r,i,o);if(!a)return ld(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Vae&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Gt(f=>this.processSegment(t,n,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(t,r,n,i,o){let s;return n.path==="**"?(s=Pe(IO(i)),r.children={}):s=Iae(r,n,i,t,this.urlSerializer),s.pipe(wr(a=>a.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(wr(({routes:l})=>{let c=n._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new Dp(u,f,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,$ae(n),Qo(n),n.component??n._loadedComponent??null,n,Bae(n)),{segmentGroup:m,slicedSegments:y}=kO(r,u,d,l);if(y.length===0&&m.hasChildren())return this.processChildren(c,l,m).pipe(ve(x=>x===null?null:new Mi(h,x)));if(l.length===0&&y.length===0)return Pe(new Mi(h,[]));let g=Qo(n)===o;return this.processSegment(c,l,m,y,g?ht:o,!0).pipe(ve(x=>new Mi(h,x instanceof Mi?[x]:[])))}))):ld(r)))}getChildConfig(t,r,n){return r.children?Pe({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?Pe({routes:r._loadedRoutes,injector:r._loadedInjector}):Mae(t,r,n,this.urlSerializer).pipe(Gt(i=>i?this.configLoader.loadChildren(t,r).pipe(Qn(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):kae(r))):Pe({routes:[],injector:t})}};function jae(e){e.sort((t,r)=>t.value.outlet===ht?-1:r.value.outlet===ht?1:t.value.outlet.localeCompare(r.value.outlet))}function zae(e){let t=e.value.routeConfig;return t&&t.path===""}function nP(e){let t=[],r=new Set;for(let n of e){if(!zae(n)){t.push(n);continue}let i=t.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):t.push(n)}for(let n of r){let i=nP(n.children);t.push(new Mi(n.value,i))}return t.filter(n=>!r.has(n))}function $ae(e){return e.data||{}}function Bae(e){return e.resolve||{}}function IO(e){return{matched:!0,parameters:e.length>0?NO(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Uae(e,t,r,n,i,o){return Gt(s=>Lae(e,t,r,n,s.extractedUrl,i,o).pipe(ve(({state:a,tree:l})=>Se(ne({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Hae(e,t){return Gt(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return Pe(r);let o=i.map(c=>c.route),s=new Set(o),a=rP(o[0].parent).slice(1),l=0;return cn(a).pipe(Ro(c=>s.has(c)?qae(c,n,e,t):(c.data=VC(c,c.parent,e).resolve,Pe(void 0))),Qn(()=>l++),Tu(1),Gt(c=>l===a.length?Pe(r):br))})}function rP(e){let t=e.children.map(r=>rP(r)).flat();return[e,...t]}function qae(e,t,r,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!ZO(i)&&(o[Ep]=i.title),Wae(o,e,t,n).pipe(ve(s=>(e._resolvedData=s,e.data=VC(e,e.parent,r).resolve,null)))}function Wae(e,t,r,n){let i=hC(e);if(i.length===0)return Pe({});let o={};return cn(i).pipe(Gt(s=>Gae(e[s],t,r,n).pipe(Fo(),Qn(a=>{o[s]=a}))),Tu(1),pw(o),On(s=>eP(s)?br:ba(s)))}function Gae(e,t,r,n){let i=Ip(t)??n,o=gd(e,i),s=o.resolve?o.resolve(t,r):i.runInContext(()=>o(t,r));return Ga(s)}function dC(e){return wr(t=>{let r=e(t);return r?cn(r).pipe(ve(()=>t)):Pe(t)})}var iP=(()=>{let t=class t{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ht);return i}getResolvedTitleForRoute(n){return n.data[Ep]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>he(Yae))(),providedIn:"root"});let e=t;return e})(),Yae=(()=>{let t=class t extends iP{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(re(a5))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Op=new ae("",{providedIn:"root",factory:()=>({})}),zy=new ae("ROUTES"),UC=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=he(I1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Ga(n.loadComponent()).pipe(ve(oP),Qn(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Rs(()=>{this.componentLoaders.delete(n)})),o=new xu(i,()=>new zt).pipe(vu());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Zae(i,this.compiler,n,this.onLoadEndListener).pipe(Rs(()=>{this.childrenLoaders.delete(i)})),a=new xu(s,()=>new zt).pipe(vu());return this.childrenLoaders.set(i,a),a}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Zae(e,t,r,n){return Ga(e.loadChildren()).pipe(ve(oP),Gt(i=>i instanceof Eh||Array.isArray(i)?Pe(i):cn(t.compileModuleAsync(i))),ve(i=>{n&&n(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(zy,[],{optional:!0,self:!0}).flat()),{routes:s.map($C),injector:o}}))}function Qae(e){return e&&typeof e=="object"&&"default"in e}function oP(e){return Qae(e)?e.default:e}var HC=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>he(Xae))(),providedIn:"root"});let e=t;return e})(),Xae=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),sP=new ae(""),aP=new ae("");function Kae(e,t,r){let n=e.get(aP),i=e.get(Kn);return e.get(Rt).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=i.startViewTransition(()=>(o(),Jae(e))),{onViewTransitionCreated:l}=n;return l&&uT(e,()=>l({transition:a,from:t,to:r})),s})}function Jae(e){return new Promise(t=>{D4(t,{injector:e})})}var qC=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new zt,this.transitionAbortSubject=new zt,this.configLoader=he(UC),this.environmentInjector=he(Lr),this.urlSerializer=he(Tp),this.rootContexts=he(kp),this.location=he(La),this.inputBindingEnabled=he(By,{optional:!0})!==null,this.titleStrategy=he(iP),this.options=he(Op,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=he(HC),this.createViewTransition=he(sP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Pe(void 0),this.rootComponentType=null;let n=o=>this.events.next(new wC(o)),i=o=>this.events.next(new _C(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Se(ne(ne({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new qt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yp,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vn(s=>s.id!==0),ve(s=>Se(ne({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wr(s=>{this.currentTransition=s;let a=!1,l=!1;return Pe(s).pipe(Qn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?Se(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wr(c=>{let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Wa(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),br}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Pe(c).pipe(wr(f=>{let h=this.transitions?.getValue();return this.events.next(new pd(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?br:Promise.resolve(f)}),Uae(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Qn(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Se(ne({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Py(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:m,restoredState:y,extras:g}=c,x=new pd(f,this.urlSerializer.serialize(h),m,y);this.events.next(x);let C=GO(h,this.rootComponentType).snapshot;return this.currentTransition=s=Se(ne({},c),{targetSnapshot:C,urlAfterRedirects:h,extras:Se(ne({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,Pe(s)}else{let f="";return this.events.next(new Wa(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),br}}),Qn(c=>{let u=new yC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ve(c=>(this.currentTransition=s=Se(ne({},c),{guards:lae(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),vae(this.environmentInjector,c=>this.events.next(c)),Qn(c=>{if(s.guardsResult=c.guardsResult,hd(c.guardsResult))throw XO(this.urlSerializer,c.guardsResult);let u=new vC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Vn(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",3),!1)),dC(c=>{if(c.guards.canActivateChecks.length)return Pe(c).pipe(Qn(u=>{let d=new xC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wr(u=>{let d=!1;return Pe(u).pipe(Hae(this.paramsInheritanceStrategy,this.environmentInjector),Qn({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Qn(u=>{let d=new bC(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),dC(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Qn(h=>{d.component=h}),ve(()=>{})));for(let h of d.children)f.push(...u(h));return f};return mh(u(c.targetSnapshot.root)).pipe(Ca(),oo(1))}),dC(()=>this.afterPreactivation()),wr(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?cn(d).pipe(ve(()=>s)):Pe(s)}),ve(c=>{let u=eae(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=Se(ne({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Qn(()=>{this.events.next(new _p)}),aae(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),oo(1),Qn({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),vh(this.transitionAbortSubject.pipe(Qn(c=>{throw c}))),Rs(()=>{if(!a&&!l){let c="";this.cancelNavigationTransition(s,c,1)}this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),On(c=>{if(l=!0,JO(c))this.events.next(new qa(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),rae(c)?this.events.next(new Cp(c.url)):s.resolve(!1);else{this.events.next(new wp(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(c))}catch(u){s.reject(u)}}return br}))}))}cancelNavigationTransition(n,i,o){let s=new qa(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ele(e){return e!==yp}var tle=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>he(nle))(),providedIn:"root"});let e=t;return e})(),LC=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},nle=(()=>{let t=class t extends LC{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lP=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:()=>(()=>he(rle))(),providedIn:"root"});let e=t;return e})(),rle=(()=>{let t=class t extends lP{constructor(){super(...arguments),this.location=he(La),this.urlSerializer=he(Tp),this.options=he(Op,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=he(HC),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ha,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=GO(this.currentUrlTree,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof pd)this.stateMemento=this.createStateMemento();else if(n instanceof Wa)this.rawUrlTree=i.initialUrl;else if(n instanceof Py){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof _p?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof qa&&(n.code===3||n.code===2)?this.restoreHistory(i):n instanceof wp?this.restoreHistory(i,!0):n instanceof Zo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=ne(ne({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=ne(ne({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=po(t)))(o||t)}})(),t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mp=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(mp||{});function cP(e,t){e.events.pipe(Vn(r=>r instanceof Zo||r instanceof qa||r instanceof wp||r instanceof Wa),ve(r=>r instanceof Zo||r instanceof Wa?mp.COMPLETE:(r instanceof qa?r.code===0||r.code===1:!1)?mp.REDIRECTING:mp.FAILED),Vn(r=>r!==mp.REDIRECTING),oo(1)).subscribe(()=>{t()})}function ile(e){throw e}var ole={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sle={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=he(T1),this.stateManager=he(lP),this.options=he(Op,{optional:!0})||{},this.pendingTasks=he(Xu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=he(qC),this.urlSerializer=he(Tp),this.location=he(La),this.urlHandlingStrategy=he(HC),this._events=new zt,this.errorHandler=this.options.errorHandler||ile,this.navigated=!1,this.routeReuseStrategy=he(tle),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=he(zy,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!he(By,{optional:!0}),this.eventsSubscription=new qn,this.isNgZoneEnabled=he(Rt)instanceof Rt&&Rt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof qa&&i.code!==0&&i.code!==1)this.navigated=!0;else if(i instanceof Zo)this.navigated=!0;else if(i instanceof Cp){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l={skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ele(o.source)};this.scheduleNavigation(a,yp,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}lle(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),yp,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)}))}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=ne({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map($C),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=ne(ne({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=UO(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return HO(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=hd(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,yp,null,i)}navigate(n,i={skipLocationChange:!1}){return ale(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=ne({},ole):i===!1?o=ne({},sle):o=i,hd(n))return DO(this.currentUrlTree,n,o);let s=this.parseUrl(n);return DO(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{let s=n[o];return s!=null&&(i[o]=s),i},{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return cP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function ale(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ce(4008,!1)}function lle(e){return!(e instanceof _p)&&!(e instanceof Cp)}var gt=(()=>{let t=class t{constructor(n,i,o,s,a,l){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new zt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Zo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n!=null?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,s,a){if(this.urlTree===null||this.isAnchorElement&&(n!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state};return this.router.navigateByUrl(this.urlTree,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let n=this.href===null?null:LT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,n,i):o.removeAttribute(s,n)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(i){return new(i||t)(X(Nn),X($n),X_("tabindex"),X(ni),X(Ye),X($s))},t.\u0275dir=hn({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&te("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&_1("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ic],skipLocationChange:["skipLocationChange","skipLocationChange",ic],replaceUrl:["replaceUrl","replaceUrl",ic],routerLink:"routerLink"},standalone:!0,features:[M4,wn]});let e=t;return e})();var $y=class{};var cle=(()=>{let t=class t{constructor(n,i,o,s,a){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Vn(n=>n instanceof Zo),Ro(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=S1(s.providers,n,`Route: ${s.path}`));let a=s._injector??n,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return cn(o).pipe(_a())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(n,i):o=Pe(null);let s=o.pipe(Gt(a=>a===null?Pe(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return cn([s,a]).pipe(_a())}else return s})}};t.\u0275fac=function(i){return new(i||t)(re(Nn),re(I1),re(Lr),re($y),re(UC))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),uP=new ae(""),ule=(()=>{let t=class t{constructor(n,i,o,s,a={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof pd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Zo?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Wa&&n.code===0&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ny&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ny(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(i){BT()},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();function dle(e){return e.routerState.root}function Pp(e,t){return{\u0275kind:e,\u0275providers:t}}function fle(){let e=he(ti);return t=>{let r=e.get(js);if(t!==r.components[0])return;let n=e.get(Nn),i=e.get(dP);e.get(WC)===1&&n.initialNavigation(),e.get(fP,null,vt.Optional)?.setUpPreloading(),e.get(uP,null,vt.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dP=new ae("",{factory:()=>new zt}),WC=new ae("",{providedIn:"root",factory:()=>1});function hle(){return Pp(2,[{provide:WC,useValue:0},{provide:E1,multi:!0,deps:[ti],useFactory:t=>{let r=t.get(Kk,Promise.resolve());return()=>r.then(()=>new Promise(n=>{let i=t.get(Nn),o=t.get(dP);cP(i,()=>{n(!0)}),t.get(qC).afterPreactivation=()=>(n(!0),o.closed?Pe(void 0):o),i.initialNavigation()}))}}])}function ple(){return Pp(3,[{provide:E1,multi:!0,useFactory:()=>{let t=he(Nn);return()=>{t.setUpLocationChangeListener()}}},{provide:WC,useValue:2}])}var fP=new ae("");function mle(e){return Pp(0,[{provide:fP,useExisting:cle},{provide:$y,useExisting:e}])}function gle(){return Pp(8,[TO,{provide:By,useExisting:TO}])}function yle(e){let t=[{provide:sP,useValue:Kae},{provide:aP,useValue:ne({skipNextTransition:!!e?.skipInitialTransition},e)}];return Pp(9,t)}var AO=new ae("ROUTER_FORROOT_GUARD"),vle=[La,{provide:Tp,useClass:xp},Nn,kp,{provide:$n,useFactory:dle,deps:[Nn]},UC,[]],GC=(()=>{let t=class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[vle,[],{provide:zy,multi:!0,useValue:n},{provide:AO,useFactory:_le,deps:[[Nn,new Ah,new u1]]},{provide:Op,useValue:i||{}},i?.useHash?ble():wle(),xle(),i?.preloadingStrategy?mle(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Cle(i):[],i?.bindToComponentInputs?gle().\u0275providers:[],i?.enableViewTransitions?yle().\u0275providers:[],Dle()]}}static forChild(n){return{ngModule:t,providers:[{provide:zy,multi:!0,useValue:n}]}}};t.\u0275fac=function(i){return new(i||t)(re(AO,8))},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({});let e=t;return e})();function xle(){return{provide:uP,useFactory:()=>{let e=he(sI),t=he(Rt),r=he(Op),n=he(qC),i=he(Tp);return r.scrollOffset&&e.setOffset(r.scrollOffset),new ule(i,n,e,t,r)}}}function ble(){return{provide:$s,useClass:eI}}function wle(){return{provide:$s,useClass:W4}}function _le(e){return"guarded"}function Cle(e){return[e.initialNavigation==="disabled"?ple().\u0275providers:[],e.initialNavigation==="enabledBlocking"?hle().\u0275providers:[]]}var OO=new ae("");function Dle(){return[{provide:OO,useFactory:fle},{provide:P1,multi:!0,useExisting:OO}]}var YC={darkMode:"dark_mode_enabled"};var hP={tokenName:"access_token",refreshTokenName:"refresh_token",type:"local",apiEndpoint:"//localhost:50000",isReportScheduleEditingEnabled:!1,IsReportingSsrsUsed:!0};var pP=new Bs({Accept:"application/json","Content-Type":"application/json"});var yd=(()=>{let t=class t{constructor(n){this.http=n}debug(n){console.debug(n)}info(n){console.info(n)}warn(n){console.warn(n)}handleError(n){console.error(n);try{if(n.message.indexOf("The operation attempted to access data outside the valid range")>-1)return}catch{}let i=this.formatException(n),o={headers:pP},s=hP.apiEndpoint+"/Logger/LogError";this.http.post(s,i,o).subscribe()}formatException(n){try{return n.status==401?JSON.stringify({Message:n.text(),Detail:"Endpoint: "+n.url}):n.status==500?JSON.stringify({Message:n.message,Detail:n.innerException.message+`
Endpoint: `+n.url}):JSON.stringify({Message:n.message,Detail:n.stack})}catch{return JSON.stringify({Message:n.message,Detail:n.stack})}}};t.\u0275fac=function(i){return new(i||t)(re(Wt))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mP=(()=>{let t=class t{constructor(n){this.logger=n,this.isDarkModeEnabled=new qt(!1),this.isDarkModeEnabled$=this.isDarkModeEnabled.asObservable();let i=this.getDarkModeStorageItem();this.isDarkModeEnabled.next(i)}toggleDarkMode(){this.isDarkModeEnabled.next(!this.isDarkModeEnabled.value),this.setDarkModeStorageItem(this.isDarkModeEnabled.value)}setDarkModeStorageItem(n){localStorage.setItem(YC.darkMode,n?"true":"false")}getDarkModeStorageItem(){return localStorage.getItem(YC.darkMode)=="true"}};t.\u0275fac=function(i){return new(i||t)(re(yd))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Mle=e=>({filter:e}),gP=(()=>{let t=class t{constructor(n,i){this.route=n,this.themeService=i,this.pathname="/",this.isDarkMode=!1,this.pathname=location.pathname}ngOnInit(){this.themeService.isDarkModeEnabled$.subscribe(n=>{this.isDarkMode=n})}toggleDarkMode(){this.themeService.toggleDarkMode()}on(){document.getElementById("overlay").style.display="block"}off(){document.getElementById("overlay").style.display="none"}notHomeRoute(){return this.pathname==="/"}};t.\u0275fac=function(i){return new(i||t)(X($n),X(mP))},t.\u0275cmp=le({type:t,selectors:[["app-root"]],decls:7,vars:6,consts:[[1,"dark-mode-toggle",3,"click"],[1,"toggle-icon",3,"ngStyle"],["viewBox","0 0 24 24","width","24","height","24"],["d","M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"]],template:function(i,o){i&1&&(k(0,"div")(1,"button",0),te("click",function(){return o.toggleDarkMode()}),k(2,"span",1),Ft(),k(3,"svg",2),Q(4,"path",3),M()(),V(5),M(),zn(),Q(6,"router-outlet"),M()),i&2&&(rn("dark-mode",o.isDarkMode),U(2),G("ngStyle",jr(4,Mle,o.isDarkMode?"invert(1) hue-rotate(180deg)":"none")),U(3),ut(" ",o.isDarkMode?"Light Mode":"Dark Mode"," "))},dependencies:[nI,zC],styles:["#overlay[_ngcontent-%COMP%]{position:fixed;display:none;width:100%;height:100%;inset:0;background-color:#00000080;z-index:2;cursor:pointer}#text[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;font-size:50px;color:#fff;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%)}body.dark-mode[_ngcontent-%COMP%]{background:#181818!important;color:#f1f1f1!important}body.dark-mode[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   #overlay[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .single-card[_ngcontent-%COMP%], body.dark-mode[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#232323!important;color:#f1f1f1!important}body.dark-mode[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{background:#333!important;color:#f1f1f1!important}body.dark-mode[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{background:#232323!important}body.light[_ngcontent-%COMP%]   .dark-mode[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] > nav-tree[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:not(:hover) > a.active[_ngcontent-%COMP%]{color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]{background-color:#1e1e1e}.dark-mode[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem}.dark-mode[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] > nav-tree[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   #cliffy[_ngcontent-%COMP%]:not(.active)   .welcome-tag[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   #cliffy[_ngcontent-%COMP%]:not(.active)   .chevron-icon[_ngcontent-%COMP%]:after{color:#fff}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]{background-color:#58585a!important;box-shadow:0 50vh 0 50vh #58585a!important}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .legal-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .footer-link[_ngcontent-%COMP%]{color:#fff!important}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .social-container[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   footer[_ngcontent-%COMP%]   .social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{filter:invert(1)}.dark-mode[_ngcontent-%COMP%]   .content-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .checked-listbox[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .text-field[_ngcontent-%COMP%]:disabled{color:#fff}.dark-mode[_ngcontent-%COMP%]   .panel-container[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.dark-mode[_ngcontent-%COMP%]   .panel-select[_ngcontent-%COMP%]{border:transparent}.dark-mode[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .panel-select[_ngcontent-%COMP%]:after, .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-red[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-green[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-yellow[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell.rag-grey[_ngcontent-%COMP%]{color:#000}.dark-mode[_ngcontent-%COMP%]   dropdown.custom[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]   .dropdown-display[_ngcontent-%COMP%]:before{background-color:#fff}.dark-mode[_ngcontent-%COMP%]   .dropdown-container[_ngcontent-%COMP%]{background-color:#fff}.dark-mode[_ngcontent-%COMP%]   .circular-background[_ngcontent-%COMP%]{background-color:#b3e5fc;color:#1f1f38!important}.dark-mode[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]:before, .dark-mode[_ngcontent-%COMP%]   .download-icon[_ngcontent-%COMP%]:after, .dark-mode[_ngcontent-%COMP%]   .material-icons.decrease[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .material-icons.toggle[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .material-icons.increase[_ngcontent-%COMP%]{color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .eye-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .pencil-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .pencil-icon[_ngcontent-%COMP%]:before{background-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .picture-icon[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .picture-icon[_ngcontent-%COMP%]:before, .dark-mode[_ngcontent-%COMP%]   .picture-icon[_ngcontent-%COMP%]:after{border-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .pencil-icon[_ngcontent-%COMP%]:after{border-left-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   analytics-visualization[_ngcontent-%COMP%]   .panel-body[_ngcontent-%COMP%]   #chord-filter-container[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .event-count[_ngcontent-%COMP%]{background-color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   .time-series-icon-label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .ag-cell[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .master-detail-toggle[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .value.active[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   concierge-associated-selector[_ngcontent-%COMP%]   .click-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .event-row[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   report-modify-cell[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#b3e5fc}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .container-reset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .table-control-label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-behavior-dashboard[_ngcontent-%COMP%]   actionable-panel[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .timeline-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#b3e5fc!important}.dark-mode[_ngcontent-%COMP%]   tabbed-panel-header[_ngcontent-%COMP%]   .tabs-container[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   stored-events-timeline[_ngcontent-%COMP%]   .name-container[_ngcontent-%COMP%]{background-color:#2f2f2f}.dark-mode[_ngcontent-%COMP%]   threat-life-cycle[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]{border-color:#2f2f2f}.dark-mode[_ngcontent-%COMP%]   threat-life-cycle[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   .graphic[_ngcontent-%COMP%]:before{border-color:#2f2f2f}.dark-mode[_ngcontent-%COMP%]   time-series-bar-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   sparkline-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   donut-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   polar-chart[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#fff!important}.dark-mode[_ngcontent-%COMP%]   donut-chart[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{stroke:transparent}.dark-mode[_ngcontent-%COMP%]   metrics-dashboard[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#3f3e3e}.dark-mode[_ngcontent-%COMP%]   alaaap-header[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#3f3e3e}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .basic-filter[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .container-filter-configuration[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .container-filter-configuration[_ngcontent-%COMP%]   .suggest-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:3.4rem}.dark-mode[_ngcontent-%COMP%]   stored-concierge[_ngcontent-%COMP%]   .configured-filter[_ngcontent-%COMP%]{color:#000}.dark-mode[_ngcontent-%COMP%]   .stored-concierge[_ngcontent-%COMP%]   .modal-bulk-editor[_ngcontent-%COMP%]   .modal-body-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   .stored-concierge[_ngcontent-%COMP%]   .modal-breadcrumb-editor[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   add-edit-custom-alert[_ngcontent-%COMP%]   .modal-bulk-editor[_ngcontent-%COMP%]   .modal-body-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   report-wizard[_ngcontent-%COMP%]   .tab-container[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   report-template[_ngcontent-%COMP%]   .report-type[_ngcontent-%COMP%], .dark-mode[_ngcontent-%COMP%]   resources[_ngcontent-%COMP%]   .report-type[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   stored-behavior-dashboard[_ngcontent-%COMP%]   .detail-container[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   stored-behavior-dashboard[_ngcontent-%COMP%]   .sub-panel-header[_ngcontent-%COMP%]{color:#fff}.dark-mode[_ngcontent-%COMP%]   concierge-associated-selector[_ngcontent-%COMP%]   .container-associated-resources[_ngcontent-%COMP%]{color:#000}.dark-mode[_ngcontent-%COMP%]   filter-search[_ngcontent-%COMP%]   #search[_ngcontent-%COMP%]{background-color:#fff}.dark-mode[_ngcontent-%COMP%]   sparkline-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{filter:invert(1)}.dark-mode[_ngcontent-%COMP%]   sparkline-chart[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{fill:#000!important}.dark-mode[_ngcontent-%COMP%]   add-edit-custom-alert[_ngcontent-%COMP%]   .container-filter-configuration[_ngcontent-%COMP%]{background-color:#1f1f38}.dark-mode[_ngcontent-%COMP%]   side-list-panel[_ngcontent-%COMP%]   .unselected[_ngcontent-%COMP%]   .main-panel-container[_ngcontent-%COMP%]   [main-panel][_ngcontent-%COMP%]:before{background-color:#000!important;opacity:.9!important}.dark-mode[_ngcontent-%COMP%]   audit-dashboard[_ngcontent-%COMP%]   .panel[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{background-color:#000}.dark-mode-toggle[_ngcontent-%COMP%]{position:fixed;top:16px;right:16px;z-index:1000;background:linear-gradient(90deg,#232526 0%,#414345 100%);color:#fff;border:none;border-radius:2rem;padding:.5rem 1.5rem;font-size:1.1rem;font-weight:600;box-shadow:0 2px 8px #00000026;cursor:pointer;display:flex;align-items:center;gap:.7rem;transition:background .3s,color .3s}.dark-mode-toggle[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{font-size:1.3rem;transition:color .3s}.dark-mode[_ngcontent-%COMP%]   .dark-mode-toggle[_ngcontent-%COMP%]{background:linear-gradient(90deg,#232526 0%,#0f2027 100%);color:#ffe082}"]});let e=t;return e})();var Hy=class{constructor(){this.showLegend=!0,this.dynamicColors=!1}},qy=class{constructor(){this.isCustom=!1,this.customLabel="",this.focusedDateRange=!1}};var Ne=function(e){return e.LastHour="Last Hour",e.LastTwoHours="Last 2 Hours",e.LastFourHours="Last 4 Hours",e.LastSixHours="Last 6 Hours",e.LastEightHours="Last 8 Hours",e.LastTwelveHours="Last 12 Hours",e.LastTwentyFourHours="Last 24 Hours",e.LastSevenDays="Last 7 Days",e.LastThirtyDays="Last 30 Days",e.Custom="Custom",e.LastSixtyDays="Last 60 Days",e.LastNinetyDays="Last 90 Days",e.LastOneHundredTwentyDays="Last 120 Days",e}(Ne||{});var tt={};fu(tt,{Adder:()=>Qt,Delaunay:()=>gv,FormatSpecifier:()=>dm,InternMap:()=>fc,InternSet:()=>Rp,Voronoi:()=>Yd,active:()=>VF,arc:()=>sn,area:()=>gs,areaRadial:()=>OS,ascending:()=>at,autoType:()=>ta,axisBottom:()=>it,axisLeft:()=>Je,axisRight:()=>x2,axisTop:()=>Jo,bin:()=>Cd,bisect:()=>$r,bisectCenter:()=>JC,bisectLeft:()=>KC,bisectRight:()=>Gy,bisector:()=>Ya,blob:()=>DL,brush:()=>lv,brushSelection:()=>qF,brushX:()=>WF,brushY:()=>d8,buffer:()=>SL,chord:()=>YF,chordDirected:()=>QF,chordTranspose:()=>ZF,cluster:()=>Cj,color:()=>Br,contourDensity:()=>aL,contours:()=>dv,count:()=>Xo,create:()=>eR,creator:()=>el,cross:()=>Yy,csv:()=>ml,csvFormat:()=>hL,csvFormatBody:()=>pL,csvFormatRow:()=>gL,csvFormatRows:()=>mL,csvFormatValue:()=>yL,csvParse:()=>pl,csvParseRows:()=>fL,cubehelix:()=>Mr,cumsum:()=>Zy,curveBasis:()=>uB,curveBasisClosed:()=>fB,curveBasisOpen:()=>pB,curveBumpX:()=>mB,curveBumpY:()=>gB,curveBundle:()=>vB,curveCardinal:()=>ig,curveCardinalClosed:()=>xB,curveCardinalOpen:()=>bB,curveCatmullRom:()=>_B,curveCatmullRomClosed:()=>DB,curveCatmullRomOpen:()=>MB,curveLinear:()=>pi,curveLinearClosed:()=>TB,curveMonotoneX:()=>Ax,curveMonotoneY:()=>NB,curveNatural:()=>LB,curveStep:()=>VB,curveStepAfter:()=>zB,curveStepBefore:()=>jB,descending:()=>Hs,deviation:()=>xd,difference:()=>d2,disjoint:()=>f2,dispatch:()=>Ei,drag:()=>Gs,dragDisable:()=>rl,dragEnable:()=>il,dsv:()=>M8,dsvFormat:()=>hl,easeBack:()=>r8,easeBackIn:()=>NF,easeBackInOut:()=>r8,easeBackOut:()=>rv,easeBounce:()=>dl,easeBounceIn:()=>OF,easeBounceInOut:()=>PF,easeBounceOut:()=>dl,easeCircle:()=>e8,easeCircleIn:()=>AF,easeCircleInOut:()=>e8,easeCircleOut:()=>Cc,easeCubic:()=>Ks,easeCubicIn:()=>_F,easeCubicInOut:()=>Ks,easeCubicOut:()=>om,easeElastic:()=>s8,easeElasticIn:()=>RF,easeElasticInOut:()=>FF,easeElasticOut:()=>s8,easeExp:()=>J6,easeExpIn:()=>kF,easeExpInOut:()=>J6,easeExpOut:()=>IF,easeLinear:()=>ci,easePoly:()=>_c,easePolyIn:()=>CF,easePolyInOut:()=>_c,easePolyOut:()=>DF,easeQuad:()=>Q6,easeQuadIn:()=>bF,easeQuadInOut:()=>Q6,easeQuadOut:()=>wF,easeSin:()=>K6,easeSinIn:()=>EF,easeSinInOut:()=>K6,easeSinOut:()=>TF,every:()=>o2,extent:()=>Mt,fcumsum:()=>o6,filter:()=>a2,forceCenter:()=>vv,forceCollide:()=>xv,forceLink:()=>bv,forceManyBody:()=>Xd,forceRadial:()=>tV,forceSimulation:()=>Qd,forceX:()=>wv,forceY:()=>_v,format:()=>We,formatDefaultLocale:()=>Sv,formatLocale:()=>Cv,formatPrefix:()=>Oc,formatSpecifier:()=>na,fsum:()=>i6,geoAlbers:()=>l3,geoAlbersUsa:()=>dj,geoArea:()=>mV,geoAzimuthalEqualArea:()=>fj,geoAzimuthalEqualAreaRaw:()=>u3,geoAzimuthalEquidistant:()=>hj,geoAzimuthalEquidistantRaw:()=>d3,geoBounds:()=>CV,geoCentroid:()=>kV,geoCircle:()=>NV,geoClipAntimeridian:()=>wm,geoClipCircle:()=>Zv,geoClipExtent:()=>LV,geoClipRectangle:()=>aa,geoConicConformal:()=>mj,geoConicConformalRaw:()=>hD,geoConicEqualArea:()=>zc,geoConicEqualAreaRaw:()=>dD,geoConicEquidistant:()=>yj,geoConicEquidistantRaw:()=>pD,geoContains:()=>HV,geoDistance:()=>rf,geoEqualEarth:()=>vj,geoEqualEarthRaw:()=>p3,geoEquirectangular:()=>gj,geoEquirectangularRaw:()=>Bc,geoGnomonic:()=>xj,geoGnomonicRaw:()=>m3,geoGraticule:()=>Cm,geoGraticule10:()=>GV,geoIdentity:()=>bj,geoInterpolate:()=>YV,geoLength:()=>Jv,geoMercator:()=>pj,geoMercatorRaw:()=>$c,geoNaturalEarth1:()=>y3,geoNaturalEarth1Raw:()=>g3,geoOrthographic:()=>mD,geoOrthographicRaw:()=>v3,geoPath:()=>km,geoProjection:()=>Un,geoProjectionMutator:()=>Im,geoRotation:()=>Uv,geoStereographic:()=>wj,geoStereographicRaw:()=>x3,geoStream:()=>ar,geoTransform:()=>aj,geoTransverseMercator:()=>_j,geoTransverseMercatorRaw:()=>b3,gray:()=>gR,greatest:()=>t2,greatestIndex:()=>n2,group:()=>Rn,groupSort:()=>Qy,groups:()=>c6,hcl:()=>Fd,hierarchy:()=>En,histogram:()=>Cd,hsl:()=>Nd,html:()=>AL,image:()=>TL,index:()=>Fp,indexes:()=>u6,interpolate:()=>Xt,interpolateArray:()=>TR,interpolateBasis:()=>O2,interpolateBasisClosed:()=>P2,interpolateBlues:()=>Mf,interpolateBrBG:()=>_$,interpolateBuGn:()=>T$,interpolateBuPu:()=>k$,interpolateCividis:()=>B$,interpolateCool:()=>q$,interpolateCubehelix:()=>UR,interpolateCubehelixDefault:()=>U$,interpolateCubehelixLong:()=>vc,interpolateDate:()=>F2,interpolateDiscrete:()=>kR,interpolateGnBu:()=>I$,interpolateGreens:()=>fx,interpolateGreys:()=>j$,interpolateHcl:()=>zR,interpolateHclLong:()=>$R,interpolateHsl:()=>LR,interpolateHslLong:()=>VR,interpolateHue:()=>IR,interpolateInferno:()=>Q$,interpolateLab:()=>Y6,interpolateMagma:()=>Z$,interpolateNumber:()=>Gn,interpolateNumberArray:()=>Vd,interpolateObject:()=>L2,interpolateOrRd:()=>A$,interpolateOranges:()=>$$,interpolatePRGn:()=>C$,interpolatePiYG:()=>D$,interpolatePlasma:()=>X$,interpolatePuBu:()=>P$,interpolatePuBuGn:()=>O$,interpolatePuOr:()=>S$,interpolatePuRd:()=>N$,interpolatePurples:()=>z$,interpolateRainbow:()=>W$,interpolateRdBu:()=>ux,interpolateRdGy:()=>M$,interpolateRdPu:()=>R$,interpolateRdYlBu:()=>E$,interpolateRdYlGn:()=>Km,interpolateReds:()=>Ef,interpolateRgb:()=>ll,interpolateRgbBasis:()=>N2,interpolateRgbBasisClosed:()=>ER,interpolateRound:()=>cl,interpolateSinebow:()=>G$,interpolateSpectral:()=>Sf,interpolateString:()=>jd,interpolateTransformCss:()=>z2,interpolateTransformSvg:()=>$2,interpolateTurbo:()=>Y$,interpolateViridis:()=>Ar,interpolateWarm:()=>H$,interpolateYlGn:()=>L$,interpolateYlGnBu:()=>F$,interpolateYlOrBr:()=>V$,interpolateYlOrRd:()=>dx,interpolateZoom:()=>B2,interrupt:()=>_o,intersection:()=>h2,interval:()=>nm,isoFormat:()=>Q3,isoParse:()=>X3,json:()=>kL,lab:()=>gc,lch:()=>vR,least:()=>e2,leastIndex:()=>Md,line:()=>Yn,lineRadial:()=>AS,linkHorizontal:()=>tg,linkRadial:()=>oB,linkVertical:()=>xx,local:()=>D2,map:()=>l2,matcher:()=>Ad,max:()=>Ue,maxIndex:()=>Dd,mean:()=>Qa,median:()=>D6,merge:()=>Xa,min:()=>mr,minIndex:()=>Sd,namespace:()=>es,namespaces:()=>Up,nice:()=>_d,now:()=>Qs,pack:()=>D3,packEnclose:()=>_3,packSiblings:()=>Hj,pairs:()=>Jn,partition:()=>M3,path:()=>ui,permute:()=>Lp,pie:()=>Yr,piecewise:()=>Xp,pointRadial:()=>Or,pointer:()=>or,pointers:()=>tR,polygonArea:()=>DD,polygonCentroid:()=>Lm,polygonContains:()=>MD,polygonHull:()=>SD,polygonLength:()=>ED,precisionFixed:()=>Mv,precisionPrefix:()=>Ev,precisionRound:()=>Tv,quadtree:()=>gl,quantile:()=>bo,quantileSorted:()=>zp,quantize:()=>U2,quickselect:()=>pc,radialArea:()=>OS,radialLine:()=>AS,randomBates:()=>lz,randomBernoulli:()=>dz,randomBeta:()=>P3,randomBinomial:()=>N3,randomCauchy:()=>hz,randomExponential:()=>cz,randomGamma:()=>mf,randomGeometric:()=>O3,randomInt:()=>sz,randomIrwinHall:()=>A3,randomLcg:()=>kD,randomLogNormal:()=>az,randomLogistic:()=>pz,randomNormal:()=>pf,randomPareto:()=>uz,randomPoisson:()=>mz,randomUniform:()=>oz,randomWeibull:()=>fz,range:()=>$t,reduce:()=>c2,reverse:()=>u2,rgb:()=>Zs,ribbon:()=>tL,ribbonArrow:()=>nL,rollup:()=>li,rollups:()=>bd,scaleBand:()=>ot,scaleDiverging:()=>ix,scaleDivergingLog:()=>nS,scaleDivergingPow:()=>ox,scaleDivergingSqrt:()=>x$,scaleDivergingSymlog:()=>rS,scaleIdentity:()=>F3,scaleImplicit:()=>R3,scaleLinear:()=>be,scaleLog:()=>L3,scaleOrdinal:()=>Xe,scalePoint:()=>ID,scalePow:()=>Um,scaleQuantile:()=>j3,scaleQuantize:()=>z3,scaleRadial:()=>gf,scaleSequential:()=>Tn,scaleSequentialLog:()=>eS,scaleSequentialPow:()=>tx,scaleSequentialQuantile:()=>nx,scaleSequentialSqrt:()=>v$,scaleSequentialSymlog:()=>tS,scaleSqrt:()=>Hi,scaleSymlog:()=>V3,scaleThreshold:()=>$3,scaleTime:()=>hi,scaleUtc:()=>J3,scan:()=>r2,schemeAccent:()=>sx,schemeBlues:()=>CS,schemeBrBG:()=>iS,schemeBuGn:()=>dS,schemeBuPu:()=>fS,schemeCategory10:()=>kn,schemeDark2:()=>ax,schemeGnBu:()=>hS,schemeGreens:()=>DS,schemeGreys:()=>SS,schemeOrRd:()=>pS,schemeOranges:()=>TS,schemePRGn:()=>oS,schemePaired:()=>Df,schemePastel1:()=>b$,schemePastel2:()=>w$,schemePiYG:()=>sS,schemePuBu:()=>gS,schemePuBuGn:()=>mS,schemePuOr:()=>aS,schemePuRd:()=>yS,schemePurples:()=>MS,schemeRdBu:()=>Xm,schemeRdGy:()=>lS,schemeRdPu:()=>vS,schemeRdYlBu:()=>cS,schemeRdYlGn:()=>uS,schemeReds:()=>ES,schemeSet1:()=>lx,schemeSet2:()=>Qm,schemeSet3:()=>cx,schemeSpectral:()=>Jm,schemeTableau10:()=>Xc,schemeYlGn:()=>bS,schemeYlGnBu:()=>xS,schemeYlOrBr:()=>wS,schemeYlOrRd:()=>_S,select:()=>W,selectAll:()=>vn,selection:()=>ts,selector:()=>tl,selectorAll:()=>Id,shuffle:()=>E6,shuffler:()=>i2,some:()=>s2,sort:()=>qs,stack:()=>ys,stackOffsetDiverging:()=>BB,stackOffsetExpand:()=>$B,stackOffsetNone:()=>Ao,stackOffsetSilhouette:()=>UB,stackOffsetWiggle:()=>HB,stackOrderAppearance:()=>Px,stackOrderAscending:()=>Nx,stackOrderDescending:()=>qB,stackOrderInsideOut:()=>WB,stackOrderNone:()=>Oo,stackOrderReverse:()=>GB,stratify:()=>Zj,style:()=>Ws,subset:()=>p2,sum:()=>Ka,superset:()=>Ed,svg:()=>OL,symbol:()=>cB,symbolCircle:()=>ng,symbolCross:()=>bx,symbolDiamond:()=>wx,symbolSquare:()=>Cx,symbolStar:()=>_x,symbolTriangle:()=>Dx,symbolWye:()=>Sx,symbols:()=>lB,text:()=>Ic,thresholdFreedmanDiaconis:()=>w6,thresholdScott:()=>_6,thresholdSturges:()=>hc,tickFormat:()=>Vm,tickIncrement:()=>Ko,tickStep:()=>ji,ticks:()=>Sr,timeDay:()=>ca,timeDays:()=>U3,timeFormat:()=>To,timeFormatDefaultLocale:()=>Z3,timeFormatLocale:()=>Ym,timeFriday:()=>zD,timeFridays:()=>Lz,timeHour:()=>vf,timeHours:()=>Iz,timeInterval:()=>Tt,timeMillisecond:()=>Hm,timeMilliseconds:()=>RD,timeMinute:()=>yf,timeMinutes:()=>Tz,timeMonday:()=>Yc,timeMondays:()=>Pz,timeMonth:()=>xf,timeMonths:()=>H3,timeParse:()=>KD,timeSaturday:()=>$D,timeSaturdays:()=>Vz,timeSecond:()=>qi,timeSeconds:()=>FD,timeSunday:()=>Wi,timeSundays:()=>BD,timeThursday:()=>ua,timeThursdays:()=>Fz,timeTickInterval:()=>Y3,timeTicks:()=>G3,timeTuesday:()=>VD,timeTuesdays:()=>Nz,timeWednesday:()=>jD,timeWednesdays:()=>Rz,timeWeek:()=>Wi,timeWeeks:()=>BD,timeYear:()=>Gi,timeYears:()=>zz,timeout:()=>$d,timer:()=>Xs,timerFlush:()=>G2,transition:()=>tv,transpose:()=>$p,tree:()=>Fm,treemap:()=>Cl,treemapBinary:()=>T3,treemapDice:()=>Bi,treemapResquarify:()=>Qj,treemapSlice:()=>fs,treemapSliceDice:()=>k3,treemapSquarify:()=>hf,tsv:()=>EL,tsvFormat:()=>xL,tsvFormatBody:()=>bL,tsvFormatRow:()=>_L,tsvFormatRows:()=>wL,tsvFormatValue:()=>CL,tsvParse:()=>yv,tsvParseRows:()=>vL,union:()=>Td,utcDay:()=>da,utcDays:()=>Wz,utcFormat:()=>Ir,utcFriday:()=>WD,utcFridays:()=>Xz,utcHour:()=>wf,utcHours:()=>Hz,utcMillisecond:()=>Hm,utcMilliseconds:()=>RD,utcMinute:()=>bf,utcMinutes:()=>Bz,utcMonday:()=>Qc,utcMondays:()=>Gz,utcMonth:()=>_f,utcMonths:()=>e$,utcParse:()=>Zm,utcSaturday:()=>GD,utcSaturdays:()=>Kz,utcSecond:()=>qi,utcSeconds:()=>FD,utcSunday:()=>ms,utcSundays:()=>YD,utcThursday:()=>fa,utcThursdays:()=>Qz,utcTickInterval:()=>W3,utcTicks:()=>q3,utcTuesday:()=>HD,utcTuesdays:()=>Yz,utcWednesday:()=>qD,utcWednesdays:()=>Zz,utcWeek:()=>ms,utcWeeks:()=>YD,utcYear:()=>Yi,utcYears:()=>t$,variance:()=>vd,version:()=>yP,window:()=>Od,xml:()=>IL,zip:()=>k6,zoom:()=>mi,zoomIdentity:()=>Nf,zoomTransform:()=>Rx});var yP="6.7.0";mn();var m2=Array.prototype.slice;function aN(e){return e}var g2=1,y2=2,O6=3,Bp=4,lN=1e-6;function Rle(e){return"translate("+e+",0)"}function Fle(e){return"translate(0,"+e+")"}function Lle(e){return t=>+e(t)}function Vle(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function jle(){return!this.__axis}function v2(e,t){var r=[],n=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=e===g2||e===Bp?-1:1,u=e===Bp||e===y2?"x":"y",d=e===g2||e===O6?Rle:Fle;function f(h){var m=n??(t.ticks?t.ticks.apply(t,r):t.domain()),y=i??(t.tickFormat?t.tickFormat.apply(t,r):aN),g=Math.max(o,0)+a,x=t.range(),C=+x[0]+l,w=+x[x.length-1]+l,b=(t.bandwidth?Vle:Lle)(t.copy(),l),I=h.selection?h.selection():h,T=I.selectAll(".domain").data([null]),z=I.selectAll(".tick").data(m,t).order(),H=z.exit(),q=z.enter().append("g").attr("class","tick"),$=z.select("line"),D=z.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(q),$=$.merge(q.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),D=D.merge(q.append("text").attr("fill","currentColor").attr(u,c*g).attr("dy",e===g2?"0em":e===O6?"0.71em":"0.32em")),h!==I&&(T=T.transition(h),z=z.transition(h),$=$.transition(h),D=D.transition(h),H=H.transition(h).attr("opacity",lN).attr("transform",function(O){return isFinite(O=b(O))?d(O+l):this.getAttribute("transform")}),q.attr("opacity",lN).attr("transform",function(O){var j=this.parentNode.__axis;return d((j&&isFinite(j=j(O))?j:b(O))+l)})),H.remove(),T.attr("d",e===Bp||e===y2?s?"M"+c*s+","+C+"H"+l+"V"+w+"H"+c*s:"M"+l+","+C+"V"+w:s?"M"+C+","+c*s+"V"+l+"H"+w+"V"+c*s:"M"+C+","+l+"H"+w),z.attr("opacity",1).attr("transform",function(O){return d(b(O)+l)}),$.attr(u+"2",c*o),D.attr(u,c*g).text(y),I.filter(jle).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===y2?"start":e===Bp?"end":"middle"),I.each(function(){this.__axis=b})}return f.scale=function(h){return arguments.length?(t=h,f):t},f.ticks=function(){return r=m2.call(arguments),f},f.tickArguments=function(h){return arguments.length?(r=h==null?[]:m2.call(h),f):r.slice()},f.tickValues=function(h){return arguments.length?(n=h==null?null:m2.call(h),f):n&&n.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(o=s=+h,f):o},f.tickSizeInner=function(h){return arguments.length?(o=+h,f):o},f.tickSizeOuter=function(h){return arguments.length?(s=+h,f):s},f.tickPadding=function(h){return arguments.length?(a=+h,f):a},f.offset=function(h){return arguments.length?(l=+h,f):l},f}function Jo(e){return v2(g2,e)}function x2(e){return v2(y2,e)}function it(e){return v2(O6,e)}function Je(e){return v2(Bp,e)}Ja();Ja();var w2="http://www.w3.org/1999/xhtml",Up={svg:"http://www.w3.org/2000/svg",xhtml:w2,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function es(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Up.hasOwnProperty(t)?{space:Up[t],local:e}:e}function Ule(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===w2&&t.documentElement.namespaceURI===w2?t.createElement(e):t.createElementNS(r,e)}}function Hle(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function el(e){var t=es(e);return(t.local?Hle:Ule)(t)}function qle(){}function tl(e){return e==null?qle:function(){return this.querySelector(e)}}function hN(e){typeof e!="function"&&(e=tl(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new gn(n,this._parents)}function kd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Wle(){return[]}function Id(e){return e==null?Wle:function(){return this.querySelectorAll(e)}}function Gle(e){return function(){var t=e.apply(this,arguments);return t==null?[]:kd(t)}}function pN(e){typeof e=="function"?e=Gle(e):e=Id(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(e.call(l,l.__data__,c,s)),i.push(l));return new gn(n,i)}function Ad(e){return function(){return this.matches(e)}}function _2(e){return function(t){return t.matches(e)}}var Yle=Array.prototype.find;function Zle(e){return function(){return Yle.call(this.children,e)}}function Qle(){return this.firstElementChild}function mN(e){return this.select(e==null?Qle:Zle(typeof e=="function"?e:_2(e)))}var Xle=Array.prototype.filter;function Kle(){return this.children}function Jle(e){return function(){return Xle.call(this.children,e)}}function gN(e){return this.selectAll(e==null?Kle:Jle(typeof e=="function"?e:_2(e)))}function yN(e){typeof e!="function"&&(e=Ad(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new gn(n,this._parents)}function C2(e){return new Array(e.length)}function vN(){return new gn(this._enter||this._groups.map(C2),this._parents)}function Hp(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Hp.prototype={constructor:Hp,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function xN(e){return function(){return e}}function ece(e,t,r,n,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):r[s]=new Hp(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function tce(e,t,r,n,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(n[a]=l,l.__data__=o[a],c.delete(h)):r[a]=new Hp(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function nce(e){return e.__data__}function bN(e,t){if(!arguments.length)return Array.from(this,nce);var r=t?tce:ece,n=this._parents,i=this._groups;typeof e!="function"&&(e=xN(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],d=i[c],f=d.length,h=kd(e.call(u,u&&u.__data__,c,n)),m=h.length,y=a[c]=new Array(m),g=s[c]=new Array(m),x=l[c]=new Array(f);r(u,d,y,g,x,h,t);for(var C=0,w=0,b,I;C<m;++C)if(b=y[C]){for(C>=w&&(w=C+1);!(I=g[w])&&++w<m;);b._next=I||null}}return s=new gn(s,n),s._enter=a,s._exit=l,s}function wN(){return new gn(this._exit||this._groups.map(C2),this._parents)}function _N(e,t,r){var n=this.enter(),i=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(i=t(i)),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function CN(e){if(!(e instanceof gn))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=r[a],u=l.length,d=s[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<n;++a)s[a]=t[a];return new gn(s,this._parents)}function DN(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function SN(e){e||(e=rce);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new gn(i,this._parents).order()}function rce(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function MN(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function EN(){return Array.from(this)}function TN(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function kN(){let e=0;for(let t of this)++e;return e}function IN(){return!this.node()}function AN(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function ice(e){return function(){this.removeAttribute(e)}}function oce(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sce(e,t){return function(){this.setAttribute(e,t)}}function ace(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function lce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function cce(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ON(e,t){var r=es(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?oce:ice:typeof t=="function"?r.local?cce:lce:r.local?ace:sce)(r,t))}function Od(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function uce(e){return function(){this.style.removeProperty(e)}}function dce(e,t,r){return function(){this.style.setProperty(e,t,r)}}function fce(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function PN(e,t,r){return arguments.length>1?this.each((t==null?uce:typeof t=="function"?fce:dce)(e,t,r??"")):Ws(this.node(),e)}function Ws(e,t){return e.style.getPropertyValue(t)||Od(e).getComputedStyle(e,null).getPropertyValue(t)}function hce(e){return function(){delete this[e]}}function pce(e,t){return function(){this[e]=t}}function mce(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function NN(e,t){return arguments.length>1?this.each((t==null?hce:typeof t=="function"?mce:pce)(e,t)):this.node()[e]}function RN(e){return e.trim().split(/^|\s+/)}function P6(e){return e.classList||new FN(e)}function FN(e){this._node=e,this._names=RN(e.getAttribute("class")||"")}FN.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function LN(e,t){for(var r=P6(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function VN(e,t){for(var r=P6(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function gce(e){return function(){LN(this,e)}}function yce(e){return function(){VN(this,e)}}function vce(e,t){return function(){(t.apply(this,arguments)?LN:VN)(this,e)}}function jN(e,t){var r=RN(e+"");if(arguments.length<2){for(var n=P6(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?vce:t?gce:yce)(r,t))}function xce(){this.textContent=""}function bce(e){return function(){this.textContent=e}}function wce(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function zN(e){return arguments.length?this.each(e==null?xce:(typeof e=="function"?wce:bce)(e)):this.node().textContent}function _ce(){this.innerHTML=""}function Cce(e){return function(){this.innerHTML=e}}function Dce(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $N(e){return arguments.length?this.each(e==null?_ce:(typeof e=="function"?Dce:Cce)(e)):this.node().innerHTML}function Sce(){this.nextSibling&&this.parentNode.appendChild(this)}function BN(){return this.each(Sce)}function Mce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function UN(){return this.each(Mce)}function HN(e){var t=typeof e=="function"?e:el(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ece(){return null}function qN(e,t){var r=typeof e=="function"?e:el(e),n=t==null?Ece:typeof t=="function"?t:tl(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Tce(){var e=this.parentNode;e&&e.removeChild(this)}function WN(){return this.each(Tce)}function kce(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ice(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function GN(e){return this.select(e?Ice:kce)}function YN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ace(e){return function(t){e.call(this,t,this.__data__)}}function Oce(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Pce(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function Nce(e,t,r){return function(){var n=this.__on,i,o=Ace(t);if(n){for(var s=0,a=n.length;s<a;++s)if((i=n[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function ZN(e,t,r){var n=Oce(e+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=n[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Nce:Pce,i=0;i<o;++i)this.each(a(n[i],t,r));return this}function QN(e,t,r){var n=Od(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Rce(e,t){return function(){return QN(this,e,t)}}function Fce(e,t){return function(){return QN(this,e,t.apply(this,arguments))}}function XN(e,t){return this.each((typeof t=="function"?Fce:Rce)(e,t))}function*KN(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,s;i<o;++i)(s=n[i])&&(yield s)}var qp=[null];function gn(e,t){this._groups=e,this._parents=t}function JN(){return new gn([[document.documentElement]],qp)}function Lce(){return this}gn.prototype=JN.prototype={constructor:gn,select:hN,selectAll:pN,selectChild:mN,selectChildren:gN,filter:yN,data:bN,enter:vN,exit:wN,join:_N,merge:CN,selection:Lce,order:DN,sort:SN,call:MN,nodes:EN,node:TN,size:kN,empty:IN,each:AN,attr:ON,style:PN,property:NN,classed:jN,text:zN,html:$N,raise:BN,lower:UN,append:HN,insert:qN,remove:WN,clone:GN,datum:YN,on:ZN,dispatch:XN,[Symbol.iterator]:KN};var ts=JN;function W(e){return typeof e=="string"?new gn([[document.querySelector(e)]],[document.documentElement]):new gn([[e]],qp)}function eR(e){return W(el(e).call(document.documentElement))}var Vce=0;function D2(){return new N6}function N6(){this._="@"+(++Vce).toString(36)}N6.prototype=D2.prototype={constructor:N6,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function S2(e){let t;for(;t=e.sourceEvent;)e=t;return e}function or(e,t){if(e=S2(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function tR(e,t){return e.target&&(e=S2(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,r=>or(r,t))}function vn(e){return typeof e=="string"?new gn([document.querySelectorAll(e)],[document.documentElement]):new gn([e==null?[]:kd(e)],qp)}function M2(e){e.stopImmediatePropagation()}function nl(e){e.preventDefault(),e.stopImmediatePropagation()}function rl(e){var t=e.document.documentElement,r=W(e).on("dragstart.drag",nl,!0);"onselectstart"in t?r.on("selectstart.drag",nl,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function il(e,t){var r=e.document.documentElement,n=W(e).on("dragstart.drag",null);t&&(n.on("click.drag",nl,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}var Wp=e=>()=>e;function Gp(e,{sourceEvent:t,subject:r,target:n,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}Gp.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function jce(e){return!e.ctrlKey&&!e.button}function zce(){return this.parentNode}function $ce(e,t){return t??{x:e.x,y:e.y}}function Bce(){return navigator.maxTouchPoints||"ontouchstart"in this}function Gs(){var e=jce,t=zce,r=$ce,n=Bce,i={},o=Ei("start","drag","end"),s=0,a,l,c,u,d=0;function f(b){b.on("mousedown.drag",h).filter(n).on("touchstart.drag",g).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(b,I){if(!(u||!e.call(this,b,I))){var T=w(this,t.call(this,b,I),b,I,"mouse");T&&(W(b.view).on("mousemove.drag",m,!0).on("mouseup.drag",y,!0),rl(b.view),M2(b),c=!1,a=b.clientX,l=b.clientY,T("start",b))}}function m(b){if(nl(b),!c){var I=b.clientX-a,T=b.clientY-l;c=I*I+T*T>d}i.mouse("drag",b)}function y(b){W(b.view).on("mousemove.drag mouseup.drag",null),il(b.view,c),nl(b),i.mouse("end",b)}function g(b,I){if(e.call(this,b,I)){var T=b.changedTouches,z=t.call(this,b,I),H=T.length,q,$;for(q=0;q<H;++q)($=w(this,z,b,I,T[q].identifier,T[q]))&&(M2(b),$("start",b,T[q]))}}function x(b){var I=b.changedTouches,T=I.length,z,H;for(z=0;z<T;++z)(H=i[I[z].identifier])&&(nl(b),H("drag",b,I[z]))}function C(b){var I=b.changedTouches,T=I.length,z,H;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),z=0;z<T;++z)(H=i[I[z].identifier])&&(M2(b),H("end",b,I[z]))}function w(b,I,T,z,H,q){var $=o.copy(),D=or(q||T,I),O,j,N;if((N=r.call(b,new Gp("beforestart",{sourceEvent:T,target:f,identifier:H,active:s,x:D[0],y:D[1],dx:0,dy:0,dispatch:$}),z))!=null)return O=N.x-D[0]||0,j=N.y-D[1]||0,function E(A,R,B){var P=D,L;switch(A){case"start":i[H]=E,L=s++;break;case"end":delete i[H],--s;case"drag":D=or(B||R,I),L=s;break}$.call(A,b,new Gp(A,{sourceEvent:R,subject:N,target:f,identifier:H,active:L,x:D[0]+O,y:D[1]+j,dx:D[0]-P[0],dy:D[1]-P[1],dispatch:$}),z)}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Wp(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:Wp(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:Wp(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:Wp(!!b),f):n},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}function Ys(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ol(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function is(){}var sl=.7,mc=1/sl,Pd="\\s*([+-]?\\d+)\\s*",Yp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",rs="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uce=/^#([0-9a-f]{3,8})$/,Hce=new RegExp("^rgb\\("+[Pd,Pd,Pd]+"\\)$"),qce=new RegExp("^rgb\\("+[rs,rs,rs]+"\\)$"),Wce=new RegExp("^rgba\\("+[Pd,Pd,Pd,Yp]+"\\)$"),Gce=new RegExp("^rgba\\("+[rs,rs,rs,Yp]+"\\)$"),Yce=new RegExp("^hsl\\("+[Yp,rs,rs]+"\\)$"),Zce=new RegExp("^hsla\\("+[Yp,rs,rs,Yp]+"\\)$"),nR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ys(is,Br,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:rR,formatHex:rR,formatHsl:Qce,formatRgb:iR,toString:iR});function rR(){return this.rgb().formatHex()}function Qce(){return cR(this).formatHsl()}function iR(){return this.rgb().formatRgb()}function Br(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Uce.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oR(t):r===3?new er(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?E2(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?E2(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hce.exec(e))?new er(t[1],t[2],t[3],1):(t=qce.exec(e))?new er(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wce.exec(e))?E2(t[1],t[2],t[3],t[4]):(t=Gce.exec(e))?E2(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yce.exec(e))?lR(t[1],t[2]/100,t[3]/100,1):(t=Zce.exec(e))?lR(t[1],t[2]/100,t[3]/100,t[4]):nR.hasOwnProperty(e)?oR(nR[e]):e==="transparent"?new er(NaN,NaN,NaN,0):null}function oR(e){return new er(e>>16&255,e>>8&255,e&255,1)}function E2(e,t,r,n){return n<=0&&(e=t=r=NaN),new er(e,t,r,n)}function Zp(e){return e instanceof is||(e=Br(e)),e?(e=e.rgb(),new er(e.r,e.g,e.b,e.opacity)):new er}function Zs(e,t,r,n){return arguments.length===1?Zp(e):new er(e,t,r,n??1)}function er(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ys(er,Zs,ol(is,{brighter:function(e){return e=e==null?mc:Math.pow(mc,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?sl:Math.pow(sl,e),new er(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sR,formatHex:sR,formatRgb:aR,toString:aR}));function sR(){return"#"+R6(this.r)+R6(this.g)+R6(this.b)}function aR(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function R6(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function lR(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ns(e,t,r,n)}function cR(e){if(e instanceof ns)return new ns(e.h,e.s,e.l,e.opacity);if(e instanceof is||(e=Br(e)),!e)return new ns;if(e instanceof ns)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-t)/a+2:s=(t-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ns(s,a,l,e.opacity)}function Nd(e,t,r,n){return arguments.length===1?cR(e):new ns(e,t,r,n??1)}function ns(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ys(ns,Nd,ol(is,{brighter:function(e){return e=e==null?mc:Math.pow(mc,e),new ns(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?sl:Math.pow(sl,e),new ns(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new er(F6(e>=240?e-240:e+120,i,n),F6(e,i,n),F6(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function F6(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var T2=Math.PI/180,k2=180/Math.PI;var I2=18,uR=.96422,dR=1,fR=.82521,hR=4/29,Rd=6/29,pR=3*Rd*Rd,Xce=Rd*Rd*Rd;function mR(e){if(e instanceof wo)return new wo(e.l,e.a,e.b,e.opacity);if(e instanceof os)return xR(e);e instanceof er||(e=Zp(e));var t=z6(e.r),r=z6(e.g),n=z6(e.b),i=L6((.2225045*t+.7168786*r+.0606169*n)/dR),o,s;return t===r&&r===n?o=s=i:(o=L6((.4360747*t+.3850649*r+.1430804*n)/uR),s=L6((.0139322*t+.0971045*r+.7141733*n)/fR)),new wo(116*i-16,500*(o-i),200*(i-s),e.opacity)}function gR(e,t){return new wo(e,0,0,t??1)}function gc(e,t,r,n){return arguments.length===1?mR(e):new wo(e,t,r,n??1)}function wo(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}Ys(wo,gc,ol(is,{brighter:function(e){return new wo(this.l+I2*(e??1),this.a,this.b,this.opacity)},darker:function(e){return new wo(this.l-I2*(e??1),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=uR*V6(t),e=dR*V6(e),r=fR*V6(r),new er(j6(3.1338561*t-1.6168667*e-.4906146*r),j6(-.9787684*t+1.9161415*e+.033454*r),j6(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function L6(e){return e>Xce?Math.pow(e,1/3):e/pR+hR}function V6(e){return e>Rd?e*e*e:pR*(e-hR)}function j6(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function z6(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yR(e){if(e instanceof os)return new os(e.h,e.c,e.l,e.opacity);if(e instanceof wo||(e=mR(e)),e.a===0&&e.b===0)return new os(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*k2;return new os(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function vR(e,t,r,n){return arguments.length===1?yR(e):new os(r,t,e,n??1)}function Fd(e,t,r,n){return arguments.length===1?yR(e):new os(e,t,r,n??1)}function os(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function xR(e){if(isNaN(e.h))return new wo(e.l,0,0,e.opacity);var t=e.h*T2;return new wo(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Ys(os,Fd,ol(is,{brighter:function(e){return new os(this.h,this.c,this.l+I2*(e??1),this.opacity)},darker:function(e){return new os(this.h,this.c,this.l-I2*(e??1),this.opacity)},rgb:function(){return xR(this).rgb()}}));var CR=-.14861,$6=1.78277,B6=-.29227,A2=-.90649,Qp=1.97294,bR=Qp*A2,wR=Qp*$6,_R=$6*B6-A2*CR;function Kce(e){if(e instanceof yc)return new yc(e.h,e.s,e.l,e.opacity);e instanceof er||(e=Zp(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(_R*n+bR*t-wR*r)/(_R+bR-wR),o=n-i,s=(Qp*(r-i)-B6*o)/A2,a=Math.sqrt(s*s+o*o)/(Qp*i*(1-i)),l=a?Math.atan2(s,o)*k2-120:NaN;return new yc(l<0?l+360:l,a,i,e.opacity)}function Mr(e,t,r,n){return arguments.length===1?Kce(e):new yc(e,t,r,n??1)}function yc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ys(yc,Mr,ol(is,{brighter:function(e){return e=e==null?mc:Math.pow(mc,e),new yc(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?sl:Math.pow(sl,e),new yc(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*T2,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new er(255*(t+r*(CR*n+$6*i)),255*(t+r*(B6*n+A2*i)),255*(t+r*(Qp*n)),this.opacity)}}));function U6(e,t,r,n,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*r+(1+3*e+3*o-3*s)*n+s*i)/6}function O2(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],o=e[n+1],s=n>0?e[n-1]:2*i-o,a=n<t-1?e[n+2]:2*o-i;return U6((r-n/t)*t,s,i,o,a)}}function P2(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],o=e[n%t],s=e[(n+1)%t],a=e[(n+2)%t];return U6((r-n/t)*t,i,o,s,a)}}var Ld=e=>()=>e;function DR(e,t){return function(r){return e+r*t}}function Jce(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function al(e,t){var r=t-e;return r?DR(e,r>180||r<-180?r-360*Math.round(r/360):r):Ld(isNaN(e)?t:e)}function SR(e){return(e=+e)==1?_n:function(t,r){return r-t?Jce(t,r,e):Ld(isNaN(t)?r:t)}}function _n(e,t){var r=t-e;return r?DR(e,r):Ld(isNaN(e)?t:e)}var ll=function e(t){var r=SR(t);function n(i,o){var s=r((i=Zs(i)).r,(o=Zs(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),c=_n(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function MR(e){return function(t){var r=t.length,n=new Array(r),i=new Array(r),o=new Array(r),s,a;for(s=0;s<r;++s)a=Zs(t[s]),n[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return n=e(n),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=n(l),a.g=i(l),a.b=o(l),a+""}}}var N2=MR(O2),ER=MR(P2);function Vd(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=e[i]*(1-o)+t[i]*o;return n}}function R2(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TR(e,t){return(R2(t)?Vd:H6)(e,t)}function H6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=Xt(e[s],t[s]);for(;s<r;++s)o[s]=t[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function F2(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function L2(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Xt(e[i],t[i]):n[i]=t[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var W6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q6=new RegExp(W6.source,"g");function eue(e){return function(){return e}}function tue(e){return function(t){return e(t)+""}}function jd(e,t){var r=W6.lastIndex=q6.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(n=W6.exec(e))&&(i=q6.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Gn(n,i)})),r=q6.lastIndex;return r<t.length&&(o=t.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?tue(l[0].x):eue(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Xt(e,t){var r=typeof t,n;return t==null||r==="boolean"?Ld(t):(r==="number"?Gn:r==="string"?(n=Br(t))?(t=n,ll):jd:t instanceof Br?ll:t instanceof Date?F2:R2(t)?Vd:Array.isArray(t)?H6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?L2:Gn)(e,t)}function kR(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}function IR(e,t){var r=al(+e,+t);return function(n){var i=r(n);return i-360*Math.floor(i/360)}}function cl(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var AR=180/Math.PI,V2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function G6(e,t,r,n,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*r+t*n)&&(r-=e*l,n-=t*l),(a=Math.sqrt(r*r+n*n))&&(r/=a,n/=a,l/=a),e*n<t*r&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*AR,skewX:Math.atan(l)*AR,scaleX:s,scaleY:a}}var j2;function OR(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?V2:G6(t.a,t.b,t.c,t.d,t.e,t.f)}function PR(e){return e==null?V2:(j2||(j2=document.createElementNS("http://www.w3.org/2000/svg","g")),j2.setAttribute("transform",e),(e=j2.transform.baseVal.consolidate())?(e=e.matrix,G6(e.a,e.b,e.c,e.d,e.e,e.f)):V2)}function NR(e,t,r,n){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,h,m){if(c!==d||u!==f){var y=h.push("translate(",null,t,null,r);m.push({i:y-4,x:Gn(c,d)},{i:y-2,x:Gn(u,f)})}else(d||f)&&h.push("translate("+d+t+f+r)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,n)-2,x:Gn(c,u)})):u&&d.push(i(d)+"rotate("+u+n)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,n)-2,x:Gn(c,u)}):u&&d.push(i(d)+"skewX("+u+n)}function l(c,u,d,f,h,m){if(c!==d||u!==f){var y=h.push(i(h)+"scale(",null,",",null,")");m.push({i:y-4,x:Gn(c,d)},{i:y-2,x:Gn(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var m=-1,y=f.length,g;++m<y;)d[(g=f[m]).i]=g.x(h);return d.join("")}}}var z2=NR(OR,"px, ","px)","deg)"),$2=NR(PR,", ",")",")");var nue=1e-12;function RR(e){return((e=Math.exp(e))+1/e)/2}function rue(e){return((e=Math.exp(e))-1/e)/2}function iue(e){return((e=Math.exp(2*e))-1)/(e+1)}var B2=function e(t,r,n){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],d=s[1],f=s[2],h=u-a,m=d-l,y=h*h+m*m,g,x;if(y<nue)x=Math.log(f/c)/t,g=function(z){return[a+z*h,l+z*m,c*Math.exp(t*z*x)]};else{var C=Math.sqrt(y),w=(f*f-c*c+n*y)/(2*c*r*C),b=(f*f-c*c-n*y)/(2*f*r*C),I=Math.log(Math.sqrt(w*w+1)-w),T=Math.log(Math.sqrt(b*b+1)-b);x=(T-I)/t,g=function(z){var H=z*x,q=RR(I),$=c/(r*C)*(q*iue(t*H+I)-rue(I));return[a+$*h,l+$*m,c*q/RR(t*H+I)]}}return g.duration=x*1e3*t/Math.SQRT2,g}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function FR(e){return function(t,r){var n=e((t=Nd(t)).h,(r=Nd(r)).h),i=_n(t.s,r.s),o=_n(t.l,r.l),s=_n(t.opacity,r.opacity);return function(a){return t.h=n(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}var LR=FR(al),VR=FR(_n);function Y6(e,t){var r=_n((e=gc(e)).l,(t=gc(t)).l),n=_n(e.a,t.a),i=_n(e.b,t.b),o=_n(e.opacity,t.opacity);return function(s){return e.l=r(s),e.a=n(s),e.b=i(s),e.opacity=o(s),e+""}}function jR(e){return function(t,r){var n=e((t=Fd(t)).h,(r=Fd(r)).h),i=_n(t.c,r.c),o=_n(t.l,r.l),s=_n(t.opacity,r.opacity);return function(a){return t.h=n(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}var zR=jR(al),$R=jR(_n);function BR(e){return function t(r){r=+r;function n(i,o){var s=e((i=Mr(i)).h,(o=Mr(o)).h),a=_n(i.s,o.s),l=_n(i.l,o.l),c=_n(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,r)),i.opacity=c(u),i+""}}return n.gamma=t,n}(1)}var UR=BR(al),vc=BR(_n);function Xp(e,t){t===void 0&&(t=e,e=Xt);for(var r=0,n=t.length-1,i=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(i,i=t[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function U2(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}Ja();Bd();var lue=Ei("start","end","cancel","interrupt"),cue=[],XR=0,Q2=1,X2=2,Z2=3,QR=4,K2=5,rm=6;function ul(e,t,r,n,i,o){var s=e.__transition;if(!s)e.__transition={};else if(r in s)return;uue(e,r,{name:t,index:n,group:i,on:lue,tween:cue,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:XR})}function im(e,t){var r=tr(e,t);if(r.state>XR)throw new Error("too late; already scheduled");return r}function gr(e,t){var r=tr(e,t);if(r.state>Z2)throw new Error("too late; already running");return r}function tr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function uue(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Xs(o,0,r.time);function o(c){r.state=Q2,r.timer.restart(s,r.delay,r.time),r.delay<=c&&s(c-r.delay)}function s(c){var u,d,f,h;if(r.state!==Q2)return l();for(u in n)if(h=n[u],h.name===r.name){if(h.state===Z2)return $d(s);h.state===QR?(h.state=rm,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[u]):+u<t&&(h.state=rm,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[u])}if($d(function(){r.state===Z2&&(r.state=QR,r.timer.restart(a,r.delay,r.time),a(c))}),r.state=X2,r.on.call("start",e,e.__data__,r.index,r.group),r.state===X2){for(r.state=Z2,i=new Array(f=r.tween.length),u=0,d=-1;u<f;++u)(h=r.tween[u].value.call(e,e.__data__,r.index,r.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<r.duration?r.ease.call(null,c/r.duration):(r.timer.restart(l),r.state=K2,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);r.state===K2&&(r.on.call("end",e,e.__data__,r.index,r.group),l())}function l(){r.state=rm,r.timer.stop(),delete n[t];for(var c in n)return;delete e.__transition}}function _o(e,t){var r=e.__transition,n,i,o=!0,s;if(r){t=t==null?null:t+"";for(s in r){if((n=r[s]).name!==t){o=!1;continue}i=n.state>X2&&n.state<K2,n.state=rm,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[s]}o&&delete e.__transition}}function KR(e){return this.each(function(){_o(this,e)})}function due(e,t){var r,n;return function(){var i=gr(this,e),o=i.tween;if(o!==r){n=r=o;for(var s=0,a=n.length;s<a;++s)if(n[s].name===t){n=n.slice(),n.splice(s,1);break}}i.tween=n}}function fue(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=gr(this,e),s=o.tween;if(s!==n){i=(n=s).slice();for(var a={name:t,value:r},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function JR(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=tr(this.node(),r).tween,i=0,o=n.length,s;i<o;++i)if((s=n[i]).name===e)return s.value;return null}return this.each((t==null?due:fue)(r,e,t))}function Ud(e,t,r){var n=e._id;return e.each(function(){var i=gr(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return tr(i,n).value[t]}}function J2(e,t){var r;return(typeof t=="number"?Gn:t instanceof Br?ll:(r=Br(t))?(t=r,ll):jd)(e,t)}function hue(e){return function(){this.removeAttribute(e)}}function pue(e){return function(){this.removeAttributeNS(e.space,e.local)}}function mue(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===n?o:o=t(n=s,r)}}function gue(e,t,r){var n,i=r+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===n?o:o=t(n=s,r)}}function yue(e,t,r){var n,i,o;return function(){var s,a=r(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=t(n=s,a)))}}function vue(e,t,r){var n,i,o;return function(){var s,a=r(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===n&&l===i?o:(i=l,o=t(n=s,a)))}}function eF(e,t){var r=es(e),n=r==="transform"?$2:J2;return this.attrTween(e,typeof t=="function"?(r.local?vue:yue)(r,n,Ud(this,"attr."+e,t)):t==null?(r.local?pue:hue)(r):(r.local?gue:mue)(r,n,t))}function xue(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function bue(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function wue(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&bue(e,o)),r}return i._value=t,i}function _ue(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&xue(e,o)),r}return i._value=t,i}function tF(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=es(e);return this.tween(r,(n.local?wue:_ue)(n,t))}function Cue(e,t){return function(){im(this,e).delay=+t.apply(this,arguments)}}function Due(e,t){return t=+t,function(){im(this,e).delay=t}}function nF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Cue:Due)(t,e)):tr(this.node(),t).delay}function Sue(e,t){return function(){gr(this,e).duration=+t.apply(this,arguments)}}function Mue(e,t){return t=+t,function(){gr(this,e).duration=t}}function rF(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Sue:Mue)(t,e)):tr(this.node(),t).duration}function Eue(e,t){if(typeof t!="function")throw new Error;return function(){gr(this,e).ease=t}}function iF(e){var t=this._id;return arguments.length?this.each(Eue(t,e)):tr(this.node(),t).ease}function Tue(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;gr(this,e).ease=r}}function oF(e){if(typeof e!="function")throw new Error;return this.each(Tue(this._id,e))}function sF(e){typeof e!="function"&&(e=Ad(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new yr(n,this._parents,this._name,this._id)}function aF(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=r[a],u=l.length,d=s[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<n;++a)s[a]=t[a];return new yr(s,this._parents,this._name,this._id)}function kue(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function Iue(e,t,r){var n,i,o=kue(t)?im:gr;return function(){var s=o(this,e),a=s.on;a!==n&&(i=(n=a).copy()).on(t,r),s.on=i}}function lF(e,t){var r=this._id;return arguments.length<2?tr(this.node(),r).on.on(e):this.each(Iue(r,e,t))}function Aue(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function cF(){return this.on("end.remove",Aue(this._id))}function uF(e){var t=this._name,r=this._id;typeof e!="function"&&(e=tl(e));for(var n=this._groups,i=n.length,o=new Array(i),s=0;s<i;++s)for(var a=n[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,ul(c[f],t,r,f,c,tr(u,r)));return new yr(o,this._parents,t,r)}function dF(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Id(e));for(var n=this._groups,i=n.length,o=[],s=[],a=0;a<i;++a)for(var l=n[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,m=tr(u,r),y=0,g=f.length;y<g;++y)(h=f[y])&&ul(h,t,r,y,f,m);o.push(f),s.push(u)}return new yr(o,s,t,r)}var Oue=ts.prototype.constructor;function fF(){return new Oue(this._groups,this._parents)}function Pue(e,t){var r,n,i;return function(){var o=Ws(this,e),s=(this.style.removeProperty(e),Ws(this,e));return o===s?null:o===r&&s===n?i:i=t(r=o,n=s)}}function hF(e){return function(){this.style.removeProperty(e)}}function Nue(e,t,r){var n,i=r+"",o;return function(){var s=Ws(this,e);return s===i?null:s===n?o:o=t(n=s,r)}}function Rue(e,t,r){var n,i,o;return function(){var s=Ws(this,e),a=r(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ws(this,e))),s===l?null:s===n&&l===i?o:(i=l,o=t(n=s,a))}}function Fue(e,t){var r,n,i,o="style."+t,s="end."+o,a;return function(){var l=gr(this,e),c=l.on,u=l.value[o]==null?a||(a=hF(t)):void 0;(c!==r||i!==u)&&(n=(r=c).copy()).on(s,i=u),l.on=n}}function pF(e,t,r){var n=(e+="")=="transform"?z2:J2;return t==null?this.styleTween(e,Pue(e,n)).on("end.style."+e,hF(e)):typeof t=="function"?this.styleTween(e,Rue(e,n,Ud(this,"style."+e,t))).each(Fue(this._id,e)):this.styleTween(e,Nue(e,n,t),r).on("end.style."+e,null)}function Lue(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function Vue(e,t,r){var n,i;function o(){var s=t.apply(this,arguments);return s!==i&&(n=(i=s)&&Lue(e,s,r)),n}return o._value=t,o}function mF(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Vue(e,t,r??""))}function jue(e){return function(){this.textContent=e}}function zue(e){return function(){var t=e(this);this.textContent=t??""}}function gF(e){return this.tween("text",typeof e=="function"?zue(Ud(this,"text",e)):jue(e==null?"":e+""))}function $ue(e){return function(t){this.textContent=e.call(this,t)}}function Bue(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&$ue(i)),t}return n._value=e,n}function yF(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Bue(e))}function vF(){for(var e=this._name,t=this._id,r=ev(),n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=tr(l,t);ul(l,e,r,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new yr(n,this._parents,e,r)}function xF(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};r.each(function(){var c=gr(this,n),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var Uue=0;function yr(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function tv(e){return ts().transition(e)}function ev(){return++Uue}var wc=ts.prototype;yr.prototype=tv.prototype={constructor:yr,select:uF,selectAll:dF,filter:sF,merge:aF,selection:fF,transition:vF,call:wc.call,nodes:wc.nodes,node:wc.node,size:wc.size,empty:wc.empty,each:wc.each,on:lF,attr:eF,attrTween:tF,style:pF,styleTween:mF,text:gF,textTween:yF,remove:cF,tween:JR,delay:nF,duration:rF,ease:iF,easeVarying:oF,end:xF,[Symbol.iterator]:wc[Symbol.iterator]};var ci=e=>+e;function bF(e){return e*e}function wF(e){return e*(2-e)}function Q6(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function _F(e){return e*e*e}function om(e){return--e*e*e+1}function Ks(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var X6=3,CF=function e(t){t=+t;function r(n){return Math.pow(n,t)}return r.exponent=e,r}(X6),DF=function e(t){t=+t;function r(n){return 1-Math.pow(1-n,t)}return r.exponent=e,r}(X6),_c=function e(t){t=+t;function r(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return r.exponent=e,r}(X6);var SF=Math.PI,MF=SF/2;function EF(e){return+e==1?1:1-Math.cos(e*MF)}function TF(e){return Math.sin(e*MF)}function K6(e){return(1-Math.cos(SF*e))/2}function ss(e){return(Math.pow(2,-10*e)-.0009765625)*1.0009775171065494}function kF(e){return ss(1-+e)}function IF(e){return 1-ss(e)}function J6(e){return((e*=2)<=1?ss(1-e):2-ss(e-1))/2}function AF(e){return 1-Math.sqrt(1-e*e)}function Cc(e){return Math.sqrt(1- --e*e)}function e8(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var t8=.36363636363636365,Hue=6/11,que=8/11,Wue=3/4,Gue=9/11,Yue=10/11,Zue=15/16,Que=21/22,Xue=63/64,nv=1/t8/t8;function OF(e){return 1-dl(1-e)}function dl(e){return(e=+e)<t8?nv*e*e:e<que?nv*(e-=Hue)*e+Wue:e<Yue?nv*(e-=Gue)*e+Zue:nv*(e-=Que)*e+Xue}function PF(e){return((e*=2)<=1?1-dl(1-e):dl(e-1)+1)/2}var n8=1.70158,NF=function e(t){t=+t;function r(n){return(n=+n)*n*(t*(n-1)+n)}return r.overshoot=e,r}(n8),rv=function e(t){t=+t;function r(n){return--n*n*((n+1)*t+n)+1}return r.overshoot=e,r}(n8),r8=function e(t){t=+t;function r(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return r.overshoot=e,r}(n8);var Hd=2*Math.PI,i8=1,o8=.3,RF=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Hd);function i(o){return t*ss(- --o)*Math.sin((n-o)/r)}return i.amplitude=function(o){return e(o,r*Hd)},i.period=function(o){return e(t,o)},i}(i8,o8),s8=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Hd);function i(o){return 1-t*ss(o=+o)*Math.sin((o+n)/r)}return i.amplitude=function(o){return e(o,r*Hd)},i.period=function(o){return e(t,o)},i}(i8,o8),FF=function e(t,r){var n=Math.asin(1/(t=Math.max(1,t)))*(r/=Hd);function i(o){return((o=o*2-1)<0?t*ss(-o)*Math.sin((n-o)/r):2-t*ss(o)*Math.sin((n+o)/r))/2}return i.amplitude=function(o){return e(o,r*Hd)},i.period=function(o){return e(t,o)},i}(i8,o8);Bd();var Kue={time:null,delay:0,duration:250,ease:Ks};function Jue(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function LF(e){var t,r;e instanceof yr?(t=e._id,e=e._name):(t=ev(),(r=Kue).time=Qs(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var s=n[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&ul(l,e,t,c,s,r||Jue(l,t));return new yr(n,this._parents,e,t)}ts.prototype.interrupt=KR;ts.prototype.transition=LF;var ede=[null];function VF(e,t){var r=e.__transition,n,i;if(r){t=t==null?null:t+"";for(i in r)if((n=r[i]).state>Q2&&n.name===t)return new yr([[e]],ede,t,+i)}return null}var iv=e=>()=>e;function a8(e,{sourceEvent:t,target:r,selection:n,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:n,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function jF(e){e.stopImmediatePropagation()}function ov(e){e.preventDefault(),e.stopImmediatePropagation()}var zF={name:"drag"},l8={name:"space"},qd={name:"handle"},Wd={name:"center"},{abs:$F,max:Er,min:Tr}=Math;function BF(e){return[+e[0],+e[1]]}function u8(e){return[BF(e[0]),BF(e[1])]}var sv={name:"x",handles:["w","e"].map(sm),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},av={name:"y",handles:["n","s"].map(sm),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},tde={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(sm),input:function(e){return e==null?null:u8(e)},output:function(e){return e}},Js={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},UF={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},HF={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},nde={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},rde={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function sm(e){return{type:e}}function ide(e){return!e.ctrlKey&&!e.button}function ode(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function sde(){return navigator.maxTouchPoints||"ontouchstart"in this}function c8(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function ade(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function qF(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function WF(){return f8(sv)}function d8(){return f8(av)}function lv(){return f8(tde)}function f8(e){var t=ode,r=ide,n=sde,i=!0,o=Ei("start","brush","end"),s=6,a;function l(g){var x=g.property("__brush",y).selectAll(".overlay").data([sm("overlay")]);x.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Js.overlay).merge(x).each(function(){var w=c8(this).extent;W(this).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1])}),g.selectAll(".selection").data([sm("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Js.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=g.selectAll(".handle").data(e.handles,function(w){return w.type});C.exit().remove(),C.enter().append("rect").attr("class",function(w){return"handle handle--"+w.type}).attr("cursor",function(w){return Js[w.type]}),g.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(n).on("touchstart.brush",f).on("touchmove.brush",h).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,x){g.tween?g.on("start.brush",function(C){u(this,arguments).beforestart().start(C)}).on("interrupt.brush end.brush",function(C){u(this,arguments).end(C)}).tween("brush",function(){var C=this,w=C.__brush,b=u(C,arguments),I=w.selection,T=e.input(typeof x=="function"?x.apply(this,arguments):x,w.extent),z=Xt(I,T);function H(q){w.selection=q===1&&T===null?null:z(q),c.call(C),b.brush()}return I!==null&&T!==null?H:H(1)}):g.each(function(){var C=this,w=arguments,b=C.__brush,I=e.input(typeof x=="function"?x.apply(C,w):x,b.extent),T=u(C,w).beforestart();_o(C),b.selection=I===null?null:I,c.call(C),T.start().brush().end()})},l.clear=function(g){l.move(g,null)};function c(){var g=W(this),x=c8(this).selection;x?(g.selectAll(".selection").style("display",null).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?x[1][0]-s/2:x[0][0]-s/2}).attr("y",function(C){return C.type[0]==="s"?x[1][1]-s/2:x[0][1]-s/2}).attr("width",function(C){return C.type==="n"||C.type==="s"?x[1][0]-x[0][0]+s:s}).attr("height",function(C){return C.type==="e"||C.type==="w"?x[1][1]-x[0][1]+s:s})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(g,x,C){var w=g.__brush.emitter;return w&&(!C||!w.clean)?w:new d(g,x,C)}function d(g,x,C){this.that=g,this.args=x,this.state=g.__brush,this.active=0,this.clean=C}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,x){return this.starting?(this.starting=!1,this.emit("start",g,x)):this.emit("brush",g),this},brush:function(g,x){return this.emit("brush",g,x),this},end:function(g,x){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,x)),this},emit:function(g,x,C){var w=W(this.that).datum();o.call(g,this.that,new a8(g,{sourceEvent:x,target:l,selection:e.output(this.state.selection),mode:C,dispatch:o}),w)}};function f(g){if(a&&!g.touches||!r.apply(this,arguments))return;var x=this,C=g.target.__data__.type,w=(i&&g.metaKey?C="overlay":C)==="selection"?zF:i&&g.altKey?Wd:qd,b=e===av?null:nde[C],I=e===sv?null:rde[C],T=c8(x),z=T.extent,H=T.selection,q=z[0][0],$,D,O=z[0][1],j,N,E=z[1][0],A,R,B=z[1][1],P,L,Z=0,ee=0,K,se=b&&I&&i&&g.shiftKey,ke,Me,pe=Array.from(g.touches||[g],He=>{let ln=He.identifier;return He=or(He,x),He.point0=He.slice(),He.identifier=ln,He});if(C==="overlay"){H&&(K=!0);let He=[pe[0],pe[1]||pe[0]];T.selection=H=[[$=e===av?q:Tr(He[0][0],He[1][0]),j=e===sv?O:Tr(He[0][1],He[1][1])],[A=e===av?E:Er(He[0][0],He[1][0]),P=e===sv?B:Er(He[0][1],He[1][1])]],pe.length>1&&wt()}else $=H[0][0],j=H[0][1],A=H[1][0],P=H[1][1];D=$,N=j,R=A,L=P;var ze=W(x).attr("pointer-events","none"),ie=ze.selectAll(".overlay").attr("cursor",Js[C]);_o(x);var De=u(x,arguments,!0).beforestart();if(g.touches)De.moved=oe,De.ended=ft;else{var Ae=W(g.view).on("mousemove.brush",oe,!0).on("mouseup.brush",ft,!0);i&&Ae.on("keydown.brush",an,!0).on("keyup.brush",An,!0),rl(g.view)}c.call(x),De.start(g,w.name);function oe(He){for(let ln of He.changedTouches||[He])for(let Hn of pe)Hn.identifier===ln.identifier&&(Hn.cur=or(ln,x));if(se&&!ke&&!Me&&pe.length===1){let ln=pe[0];$F(ln.cur[0]-ln[0])>$F(ln.cur[1]-ln[1])?Me=!0:ke=!0}for(let ln of pe)ln.cur&&(ln[0]=ln.cur[0],ln[1]=ln.cur[1]);K=!0,ov(He),wt(He)}function wt(He){let ln=pe[0],Hn=ln.point0;var Zr;switch(Z=ln[0]-Hn[0],ee=ln[1]-Hn[1],w){case l8:case zF:{b&&(Z=Er(q-$,Tr(E-A,Z)),D=$+Z,R=A+Z),I&&(ee=Er(O-j,Tr(B-P,ee)),N=j+ee,L=P+ee);break}case qd:{pe[1]?(b&&(D=Er(q,Tr(E,pe[0][0])),R=Er(q,Tr(E,pe[1][0])),b=1),I&&(N=Er(O,Tr(B,pe[0][1])),L=Er(O,Tr(B,pe[1][1])),I=1)):(b<0?(Z=Er(q-$,Tr(E-$,Z)),D=$+Z,R=A):b>0&&(Z=Er(q-A,Tr(E-A,Z)),D=$,R=A+Z),I<0?(ee=Er(O-j,Tr(B-j,ee)),N=j+ee,L=P):I>0&&(ee=Er(O-P,Tr(B-P,ee)),N=j,L=P+ee));break}case Wd:{b&&(D=Er(q,Tr(E,$-Z*b)),R=Er(q,Tr(E,A+Z*b))),I&&(N=Er(O,Tr(B,j-ee*I)),L=Er(O,Tr(B,P+ee*I)));break}}R<D&&(b*=-1,Zr=$,$=A,A=Zr,Zr=D,D=R,R=Zr,C in UF&&ie.attr("cursor",Js[C=UF[C]])),L<N&&(I*=-1,Zr=j,j=P,P=Zr,Zr=N,N=L,L=Zr,C in HF&&ie.attr("cursor",Js[C=HF[C]])),T.selection&&(H=T.selection),ke&&(D=H[0][0],R=H[1][0]),Me&&(N=H[0][1],L=H[1][1]),(H[0][0]!==D||H[0][1]!==N||H[1][0]!==R||H[1][1]!==L)&&(T.selection=[[D,N],[R,L]],c.call(x),De.brush(He,w.name))}function ft(He){if(jF(He),He.touches){if(He.touches.length)return;a&&clearTimeout(a),a=setTimeout(function(){a=null},500)}else il(He.view,K),Ae.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);ze.attr("pointer-events","all"),ie.attr("cursor",Js.overlay),T.selection&&(H=T.selection),ade(H)&&(T.selection=null,c.call(x)),De.end(He,w.name)}function an(He){switch(He.keyCode){case 16:{se=b&&I;break}case 18:{w===qd&&(b&&(A=R-Z*b,$=D+Z*b),I&&(P=L-ee*I,j=N+ee*I),w=Wd,wt());break}case 32:{(w===qd||w===Wd)&&(b<0?A=R-Z:b>0&&($=D-Z),I<0?P=L-ee:I>0&&(j=N-ee),w=l8,ie.attr("cursor",Js.selection),wt());break}default:return}ov(He)}function An(He){switch(He.keyCode){case 16:{se&&(ke=Me=se=!1,wt());break}case 18:{w===Wd&&(b<0?A=R:b>0&&($=D),I<0?P=L:I>0&&(j=N),w=qd,wt());break}case 32:{w===l8&&(He.altKey?(b&&(A=R-Z*b,$=D+Z*b),I&&(P=L-ee*I,j=N+ee*I),w=Wd):(b<0?A=R:b>0&&($=D),I<0?P=L:I>0&&(j=N),w=qd),ie.attr("cursor",Js[C]),wt());break}default:return}ov(He)}}function h(g){u(this,arguments).moved(g)}function m(g){u(this,arguments).ended(g)}function y(){var g=this.__brush||{selection:null};return g.extent=u8(t.apply(this,arguments)),g.dim=e,g}return l.extent=function(g){return arguments.length?(t=typeof g=="function"?g:iv(u8(g)),l):t},l.filter=function(g){return arguments.length?(r=typeof g=="function"?g:iv(!!g),l):r},l.touchable=function(g){return arguments.length?(n=typeof g=="function"?g:iv(!!g),l):n},l.handleSize=function(g){return arguments.length?(s=+g,l):s},l.keyModifiers=function(g){return arguments.length?(i=!!g,l):i},l.on=function(){var g=o.on.apply(o,arguments);return g===o?l:g},l}var h8=Math.abs,Dc=Math.cos,Sc=Math.sin,GF=Math.PI,am=GF/2,p8=GF*2,m8=Math.max,cv=1e-12;function g8(e,t){return Array.from({length:t-e},(r,n)=>e+n)}function lde(e){return function(t,r){return e(t.source.value+t.target.value,r.source.value+r.target.value)}}function YF(){return y8(!1,!1)}function ZF(){return y8(!1,!0)}function QF(){return y8(!0,!1)}function y8(e,t){var r=0,n=null,i=null,o=null;function s(a){var l=a.length,c=new Array(l),u=g8(0,l),d=new Array(l*l),f=new Array(l),h=0,m;a=Float64Array.from({length:l*l},t?(y,g)=>a[g%l][g/l|0]:(y,g)=>a[g/l|0][g%l]);for(let y=0;y<l;++y){let g=0;for(let x=0;x<l;++x)g+=a[y*l+x]+e*a[x*l+y];h+=c[y]=g}h=m8(0,p8-r*l)/h,m=h?r:p8/l;{let y=0;n&&u.sort((g,x)=>n(c[g],c[x]));for(let g of u){let x=y;if(e){let C=g8(~l+1,l).filter(w=>w<0?a[~w*l+g]:a[g*l+w]);i&&C.sort((w,b)=>i(w<0?-a[~w*l+g]:a[g*l+w],b<0?-a[~b*l+g]:a[g*l+b]));for(let w of C)if(w<0){let b=d[~w*l+g]||(d[~w*l+g]={source:null,target:null});b.target={index:g,startAngle:y,endAngle:y+=a[~w*l+g]*h,value:a[~w*l+g]}}else{let b=d[g*l+w]||(d[g*l+w]={source:null,target:null});b.source={index:g,startAngle:y,endAngle:y+=a[g*l+w]*h,value:a[g*l+w]}}f[g]={index:g,startAngle:x,endAngle:y,value:c[g]}}else{let C=g8(0,l).filter(w=>a[g*l+w]||a[w*l+g]);i&&C.sort((w,b)=>i(a[g*l+w],a[g*l+b]));for(let w of C){let b;if(g<w?(b=d[g*l+w]||(d[g*l+w]={source:null,target:null}),b.source={index:g,startAngle:y,endAngle:y+=a[g*l+w]*h,value:a[g*l+w]}):(b=d[w*l+g]||(d[w*l+g]={source:null,target:null}),b.target={index:g,startAngle:y,endAngle:y+=a[g*l+w]*h,value:a[g*l+w]},g===w&&(b.source=b.target)),b.source&&b.target&&b.source.value<b.target.value){let I=b.source;b.source=b.target,b.target=I}}f[g]={index:g,startAngle:x,endAngle:y,value:c[g]}}y+=m}}return d=Object.values(d),d.groups=f,o?d.sort(o):d}return s.padAngle=function(a){return arguments.length?(r=m8(0,a),s):r},s.sortGroups=function(a){return arguments.length?(n=a,s):n},s.sortSubgroups=function(a){return arguments.length?(i=a,s):i},s.sortChords=function(a){return arguments.length?(a==null?o=null:(o=lde(a))._=a,s):o&&o._},s}var v8=Math.PI,x8=2*v8,Mc=1e-6,cde=x8-Mc;function b8(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function XF(){return new b8}b8.prototype=XF.prototype={constructor:b8,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,a=r-e,l=n-t,c=o-e,u=s-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>Mc)if(!(Math.abs(u*a-l*c)>Mc)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-o,h=n-s,m=a*a+l*l,y=f*f+h*h,g=Math.sqrt(m),x=Math.sqrt(d),C=i*Math.tan((v8-Math.acos((m+d-y)/(2*g*x)))/2),w=C/x,b=C/g;Math.abs(w-1)>Mc&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*h)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),a=r*Math.sin(n),l=e+s,c=t+a,u=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Mc||Math.abs(this._y1-c)>Mc)&&(this._+="L"+l+","+c),r&&(d<0&&(d=d%x8+x8),d>cde?this._+="A"+r+","+r+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>Mc&&(this._+="A"+r+","+r+",0,"+ +(d>=v8)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var ui=XF;var KF=Array.prototype.slice;function fl(e){return function(){return e}}function ude(e){return e.source}function dde(e){return e.target}function JF(e){return e.radius}function fde(e){return e.startAngle}function hde(e){return e.endAngle}function pde(){return 0}function mde(){return 10}function eL(e){var t=ude,r=dde,n=JF,i=JF,o=fde,s=hde,a=pde,l=null;function c(){var u,d=t.apply(this,arguments),f=r.apply(this,arguments),h=a.apply(this,arguments)/2,m=KF.call(arguments),y=+n.apply(this,(m[0]=d,m)),g=o.apply(this,m)-am,x=s.apply(this,m)-am,C=+i.apply(this,(m[0]=f,m)),w=o.apply(this,m)-am,b=s.apply(this,m)-am;if(l||(l=u=ui()),h>cv&&(h8(x-g)>h*2+cv?x>g?(g+=h,x-=h):(g-=h,x+=h):g=x=(g+x)/2,h8(b-w)>h*2+cv?b>w?(w+=h,b-=h):(w-=h,b+=h):w=b=(w+b)/2),l.moveTo(y*Dc(g),y*Sc(g)),l.arc(0,0,y,g,x),g!==w||x!==b)if(e){var I=+e.apply(this,arguments),T=C-I,z=(w+b)/2;l.quadraticCurveTo(0,0,T*Dc(w),T*Sc(w)),l.lineTo(C*Dc(z),C*Sc(z)),l.lineTo(T*Dc(b),T*Sc(b))}else l.quadraticCurveTo(0,0,C*Dc(w),C*Sc(w)),l.arc(0,0,C,w,b);if(l.quadraticCurveTo(0,0,y*Dc(g),y*Sc(g)),l.closePath(),u)return l=null,u+""||null}return e&&(c.headRadius=function(u){return arguments.length?(e=typeof u=="function"?u:fl(+u),c):e}),c.radius=function(u){return arguments.length?(n=i=typeof u=="function"?u:fl(+u),c):n},c.sourceRadius=function(u){return arguments.length?(n=typeof u=="function"?u:fl(+u),c):n},c.targetRadius=function(u){return arguments.length?(i=typeof u=="function"?u:fl(+u),c):i},c.startAngle=function(u){return arguments.length?(o=typeof u=="function"?u:fl(+u),c):o},c.endAngle=function(u){return arguments.length?(s=typeof u=="function"?u:fl(+u),c):s},c.padAngle=function(u){return arguments.length?(a=typeof u=="function"?u:fl(+u),c):a},c.source=function(u){return arguments.length?(t=u,c):t},c.target=function(u){return arguments.length?(r=u,c):r},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function tL(){return eL()}function nL(){return eL(mde)}mn();var gde=Array.prototype,uv=gde.slice;function rL(e,t){return e-t}function iL(e){for(var t=0,r=e.length,n=e[r-1][1]*e[0][0]-e[r-1][0]*e[0][1];++t<r;)n+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return n}var as=e=>()=>e;function oL(e,t){for(var r=-1,n=t.length,i;++r<n;)if(i=yde(e,t[r]))return i;return 0}function yde(e,t){for(var r=t[0],n=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],d=e[a],f=d[0],h=d[1];if(vde(l,d,t))return 0;u>n!=h>n&&r<(f-c)*(n-u)/(h-u)+c&&(i=-i)}return i}function vde(e,t,r){var n;return xde(e,t,r)&&bde(e[n=+(e[0]===t[0])],r[n],t[n])}function xde(e,t,r){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])}function bde(e,t,r){return e<=t&&t<=r||r<=t&&t<=e}function sL(){}var ea=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function dv(){var e=1,t=1,r=hc,n=l;function i(c){var u=r(c);if(Array.isArray(u))u=u.slice().sort(rL);else{var d=Mt(c),f=d[0],h=d[1];u=ji(f,h,u),u=$t(Math.floor(f/u)*u,Math.floor(h/u)*u,u)}return u.map(function(m){return o(c,m)})}function o(c,u){var d=[],f=[];return s(c,u,function(h){n(h,c,u),iL(h)>0?d.push([h]):f.push(h)}),f.forEach(function(h){for(var m=0,y=d.length,g;m<y;++m)if(oL((g=d[m])[0],h)!==-1){g.push(h);return}}),{type:"MultiPolygon",value:u,coordinates:d}}function s(c,u,d){var f=new Array,h=new Array,m,y,g,x,C,w;for(m=y=-1,x=c[0]>=u,ea[x<<1].forEach(b);++m<e-1;)g=x,x=c[m+1]>=u,ea[g|x<<1].forEach(b);for(ea[x<<0].forEach(b);++y<t-1;){for(m=-1,x=c[y*e+e]>=u,C=c[y*e]>=u,ea[x<<1|C<<2].forEach(b);++m<e-1;)g=x,x=c[y*e+e+m+1]>=u,w=C,C=c[y*e+m+1]>=u,ea[g|x<<1|C<<2|w<<3].forEach(b);ea[x|C<<3].forEach(b)}for(m=-1,C=c[y*e]>=u,ea[C<<2].forEach(b);++m<e-1;)w=C,C=c[y*e+m+1]>=u,ea[C<<2|w<<3].forEach(b);ea[C<<3].forEach(b);function b(I){var T=[I[0][0]+m,I[0][1]+y],z=[I[1][0]+m,I[1][1]+y],H=a(T),q=a(z),$,D;($=h[H])?(D=f[q])?(delete h[$.end],delete f[D.start],$===D?($.ring.push(z),d($.ring)):f[$.start]=h[D.end]={start:$.start,end:D.end,ring:$.ring.concat(D.ring)}):(delete h[$.end],$.ring.push(z),h[$.end=q]=$):($=f[q])?(D=h[H])?(delete f[$.start],delete h[D.end],$===D?($.ring.push(z),d($.ring)):f[D.start]=h[$.end]={start:D.start,end:$.end,ring:D.ring.concat($.ring)}):(delete f[$.start],$.ring.unshift(T),f[$.start=H]=$):f[H]=h[q]={start:H,end:q,ring:[T,z]}}}function a(c){return c[0]*2+c[1]*(e+1)*4}function l(c,u,d){c.forEach(function(f){var h=f[0],m=f[1],y=h|0,g=m|0,x,C=u[g*e+y];h>0&&h<e&&y===h&&(x=u[g*e+y-1],f[0]=h+(d-x)/(C-x)-.5),m>0&&m<t&&g===m&&(x=u[(g-1)*e+y],f[1]=m+(d-x)/(C-x)-.5)})}return i.contour=o,i.size=function(c){if(!arguments.length)return[e,t];var u=Math.floor(c[0]),d=Math.floor(c[1]);if(!(u>=0&&d>=0))throw new Error("invalid size");return e=u,t=d,i},i.thresholds=function(c){return arguments.length?(r=typeof c=="function"?c:Array.isArray(c)?as(uv.call(c)):as(c),i):r},i.smooth=function(c){return arguments.length?(n=c?l:sL,i):n===l},i}mn();function fv(e,t,r){for(var n=e.width,i=e.height,o=(r<<1)+1,s=0;s<i;++s)for(var a=0,l=0;a<n+r;++a)a<n&&(l+=e.data[a+s*n]),a>=r&&(a>=o&&(l-=e.data[a-o+s*n]),t.data[a-r+s*n]=l/Math.min(a+1,n-1+o-a,o))}function hv(e,t,r){for(var n=e.width,i=e.height,o=(r<<1)+1,s=0;s<n;++s)for(var a=0,l=0;a<i+r;++a)a<i&&(l+=e.data[s+a*n]),a>=r&&(a>=o&&(l-=e.data[s+(a-o)*n]),t.data[s+(a-r)*n]=l/Math.min(a+1,i-1+o-a,o))}function wde(e){return e[0]}function _de(e){return e[1]}function Cde(){return 1}function aL(){var e=wde,t=_de,r=Cde,n=960,i=500,o=20,s=2,a=o*3,l=n+a*2>>s,c=i+a*2>>s,u=as(20);function d(x){var C=new Float32Array(l*c),w=new Float32Array(l*c);x.forEach(function(T,z,H){var q=+e(T,z,H)+a>>s,$=+t(T,z,H)+a>>s,D=+r(T,z,H);q>=0&&q<l&&$>=0&&$<c&&(C[q+$*l]+=D)}),fv({width:l,height:c,data:C},{width:l,height:c,data:w},o>>s),hv({width:l,height:c,data:w},{width:l,height:c,data:C},o>>s),fv({width:l,height:c,data:C},{width:l,height:c,data:w},o>>s),hv({width:l,height:c,data:w},{width:l,height:c,data:C},o>>s),fv({width:l,height:c,data:C},{width:l,height:c,data:w},o>>s),hv({width:l,height:c,data:w},{width:l,height:c,data:C},o>>s);var b=u(C);if(!Array.isArray(b)){var I=Ue(C);b=ji(0,I,b),b=$t(0,Math.floor(I/b)*b,b),b.shift()}return dv().thresholds(b).size([l,c])(C).map(f)}function f(x){return x.value*=Math.pow(2,-2*s),x.coordinates.forEach(h),x}function h(x){x.forEach(m)}function m(x){x.forEach(y)}function y(x){x[0]=x[0]*Math.pow(2,s)-a,x[1]=x[1]*Math.pow(2,s)-a}function g(){return a=o*3,l=n+a*2>>s,c=i+a*2>>s,d}return d.x=function(x){return arguments.length?(e=typeof x=="function"?x:as(+x),d):e},d.y=function(x){return arguments.length?(t=typeof x=="function"?x:as(+x),d):t},d.weight=function(x){return arguments.length?(r=typeof x=="function"?x:as(+x),d):r},d.size=function(x){if(!arguments.length)return[n,i];var C=+x[0],w=+x[1];if(!(C>=0&&w>=0))throw new Error("invalid size");return n=C,i=w,g()},d.cellSize=function(x){if(!arguments.length)return 1<<s;if(!((x=+x)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(x)/Math.LN2),g()},d.thresholds=function(x){return arguments.length?(u=typeof x=="function"?x:Array.isArray(x)?as(uv.call(x)):as(x),d):u},d.bandwidth=function(x){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((x=+x)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*x*x+1)-1)/2),g()},d}var lL=Math.pow(2,-52),pv=new Uint32Array(512),cm=class e{static from(t,r=Tde,n=kde){let i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){let a=t[s];o[2*s]=r(a),o[2*s+1]=n(a)}return new e(o)}constructor(t){let r=t.length>>1;if(r>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;let n=Math.max(2*r-5,0);this._triangles=new Uint32Array(n*3),this._halfedges=new Int32Array(n*3),this._hashSize=Math.ceil(Math.sqrt(r)),this._hullPrev=new Uint32Array(r),this._hullNext=new Uint32Array(r),this._hullTri=new Uint32Array(r),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(r),this._dists=new Float64Array(r),this.update()}update(){let{coords:t,_hullPrev:r,_hullNext:n,_hullTri:i,_hullHash:o}=this,s=t.length>>1,a=1/0,l=1/0,c=-1/0,u=-1/0;for(let $=0;$<s;$++){let D=t[2*$],O=t[2*$+1];D<a&&(a=D),O<l&&(l=O),D>c&&(c=D),O>u&&(u=O),this._ids[$]=$}let d=(a+c)/2,f=(l+u)/2,h=1/0,m,y,g;for(let $=0;$<s;$++){let D=w8(d,f,t[2*$],t[2*$+1]);D<h&&(m=$,h=D)}let x=t[2*m],C=t[2*m+1];h=1/0;for(let $=0;$<s;$++){if($===m)continue;let D=w8(x,C,t[2*$],t[2*$+1]);D<h&&D>0&&(y=$,h=D)}let w=t[2*y],b=t[2*y+1],I=1/0;for(let $=0;$<s;$++){if($===m||$===y)continue;let D=Mde(x,C,w,b,t[2*$],t[2*$+1]);D<I&&(g=$,I=D)}let T=t[2*g],z=t[2*g+1];if(I===1/0){for(let O=0;O<s;O++)this._dists[O]=t[2*O]-t[0]||t[2*O+1]-t[1];Gd(this._ids,this._dists,0,s-1);let $=new Uint32Array(s),D=0;for(let O=0,j=-1/0;O<s;O++){let N=this._ids[O];this._dists[N]>j&&($[D++]=N,j=this._dists[N])}this.hull=$.subarray(0,D),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(mv(x,C,w,b,T,z)){let $=y,D=w,O=b;y=g,w=T,b=z,g=$,T=D,z=O}let H=Ede(x,C,w,b,T,z);this._cx=H.x,this._cy=H.y;for(let $=0;$<s;$++)this._dists[$]=w8(t[2*$],t[2*$+1],H.x,H.y);Gd(this._ids,this._dists,0,s-1),this._hullStart=m;let q=3;n[m]=r[g]=y,n[y]=r[m]=g,n[g]=r[y]=m,i[m]=0,i[y]=1,i[g]=2,o.fill(-1),o[this._hashKey(x,C)]=m,o[this._hashKey(w,b)]=y,o[this._hashKey(T,z)]=g,this.trianglesLen=0,this._addTriangle(m,y,g,-1,-1,-1);for(let $=0,D,O;$<this._ids.length;$++){let j=this._ids[$],N=t[2*j],E=t[2*j+1];if($>0&&Math.abs(N-D)<=lL&&Math.abs(E-O)<=lL||(D=N,O=E,j===m||j===y||j===g))continue;let A=0;for(let Z=0,ee=this._hashKey(N,E);Z<this._hashSize&&(A=o[(ee+Z)%this._hashSize],!(A!==-1&&A!==n[A]));Z++);A=r[A];let R=A,B;for(;B=n[R],!mv(N,E,t[2*R],t[2*R+1],t[2*B],t[2*B+1]);)if(R=B,R===A){R=-1;break}if(R===-1)continue;let P=this._addTriangle(R,j,n[R],-1,-1,i[R]);i[j]=this._legalize(P+2),i[R]=P,q++;let L=n[R];for(;B=n[L],mv(N,E,t[2*L],t[2*L+1],t[2*B],t[2*B+1]);)P=this._addTriangle(L,j,B,i[j],-1,i[L]),i[j]=this._legalize(P+2),n[L]=L,q--,L=B;if(R===A)for(;B=r[R],mv(N,E,t[2*B],t[2*B+1],t[2*R],t[2*R+1]);)P=this._addTriangle(B,j,R,-1,i[R],i[B]),this._legalize(P+2),i[B]=P,n[R]=R,q--,R=B;this._hullStart=r[j]=R,n[R]=r[L]=j,n[j]=L,o[this._hashKey(N,E)]=j,o[this._hashKey(t[2*R],t[2*R+1])]=R}this.hull=new Uint32Array(q);for(let $=0,D=this._hullStart;$<q;$++)this.hull[$]=D,D=n[D];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,r){return Math.floor(Dde(t-this._cx,r-this._cy)*this._hashSize)%this._hashSize}_legalize(t){let{_triangles:r,_halfedges:n,coords:i}=this,o=0,s=0;for(;;){let a=n[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=pv[--o];continue}let c=a-a%3,u=l+(t+1)%3,d=c+(a+2)%3,f=r[s],h=r[t],m=r[u],y=r[d];if(Sde(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*m],i[2*m+1],i[2*y],i[2*y+1])){r[t]=y,r[a]=f;let x=n[d];if(x===-1){let w=this._hullStart;do{if(this._hullTri[w]===d){this._hullTri[w]=t;break}w=this._hullPrev[w]}while(w!==this._hullStart)}this._link(t,x),this._link(a,n[s]),this._link(s,d);let C=c+(a+1)%3;o<pv.length&&(pv[o++]=C)}else{if(o===0)break;t=pv[--o]}}return s}_link(t,r){this._halfedges[t]=r,r!==-1&&(this._halfedges[r]=t)}_addTriangle(t,r,n,i,o,s){let a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=r,this._triangles[a+2]=n,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}};function Dde(e,t){let r=e/(Math.abs(e)+Math.abs(t));return(t>0?3-r:1+r)/4}function w8(e,t,r,n){let i=e-r,o=t-n;return i*i+o*o}function _8(e,t,r,n,i,o){let s=(n-t)*(i-e),a=(r-e)*(o-t);return Math.abs(s-a)>=33306690738754716e-32*Math.abs(s+a)?s-a:0}function mv(e,t,r,n,i,o){return(_8(i,o,e,t,r,n)||_8(e,t,r,n,i,o)||_8(r,n,i,o,e,t))<0}function Sde(e,t,r,n,i,o,s,a){let l=e-s,c=t-a,u=r-s,d=n-a,f=i-s,h=o-a,m=l*l+c*c,y=u*u+d*d,g=f*f+h*h;return l*(d*g-y*h)-c*(u*g-y*f)+m*(u*h-d*f)<0}function Mde(e,t,r,n,i,o){let s=r-e,a=n-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),h=(c*u-a*d)*f,m=(s*d-l*u)*f;return h*h+m*m}function Ede(e,t,r,n,i,o){let s=r-e,a=n-t,l=i-e,c=o-t,u=s*s+a*a,d=l*l+c*c,f=.5/(s*c-a*l),h=e+(c*u-a*d)*f,m=t+(s*d-l*u)*f;return{x:h,y:m}}function Gd(e,t,r,n){if(n-r<=20)for(let i=r+1;i<=n;i++){let o=e[i],s=t[o],a=i-1;for(;a>=r&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{let i=r+n>>1,o=r+1,s=n;lm(e,i,o),t[e[r]]>t[e[n]]&&lm(e,r,n),t[e[o]]>t[e[n]]&&lm(e,o,n),t[e[r]]>t[e[o]]&&lm(e,r,o);let a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;lm(e,o,s)}e[r+1]=e[s],e[s]=a,n-o+1>=s-r?(Gd(e,t,o,n),Gd(e,t,r,s-1)):(Gd(e,t,r,s-1),Gd(e,t,o,n))}}function lm(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function Tde(e){return e[0]}function kde(e){return e[1]}var Co=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,r){this._+=`L${this._x1=+t},${this._y1=+r}`}arc(t,r,n){t=+t,r=+r,n=+n;let i=t+n,o=r;if(n<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+i+","+o),n&&(this._+=`A${n},${n},0,1,1,${t-n},${r}A${n},${n},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,r,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${+n}v${+i}h${-n}Z`}value(){return this._||null}};var Ec=class{constructor(){this._=[]}moveTo(t,r){this._.push([t,r])}closePath(){this._.push(this._[0].slice())}lineTo(t,r){this._.push([t,r])}value(){return this._.length?this._:null}};var Yd=class{constructor(t,[r,n,i,o]=[0,0,960,500]){if(!((i=+i)>=(r=+r))||!((o=+o)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=r,this.ymax=o,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:t,hull:r,triangles:n},vectors:i}=this,o=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let h=0,m=0,y=n.length,g,x;h<y;h+=3,m+=2){let C=n[h]*2,w=n[h+1]*2,b=n[h+2]*2,I=t[C],T=t[C+1],z=t[w],H=t[w+1],q=t[b],$=t[b+1],D=z-I,O=H-T,j=q-I,N=$-T,E=D*D+O*O,A=j*j+N*N,R=(D*N-O*j)*2;if(!R)g=(I+q)/2-1e8*N,x=(T+$)/2+1e8*j;else if(Math.abs(R)<1e-8)g=(I+q)/2,x=(T+$)/2;else{let B=1/R;g=I+(N*E-O*A)*B,x=T+(D*A-j*E)*B}o[m]=g,o[m+1]=x}let s=r[r.length-1],a,l=s*4,c,u=t[2*s],d,f=t[2*s+1];i.fill(0);for(let h=0;h<r.length;++h)s=r[h],a=l,c=u,d=f,l=s*4,u=t[2*s],f=t[2*s+1],i[a+2]=i[l]=d-f,i[a+3]=i[l+1]=u-c}render(t){let r=t==null?t=new Co:void 0,{delaunay:{halfedges:n,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,d=n.length;u<d;++u){let f=n[u];if(f<u)continue;let h=Math.floor(u/3)*2,m=Math.floor(f/3)*2,y=s[h],g=s[h+1],x=s[m],C=s[m+1];this._renderSegment(y,g,x,C,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];let d=Math.floor(i[c]/3)*2,f=s[d],h=s[d+1],m=l*4,y=this._project(f,h,a[m+2],a[m+3]);y&&this._renderSegment(f,h,y[0],y[1],t)}return r&&r.value()}renderBounds(t){let r=t==null?t=new Co:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),r&&r.value()}renderCell(t,r){let n=r==null?r=new Co:void 0,i=this._clip(t);if(i===null||!i.length)return;r.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&r.lineTo(i[s],i[s+1]);return r.closePath(),n&&n.value()}*cellPolygons(){let{delaunay:{points:t}}=this;for(let r=0,n=t.length/2;r<n;++r){let i=this.cellPolygon(r);i&&(i.index=r,yield i)}}cellPolygon(t){let r=new Ec;return this.renderCell(t,r),r.value()}_renderSegment(t,r,n,i,o){let s,a=this._regioncode(t,r),l=this._regioncode(n,i);a===0&&l===0?(o.moveTo(t,r),o.lineTo(n,i)):(s=this._clipSegment(t,r,n,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,r,n){return r=+r,r!==r||(n=+n,n!==n)?!1:this.delaunay._step(t,r,n)===t}*neighbors(t){let r=this._clip(t);if(r)for(let n of this.delaunay.neighbors(t)){let i=this._clip(n);if(i){e:for(let o=0,s=r.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(r[o]==i[a]&&r[o+1]==i[a+1]&&r[(o+2)%s]==i[(a+l-2)%l]&&r[(o+3)%s]==i[(a+l-1)%l]){yield n;break e}}}}_cell(t){let{circumcenters:r,delaunay:{inedges:n,halfedges:i,triangles:o}}=this,s=n[t];if(s===-1)return null;let a=[],l=s;do{let c=Math.floor(l/3);if(a.push(r[c*2],r[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let r=this._cell(t);if(r===null)return null;let{vectors:n}=this,i=t*4;return n[i]||n[i+1]?this._clipInfinite(t,r,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,r)}_clipFinite(t,r){let n=r.length,i=null,o,s,a=r[n-2],l=r[n-1],c,u=this._regioncode(a,l),d,f;for(let h=0;h<n;h+=2)if(o=a,s=l,a=r[h],l=r[h+1],c=u,u=this._regioncode(a,l),c===0&&u===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let m,y,g,x,C;if(c===0){if((m=this._clipSegment(o,s,a,l,c,u))===null)continue;[y,g,x,C]=m}else{if((m=this._clipSegment(a,l,o,s,u,c))===null)continue;[x,C,y,g]=m,d=f,f=this._edgecode(y,g),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(y,g):i=[y,g]}d=f,f=this._edgecode(x,C),d&&f&&this._edge(t,d,f,i,i.length),i?i.push(x,C):i=[x,C]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(t,d,f,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,r,n,i,o,s){for(;;){if(o===0&&s===0)return[t,r,n,i];if(o&s)return null;let a,l,c=o||s;c&8?(a=t+(n-t)*(this.ymax-r)/(i-r),l=this.ymax):c&4?(a=t+(n-t)*(this.ymin-r)/(i-r),l=this.ymin):c&2?(l=r+(i-r)*(this.xmax-t)/(n-t),a=this.xmax):(l=r+(i-r)*(this.xmin-t)/(n-t),a=this.xmin),o?(t=a,r=l,o=this._regioncode(t,r)):(n=a,i=l,s=this._regioncode(n,i))}}_clipInfinite(t,r,n,i,o,s){let a=Array.from(r),l;if((l=this._project(a[0],a[1],n,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,d,f=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)d=f,f=this._edgecode(a[c],a[c+1]),d&&f&&(c=this._edge(t,d,f,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,r,n,i,o){for(;r!==n;){let s,a;switch(r){case 5:r=4;continue;case 4:r=6,s=this.xmax,a=this.ymin;break;case 6:r=2;continue;case 2:r=10,s=this.xmax,a=this.ymax;break;case 10:r=8;continue;case 8:r=9,s=this.xmin,a=this.ymax;break;case 9:r=1;continue;case 1:r=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}if(i.length>4)for(let s=0;s<i.length;s+=2){let a=(s+2)%i.length,l=(s+4)%i.length;(i[s]===i[a]&&i[a]===i[l]||i[s+1]===i[a+1]&&i[a+1]===i[l+1])&&(i.splice(a,2),s-=2)}return o}_project(t,r,n,i){let o=1/0,s,a,l;if(i<0){if(r<=this.ymin)return null;(s=(this.ymin-r)/i)<o&&(l=this.ymin,a=t+(o=s)*n)}else if(i>0){if(r>=this.ymax)return null;(s=(this.ymax-r)/i)<o&&(l=this.ymax,a=t+(o=s)*n)}if(n>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/n)<o&&(a=this.xmax,l=r+(o=s)*i)}else if(n<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/n)<o&&(a=this.xmin,l=r+(o=s)*i)}return[a,l]}_edgecode(t,r){return(t===this.xmin?1:t===this.xmax?2:0)|(r===this.ymin?4:r===this.ymax?8:0)}_regioncode(t,r){return(t<this.xmin?1:t>this.xmax?2:0)|(r<this.ymin?4:r>this.ymax?8:0)}};var Ide=2*Math.PI,Zd=Math.pow;function Ade(e){return e[0]}function Ode(e){return e[1]}function Pde(e){let{triangles:t,coords:r}=e;for(let n=0;n<t.length;n+=3){let i=2*t[n],o=2*t[n+1],s=2*t[n+2];if((r[s]-r[i])*(r[o+1]-r[i+1])-(r[o]-r[i])*(r[s+1]-r[i+1])>1e-10)return!1}return!0}function Nde(e,t,r){return[e+Math.sin(e+t)*r,t+Math.cos(e-t)*r]}var gv=class e{static from(t,r=Ade,n=Ode,i){return new e("length"in t?Rde(t,r,n,i):Float64Array.from(Fde(t,r,n,i)))}constructor(t){this._delaunator=new cm(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let t=this._delaunator,r=this.points;if(t.hull&&t.hull.length>2&&Pde(t)){this.collinear=Int32Array.from({length:r.length/2},(f,h)=>h).sort((f,h)=>r[2*f]-r[2*h]||r[2*f+1]-r[2*h+1]);let l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[r[2*l],r[2*l+1],r[2*c],r[2*c+1]],d=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let f=0,h=r.length/2;f<h;++f){let m=Nde(r[2*f],r[2*f+1],d);r[2*f]=m[0],r[2*f+1]=m[1]}this._delaunator=new cm(r)}else delete this.collinear;let n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=n.length;l<c;++l){let u=o[l%3===2?l-2:l+1];(n[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],s[i[0]]=1,i.length===2&&(s[i[1]]=0))}voronoi(t){return new Yd(this,t)}*neighbors(t){let{inedges:r,hull:n,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){let d=a.indexOf(t);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}let l=r[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){let d=n[(i[t]+1)%n.length];d!==u&&(yield d);return}}while(c!==l)}find(t,r,n=0){if(t=+t,t!==t||(r=+r,r!==r))return-1;let i=n,o;for(;(o=this._step(n,t,r))>=0&&o!==n&&o!==i;)n=o;return o}_step(t,r,n){let{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,d=Zd(r-c[t*2],2)+Zd(n-c[t*2+1],2),f=i[t],h=f;do{let m=l[h],y=Zd(r-c[m*2],2)+Zd(n-c[m*2+1],2);if(y<d&&(d=y,u=m),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==m&&Zd(r-c[h*2],2)+Zd(n-c[h*2+1],2)<d)return h;break}}while(h!==f);return u}render(t){let r=t==null?t=new Co:void 0,{points:n,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){let l=i[s];if(l<s)continue;let c=o[s]*2,u=o[l]*2;t.moveTo(n[c],n[c+1]),t.lineTo(n[u],n[u+1])}return this.renderHull(t),r&&r.value()}renderPoints(t,r=2){let n=t==null?t=new Co:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){let a=i[o],l=i[o+1];t.moveTo(a+r,l),t.arc(a,l,r,0,Ide)}return n&&n.value()}renderHull(t){let r=t==null?t=new Co:void 0,{hull:n,points:i}=this,o=n[0]*2,s=n.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){let l=2*n[a];t.lineTo(i[l],i[l+1])}return t.closePath(),r&&r.value()}hullPolygon(){let t=new Ec;return this.renderHull(t),t.value()}renderTriangle(t,r){let n=r==null?r=new Co:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return r.moveTo(i[s],i[s+1]),r.lineTo(i[a],i[a+1]),r.lineTo(i[l],i[l+1]),r.closePath(),n&&n.value()}*trianglePolygons(){let{triangles:t}=this;for(let r=0,n=t.length/3;r<n;++r)yield this.trianglePolygon(r)}trianglePolygon(t){let r=new Ec;return this.renderTriangle(t,r),r.value()}};function Rde(e,t,r,n){let i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){let a=e[s];o[s*2]=t.call(n,a,s,e),o[s*2+1]=r.call(n,a,s,e)}return o}function*Fde(e,t,r,n){let i=0;for(let o of e)yield t.call(n,o,i,e),yield r.call(n,o,i,e),++i}Ja();var cL={},C8={},D8=34,um=10,S8=13;function dL(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function Lde(e,t){var r=dL(e);return function(n,i){return t(r(n),i,e)}}function uL(e){var t=Object.create(null),r=[];return e.forEach(function(n){for(var i in n)i in t||r.push(t[i]=i)}),r}function di(e,t){var r=e+"",n=r.length;return n<t?new Array(t-n+1).join(0)+r:r}function Vde(e){return e<0?"-"+di(-e,6):e>9999?"+"+di(e,6):di(e,4)}function jde(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Vde(e.getUTCFullYear(),4)+"-"+di(e.getUTCMonth()+1,2)+"-"+di(e.getUTCDate(),2)+(i?"T"+di(t,2)+":"+di(r,2)+":"+di(n,2)+"."+di(i,3)+"Z":n?"T"+di(t,2)+":"+di(r,2)+":"+di(n,2)+"Z":r||t?"T"+di(t,2)+":"+di(r,2)+"Z":"")}function hl(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function n(d,f){var h,m,y=i(d,function(g,x){if(h)return h(g,x-1);m=g,h=f?Lde(g,f):dL(g)});return y.columns=m||[],y}function i(d,f){var h=[],m=d.length,y=0,g=0,x,C=m<=0,w=!1;d.charCodeAt(m-1)===um&&--m,d.charCodeAt(m-1)===S8&&--m;function b(){if(C)return C8;if(w)return w=!1,cL;var T,z=y,H;if(d.charCodeAt(z)===D8){for(;y++<m&&d.charCodeAt(y)!==D8||d.charCodeAt(++y)===D8;);return(T=y)>=m?C=!0:(H=d.charCodeAt(y++))===um?w=!0:H===S8&&(w=!0,d.charCodeAt(y)===um&&++y),d.slice(z+1,T-1).replace(/""/g,'"')}for(;y<m;){if((H=d.charCodeAt(T=y++))===um)w=!0;else if(H===S8)w=!0,d.charCodeAt(y)===um&&++y;else if(H!==r)continue;return d.slice(z,T)}return C=!0,d.slice(z,m)}for(;(x=b())!==C8;){for(var I=[];x!==cL&&x!==C8;)I.push(x),x=b();f&&(I=f(I,g++))==null||h.push(I)}return h}function o(d,f){return d.map(function(h){return f.map(function(m){return u(h[m])}).join(e)})}function s(d,f){return f==null&&(f=uL(d)),[f.map(u).join(e)].concat(o(d,f)).join(`
`)}function a(d,f){return f==null&&(f=uL(d)),o(d,f).join(`
`)}function l(d){return d.map(c).join(`
`)}function c(d){return d.map(u).join(e)}function u(d){return d==null?"":d instanceof Date?jde(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:n,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}var Tc=hl(","),pl=Tc.parse,fL=Tc.parseRows,hL=Tc.format,pL=Tc.formatBody,mL=Tc.formatRows,gL=Tc.formatRow,yL=Tc.formatValue;var kc=hl("	"),yv=kc.parse,vL=kc.parseRows,xL=kc.format,bL=kc.formatBody,wL=kc.formatRows,_L=kc.formatRow,CL=kc.formatValue;function ta(e){for(var t in e){var r=e[t].trim(),n,i;if(!r)r=null;else if(r==="true")r=!0;else if(r==="false")r=!1;else if(r==="NaN")r=NaN;else if(!isNaN(n=+r))r=n;else if(i=r.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))zde&&i[4]&&!i[7]&&(r=r.replace(/-/g,"/").replace(/T/," ")),r=new Date(r);else continue;e[t]=r}return e}var zde=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function $de(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function DL(e,t){return fetch(e,t).then($de)}function Bde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function SL(e,t){return fetch(e,t).then(Bde)}function Ude(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ic(e,t){return fetch(e,t).then(Ude)}function ML(e){return function(t,r,n){return arguments.length===2&&typeof r=="function"&&(n=r,r=void 0),Ic(t,r).then(function(i){return e(i,n)})}}function M8(e,t,r,n){arguments.length===3&&typeof r=="function"&&(n=r,r=void 0);var i=hl(e);return Ic(t,r).then(function(o){return i.parse(o,n)})}var ml=ML(pl),EL=ML(yv);function TL(e,t){return new Promise(function(r,n){var i=new Image;for(var o in t)i[o]=t[o];i.onerror=n,i.onload=function(){r(i)},i.src=e})}function Hde(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function kL(e,t){return fetch(e,t).then(Hde)}function E8(e){return(t,r)=>Ic(t,r).then(n=>new DOMParser().parseFromString(n,e))}var IL=E8("application/xml"),AL=E8("text/html"),OL=E8("image/svg+xml");function vv(e,t){var r,n=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=r.length,a,l=0,c=0;for(o=0;o<s;++o)a=r[o],l+=a.x,c+=a.y;for(l=(l/s-e)*n,c=(c/s-t)*n,o=0;o<s;++o)a=r[o],a.x-=l,a.y-=c}return i.initialize=function(o){r=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(n=+o,i):n},i}function PL(e){let t=+this._x.call(null,e),r=+this._y.call(null,e);return NL(this.cover(t,r),t,r,e)}function NL(e,t,r,n){if(isNaN(t)||isNaN(r))return e;var i,o=e._root,s={data:n},a=e._x0,l=e._y0,c=e._x1,u=e._y1,d,f,h,m,y,g,x,C;if(!o)return e._root=s,e;for(;o.length;)if((y=t>=(d=(a+c)/2))?a=d:c=d,(g=r>=(f=(l+u)/2))?l=f:u=f,i=o,!(o=o[x=g<<1|y]))return i[x]=s,e;if(h=+e._x.call(null,o.data),m=+e._y.call(null,o.data),t===h&&r===m)return s.next=o,i?i[x]=s:e._root=s,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(y=t>=(d=(a+c)/2))?a=d:c=d,(g=r>=(f=(l+u)/2))?l=f:u=f;while((x=g<<1|y)===(C=(m>=f)<<1|h>=d));return i[C]=o,i[x]=s,e}function RL(e){var t,r,n=e.length,i,o,s=new Array(n),a=new Array(n),l=1/0,c=1/0,u=-1/0,d=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,t=e[r]))||isNaN(o=+this._y.call(null,t))||(s[r]=i,a[r]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>d&&(d=o));if(l>u||c>d)return this;for(this.cover(l,c).cover(u,d),r=0;r<n;++r)NL(this,s[r],a[r],e[r]);return this}function FL(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var r=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(n=Math.floor(t))+1;else{for(var s=i-r||1,a=this._root,l,c;r>e||e>=i||n>t||t>=o;)switch(c=(t<n)<<1|e<r,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=r+s,o=n+s;break;case 1:r=i-s,o=n+s;break;case 2:i=r+s,n=o-s;break;case 3:r=i-s,n=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=r,this._y0=n,this._x1=i,this._y1=o,this}function LL(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function VL(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function sr(e,t,r,n,i){this.node=e,this.x0=t,this.y0=r,this.x1=n,this.y1=i}function jL(e,t,r){var n,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,d=this._y1,f=[],h=this._root,m,y;for(h&&f.push(new sr(h,i,o,u,d)),r==null?r=1/0:(i=e-r,o=t-r,u=e+r,d=t+r,r*=r);m=f.pop();)if(!(!(h=m.node)||(s=m.x0)>u||(a=m.y0)>d||(l=m.x1)<i||(c=m.y1)<o))if(h.length){var g=(s+l)/2,x=(a+c)/2;f.push(new sr(h[3],g,x,l,c),new sr(h[2],s,x,g,c),new sr(h[1],g,a,l,x),new sr(h[0],s,a,g,x)),(y=(t>=x)<<1|e>=g)&&(m=f[f.length-1],f[f.length-1]=f[f.length-1-y],f[f.length-1-y]=m)}else{var C=e-+this._x.call(null,h.data),w=t-+this._y.call(null,h.data),b=C*C+w*w;if(b<r){var I=Math.sqrt(r=b);i=e-I,o=t-I,u=e+I,d=t+I,n=h.data}}return n}function zL(e){if(isNaN(u=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,r=this._root,n,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,d,f,h,m,y,g,x;if(!r)return this;if(r.length)for(;;){if((m=u>=(f=(s+l)/2))?s=f:l=f,(y=d>=(h=(a+c)/2))?a=h:c=h,t=r,!(r=r[g=y<<1|m]))return this;if(!r.length)break;(t[g+1&3]||t[g+2&3]||t[g+3&3])&&(n=t,x=g)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):t?(o?t[g]=o:delete t[g],(r=t[0]||t[1]||t[2]||t[3])&&r===(t[3]||t[2]||t[1]||t[0])&&!r.length&&(n?n[x]=r:this._root=r),this):(this._root=o,this)}function $L(e){for(var t=0,r=e.length;t<r;++t)this.remove(e[t]);return this}function BL(){return this._root}function UL(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function HL(e){var t=[],r,n=this._root,i,o,s,a,l;for(n&&t.push(new sr(n,this._x0,this._y0,this._x1,this._y1));r=t.pop();)if(!e(n=r.node,o=r.x0,s=r.y0,a=r.x1,l=r.y1)&&n.length){var c=(o+a)/2,u=(s+l)/2;(i=n[3])&&t.push(new sr(i,c,u,a,l)),(i=n[2])&&t.push(new sr(i,o,u,c,l)),(i=n[1])&&t.push(new sr(i,c,s,a,u)),(i=n[0])&&t.push(new sr(i,o,s,c,u))}return this}function qL(e){var t=[],r=[],n;for(this._root&&t.push(new sr(this._root,this._x0,this._y0,this._x1,this._y1));n=t.pop();){var i=n.node;if(i.length){var o,s=n.x0,a=n.y0,l=n.x1,c=n.y1,u=(s+l)/2,d=(a+c)/2;(o=i[0])&&t.push(new sr(o,s,a,u,d)),(o=i[1])&&t.push(new sr(o,u,a,l,d)),(o=i[2])&&t.push(new sr(o,s,d,u,c)),(o=i[3])&&t.push(new sr(o,u,d,l,c))}r.push(n)}for(;n=r.pop();)e(n.node,n.x0,n.y0,n.x1,n.y1);return this}function WL(e){return e[0]}function GL(e){return arguments.length?(this._x=e,this):this._x}function YL(e){return e[1]}function ZL(e){return arguments.length?(this._y=e,this):this._y}function gl(e,t,r){var n=new T8(t??WL,r??YL,NaN,NaN,NaN,NaN);return e==null?n:n.addAll(e)}function T8(e,t,r,n,i,o){this._x=e,this._y=t,this._x0=r,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function QL(e){for(var t={data:e.data},r=t;e=e.next;)r=r.next={data:e.data};return t}var Ur=gl.prototype=T8.prototype;Ur.copy=function(){var e=new T8(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,r,n;if(!t)return e;if(!t.length)return e._root=QL(t),e;for(r=[{source:t,target:e._root=new Array(4)}];t=r.pop();)for(var i=0;i<4;++i)(n=t.source[i])&&(n.length?r.push({source:n,target:t.target[i]=new Array(4)}):t.target[i]=QL(n));return e};Ur.add=PL;Ur.addAll=RL;Ur.cover=FL;Ur.data=LL;Ur.extent=VL;Ur.find=jL;Ur.remove=zL;Ur.removeAll=$L;Ur.root=BL;Ur.size=UL;Ur.visit=HL;Ur.visitAfter=qL;Ur.x=GL;Ur.y=ZL;function xn(e){return function(){return e}}function Do(e){return(e()-.5)*1e-6}function qde(e){return e.x+e.vx}function Wde(e){return e.y+e.vy}function xv(e){var t,r,n,i=1,o=1;typeof e!="function"&&(e=xn(e==null?1:+e));function s(){for(var c,u=t.length,d,f,h,m,y,g,x=0;x<o;++x)for(d=gl(t,qde,Wde).visitAfter(a),c=0;c<u;++c)f=t[c],y=r[f.index],g=y*y,h=f.x+f.vx,m=f.y+f.vy,d.visit(C);function C(w,b,I,T,z){var H=w.data,q=w.r,$=y+q;if(H){if(H.index>f.index){var D=h-H.x-H.vx,O=m-H.y-H.vy,j=D*D+O*O;j<$*$&&(D===0&&(D=Do(n),j+=D*D),O===0&&(O=Do(n),j+=O*O),j=($-(j=Math.sqrt(j)))/j*i,f.vx+=(D*=j)*($=(q*=q)/(g+q)),f.vy+=(O*=j)*$,H.vx-=D*($=1-$),H.vy-=O*$)}return}return b>h+$||T<h-$||I>m+$||z<m-$}}function a(c){if(c.data)return c.r=r[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,d;for(r=new Array(u),c=0;c<u;++c)d=t[c],r[d.index]=+e(d,c,t)}}return s.initialize=function(c,u){t=c,n=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:xn(+c),l(),s):e},s}function Gde(e){return e.index}function XL(e,t){var r=e.get(t);if(!r)throw new Error("node not found: "+t);return r}function bv(e){var t=Gde,r=d,n,i=xn(30),o,s,a,l,c,u=1;e==null&&(e=[]);function d(g){return 1/Math.min(a[g.source.index],a[g.target.index])}function f(g){for(var x=0,C=e.length;x<u;++x)for(var w=0,b,I,T,z,H,q,$;w<C;++w)b=e[w],I=b.source,T=b.target,z=T.x+T.vx-I.x-I.vx||Do(c),H=T.y+T.vy-I.y-I.vy||Do(c),q=Math.sqrt(z*z+H*H),q=(q-o[w])/q*g*n[w],z*=q,H*=q,T.vx-=z*($=l[w]),T.vy-=H*$,I.vx+=z*($=1-$),I.vy+=H*$}function h(){if(s){var g,x=s.length,C=e.length,w=new Map(s.map((I,T)=>[t(I,T,s),I])),b;for(g=0,a=new Array(x);g<C;++g)b=e[g],b.index=g,typeof b.source!="object"&&(b.source=XL(w,b.source)),typeof b.target!="object"&&(b.target=XL(w,b.target)),a[b.source.index]=(a[b.source.index]||0)+1,a[b.target.index]=(a[b.target.index]||0)+1;for(g=0,l=new Array(C);g<C;++g)b=e[g],l[g]=a[b.source.index]/(a[b.source.index]+a[b.target.index]);n=new Array(C),m(),o=new Array(C),y()}}function m(){if(s)for(var g=0,x=e.length;g<x;++g)n[g]=+r(e[g],g,e)}function y(){if(s)for(var g=0,x=e.length;g<x;++g)o[g]=+i(e[g],g,e)}return f.initialize=function(g,x){s=g,c=x,h()},f.links=function(g){return arguments.length?(e=g,h(),f):e},f.id=function(g){return arguments.length?(t=g,f):t},f.iterations=function(g){return arguments.length?(u=+g,f):u},f.strength=function(g){return arguments.length?(r=typeof g=="function"?g:xn(+g),m(),f):r},f.distance=function(g){return arguments.length?(i=typeof g=="function"?g:xn(+g),y(),f):i},f}Ja();Bd();function KL(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}function JL(e){return e.x}function eV(e){return e.y}var Yde=10,Zde=Math.PI*(3-Math.sqrt(5));function Qd(e){var t,r=1,n=.001,i=1-Math.pow(n,1/300),o=0,s=.6,a=new Map,l=Xs(d),c=Ei("tick","end"),u=KL();e==null&&(e=[]);function d(){f(),c.call("tick",t),r<n&&(l.stop(),c.call("end",t))}function f(y){var g,x=e.length,C;y===void 0&&(y=1);for(var w=0;w<y;++w)for(r+=(o-r)*i,a.forEach(function(b){b(r)}),g=0;g<x;++g)C=e[g],C.fx==null?C.x+=C.vx*=s:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=s:(C.y=C.fy,C.vy=0);return t}function h(){for(var y=0,g=e.length,x;y<g;++y){if(x=e[y],x.index=y,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var C=Yde*Math.sqrt(.5+y),w=y*Zde;x.x=C*Math.cos(w),x.y=C*Math.sin(w)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function m(y){return y.initialize&&y.initialize(e,u),y}return h(),t={tick:f,restart:function(){return l.restart(d),t},stop:function(){return l.stop(),t},nodes:function(y){return arguments.length?(e=y,h(),a.forEach(m),t):e},alpha:function(y){return arguments.length?(r=+y,t):r},alphaMin:function(y){return arguments.length?(n=+y,t):n},alphaDecay:function(y){return arguments.length?(i=+y,t):+i},alphaTarget:function(y){return arguments.length?(o=+y,t):o},velocityDecay:function(y){return arguments.length?(s=1-y,t):1-s},randomSource:function(y){return arguments.length?(u=y,a.forEach(m),t):u},force:function(y,g){return arguments.length>1?(g==null?a.delete(y):a.set(y,m(g)),t):a.get(y)},find:function(y,g,x){var C=0,w=e.length,b,I,T,z,H;for(x==null?x=1/0:x*=x,C=0;C<w;++C)z=e[C],b=y-z.x,I=g-z.y,T=b*b+I*I,T<x&&(H=z,x=T);return H},on:function(y,g){return arguments.length>1?(c.on(y,g),t):c.on(y)}}}function Xd(){var e,t,r,n,i=xn(-30),o,s=1,a=1/0,l=.81;function c(h){var m,y=e.length,g=gl(e,JL,eV).visitAfter(d);for(n=h,m=0;m<y;++m)t=e[m],g.visit(f)}function u(){if(e){var h,m=e.length,y;for(o=new Array(m),h=0;h<m;++h)y=e[h],o[y.index]=+i(y,h,e)}}function d(h){var m=0,y,g,x=0,C,w,b;if(h.length){for(C=w=b=0;b<4;++b)(y=h[b])&&(g=Math.abs(y.value))&&(m+=y.value,x+=g,C+=g*y.x,w+=g*y.y);h.x=C/x,h.y=w/x}else{y=h,y.x=y.data.x,y.y=y.data.y;do m+=o[y.data.index];while(y=y.next)}h.value=m}function f(h,m,y,g){if(!h.value)return!0;var x=h.x-t.x,C=h.y-t.y,w=g-m,b=x*x+C*C;if(w*w/l<b)return b<a&&(x===0&&(x=Do(r),b+=x*x),C===0&&(C=Do(r),b+=C*C),b<s&&(b=Math.sqrt(s*b)),t.vx+=x*h.value*n/b,t.vy+=C*h.value*n/b),!0;if(h.length||b>=a)return;(h.data!==t||h.next)&&(x===0&&(x=Do(r),b+=x*x),C===0&&(C=Do(r),b+=C*C),b<s&&(b=Math.sqrt(s*b)));do h.data!==t&&(w=o[h.data.index]*n/b,t.vx+=x*w,t.vy+=C*w);while(h=h.next)}return c.initialize=function(h,m){e=h,r=m,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:xn(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.distanceMax=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function tV(e,t,r){var n,i=xn(.1),o,s;typeof e!="function"&&(e=xn(+e)),t==null&&(t=0),r==null&&(r=0);function a(c){for(var u=0,d=n.length;u<d;++u){var f=n[u],h=f.x-t||1e-6,m=f.y-r||1e-6,y=Math.sqrt(h*h+m*m),g=(s[u]-y)*o[u]*c/y;f.vx+=h*g,f.vy+=m*g}}function l(){if(n){var c,u=n.length;for(o=new Array(u),s=new Array(u),c=0;c<u;++c)s[c]=+e(n[c],c,n),o[c]=isNaN(s[c])?0:+i(n[c],c,n)}}return a.initialize=function(c){n=c,l()},a.strength=function(c){return arguments.length?(i=typeof c=="function"?c:xn(+c),l(),a):i},a.radius=function(c){return arguments.length?(e=typeof c=="function"?c:xn(+c),l(),a):e},a.x=function(c){return arguments.length?(t=+c,a):t},a.y=function(c){return arguments.length?(r=+c,a):r},a}function wv(e){var t=xn(.1),r,n,i;typeof e!="function"&&(e=xn(e==null?0:+e));function o(a){for(var l=0,c=r.length,u;l<c;++l)u=r[l],u.vx+=(i[l]-u.x)*n[l]*a}function s(){if(r){var a,l=r.length;for(n=new Array(l),i=new Array(l),a=0;a<l;++a)n[a]=isNaN(i[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return o.initialize=function(a){r=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:xn(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),s(),o):e},o}function _v(e){var t=xn(.1),r,n,i;typeof e!="function"&&(e=xn(e==null?0:+e));function o(a){for(var l=0,c=r.length,u;l<c;++l)u=r[l],u.vy+=(i[l]-u.y)*n[l]*a}function s(){if(r){var a,l=r.length;for(n=new Array(l),i=new Array(l),a=0;a<l;++a)n[a]=isNaN(i[a]=+e(r[a],a,r))?0:+t(r[a],a,r)}}return o.initialize=function(a){r=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:xn(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:xn(+a),s(),o):e},o}function nV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ac(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ls(e){return e=Ac(Math.abs(e)),e?e[1]:NaN}function rV(e,t){return function(r,n){for(var i=r.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function iV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Qde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function na(e){if(!(t=Qde.exec(e)))throw new Error("invalid format: "+e);var t;return new dm({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}na.prototype=dm.prototype;function dm(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dm.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var k8;function sV(e,t){var r=Ac(e,t);if(!r)return e+"";var n=r[0],i=r[1],o=i-(k8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Ac(e,Math.max(0,t+o-1))[0]}function I8(e,t){var r=Ac(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var A8={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I8(e*100,t),r:I8,s:sV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function O8(e){return e}var aV=Array.prototype.map,lV=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Cv(e){var t=e.grouping===void 0||e.thousands===void 0?O8:rV(aV.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?O8:iV(aV.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"\u2212":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=na(d);var f=d.fill,h=d.align,m=d.sign,y=d.symbol,g=d.zero,x=d.width,C=d.comma,w=d.precision,b=d.trim,I=d.type;I==="n"?(C=!0,I="g"):A8[I]||(w===void 0&&(w=12),b=!0,I="g"),(g||f==="0"&&h==="=")&&(g=!0,f="0",h="=");var T=y==="$"?r:y==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",z=y==="$"?n:/[%p]/.test(I)?s:"",H=A8[I],q=/[defgprs%]/.test(I);w=w===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function $(D){var O=T,j=z,N,E,A;if(I==="c")j=H(D)+j,D="";else{D=+D;var R=D<0||1/D<0;if(D=isNaN(D)?l:H(Math.abs(D),w),b&&(D=oV(D)),R&&+D==0&&m!=="+"&&(R=!1),O=(R?m==="("?m:a:m==="-"||m==="("?"":m)+O,j=(I==="s"?lV[8+k8/3]:"")+j+(R&&m==="("?")":""),q){for(N=-1,E=D.length;++N<E;)if(A=D.charCodeAt(N),48>A||A>57){j=(A===46?i+D.slice(N+1):D.slice(N))+j,D=D.slice(0,N);break}}}C&&!g&&(D=t(D,1/0));var B=O.length+D.length+j.length,P=B<x?new Array(x-B+1).join(f):"";switch(C&&g&&(D=t(P+D,P.length?x-j.length:1/0),P=""),h){case"<":D=O+D+j+P;break;case"=":D=O+P+D+j;break;case"^":D=P.slice(0,B=P.length>>1)+O+D+j+P.slice(B);break;default:D=P+O+D+j;break}return o(D)}return $.toString=function(){return d+""},$}function u(d,f){var h=c((d=na(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(ls(f)/3)))*3,y=Math.pow(10,-m),g=lV[8+m/3];return function(x){return h(y*x)+g}}return{format:c,formatPrefix:u}}var Dv,We,Oc;Sv({thousands:",",grouping:[3],currency:["$",""]});function Sv(e){return Dv=Cv(e),We=Dv.format,Oc=Dv.formatPrefix,Dv}function Mv(e){return Math.max(0,-ls(Math.abs(e)))}function Ev(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ls(t)/3)))*3-ls(Math.abs(e)))}function Tv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ls(t)-ls(e))+1}mn();var Ce=1e-6,ra=1e-12,et=Math.PI,on=et/2,Kd=et/4,Bn=et*2,Et=180/et,Ie=et/180,Ge=Math.abs,zi=Math.atan,dn=Math.atan2,me=Math.cos,fm=Math.ceil,kv=Math.exp;var Iv=Math.hypot,Pc=Math.log,Av=Math.pow,fe=Math.sin,kr=Math.sign||function(e){return e>0?1:e<0?-1:0},Vt=Math.sqrt,Jd=Math.tan;function Ov(e){return e>1?0:e<-1?et:Math.acos(e)}function fn(e){return e>1?on:e<-1?-on:Math.asin(e)}function P8(e){return(e=fe(e/2))*e}function Bt(){}function Pv(e,t){e&&uV.hasOwnProperty(e.type)&&uV[e.type](e,t)}var cV={Feature:function(e,t){Pv(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)Pv(r[n].geometry,t)}},uV={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){N8(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)N8(r[n],t,0)},Polygon:function(e,t){dV(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)dV(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)Pv(r[n],t)}};function N8(e,t,r){var n=-1,i=e.length-r,o;for(t.lineStart();++n<i;)o=e[n],t.point(o[0],o[1],o[2]);t.lineEnd()}function dV(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)N8(e[r],t,1);t.polygonEnd()}function ar(e,t){e&&cV.hasOwnProperty(e.type)?cV[e.type](e,t):Pv(e,t)}var hm=new Qt,Nv=new Qt,fV,hV,R8,F8,L8,So={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){hm=new Qt,So.lineStart=Xde,So.lineEnd=Kde},polygonEnd:function(){var e=+hm;Nv.add(e<0?Bn+e:e),this.lineStart=this.lineEnd=this.point=Bt},sphere:function(){Nv.add(Bn)}};function Xde(){So.point=Jde}function Kde(){pV(fV,hV)}function Jde(e,t){So.point=pV,fV=e,hV=t,e*=Ie,t*=Ie,R8=e,F8=me(t=t/2+Kd),L8=fe(t)}function pV(e,t){e*=Ie,t*=Ie,t=t/2+Kd;var r=e-R8,n=r>=0?1:-1,i=n*r,o=me(t),s=fe(t),a=L8*s,l=F8*o+a*me(i),c=a*n*fe(i);hm.add(dn(c,l)),R8=e,F8=o,L8=s}function mV(e){return Nv=new Qt,ar(e,So),Nv*2}mn();function Nc(e){return[dn(e[1],e[0]),fn(e[2])]}function $i(e){var t=e[0],r=e[1],n=me(r);return[n*me(t),n*fe(t),fe(r)]}function pm(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ia(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Rv(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function mm(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Rc(e){var t=Vt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var Mn,fi,Fn,ki,Fc,xV,bV,ef,gm,yl,sa,oa={point:V8,lineStart:gV,lineEnd:yV,polygonStart:function(){oa.point=_V,oa.lineStart=efe,oa.lineEnd=tfe,gm=new Qt,So.polygonStart()},polygonEnd:function(){So.polygonEnd(),oa.point=V8,oa.lineStart=gV,oa.lineEnd=yV,hm<0?(Mn=-(Fn=180),fi=-(ki=90)):gm>Ce?ki=90:gm<-Ce&&(fi=-90),sa[0]=Mn,sa[1]=Fn},sphere:function(){Mn=-(Fn=180),fi=-(ki=90)}};function V8(e,t){yl.push(sa=[Mn=e,Fn=e]),t<fi&&(fi=t),t>ki&&(ki=t)}function wV(e,t){var r=$i([e*Ie,t*Ie]);if(ef){var n=ia(ef,r),i=[n[1],-n[0],0],o=ia(i,n);Rc(o),o=Nc(o);var s=e-Fc,a=s>0?1:-1,l=o[0]*Et*a,c,u=Ge(s)>180;u^(a*Fc<l&&l<a*e)?(c=o[1]*Et,c>ki&&(ki=c)):(l=(l+360)%360-180,u^(a*Fc<l&&l<a*e)?(c=-o[1]*Et,c<fi&&(fi=c)):(t<fi&&(fi=t),t>ki&&(ki=t))),u?e<Fc?Ti(Mn,e)>Ti(Mn,Fn)&&(Fn=e):Ti(e,Fn)>Ti(Mn,Fn)&&(Mn=e):Fn>=Mn?(e<Mn&&(Mn=e),e>Fn&&(Fn=e)):e>Fc?Ti(Mn,e)>Ti(Mn,Fn)&&(Fn=e):Ti(e,Fn)>Ti(Mn,Fn)&&(Mn=e)}else yl.push(sa=[Mn=e,Fn=e]);t<fi&&(fi=t),t>ki&&(ki=t),ef=r,Fc=e}function gV(){oa.point=wV}function yV(){sa[0]=Mn,sa[1]=Fn,oa.point=V8,ef=null}function _V(e,t){if(ef){var r=e-Fc;gm.add(Ge(r)>180?r+(r>0?360:-360):r)}else xV=e,bV=t;So.point(e,t),wV(e,t)}function efe(){So.lineStart()}function tfe(){_V(xV,bV),So.lineEnd(),Ge(gm)>Ce&&(Mn=-(Fn=180)),sa[0]=Mn,sa[1]=Fn,ef=null}function Ti(e,t){return(t-=e)<0?t+360:t}function nfe(e,t){return e[0]-t[0]}function vV(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function CV(e){var t,r,n,i,o,s,a;if(ki=Fn=-(Mn=fi=1/0),yl=[],ar(e,oa),r=yl.length){for(yl.sort(nfe),t=1,n=yl[0],o=[n];t<r;++t)i=yl[t],vV(n,i[0])||vV(n,i[1])?(Ti(n[0],i[1])>Ti(n[0],n[1])&&(n[1]=i[1]),Ti(i[0],n[1])>Ti(n[0],n[1])&&(n[0]=i[0])):o.push(n=i);for(s=-1/0,r=o.length-1,t=0,n=o[r];t<=r;n=i,++t)i=o[t],(a=Ti(n[1],i[0]))>s&&(s=a,Mn=i[0],Fn=n[1])}return yl=sa=null,Mn===1/0||fi===1/0?[[NaN,NaN],[NaN,NaN]]:[[Mn,fi],[Fn,ki]]}mn();var ym,Fv,Lv,Vv,jv,zv,$v,Bv,j8,z8,$8,MV,EV,Hr,qr,Wr,Mo={sphere:Bt,point:B8,lineStart:DV,lineEnd:SV,polygonStart:function(){Mo.lineStart=ofe,Mo.lineEnd=sfe},polygonEnd:function(){Mo.lineStart=DV,Mo.lineEnd=SV}};function B8(e,t){e*=Ie,t*=Ie;var r=me(t);vm(r*me(e),r*fe(e),fe(t))}function vm(e,t,r){++ym,Lv+=(e-Lv)/ym,Vv+=(t-Vv)/ym,jv+=(r-jv)/ym}function DV(){Mo.point=rfe}function rfe(e,t){e*=Ie,t*=Ie;var r=me(t);Hr=r*me(e),qr=r*fe(e),Wr=fe(t),Mo.point=ife,vm(Hr,qr,Wr)}function ife(e,t){e*=Ie,t*=Ie;var r=me(t),n=r*me(e),i=r*fe(e),o=fe(t),s=dn(Vt((s=qr*o-Wr*i)*s+(s=Wr*n-Hr*o)*s+(s=Hr*i-qr*n)*s),Hr*n+qr*i+Wr*o);Fv+=s,zv+=s*(Hr+(Hr=n)),$v+=s*(qr+(qr=i)),Bv+=s*(Wr+(Wr=o)),vm(Hr,qr,Wr)}function SV(){Mo.point=B8}function ofe(){Mo.point=afe}function sfe(){TV(MV,EV),Mo.point=B8}function afe(e,t){MV=e,EV=t,e*=Ie,t*=Ie,Mo.point=TV;var r=me(t);Hr=r*me(e),qr=r*fe(e),Wr=fe(t),vm(Hr,qr,Wr)}function TV(e,t){e*=Ie,t*=Ie;var r=me(t),n=r*me(e),i=r*fe(e),o=fe(t),s=qr*o-Wr*i,a=Wr*n-Hr*o,l=Hr*i-qr*n,c=Iv(s,a,l),u=fn(c),d=c&&-u/c;j8.add(d*s),z8.add(d*a),$8.add(d*l),Fv+=u,zv+=u*(Hr+(Hr=n)),$v+=u*(qr+(qr=i)),Bv+=u*(Wr+(Wr=o)),vm(Hr,qr,Wr)}function kV(e){ym=Fv=Lv=Vv=jv=zv=$v=Bv=0,j8=new Qt,z8=new Qt,$8=new Qt,ar(e,Mo);var t=+j8,r=+z8,n=+$8,i=Iv(t,r,n);return i<ra&&(t=zv,r=$v,n=Bv,Fv<Ce&&(t=Lv,r=Vv,n=jv),i=Iv(t,r,n),i<ra)?[NaN,NaN]:[dn(r,t)*Et,fn(n/i)*Et]}function Lc(e){return function(){return e}}function xm(e,t){function r(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,i){return n=t.invert(n,i),n&&e.invert(n[0],n[1])}),r}function U8(e,t){return[Ge(e)>et?e+Math.round(-e/Bn)*Bn:e,t]}U8.invert=U8;function bm(e,t,r){return(e%=Bn)?t||r?xm(AV(e),OV(t,r)):AV(e):t||r?OV(t,r):U8}function IV(e){return function(t,r){return t+=e,[t>et?t-Bn:t<-et?t+Bn:t,r]}}function AV(e){var t=IV(e);return t.invert=IV(-e),t}function OV(e,t){var r=me(e),n=fe(e),i=me(t),o=fe(t);function s(a,l){var c=me(l),u=me(a)*c,d=fe(a)*c,f=fe(l),h=f*r+u*n;return[dn(d*i-h*o,u*r-f*n),fn(h*i+d*o)]}return s.invert=function(a,l){var c=me(l),u=me(a)*c,d=fe(a)*c,f=fe(l),h=f*i-d*o;return[dn(d*i+f*o,u*r+h*n),fn(h*r-u*n)]},s}function Uv(e){e=bm(e[0]*Ie,e[1]*Ie,e.length>2?e[2]*Ie:0);function t(r){return r=e(r[0]*Ie,r[1]*Ie),r[0]*=Et,r[1]*=Et,r}return t.invert=function(r){return r=e.invert(r[0]*Ie,r[1]*Ie),r[0]*=Et,r[1]*=Et,r},t}function H8(e,t,r,n,i,o){if(r){var s=me(t),a=fe(t),l=n*r;i==null?(i=t+n*Bn,o=t-l/2):(i=PV(s,i),o=PV(s,o),(n>0?i<o:i>o)&&(i+=n*Bn));for(var c,u=i;n>0?u>o:u<o;u-=l)c=Nc([s,-a*me(u),-a*fe(u)]),e.point(c[0],c[1])}}function PV(e,t){t=$i(t),t[0]-=e,Rc(t);var r=Ov(-t[1]);return((-t[2]<0?-r:r)+Bn-Ce)%Bn}function NV(){var e=Lc([0,0]),t=Lc(90),r=Lc(6),n,i,o={point:s};function s(l,c){n.push(l=i(l,c)),l[0]*=Et,l[1]*=Et}function a(){var l=e.apply(this,arguments),c=t.apply(this,arguments)*Ie,u=r.apply(this,arguments)*Ie;return n=[],i=bm(-l[0]*Ie,-l[1]*Ie,0).invert,H8(o,c,u,1),l={type:"Polygon",coordinates:[n]},n=i=null,l}return a.center=function(l){return arguments.length?(e=typeof l=="function"?l:Lc([+l[0],+l[1]]),a):e},a.radius=function(l){return arguments.length?(t=typeof l=="function"?l:Lc(+l),a):t},a.precision=function(l){return arguments.length?(r=typeof l=="function"?l:Lc(+l),a):r},a}function Hv(){var e=[],t;return{point:function(r,n,i){t.push([r,n,i])},lineStart:function(){e.push(t=[])},lineEnd:Bt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function tf(e,t){return Ge(e[0]-t[0])<Ce&&Ge(e[1]-t[1])<Ce}function qv(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Wv(e,t,r,n,i){var o=[],s=[],a,l;if(e.forEach(function(m){if(!((y=m.length-1)<=0)){var y,g=m[0],x=m[y],C;if(tf(g,x)){if(!g[2]&&!x[2]){for(i.lineStart(),a=0;a<y;++a)i.point((g=m[a])[0],g[1]);i.lineEnd();return}x[0]+=2*Ce}o.push(C=new qv(g,m,null,!0)),s.push(C.o=new qv(g,null,C,!1)),o.push(C=new qv(x,m,null,!1)),s.push(C.o=new qv(x,null,C,!0))}}),!!o.length){for(s.sort(t),RV(o),RV(s),a=0,l=s.length;a<l;++a)s[a].e=r=!r;for(var c=o[0],u,d;;){for(var f=c,h=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(a=0,l=u.length;a<l;++a)i.point((d=u[a])[0],d[1]);else n(f.x,f.n.x,1,i);f=f.n}else{if(h)for(u=f.p.z,a=u.length-1;a>=0;--a)i.point((d=u[a])[0],d[1]);else n(f.x,f.p.x,-1,i);f=f.p}f=f.o,u=f.z,h=!h}while(!f.v);i.lineEnd()}}}function RV(e){if(t=e.length){for(var t,r=0,n=e[0],i;++r<t;)n.n=i=e[r],i.p=n,n=i;n.n=i=e[0],i.p=n}}mn();function q8(e){return Ge(e[0])<=et?e[0]:kr(e[0])*((Ge(e[0])+et)%Bn-et)}function Gv(e,t){var r=q8(t),n=t[1],i=fe(n),o=[fe(r),-me(r),0],s=0,a=0,l=new Qt;i===1?n=on+Ce:i===-1&&(n=-on-Ce);for(var c=0,u=e.length;c<u;++c)if(f=(d=e[c]).length)for(var d,f,h=d[f-1],m=q8(h),y=h[1]/2+Kd,g=fe(y),x=me(y),C=0;C<f;++C,m=b,g=T,x=z,h=w){var w=d[C],b=q8(w),I=w[1]/2+Kd,T=fe(I),z=me(I),H=b-m,q=H>=0?1:-1,$=q*H,D=$>et,O=g*T;if(l.add(dn(O*q*fe($),x*z+O*me($))),s+=D?H+q*Bn:H,D^m>=r^b>=r){var j=ia($i(h),$i(w));Rc(j);var N=ia(o,j);Rc(N);var E=(D^H>=0?-1:1)*fn(N[2]);(n>E||n===E&&(j[0]||j[1]))&&(a+=D^H>=0?1:-1)}}return(s<-Ce||s<Ce&&l<-ra)^a&1}mn();function Yv(e,t,r,n){return function(i){var o=t(i),s=Hv(),a=t(s),l=!1,c,u,d,f={point:h,lineStart:y,lineEnd:g,polygonStart:function(){f.point=x,f.lineStart=C,f.lineEnd=w,u=[],c=[]},polygonEnd:function(){f.point=h,f.lineStart=y,f.lineEnd=g,u=Xa(u);var b=Gv(c,n);u.length?(l||(i.polygonStart(),l=!0),Wv(u,cfe,b,r,i)):b&&(l||(i.polygonStart(),l=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,I){e(b,I)&&i.point(b,I)}function m(b,I){o.point(b,I)}function y(){f.point=m,o.lineStart()}function g(){f.point=h,o.lineEnd()}function x(b,I){d.push([b,I]),a.point(b,I)}function C(){a.lineStart(),d=[]}function w(){x(d[0][0],d[0][1]),a.lineEnd();var b=a.clean(),I=s.result(),T,z=I.length,H,q,$;if(d.pop(),c.push(d),d=null,!!z){if(b&1){if(q=I[0],(H=q.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),T=0;T<H;++T)i.point(($=q[T])[0],$[1]);i.lineEnd()}return}z>1&&b&2&&I.push(I.pop().concat(I.shift())),u.push(I.filter(lfe))}}return f}}function lfe(e){return e.length>1}function cfe(e,t){return((e=e.x)[0]<0?e[1]-on-Ce:on-e[1])-((t=t.x)[0]<0?t[1]-on-Ce:on-t[1])}var wm=Yv(function(){return!0},ufe,ffe,[-et,-on]);function ufe(e){var t=NaN,r=NaN,n=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?et:-et,l=Ge(o-t);Ge(l-et)<Ce?(e.point(t,r=(r+s)/2>0?on:-on),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(a,r),e.point(o,r),i=0):n!==a&&l>=et&&(Ge(t-n)<Ce&&(t-=n*Ce),Ge(o-a)<Ce&&(o-=a*Ce),r=dfe(t,r,o,s),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(a,r),i=0),e.point(t=o,r=s),n=a},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-i}}}function dfe(e,t,r,n){var i,o,s=fe(e-r);return Ge(s)>Ce?zi((fe(t)*(o=me(n))*fe(r)-fe(n)*(i=me(t))*fe(e))/(i*o*s)):(t+n)/2}function ffe(e,t,r,n){var i;if(e==null)i=r*on,n.point(-et,i),n.point(0,i),n.point(et,i),n.point(et,0),n.point(et,-i),n.point(0,-i),n.point(-et,-i),n.point(-et,0),n.point(-et,i);else if(Ge(e[0]-t[0])>Ce){var o=e[0]<t[0]?et:-et;i=r*o/2,n.point(-o,i),n.point(0,i),n.point(o,i)}else n.point(t[0],t[1])}function Zv(e){var t=me(e),r=6*Ie,n=t>0,i=Ge(t)>Ce;function o(u,d,f,h){H8(h,e,r,f,u,d)}function s(u,d){return me(u)*me(d)>t}function a(u){var d,f,h,m,y;return{lineStart:function(){m=h=!1,y=1},point:function(g,x){var C=[g,x],w,b=s(g,x),I=n?b?0:c(g,x):b?c(g+(g<0?et:-et),x):0;if(!d&&(m=h=b)&&u.lineStart(),b!==h&&(w=l(d,C),(!w||tf(d,w)||tf(C,w))&&(C[2]=1)),b!==h)y=0,b?(u.lineStart(),w=l(C,d),u.point(w[0],w[1])):(w=l(d,C),u.point(w[0],w[1],2),u.lineEnd()),d=w;else if(i&&d&&n^b){var T;!(I&f)&&(T=l(C,d,!0))&&(y=0,n?(u.lineStart(),u.point(T[0][0],T[0][1]),u.point(T[1][0],T[1][1]),u.lineEnd()):(u.point(T[1][0],T[1][1]),u.lineEnd(),u.lineStart(),u.point(T[0][0],T[0][1],3)))}b&&(!d||!tf(d,C))&&u.point(C[0],C[1]),d=C,h=b,f=I},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return y|(m&&h)<<1}}}function l(u,d,f){var h=$i(u),m=$i(d),y=[1,0,0],g=ia(h,m),x=pm(g,g),C=g[0],w=x-C*C;if(!w)return!f&&u;var b=t*x/w,I=-t*C/w,T=ia(y,g),z=mm(y,b),H=mm(g,I);Rv(z,H);var q=T,$=pm(z,q),D=pm(q,q),O=$*$-D*(pm(z,z)-1);if(!(O<0)){var j=Vt(O),N=mm(q,(-$-j)/D);if(Rv(N,z),N=Nc(N),!f)return N;var E=u[0],A=d[0],R=u[1],B=d[1],P;A<E&&(P=E,E=A,A=P);var L=A-E,Z=Ge(L-et)<Ce,ee=Z||L<Ce;if(!Z&&B<R&&(P=R,R=B,B=P),ee?Z?R+B>0^N[1]<(Ge(N[0]-E)<Ce?R:B):R<=N[1]&&N[1]<=B:L>et^(E<=N[0]&&N[0]<=A)){var K=mm(q,(-$+j)/D);return Rv(K,z),[N,Nc(K)]}}}function c(u,d){var f=n?e:et-e,h=0;return u<-f?h|=1:u>f&&(h|=2),d<-f?h|=4:d>f&&(h|=8),h}return Yv(s,a,o,n?[0,-e]:[-et,e-et])}function FV(e,t,r,n,i,o){var s=e[0],a=e[1],l=t[0],c=t[1],u=0,d=1,f=l-s,h=c-a,m;if(m=r-s,!(!f&&m>0)){if(m/=f,f<0){if(m<u)return;m<d&&(d=m)}else if(f>0){if(m>d)return;m>u&&(u=m)}if(m=i-s,!(!f&&m<0)){if(m/=f,f<0){if(m>d)return;m>u&&(u=m)}else if(f>0){if(m<u)return;m<d&&(d=m)}if(m=n-a,!(!h&&m>0)){if(m/=h,h<0){if(m<u)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>u&&(u=m)}if(m=o-a,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>u&&(u=m)}else if(h>0){if(m<u)return;m<d&&(d=m)}return u>0&&(e[0]=s+u*f,e[1]=a+u*h),d<1&&(t[0]=s+d*f,t[1]=a+d*h),!0}}}}}mn();var _m=1e9,Qv=-_m;function aa(e,t,r,n){function i(c,u){return e<=c&&c<=r&&t<=u&&u<=n}function o(c,u,d,f){var h=0,m=0;if(c==null||(h=s(c,d))!==(m=s(u,d))||l(c,u)<0^d>0)do f.point(h===0||h===3?e:r,h>1?n:t);while((h=(h+d+4)%4)!==m);else f.point(u[0],u[1])}function s(c,u){return Ge(c[0]-e)<Ce?u>0?0:3:Ge(c[0]-r)<Ce?u>0?2:1:Ge(c[1]-t)<Ce?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var d=s(c,1),f=s(u,1);return d!==f?d-f:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=Hv(),f,h,m,y,g,x,C,w,b,I,T,z={point:H,lineStart:O,lineEnd:j,polygonStart:$,polygonEnd:D};function H(E,A){i(E,A)&&u.point(E,A)}function q(){for(var E=0,A=0,R=h.length;A<R;++A)for(var B=h[A],P=1,L=B.length,Z=B[0],ee,K,se=Z[0],ke=Z[1];P<L;++P)ee=se,K=ke,Z=B[P],se=Z[0],ke=Z[1],K<=n?ke>n&&(se-ee)*(n-K)>(ke-K)*(e-ee)&&++E:ke<=n&&(se-ee)*(n-K)<(ke-K)*(e-ee)&&--E;return E}function $(){u=d,f=[],h=[],T=!0}function D(){var E=q(),A=T&&E,R=(f=Xa(f)).length;(A||R)&&(c.polygonStart(),A&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),R&&Wv(f,a,E,o,c),c.polygonEnd()),u=c,f=h=m=null}function O(){z.point=N,h&&h.push(m=[]),I=!0,b=!1,C=w=NaN}function j(){f&&(N(y,g),x&&b&&d.rejoin(),f.push(d.result())),z.point=H,b&&u.lineEnd()}function N(E,A){var R=i(E,A);if(h&&m.push([E,A]),I)y=E,g=A,x=R,I=!1,R&&(u.lineStart(),u.point(E,A));else if(R&&b)u.point(E,A);else{var B=[C=Math.max(Qv,Math.min(_m,C)),w=Math.max(Qv,Math.min(_m,w))],P=[E=Math.max(Qv,Math.min(_m,E)),A=Math.max(Qv,Math.min(_m,A))];FV(B,P,e,t,r,n)?(b||(u.lineStart(),u.point(B[0],B[1])),u.point(P[0],P[1]),R||u.lineEnd(),T=!1):R&&(u.lineStart(),u.point(E,A),T=!1)}C=E,w=A,b=R}return z}}function LV(){var e=0,t=0,r=960,n=500,i,o,s;return s={stream:function(a){return i&&o===a?i:i=aa(e,t,r,n)(o=a)},extent:function(a){return arguments.length?(e=+a[0][0],t=+a[0][1],r=+a[1][0],n=+a[1][1],i=o=null,s):[[e,t],[r,n]]}}}mn();var W8,G8,Xv,Kv,nf={sphere:Bt,point:Bt,lineStart:hfe,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt};function hfe(){nf.point=mfe,nf.lineEnd=pfe}function pfe(){nf.point=nf.lineEnd=Bt}function mfe(e,t){e*=Ie,t*=Ie,G8=e,Xv=fe(t),Kv=me(t),nf.point=gfe}function gfe(e,t){e*=Ie,t*=Ie;var r=fe(t),n=me(t),i=Ge(e-G8),o=me(i),s=fe(i),a=n*s,l=Kv*r-Xv*n*o,c=Xv*r+Kv*n*o;W8.add(dn(Vt(a*a+l*l),c)),G8=e,Xv=r,Kv=n}function Jv(e){return W8=new Qt,ar(e,nf),+W8}var Y8=[null,null],yfe={type:"LineString",coordinates:Y8};function rf(e,t){return Y8[0]=e,Y8[1]=t,Jv(yfe)}var VV={Feature:function(e,t){return e3(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,i=r.length;++n<i;)if(e3(r[n].geometry,t))return!0;return!1}},jV={Sphere:function(){return!0},Point:function(e,t){return zV(e.coordinates,t)},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(zV(r[n],t))return!0;return!1},LineString:function(e,t){return $V(e.coordinates,t)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if($V(r[n],t))return!0;return!1},Polygon:function(e,t){return BV(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,i=r.length;++n<i;)if(BV(r[n],t))return!0;return!1},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,i=r.length;++n<i;)if(e3(r[n],t))return!0;return!1}};function e3(e,t){return e&&jV.hasOwnProperty(e.type)?jV[e.type](e,t):!1}function zV(e,t){return rf(e,t)===0}function $V(e,t){for(var r,n,i,o=0,s=e.length;o<s;o++){if(n=rf(e[o],t),n===0||o>0&&(i=rf(e[o],e[o-1]),i>0&&r<=i&&n<=i&&(r+n-i)*(1-Math.pow((r-n)/i,2))<ra*i))return!0;r=n}return!1}function BV(e,t){return!!Gv(e.map(vfe),UV(t))}function vfe(e){return e=e.map(UV),e.pop(),e}function UV(e){return[e[0]*Ie,e[1]*Ie]}function HV(e,t){return(e&&VV.hasOwnProperty(e.type)?VV[e.type]:e3)(e,t)}mn();function qV(e,t,r){var n=$t(e,t-Ce,r).concat(t);return function(i){return n.map(function(o){return[i,o]})}}function WV(e,t,r){var n=$t(e,t-Ce,r).concat(t);return function(i){return n.map(function(o){return[o,i]})}}function Cm(){var e,t,r,n,i,o,s,a,l=10,c=l,u=90,d=360,f,h,m,y,g=2.5;function x(){return{type:"MultiLineString",coordinates:C()}}function C(){return $t(fm(n/u)*u,r,u).map(m).concat($t(fm(a/d)*d,s,d).map(y)).concat($t(fm(t/l)*l,e,l).filter(function(w){return Ge(w%u)>Ce}).map(f)).concat($t(fm(o/c)*c,i,c).filter(function(w){return Ge(w%d)>Ce}).map(h))}return x.lines=function(){return C().map(function(w){return{type:"LineString",coordinates:w}})},x.outline=function(){return{type:"Polygon",coordinates:[m(n).concat(y(s).slice(1),m(r).reverse().slice(1),y(a).reverse().slice(1))]}},x.extent=function(w){return arguments.length?x.extentMajor(w).extentMinor(w):x.extentMinor()},x.extentMajor=function(w){return arguments.length?(n=+w[0][0],r=+w[1][0],a=+w[0][1],s=+w[1][1],n>r&&(w=n,n=r,r=w),a>s&&(w=a,a=s,s=w),x.precision(g)):[[n,a],[r,s]]},x.extentMinor=function(w){return arguments.length?(t=+w[0][0],e=+w[1][0],o=+w[0][1],i=+w[1][1],t>e&&(w=t,t=e,e=w),o>i&&(w=o,o=i,i=w),x.precision(g)):[[t,o],[e,i]]},x.step=function(w){return arguments.length?x.stepMajor(w).stepMinor(w):x.stepMinor()},x.stepMajor=function(w){return arguments.length?(u=+w[0],d=+w[1],x):[u,d]},x.stepMinor=function(w){return arguments.length?(l=+w[0],c=+w[1],x):[l,c]},x.precision=function(w){return arguments.length?(g=+w,f=qV(o,i,90),h=WV(t,e,g),m=qV(a,s,90),y=WV(n,r,g),x):g},x.extentMajor([[-180,-90+Ce],[180,90-Ce]]).extentMinor([[-180,-80-Ce],[180,80+Ce]])}function GV(){return Cm()()}function YV(e,t){var r=e[0]*Ie,n=e[1]*Ie,i=t[0]*Ie,o=t[1]*Ie,s=me(n),a=fe(n),l=me(o),c=fe(o),u=s*me(r),d=s*fe(r),f=l*me(i),h=l*fe(i),m=2*fn(Vt(P8(o-n)+s*l*P8(i-r))),y=fe(m),g=m?function(x){var C=fe(x*=m)/y,w=fe(m-x)/y,b=w*u+C*f,I=w*d+C*h,T=w*a+C*c;return[dn(I,b)*Et,dn(T,Vt(b*b+I*I))*Et]}:function(){return[r*Et,n*Et]};return g.distance=m,g}var vl=e=>e;mn();var Z8=new Qt,Q8=new Qt,ZV,QV,X8,K8,xl={point:Bt,lineStart:Bt,lineEnd:Bt,polygonStart:function(){xl.lineStart=xfe,xl.lineEnd=wfe},polygonEnd:function(){xl.lineStart=xl.lineEnd=xl.point=Bt,Z8.add(Ge(Q8)),Q8=new Qt},result:function(){var e=Z8/2;return Z8=new Qt,e}};function xfe(){xl.point=bfe}function bfe(e,t){xl.point=XV,ZV=X8=e,QV=K8=t}function XV(e,t){Q8.add(K8*e-X8*t),X8=e,K8=t}function wfe(){XV(ZV,QV)}var J8=xl;var of=1/0,t3=of,Dm=-of,n3=Dm,_fe={point:Cfe,lineStart:Bt,lineEnd:Bt,polygonStart:Bt,polygonEnd:Bt,result:function(){var e=[[of,t3],[Dm,n3]];return Dm=n3=-(t3=of=1/0),e}};function Cfe(e,t){e<of&&(of=e),e>Dm&&(Dm=e),t<t3&&(t3=t),t>n3&&(n3=t)}var sf=_fe;var eD=0,tD=0,Sm=0,r3=0,i3=0,af=0,nD=0,rD=0,Mm=0,ej,tj,cs,us,Eo={point:Vc,lineStart:KV,lineEnd:JV,polygonStart:function(){Eo.lineStart=Mfe,Eo.lineEnd=Efe},polygonEnd:function(){Eo.point=Vc,Eo.lineStart=KV,Eo.lineEnd=JV},result:function(){var e=Mm?[nD/Mm,rD/Mm]:af?[r3/af,i3/af]:Sm?[eD/Sm,tD/Sm]:[NaN,NaN];return eD=tD=Sm=r3=i3=af=nD=rD=Mm=0,e}};function Vc(e,t){eD+=e,tD+=t,++Sm}function KV(){Eo.point=Dfe}function Dfe(e,t){Eo.point=Sfe,Vc(cs=e,us=t)}function Sfe(e,t){var r=e-cs,n=t-us,i=Vt(r*r+n*n);r3+=i*(cs+e)/2,i3+=i*(us+t)/2,af+=i,Vc(cs=e,us=t)}function JV(){Eo.point=Vc}function Mfe(){Eo.point=Tfe}function Efe(){nj(ej,tj)}function Tfe(e,t){Eo.point=nj,Vc(ej=cs=e,tj=us=t)}function nj(e,t){var r=e-cs,n=t-us,i=Vt(r*r+n*n);r3+=i*(cs+e)/2,i3+=i*(us+t)/2,af+=i,i=us*e-cs*t,nD+=i*(cs+e),rD+=i*(us+t),Mm+=i*3,Vc(cs=e,us=t)}var iD=Eo;function o3(e){this._context=e}o3.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Bn);break}}},result:Bt};mn();var sD=new Qt,oD,rj,ij,Em,Tm,s3={point:Bt,lineStart:function(){s3.point=kfe},lineEnd:function(){oD&&oj(rj,ij),s3.point=Bt},polygonStart:function(){oD=!0},polygonEnd:function(){oD=null},result:function(){var e=+sD;return sD=new Qt,e}};function kfe(e,t){s3.point=oj,rj=Em=e,ij=Tm=t}function oj(e,t){Em-=e,Tm-=t,sD.add(Vt(Em*Em+Tm*Tm)),Em=e,Tm=t}var aD=s3;function a3(){this._string=[]}a3.prototype={_radius:4.5,_circle:sj(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._string.push("M",e,",",t),this._point=1;break}case 1:{this._string.push("L",e,",",t);break}default:{this._circle==null&&(this._circle=sj(this._radius)),this._string.push("M",e,",",t,this._circle);break}}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}else return null}};function sj(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function km(e,t){var r=4.5,n,i;function o(s){return s&&(typeof r=="function"&&i.pointRadius(+r.apply(this,arguments)),ar(s,n(i))),i.result()}return o.area=function(s){return ar(s,n(J8)),J8.result()},o.measure=function(s){return ar(s,n(aD)),aD.result()},o.bounds=function(s){return ar(s,n(sf)),sf.result()},o.centroid=function(s){return ar(s,n(iD)),iD.result()},o.projection=function(s){return arguments.length?(n=s==null?(e=null,vl):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new a3):new o3(t=s),typeof r!="function"&&i.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(i.pointRadius(+s),+s),o):r},o.projection(e).context(t)}function aj(e){return{stream:bl(e)}}function bl(e){return function(t){var r=new lD;for(var n in e)r[n]=e[n];return r.stream=t,r}}function lD(){}lD.prototype={constructor:lD,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function cD(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),ar(r,e.stream(sf)),t(sf.result()),n!=null&&e.clipExtent(n),e}function jc(e,t,r){return cD(e,function(n){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),a=+t[0][0]+(i-s*(n[1][0]+n[0][0]))/2,l=+t[0][1]+(o-s*(n[1][1]+n[0][1]))/2;e.scale(150*s).translate([a,l])},r)}function lf(e,t,r){return jc(e,[[0,0],t],r)}function cf(e,t,r){return cD(e,function(n){var i=+t,o=i/(n[1][0]-n[0][0]),s=(i-o*(n[1][0]+n[0][0]))/2,a=-o*n[0][1];e.scale(150*o).translate([s,a])},r)}function uf(e,t,r){return cD(e,function(n){var i=+t,o=i/(n[1][1]-n[0][1]),s=-o*n[0][0],a=(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,a])},r)}var lj=16,Ife=me(30*Ie);function uD(e,t){return+t?Ofe(e,t):Afe(e)}function Afe(e){return bl({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function Ofe(e,t){function r(n,i,o,s,a,l,c,u,d,f,h,m,y,g){var x=c-n,C=u-i,w=x*x+C*C;if(w>4*t&&y--){var b=s+f,I=a+h,T=l+m,z=Vt(b*b+I*I+T*T),H=fn(T/=z),q=Ge(Ge(T)-1)<Ce||Ge(o-d)<Ce?(o+d)/2:dn(I,b),$=e(q,H),D=$[0],O=$[1],j=D-n,N=O-i,E=C*j-x*N;(E*E/w>t||Ge((x*j+C*N)/w-.5)>.3||s*f+a*h+l*m<Ife)&&(r(n,i,o,s,a,l,D,O,q,b/=z,I/=z,T,y,g),g.point(D,O),r(D,O,q,b,I,T,c,u,d,f,h,m,y,g))}}return function(n){var i,o,s,a,l,c,u,d,f,h,m,y,g={point:x,lineStart:C,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=I},polygonEnd:function(){n.polygonEnd(),g.lineStart=C}};function x(H,q){H=e(H,q),n.point(H[0],H[1])}function C(){d=NaN,g.point=w,n.lineStart()}function w(H,q){var $=$i([H,q]),D=e(H,q);r(d,f,u,h,m,y,d=D[0],f=D[1],u=H,h=$[0],m=$[1],y=$[2],lj,n),n.point(d,f)}function b(){g.point=x,n.lineEnd()}function I(){C(),g.point=T,g.lineEnd=z}function T(H,q){w(i=H,q),o=d,s=f,a=h,l=m,c=y,g.point=w}function z(){r(d,f,u,h,m,y,o,s,i,a,l,c,lj,n),g.lineEnd=b,b()}return g}}var Pfe=bl({point:function(e,t){this.stream.point(e*Ie,t*Ie)}});function Nfe(e){return bl({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function Rfe(e,t,r,n,i){function o(s,a){return s*=n,a*=i,[t+e*s,r-e*a]}return o.invert=function(s,a){return[(s-t)/e*n,(r-a)/e*i]},o}function cj(e,t,r,n,i,o){if(!o)return Rfe(e,t,r,n,i);var s=me(o),a=fe(o),l=s*e,c=a*e,u=s/e,d=a/e,f=(a*r-s*t)/e,h=(a*t+s*r)/e;function m(y,g){return y*=n,g*=i,[l*y-c*g+t,r-c*y-l*g]}return m.invert=function(y,g){return[n*(u*y-d*g+f),i*(h-d*y-u*g)]},m}function Un(e){return Im(function(){return e})()}function Im(e){var t,r=150,n=480,i=250,o=0,s=0,a=0,l=0,c=0,u,d=0,f=1,h=1,m=null,y=wm,g=null,x,C,w,b=vl,I=.5,T,z,H,q,$;function D(E){return H(E[0]*Ie,E[1]*Ie)}function O(E){return E=H.invert(E[0],E[1]),E&&[E[0]*Et,E[1]*Et]}D.stream=function(E){return q&&$===E?q:q=Pfe(Nfe(u)(y(T(b($=E)))))},D.preclip=function(E){return arguments.length?(y=E,m=void 0,N()):y},D.postclip=function(E){return arguments.length?(b=E,g=x=C=w=null,N()):b},D.clipAngle=function(E){return arguments.length?(y=+E?Zv(m=E*Ie):(m=null,wm),N()):m*Et},D.clipExtent=function(E){return arguments.length?(b=E==null?(g=x=C=w=null,vl):aa(g=+E[0][0],x=+E[0][1],C=+E[1][0],w=+E[1][1]),N()):g==null?null:[[g,x],[C,w]]},D.scale=function(E){return arguments.length?(r=+E,j()):r},D.translate=function(E){return arguments.length?(n=+E[0],i=+E[1],j()):[n,i]},D.center=function(E){return arguments.length?(o=E[0]%360*Ie,s=E[1]%360*Ie,j()):[o*Et,s*Et]},D.rotate=function(E){return arguments.length?(a=E[0]%360*Ie,l=E[1]%360*Ie,c=E.length>2?E[2]%360*Ie:0,j()):[a*Et,l*Et,c*Et]},D.angle=function(E){return arguments.length?(d=E%360*Ie,j()):d*Et},D.reflectX=function(E){return arguments.length?(f=E?-1:1,j()):f<0},D.reflectY=function(E){return arguments.length?(h=E?-1:1,j()):h<0},D.precision=function(E){return arguments.length?(T=uD(z,I=E*E),N()):Vt(I)},D.fitExtent=function(E,A){return jc(D,E,A)},D.fitSize=function(E,A){return lf(D,E,A)},D.fitWidth=function(E,A){return cf(D,E,A)},D.fitHeight=function(E,A){return uf(D,E,A)};function j(){var E=cj(r,0,0,f,h,d).apply(null,t(o,s)),A=cj(r,n-E[0],i-E[1],f,h,d);return u=bm(a,l,c),z=xm(t,A),H=xm(u,z),T=uD(z,I),N()}function N(){return q=$=null,D}return function(){return t=e.apply(this,arguments),D.invert=t.invert&&O,j()}}function df(e){var t=0,r=et/3,n=Im(e),i=n(t,r);return i.parallels=function(o){return arguments.length?n(t=o[0]*Ie,r=o[1]*Ie):[t*Et,r*Et]},i}function uj(e){var t=me(e);function r(n,i){return[n*t,fe(i)/t]}return r.invert=function(n,i){return[n/t,fn(i*t)]},r}function dD(e,t){var r=fe(e),n=(r+fe(t))/2;if(Ge(n)<Ce)return uj(e);var i=1+r*(2*n-r),o=Vt(i)/n;function s(a,l){var c=Vt(i-2*n*fe(l))/n;return[c*fe(a*=n),o-c*me(a)]}return s.invert=function(a,l){var c=o-l,u=dn(a,Ge(c))*kr(c);return c*n<0&&(u-=et*kr(a)*kr(c)),[u/n,fn((i-(a*a+c*c)*n*n)/(2*n))]},s}function zc(){return df(dD).scale(155.424).center([0,33.6442])}function l3(){return zc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ffe(e){var t=e.length;return{point:function(r,n){for(var i=-1;++i<t;)e[i].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function dj(){var e,t,r=l3(),n,i=zc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=zc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(f,h){l=[f,h]}};function u(f){var h=f[0],m=f[1];return l=null,n.point(h,m),l||(o.point(h,m),l)||(a.point(h,m),l)}u.invert=function(f){var h=r.scale(),m=r.translate(),y=(f[0]-m[0])/h,g=(f[1]-m[1])/h;return(g>=.12&&g<.234&&y>=-.425&&y<-.214?i:g>=.166&&g<.234&&y>=-.214&&y<-.115?s:r).invert(f)},u.stream=function(f){return e&&t===f?e:e=Ffe([r.stream(t=f),i.stream(f),s.stream(f)])},u.precision=function(f){return arguments.length?(r.precision(f),i.precision(f),s.precision(f),d()):r.precision()},u.scale=function(f){return arguments.length?(r.scale(f),i.scale(f*.35),s.scale(f),u.translate(r.translate())):r.scale()},u.translate=function(f){if(!arguments.length)return r.translate();var h=r.scale(),m=+f[0],y=+f[1];return n=r.translate(f).clipExtent([[m-.455*h,y-.238*h],[m+.455*h,y+.238*h]]).stream(c),o=i.translate([m-.307*h,y+.201*h]).clipExtent([[m-.425*h+Ce,y+.12*h+Ce],[m-.214*h-Ce,y+.234*h-Ce]]).stream(c),a=s.translate([m-.205*h,y+.212*h]).clipExtent([[m-.214*h+Ce,y+.166*h+Ce],[m-.115*h-Ce,y+.234*h-Ce]]).stream(c),d()},u.fitExtent=function(f,h){return jc(u,f,h)},u.fitSize=function(f,h){return lf(u,f,h)},u.fitWidth=function(f,h){return cf(u,f,h)},u.fitHeight=function(f,h){return uf(u,f,h)};function d(){return e=t=null,u}return u.scale(1070)}function c3(e){return function(t,r){var n=me(t),i=me(r),o=e(n*i);return o===1/0?[2,0]:[o*i*fe(t),o*fe(r)]}}function ds(e){return function(t,r){var n=Vt(t*t+r*r),i=e(n),o=fe(i),s=me(i);return[dn(t*o,n*s),fn(n&&r*o/n)]}}var u3=c3(function(e){return Vt(2/(1+e))});u3.invert=ds(function(e){return 2*fn(e/2)});function fj(){return Un(u3).scale(124.75).clipAngle(180-.001)}var d3=c3(function(e){return(e=Ov(e))&&e/fe(e)});d3.invert=ds(function(e){return e});function hj(){return Un(d3).scale(79.4188).clipAngle(180-.001)}function $c(e,t){return[e,Pc(Jd((on+t)/2))]}$c.invert=function(e,t){return[e,2*zi(kv(t))-on]};function pj(){return fD($c).scale(961/Bn)}function fD(e){var t=Un(e),r=t.center,n=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,c;t.scale=function(d){return arguments.length?(n(d),u()):n()},t.translate=function(d){return arguments.length?(i(d),u()):i()},t.center=function(d){return arguments.length?(r(d),u()):r()},t.clipExtent=function(d){return arguments.length?(d==null?s=a=l=c=null:(s=+d[0][0],a=+d[0][1],l=+d[1][0],c=+d[1][1]),u()):s==null?null:[[s,a],[l,c]]};function u(){var d=et*n(),f=t(Uv(t.rotate()).invert([0,0]));return o(s==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:e===$c?[[Math.max(f[0]-d,s),a],[Math.min(f[0]+d,l),c]]:[[s,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,c)]])}return u()}function f3(e){return Jd((on+e)/2)}function hD(e,t){var r=me(e),n=e===t?fe(e):Pc(r/me(t))/Pc(f3(t)/f3(e)),i=r*Av(f3(e),n)/n;if(!n)return $c;function o(s,a){i>0?a<-on+Ce&&(a=-on+Ce):a>on-Ce&&(a=on-Ce);var l=i/Av(f3(a),n);return[l*fe(n*s),i-l*me(n*s)]}return o.invert=function(s,a){var l=i-a,c=kr(n)*Vt(s*s+l*l),u=dn(s,Ge(l))*kr(l);return l*n<0&&(u-=et*kr(s)*kr(l)),[u/n,2*zi(Av(i/c,1/n))-on]},o}function mj(){return df(hD).scale(109.5).parallels([30,30])}function Bc(e,t){return[e,t]}Bc.invert=Bc;function gj(){return Un(Bc).scale(152.63)}function pD(e,t){var r=me(e),n=e===t?fe(e):(r-me(t))/(t-e),i=r/n+e;if(Ge(n)<Ce)return Bc;function o(s,a){var l=i-a,c=n*s;return[l*fe(c),i-l*me(c)]}return o.invert=function(s,a){var l=i-a,c=dn(s,Ge(l))*kr(l);return l*n<0&&(c-=et*kr(s)*kr(l)),[c/n,i-kr(n)*Vt(s*s+l*l)]},o}function yj(){return df(pD).scale(131.154).center([0,13.9389])}var Am=1.340264,Om=-.081106,Pm=893e-6,Nm=.003796,h3=Vt(3)/2,Lfe=12;function p3(e,t){var r=fn(h3*fe(t)),n=r*r,i=n*n*n;return[e*me(r)/(h3*(Am+3*Om*n+i*(7*Pm+9*Nm*n))),r*(Am+Om*n+i*(Pm+Nm*n))]}p3.invert=function(e,t){for(var r=t,n=r*r,i=n*n*n,o=0,s,a,l;o<Lfe&&(a=r*(Am+Om*n+i*(Pm+Nm*n))-t,l=Am+3*Om*n+i*(7*Pm+9*Nm*n),r-=s=a/l,n=r*r,i=n*n*n,!(Ge(s)<ra));++o);return[h3*e*(Am+3*Om*n+i*(7*Pm+9*Nm*n))/me(r),fn(fe(r)/h3)]};function vj(){return Un(p3).scale(177.158)}function m3(e,t){var r=me(t),n=me(e)*r;return[r*fe(e)/n,fe(t)/n]}m3.invert=ds(zi);function xj(){return Un(m3).scale(144.049).clipAngle(60)}function bj(){var e=1,t=0,r=0,n=1,i=1,o=0,s,a,l=null,c,u,d,f=1,h=1,m=bl({point:function(b,I){var T=w([b,I]);this.stream.point(T[0],T[1])}}),y=vl,g,x;function C(){return f=e*n,h=e*i,g=x=null,w}function w(b){var I=b[0]*f,T=b[1]*h;if(o){var z=T*s-I*a;I=I*s+T*a,T=z}return[I+t,T+r]}return w.invert=function(b){var I=b[0]-t,T=b[1]-r;if(o){var z=T*s+I*a;I=I*s-T*a,T=z}return[I/f,T/h]},w.stream=function(b){return g&&x===b?g:g=m(y(x=b))},w.postclip=function(b){return arguments.length?(y=b,l=c=u=d=null,C()):y},w.clipExtent=function(b){return arguments.length?(y=b==null?(l=c=u=d=null,vl):aa(l=+b[0][0],c=+b[0][1],u=+b[1][0],d=+b[1][1]),C()):l==null?null:[[l,c],[u,d]]},w.scale=function(b){return arguments.length?(e=+b,C()):e},w.translate=function(b){return arguments.length?(t=+b[0],r=+b[1],C()):[t,r]},w.angle=function(b){return arguments.length?(o=b%360*Ie,a=fe(o),s=me(o),C()):o*Et},w.reflectX=function(b){return arguments.length?(n=b?-1:1,C()):n<0},w.reflectY=function(b){return arguments.length?(i=b?-1:1,C()):i<0},w.fitExtent=function(b,I){return jc(w,b,I)},w.fitSize=function(b,I){return lf(w,b,I)},w.fitWidth=function(b,I){return cf(w,b,I)},w.fitHeight=function(b,I){return uf(w,b,I)},w}function g3(e,t){var r=t*t,n=r*r;return[e*(.8707-.131979*r+n*(-.013791+n*(.003971*r-.001529*n))),t*(1.007226+r*(.015085+n*(-.044475+.028874*r-.005916*n)))]}g3.invert=function(e,t){var r=t,n=25,i;do{var o=r*r,s=o*o;r-=i=(r*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(Ge(i)>Ce&&--n>0);return[e/(.8707+(o=r*r)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),r]};function y3(){return Un(g3).scale(175.295)}function v3(e,t){return[me(t)*fe(e),fe(t)]}v3.invert=ds(fn);function mD(){return Un(v3).scale(249.5).clipAngle(90+Ce)}function x3(e,t){var r=me(t),n=1+me(e)*r;return[r*fe(e)/n,fe(t)/n]}x3.invert=ds(function(e){return 2*zi(e)});function wj(){return Un(x3).scale(250).clipAngle(142)}function b3(e,t){return[Pc(Jd((on+t)/2)),-e]}b3.invert=function(e,t){return[-t,2*zi(kv(e))-on]};function _j(){var e=fD(b3),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function Vfe(e,t){return e.parent===t.parent?1:2}function jfe(e){return e.reduce(zfe,0)/e.length}function zfe(e,t){return e+t.x}function $fe(e){return 1+e.reduce(Bfe,0)}function Bfe(e,t){return Math.max(e,t.y)}function Ufe(e){for(var t;t=e.children;)e=t[0];return e}function Hfe(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Cj(){var e=Vfe,t=1,r=1,n=!1;function i(o){var s,a=0;o.eachAfter(function(f){var h=f.children;h?(f.x=jfe(h),f.y=$fe(h)):(f.x=s?a+=e(f,s):0,f.y=0,s=f)});var l=Ufe(o),c=Hfe(o),u=l.x-e(l,c)/2,d=c.x+e(c,l)/2;return o.eachAfter(n?function(f){f.x=(f.x-o.x)*t,f.y=(o.y-f.y)*r}:function(f){f.x=(f.x-u)/(d-u)*t,f.y=(1-(o.y?f.y/o.y:1))*r})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(n=!1,t=+o[0],r=+o[1],i):n?null:[t,r]},i.nodeSize=function(o){return arguments.length?(n=!0,t=+o[0],r=+o[1],i):n?[t,r]:null},i}function qfe(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function Dj(){return this.eachAfter(qfe)}function Sj(e,t){let r=-1;for(let n of this)e.call(t,n,++r,this);return this}function Mj(e,t){for(var r=this,n=[r],i,o,s=-1;r=n.pop();)if(e.call(t,r,++s,this),i=r.children)for(o=i.length-1;o>=0;--o)n.push(i[o]);return this}function Ej(e,t){for(var r=this,n=[r],i=[],o,s,a,l=-1;r=n.pop();)if(i.push(r),o=r.children)for(s=0,a=o.length;s<a;++s)n.push(o[s]);for(;r=i.pop();)e.call(t,r,++l,this);return this}function Tj(e,t){let r=-1;for(let n of this)if(e.call(t,n,++r,this))return n}function kj(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})}function Ij(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Aj(e){for(var t=this,r=Wfe(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n}function Wfe(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}function Oj(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Pj(){return Array.from(this)}function Nj(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Rj(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function*Fj(){var e=this,t,r=[e],n,i,o;do for(t=r.reverse(),r=[];e=t.pop();)if(yield e,n=e.children)for(i=0,o=n.length;i<o;++i)r.push(n[i]);while(r.length)}function En(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Zfe)):t===void 0&&(t=Yfe);for(var r=new wl(e),n,i=[r],o,s,a,l;n=i.pop();)if((s=t(n.data))&&(l=(s=Array.from(s)).length))for(n.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new wl(s[a])),o.parent=n,o.depth=n.depth+1;return r.eachBefore(gD)}function Gfe(){return En(this).eachBefore(Qfe)}function Yfe(e){return e.children}function Zfe(e){return Array.isArray(e)?e[1]:null}function Qfe(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function gD(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function wl(e){this.data=e,this.depth=this.height=0,this.parent=null}wl.prototype=En.prototype={constructor:wl,count:Dj,each:Sj,eachAfter:Ej,eachBefore:Mj,find:Tj,sum:kj,sort:Ij,path:Aj,ancestors:Oj,descendants:Pj,leaves:Nj,links:Rj,copy:Gfe,[Symbol.iterator]:Fj};function Lj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Vj(e){for(var t=e.length,r,n;t;)n=Math.random()*t--|0,r=e[t],e[t]=e[n],e[n]=r;return e}function _3(e){for(var t=0,r=(e=Vj(Array.from(e))).length,n=[],i,o;t<r;)i=e[t],o&&jj(o,i)?++t:(o=Kfe(n=Xfe(n,i)),t=0);return o}function Xfe(e,t){var r,n;if(yD(t,e))return[t];for(r=0;r<e.length;++r)if(w3(t,e[r])&&yD(Rm(e[r],t),e))return[e[r],t];for(r=0;r<e.length-1;++r)for(n=r+1;n<e.length;++n)if(w3(Rm(e[r],e[n]),t)&&w3(Rm(e[r],t),e[n])&&w3(Rm(e[n],t),e[r])&&yD(zj(e[r],e[n],t),e))return[e[r],e[n],t];throw new Error}function w3(e,t){var r=e.r-t.r,n=t.x-e.x,i=t.y-e.y;return r<0||r*r<n*n+i*i}function jj(e,t){var r=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,n=t.x-e.x,i=t.y-e.y;return r>0&&r*r>n*n+i*i}function yD(e,t){for(var r=0;r<t.length;++r)if(!jj(e,t[r]))return!1;return!0}function Kfe(e){switch(e.length){case 1:return Jfe(e[0]);case 2:return Rm(e[0],e[1]);case 3:return zj(e[0],e[1],e[2])}}function Jfe(e){return{x:e.x,y:e.y,r:e.r}}function Rm(e,t){var r=e.x,n=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-r,c=s-n,u=a-i,d=Math.sqrt(l*l+c*c);return{x:(r+o+l/d*u)/2,y:(n+s+c/d*u)/2,r:(d+i+a)/2}}function zj(e,t,r){var n=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=r.x,u=r.y,d=r.r,f=n-s,h=n-c,m=i-a,y=i-u,g=l-o,x=d-o,C=n*n+i*i-o*o,w=C-s*s-a*a+l*l,b=C-c*c-u*u+d*d,I=h*m-f*y,T=(m*b-y*w)/(I*2)-n,z=(y*g-m*x)/I,H=(h*w-f*b)/(I*2)-i,q=(f*x-h*g)/I,$=z*z+q*q-1,D=2*(o+T*z+H*q),O=T*T+H*H-o*o,j=-($?(D+Math.sqrt(D*D-4*$*O))/(2*$):O/D);return{x:n+T+z*j,y:i+H+q*j,r:j}}function $j(e,t,r){var n=e.x-t.x,i,o,s=e.y-t.y,a,l,c=n*n+s*s;c?(o=t.r+r.r,o*=o,l=e.r+r.r,l*=l,o>l?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),r.x=e.x-i*n-a*s,r.y=e.y-i*s+a*n):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),r.x=t.x+i*n-a*s,r.y=t.y+i*s+a*n)):(r.x=t.x+r.r,r.y=t.y)}function Bj(e,t){var r=e.r+t.r-1e-6,n=t.x-e.x,i=t.y-e.y;return r>0&&r*r>n*n+i*i}function Uj(e){var t=e._,r=e.next._,n=t.r+r.r,i=(t.x*r.r+r.x*t.r)/n,o=(t.y*r.r+r.y*t.r)/n;return i*i+o*o}function C3(e){this._=e,this.next=null,this.previous=null}function vD(e){if(!(i=(e=Lj(e)).length))return 0;var t,r,n,i,o,s,a,l,c,u,d;if(t=e[0],t.x=0,t.y=0,!(i>1))return t.r;if(r=e[1],t.x=-r.r,r.x=t.r,r.y=0,!(i>2))return t.r+r.r;$j(r,t,n=e[2]),t=new C3(t),r=new C3(r),n=new C3(n),t.next=n.previous=r,r.next=t.previous=n,n.next=r.previous=t;e:for(a=3;a<i;++a){$j(t._,r._,n=e[a]),n=new C3(n),l=r.next,c=t.previous,u=r._.r,d=t._.r;do if(u<=d){if(Bj(l._,n._)){r=l,t.next=r,r.previous=t,--a;continue e}u+=l._.r,l=l.next}else{if(Bj(c._,n._)){t=c,t.next=r,r.previous=t,--a;continue e}d+=c._.r,c=c.previous}while(l!==c.next);for(n.previous=t,n.next=r,t.next=r.previous=r=n,o=Uj(t);(n=n.next)!==r;)(s=Uj(n))<o&&(t=n,o=s);r=t.next}for(t=[r._],n=r;(n=n.next)!==r;)t.push(n._);for(n=_3(t),a=0;a<i;++a)t=e[a],t.x-=n.x,t.y-=n.y;return n.r}function Hj(e){return vD(e),e}function qj(e){return e==null?null:ff(e)}function ff(e){if(typeof e!="function")throw new Error;return e}function la(){return 0}function _l(e){return function(){return e}}function ehe(e){return Math.sqrt(e.value)}function D3(){var e=null,t=1,r=1,n=la;function i(o){return o.x=t/2,o.y=r/2,e?o.eachBefore(Wj(e)).eachAfter(xD(n,.5)).eachBefore(Gj(1)):o.eachBefore(Wj(ehe)).eachAfter(xD(la,1)).eachAfter(xD(n,o.r/Math.min(t,r))).eachBefore(Gj(Math.min(t,r)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=qj(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],r=+o[1],i):[t,r]},i.padding=function(o){return arguments.length?(n=typeof o=="function"?o:_l(+o),i):n},i}function Wj(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function xD(e,t){return function(r){if(n=r.children){var n,i,o=n.length,s=e(r)*t||0,a;if(s)for(i=0;i<o;++i)n[i].r+=s;if(a=vD(n),s)for(i=0;i<o;++i)n[i].r-=s;r.r=a+s}}}function Gj(e){return function(t){var r=t.parent;t.r*=e,r&&(t.x=r.x+e*t.x,t.y=r.y+e*t.y)}}function S3(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Bi(e,t,r,n,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(n-t)/e.value;++a<l;)s=o[a],s.y0=r,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function M3(){var e=1,t=1,r=0,n=!1;function i(s){var a=s.height+1;return s.x0=s.y0=r,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),n&&s.eachBefore(S3),s}function o(s,a){return function(l){l.children&&Bi(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,d=l.x1-r,f=l.y1-r;d<c&&(c=d=(c+d)/2),f<u&&(u=f=(u+f)/2),l.x0=c,l.y0=u,l.x1=d,l.y1=f}}return i.round=function(s){return arguments.length?(n=!!s,i):n},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(r=+s,i):r},i}var the={depth:-1},Yj={};function nhe(e){return e.id}function rhe(e){return e.parentId}function Zj(){var e=nhe,t=rhe;function r(n){var i=Array.from(n),o=i.length,s,a,l,c,u,d,f,h=new Map;for(a=0;a<o;++a)s=i[a],u=i[a]=new wl(s),(d=e(s,a,n))!=null&&(d+="")&&(f=u.id=d,h.set(f,h.has(f)?Yj:u)),(d=t(s,a,n))!=null&&(d+="")&&(u.parent=d);for(a=0;a<o;++a)if(u=i[a],d=u.parent){if(c=h.get(d),!c)throw new Error("missing: "+d);if(c===Yj)throw new Error("ambiguous: "+d);c.children?c.children.push(u):c.children=[u],u.parent=c}else{if(l)throw new Error("multiple roots");l=u}if(!l)throw new Error("no root");if(l.parent=the,l.eachBefore(function(m){m.depth=m.parent.depth+1,--o}).eachBefore(gD),l.parent=null,o>0)throw new Error("cycle");return l}return r.id=function(n){return arguments.length?(e=ff(n),r):e},r.parentId=function(n){return arguments.length?(t=ff(n),r):t},r}function ihe(e,t){return e.parent===t.parent?1:2}function bD(e){var t=e.children;return t?t[0]:e.t}function wD(e){var t=e.children;return t?t[t.length-1]:e.t}function ohe(e,t,r){var n=r/(t.i-e.i);t.c-=n,t.s+=r,e.c+=n,t.z+=r,t.m+=r}function she(e){for(var t=0,r=0,n=e.children,i=n.length,o;--i>=0;)o=n[i],o.z+=t,o.m+=t,t+=o.s+(r+=o.c)}function ahe(e,t,r){return e.a.parent===t.parent?e.a:r}function E3(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}E3.prototype=Object.create(wl.prototype);function lhe(e){for(var t=new E3(e,0),r,n=[t],i,o,s,a;r=n.pop();)if(o=r._.children)for(r.children=new Array(a=o.length),s=a-1;s>=0;--s)n.push(i=r.children[s]=new E3(o[s],s)),i.parent=r;return(t.parent=new E3(null,0)).children=[t],t}function Fm(){var e=ihe,t=1,r=1,n=null;function i(c){var u=lhe(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),n)c.eachBefore(l);else{var d=c,f=c,h=c;c.eachBefore(function(C){C.x<d.x&&(d=C),C.x>f.x&&(f=C),C.depth>h.depth&&(h=C)});var m=d===f?1:e(d,f)/2,y=m-d.x,g=t/(f.x+m+y),x=r/(h.depth||1);c.eachBefore(function(C){C.x=(C.x+y)*g,C.y=C.depth*x})}return c}function o(c){var u=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(u){she(c);var h=(u[0].z+u[u.length-1].z)/2;f?(c.z=f.z+e(c._,f._),c.m=c.z-h):c.z=h}else f&&(c.z=f.z+e(c._,f._));c.parent.A=a(c,f,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,d){if(u){for(var f=c,h=c,m=u,y=f.parent.children[0],g=f.m,x=h.m,C=m.m,w=y.m,b;m=wD(m),f=bD(f),m&&f;)y=bD(y),h=wD(h),h.a=c,b=m.z+C-f.z-g+e(m._,f._),b>0&&(ohe(ahe(m,c,d),c,b),g+=b,x+=b),C+=m.m,g+=f.m,w+=y.m,x+=h.m;m&&!wD(h)&&(h.t=m,h.m+=C-x),f&&!bD(y)&&(y.t=f,y.m+=g-w,d=c)}return d}function l(c){c.x*=t,c.y=c.depth*r}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(n=!1,t=+c[0],r=+c[1],i):n?null:[t,r]},i.nodeSize=function(c){return arguments.length?(n=!0,t=+c[0],r=+c[1],i):n?[t,r]:null},i}function fs(e,t,r,n,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(i-r)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=n,s.y0=r,s.y1=r+=s.value*c}var _D=(1+Math.sqrt(5))/2;function CD(e,t,r,n,i,o){for(var s=[],a=t.children,l,c,u=0,d=0,f=a.length,h,m,y=t.value,g,x,C,w,b,I,T;u<f;){h=i-r,m=o-n;do g=a[d++].value;while(!g&&d<f);for(x=C=g,I=Math.max(m/h,h/m)/(y*e),T=g*g*I,b=Math.max(C/T,T/x);d<f;++d){if(g+=c=a[d].value,c<x&&(x=c),c>C&&(C=c),T=g*g*I,w=Math.max(C/T,T/x),w>b){g-=c;break}b=w}s.push(l={value:g,dice:h<m,children:a.slice(u,d)}),l.dice?Bi(l,r,n,i,y?n+=m*g/y:o):fs(l,r,n,y?r+=h*g/y:i,o),y-=g,u=d}return s}var hf=function e(t){function r(n,i,o,s,a){CD(t,n,i,o,s,a)}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(_D);function Cl(){var e=hf,t=!1,r=1,n=1,i=[0],o=la,s=la,a=la,l=la,c=la;function u(f){return f.x0=f.y0=0,f.x1=r,f.y1=n,f.eachBefore(d),i=[0],t&&f.eachBefore(S3),f}function d(f){var h=i[f.depth],m=f.x0+h,y=f.y0+h,g=f.x1-h,x=f.y1-h;g<m&&(m=g=(m+g)/2),x<y&&(y=x=(y+x)/2),f.x0=m,f.y0=y,f.x1=g,f.y1=x,f.children&&(h=i[f.depth+1]=o(f)/2,m+=c(f)-h,y+=s(f)-h,g-=a(f)-h,x-=l(f)-h,g<m&&(m=g=(m+g)/2),x<y&&(y=x=(y+x)/2),e(f,m,y,g,x))}return u.round=function(f){return arguments.length?(t=!!f,u):t},u.size=function(f){return arguments.length?(r=+f[0],n=+f[1],u):[r,n]},u.tile=function(f){return arguments.length?(e=ff(f),u):e},u.padding=function(f){return arguments.length?u.paddingInner(f).paddingOuter(f):u.paddingInner()},u.paddingInner=function(f){return arguments.length?(o=typeof f=="function"?f:_l(+f),u):o},u.paddingOuter=function(f){return arguments.length?u.paddingTop(f).paddingRight(f).paddingBottom(f).paddingLeft(f):u.paddingTop()},u.paddingTop=function(f){return arguments.length?(s=typeof f=="function"?f:_l(+f),u):s},u.paddingRight=function(f){return arguments.length?(a=typeof f=="function"?f:_l(+f),u):a},u.paddingBottom=function(f){return arguments.length?(l=typeof f=="function"?f:_l(+f),u):l},u.paddingLeft=function(f){return arguments.length?(c=typeof f=="function"?f:_l(+f),u):c},u}function T3(e,t,r,n,i){var o=e.children,s,a=o.length,l,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;u(0,a,e.value,t,r,n,i);function u(d,f,h,m,y,g,x){if(d>=f-1){var C=o[d];C.x0=m,C.y0=y,C.x1=g,C.y1=x;return}for(var w=c[d],b=h/2+w,I=d+1,T=f-1;I<T;){var z=I+T>>>1;c[z]<b?I=z+1:T=z}b-c[I-1]<c[I]-b&&d+1<I&&--I;var H=c[I]-w,q=h-H;if(g-m>x-y){var $=h?(m*q+g*H)/h:g;u(d,I,H,m,y,$,x),u(I,f,q,$,y,g,x)}else{var D=h?(y*q+x*H)/h:x;u(d,I,H,m,y,g,D),u(I,f,q,m,D,g,x)}}}function k3(e,t,r,n,i){(e.depth&1?fs:Bi)(e,t,r,n,i)}var Qj=function e(t){function r(n,i,o,s,a){if((l=n._squarify)&&l.ratio===t)for(var l,c,u,d,f=-1,h,m=l.length,y=n.value;++f<m;){for(c=l[f],u=c.children,d=c.value=0,h=u.length;d<h;++d)c.value+=u[d].value;c.dice?Bi(c,i,o,s,y?o+=(a-o)*c.value/y:a):fs(c,i,o,y?i+=(s-i)*c.value/y:s,a),y-=c.value}else n._squarify=l=CD(t,n,i,o,s,a),l.ratio=t}return r.ratio=function(n){return e((n=+n)>1?n:1)},r}(_D);I3();var Pt=Math.random;var oz=function e(t){function r(n,i){return n=n==null?0:+n,i=i==null?1:+i,arguments.length===1?(i=n,n=0):i-=n,function(){return t()*i+n}}return r.source=e,r}(Pt);var sz=function e(t){function r(n,i){return arguments.length<2&&(i=n,n=0),n=Math.floor(n),i=Math.floor(i)-n,function(){return Math.floor(t()*i+n)}}return r.source=e,r}(Pt);var pf=function e(t){function r(n,i){var o,s;return n=n==null?0:+n,i=i==null?1:+i,function(){var a;if(o!=null)a=o,o=null;else do o=t()*2-1,a=t()*2-1,s=o*o+a*a;while(!s||s>1);return n+i*a*Math.sqrt(-2*Math.log(s)/s)}}return r.source=e,r}(Pt);var az=function e(t){var r=pf.source(t);function n(){var i=r.apply(this,arguments);return function(){return Math.exp(i())}}return n.source=e,n}(Pt);var A3=function e(t){function r(n){return(n=+n)<=0?()=>0:function(){for(var i=0,o=n;o>1;--o)i+=t();return i+o*t()}}return r.source=e,r}(Pt);var lz=function e(t){var r=A3.source(t);function n(i){if((i=+i)==0)return t;var o=r(i);return function(){return o()/i}}return n.source=e,n}(Pt);var cz=function e(t){function r(n){return function(){return-Math.log1p(-t())/n}}return r.source=e,r}(Pt);var uz=function e(t){function r(n){if((n=+n)<0)throw new RangeError("invalid alpha");return n=1/-n,function(){return Math.pow(1-t(),n)}}return r.source=e,r}(Pt);var dz=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+n)}}return r.source=e,r}(Pt);var O3=function e(t){function r(n){if((n=+n)<0||n>1)throw new RangeError("invalid p");return n===0?()=>1/0:n===1?()=>1:(n=Math.log1p(-n),function(){return 1+Math.floor(Math.log1p(-t())/n)})}return r.source=e,r}(Pt);var mf=function e(t){var r=pf.source(t)();function n(i,o){if((i=+i)<0)throw new RangeError("invalid k");if(i===0)return()=>0;if(o=o==null?1:+o,i===1)return()=>-Math.log1p(-t())*o;var s=(i<1?i+1:i)-1/3,a=1/(3*Math.sqrt(s)),l=i<1?()=>Math.pow(t(),1/i):()=>1;return function(){do{do var c=r(),u=1+a*c;while(u<=0);u*=u*u;var d=1-t()}while(d>=1-.0331*c*c*c*c&&Math.log(d)>=.5*c*c+s*(1-u+Math.log(u)));return s*u*l()*o}}return n.source=e,n}(Pt);var P3=function e(t){var r=mf.source(t);function n(i,o){var s=r(i),a=r(o);return function(){var l=s();return l===0?0:l/(l+a())}}return n.source=e,n}(Pt);var N3=function e(t){var r=O3.source(t),n=P3.source(t);function i(o,s){return o=+o,(s=+s)>=1?()=>o:s<=0?()=>0:function(){for(var a=0,l=o,c=s;l*c>16&&l*(1-c)>16;){var u=Math.floor((l+1)*c),d=n(u,l-u+1)();d<=c?(a+=u,l-=u,c=(c-d)/(1-d)):(l=u-1,c/=d)}for(var f=c<.5,h=f?c:1-c,m=r(h),y=m(),g=0;y<=l;++g)y+=m();return a+(f?g:l-g)}}return i.source=e,i}(Pt);var fz=function e(t){function r(n,i,o){var s;return(n=+n)==0?s=a=>-Math.log(a):(n=1/n,s=a=>Math.pow(a,n)),i=i==null?0:+i,o=o==null?1:+o,function(){return i+o*s(-Math.log1p(-t()))}}return r.source=e,r}(Pt);var hz=function e(t){function r(n,i){return n=n==null?0:+n,i=i==null?1:+i,function(){return n+i*Math.tan(Math.PI*t())}}return r.source=e,r}(Pt);var pz=function e(t){function r(n,i){return n=n==null?0:+n,i=i==null?1:+i,function(){var o=t();return n+i*Math.log(o/(1-o))}}return r.source=e,r}(Pt);var mz=function e(t){var r=mf.source(t),n=N3.source(t);function i(o){return function(){for(var s=0,a=o;a>16;){var l=Math.floor(.875*a),c=r(l)();if(c>a)return s+n(l-1,a/c)();s+=l,a-=c}for(var u=-Math.log1p(-t()),d=0;u<=a;++d)u-=Math.log1p(-t());return s+d}}return i.source=e,i}(Pt);var gz=23283064365386963e-26;function kD(e=Math.random()){let t=(0<=e&&e<1?e/gz:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,gz*(t>>>0))}mn();function Cn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ui(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}var R3=Symbol("implicit");function Xe(){var e=new Map,t=[],r=[],n=R3;function i(o){var s=o+"",a=e.get(s);if(!a){if(n!==R3)return n;e.set(s,a=t.push(o))}return r[(a-1)%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(let s of o){let a=s+"";e.has(a)||e.set(a,t.push(s))}return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Xe(t,r).unknown(n)},Cn.apply(i,arguments),i}function ot(){var e=Xe().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<n,m=h?i:n,y=h?n:i;o=(y-m)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),m+=(y-m-o*(f-l))*u,s=o*(1-l),a&&(m=Math.round(m),s=Math.round(s));var g=$t(f).map(function(x){return m+o*x});return r(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return ot(t(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Cn.apply(d(),arguments)}function yz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yz(t())},e}function ID(){return yz(ot.apply(null,arguments).paddingInner(1))}mn();mn();function AD(e){return function(){return e}}function Dl(e){return+e}var vz=[0,1];function nr(e){return e}function OD(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:AD(isNaN(t)?NaN:.5)}function uhe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dhe(e,t,r){var n=e[0],i=e[1],o=t[0],s=t[1];return i<n?(n=OD(i,n),o=r(s,o)):(n=OD(n,i),o=r(o,s)),function(a){return o(n(a))}}function fhe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),o=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=OD(e[s],e[s+1]),o[s]=r(t[s],t[s+1]);return function(a){var l=$r(e,a,1,n)-1;return o[l](i[l](a))}}function hs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uc(){var e=vz,t=vz,r=Xt,n,i,o,s=nr,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==nr&&(s=uhe(e[0],e[f-1])),a=f>2?fhe:dhe,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(n),t,r)))(n(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(n),Gn)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Dl),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),r=cl,u()},d.clamp=function(f){return arguments.length?(s=f?!0:nr,u()):s!==nr},d.interpolate=function(f){return arguments.length?(r=f,u()):r},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return n=f,i=h,u()}}function Hc(){return Uc()(nr,nr)}mn();function Vm(e,t,r,n){var i=ji(e,t,r),o;switch(n=na(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=Ev(i,s))&&(n.precision=o),Oc(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Tv(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Mv(i))&&(n.precision=o-(n.type==="%")*2);break}}return We(n)}function Gr(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sr(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return Vm(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,o=n.length-1,s=n[i],a=n[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=Ko(s,a,r),c===l)return n[i]=s,n[o]=a,t(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function be(){var e=Hc();return e.copy=function(){return hs(e,be())},Cn.apply(e,arguments),Gr(e)}function F3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Dl),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return F3(e).unknown(t)},e=arguments.length?Array.from(e,Dl):[0,1],Gr(r)}mn();function jm(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],o=e[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),e[r]=t.floor(i),e[n]=t.ceil(o),e}function xz(e){return Math.log(e)}function bz(e){return Math.exp(e)}function hhe(e){return-Math.log(-e)}function phe(e){return-Math.exp(-e)}function mhe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ghe(e){return e===10?mhe:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function yhe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function wz(e){return function(t){return-e(-t)}}function zm(e){var t=e(xz,bz),r=t.domain,n=10,i,o;function s(){return i=yhe(n),o=ghe(n),r()[0]<0?(i=wz(i),o=wz(o),e(hhe,phe)):e(xz,bz),t}return t.base=function(a){return arguments.length?(n=+a,s()):n},t.domain=function(a){return arguments.length?(r(a),s()):r()},t.ticks=function(a){var l=r(),c=l[0],u=l[l.length-1],d;(d=u<c)&&(f=c,c=u,u=f);var f=i(c),h=i(u),m,y,g,x=a==null?10:+a,C=[];if(!(n%1)&&h-f<x){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(y=1,m=o(f);y<n;++y)if(g=m*y,!(g<c)){if(g>u)break;C.push(g)}}else for(;f<=h;++f)for(y=n-1,m=o(f);y>=1;--y)if(g=m*y,!(g<c)){if(g>u)break;C.push(g)}C.length*2<x&&(C=Sr(c,u,x))}else C=Sr(f,h,Math.min(h-f,x)).map(o);return d?C.reverse():C},t.tickFormat=function(a,l){if(l==null&&(l=n===10?".0e":","),typeof l!="function"&&(l=We(l)),a===1/0)return l;a==null&&(a=10);var c=Math.max(1,n*a/t.ticks().length);return function(u){var d=u/o(Math.round(i(u)));return d*n<n-.5&&(d*=n),d<=c?l(u):""}},t.nice=function(){return r(jm(r(),{floor:function(a){return o(Math.floor(i(a)))},ceil:function(a){return o(Math.ceil(i(a)))}}))},t}function L3(){var e=zm(Uc()).domain([1,10]);return e.copy=function(){return hs(e,L3()).base(e.base())},Cn.apply(e,arguments),e}function _z(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Cz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $m(e){var t=1,r=e(_z(t),Cz(t));return r.constant=function(n){return arguments.length?e(_z(t=+n),Cz(t)):t},Gr(r)}function V3(){var e=$m(Uc());return e.copy=function(){return hs(e,V3()).constant(e.constant())},Cn.apply(e,arguments)}function Dz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vhe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xhe(e){return e<0?-e*e:e*e}function Bm(e){var t=e(nr,nr),r=1;function n(){return r===1?e(nr,nr):r===.5?e(vhe,xhe):e(Dz(r),Dz(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Gr(t)}function Um(){var e=Bm(Uc());return e.copy=function(){return hs(e,Um()).exponent(e.exponent())},Cn.apply(e,arguments),e}function Hi(){return Um.apply(null,arguments).exponent(.5)}function Sz(e){return Math.sign(e)*e*e}function bhe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function gf(){var e=Hc(),t=[0,1],r=!1,n;function i(o){var s=bhe(e(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return e.invert(Sz(o))},i.domain=function(o){return arguments.length?(e.domain(o),i):e.domain()},i.range=function(o){return arguments.length?(e.range((t=Array.from(o,Dl)).map(Sz)),i):t.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(e.clamp(o),i):e.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return gf(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Cn.apply(i,arguments),Gr(i)}mn();function j3(){var e=[],t=[],r=[],n;function i(){var s=0,a=Math.max(1,t.length);for(r=new Array(a-1);++s<a;)r[s-1]=zp(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:t[$r(r,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:e[0],a<r.length?r[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(at),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return j3().domain(e).range(t).unknown(n)},Cn.apply(o,arguments)}mn();function z3(){var e=0,t=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[$r(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return z3().domain([e,t]).range(i).unknown(o)},Cn.apply(Gr(s),arguments)}mn();function $3(){var e=[.5],t=[0,1],r,n=1;function i(o){return o!=null&&o<=o?t[$r(e,o,0,n)]:r}return i.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $3().domain(e).range(t).unknown(r)},Cn.apply(i,arguments)}var PD=new Date,ND=new Date;function Tt(e,t,r,n){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=function(o){return e(o=new Date(+o)),o},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),e(o),o},i.round=function(o){var s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var l=[],c;if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=function(o){return Tt(function(s){if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););})},r&&(i.count=function(o,s){return PD.setTime(+o),ND.setTime(+s),e(PD),e(ND),Math.floor(r(PD,ND))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?function(s){return n(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var B3=Tt(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});B3.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Tt(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):B3};var Hm=B3,RD=B3.range;var Mz=Tt(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),qi=Mz,FD=Mz.range;var Ez=Tt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),yf=Ez,Tz=Ez.range;var kz=Tt(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),vf=kz,Iz=kz.range;var Az=Tt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),ca=Az,U3=Az.range;function Gc(e){return Tt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var Wi=Gc(0),Yc=Gc(1),VD=Gc(2),jD=Gc(3),ua=Gc(4),zD=Gc(5),$D=Gc(6),BD=Wi.range,Pz=Yc.range,Nz=VD.range,Rz=jD.range,Fz=ua.range,Lz=zD.range,Vz=$D.range;var jz=Tt(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),xf=jz,H3=jz.range;var UD=Tt(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});UD.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};var Gi=UD,zz=UD.range;var $z=Tt(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),bf=$z,Bz=$z.range;var Uz=Tt(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),wf=Uz,Hz=Uz.range;var qz=Tt(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1}),da=qz,Wz=qz.range;function Zc(e){return Tt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/6048e5})}var ms=Zc(0),Qc=Zc(1),HD=Zc(2),qD=Zc(3),fa=Zc(4),WD=Zc(5),GD=Zc(6),YD=ms.range,Gz=Qc.range,Yz=HD.range,Zz=qD.range,Qz=fa.range,Xz=WD.range,Kz=GD.range;var Jz=Tt(function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),_f=Jz,e$=Jz.range;var ZD=Tt(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ZD.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:Tt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};var Yi=ZD,t$=ZD.range;mn();function r$(e,t,r,n,i,o){let s=[[qi,1,1e3],[qi,5,5*1e3],[qi,15,15*1e3],[qi,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[n,1,864e5],[n,2,2*864e5],[r,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function a(c,u,d){let f=u<c;f&&([c,u]=[u,c]);let h=d&&typeof d.range=="function"?d:l(c,u,d),m=h?h.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){let f=Math.abs(u-c)/d,h=Ya(([,,g])=>g).right(s,f);if(h===s.length)return e.every(ji(c/31536e6,u/31536e6,d));if(h===0)return Hm.every(Math.max(ji(c,u,d),1));let[m,y]=s[f/s[h-1][2]<s[h][2]/f?h-1:h];return m.every(y)}return[a,l]}var[q3,W3]=r$(Yi,_f,ms,da,wf,bf),[G3,Y3]=r$(Gi,xf,Wi,ca,vf,yf);function QD(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function XD(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ym(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=Wm(i),u=Gm(i),d=Wm(o),f=Gm(o),h=Wm(s),m=Gm(s),y=Wm(a),g=Gm(a),x=Wm(l),C=Gm(l),w={a:R,A:B,b:P,B:L,c:null,d:c$,e:c$,f:Hhe,g:epe,G:npe,H:$he,I:Bhe,j:Uhe,L:p$,m:qhe,M:Whe,p:Z,q:ee,Q:f$,s:h$,S:Ghe,u:Yhe,U:Zhe,V:Qhe,w:Xhe,W:Khe,x:null,X:null,y:Jhe,Y:tpe,Z:rpe,"%":d$},b={a:K,A:se,b:ke,B:Me,c:null,d:u$,e:u$,f:ape,g:ype,G:xpe,H:ipe,I:ope,j:spe,L:g$,m:lpe,M:cpe,p:pe,q:ze,Q:f$,s:h$,S:upe,u:dpe,U:fpe,V:hpe,w:ppe,W:mpe,x:null,X:null,y:gpe,Y:vpe,Z:bpe,"%":d$},I={a:$,A:D,b:O,B:j,c:N,d:a$,e:a$,f:Lhe,g:s$,G:o$,H:l$,I:l$,j:Phe,L:Fhe,m:Ohe,M:Nhe,p:q,q:Ahe,Q:jhe,s:zhe,S:Rhe,u:Mhe,U:Ehe,V:The,w:She,W:khe,x:E,X:A,y:s$,Y:o$,Z:Ihe,"%":Vhe};w.x=T(r,w),w.X=T(n,w),w.c=T(t,w),b.x=T(r,b),b.X=T(n,b),b.c=T(t,b);function T(ie,De){return function(Ae){var oe=[],wt=-1,ft=0,an=ie.length,An,He,ln;for(Ae instanceof Date||(Ae=new Date(+Ae));++wt<an;)ie.charCodeAt(wt)===37&&(oe.push(ie.slice(ft,wt)),(He=i$[An=ie.charAt(++wt)])!=null?An=ie.charAt(++wt):He=An==="e"?" ":"0",(ln=De[An])&&(An=ln(Ae,He)),oe.push(An),ft=wt+1);return oe.push(ie.slice(ft,wt)),oe.join("")}}function z(ie,De){return function(Ae){var oe=qm(1900,void 0,1),wt=H(oe,ie,Ae+="",0),ft,an;if(wt!=Ae.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(De&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(ft=XD(qm(oe.y,0,1)),an=ft.getUTCDay(),ft=an>4||an===0?Qc.ceil(ft):Qc(ft),ft=da.offset(ft,(oe.V-1)*7),oe.y=ft.getUTCFullYear(),oe.m=ft.getUTCMonth(),oe.d=ft.getUTCDate()+(oe.w+6)%7):(ft=QD(qm(oe.y,0,1)),an=ft.getDay(),ft=an>4||an===0?Yc.ceil(ft):Yc(ft),ft=ca.offset(ft,(oe.V-1)*7),oe.y=ft.getFullYear(),oe.m=ft.getMonth(),oe.d=ft.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),an="Z"in oe?XD(qm(oe.y,0,1)).getUTCDay():QD(qm(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(an+5)%7:oe.w+oe.U*7-(an+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,XD(oe)):QD(oe)}}function H(ie,De,Ae,oe){for(var wt=0,ft=De.length,an=Ae.length,An,He;wt<ft;){if(oe>=an)return-1;if(An=De.charCodeAt(wt++),An===37){if(An=De.charAt(wt++),He=I[An in i$?De.charAt(wt++):An],!He||(oe=He(ie,Ae,oe))<0)return-1}else if(An!=Ae.charCodeAt(oe++))return-1}return oe}function q(ie,De,Ae){var oe=c.exec(De.slice(Ae));return oe?(ie.p=u.get(oe[0].toLowerCase()),Ae+oe[0].length):-1}function $(ie,De,Ae){var oe=h.exec(De.slice(Ae));return oe?(ie.w=m.get(oe[0].toLowerCase()),Ae+oe[0].length):-1}function D(ie,De,Ae){var oe=d.exec(De.slice(Ae));return oe?(ie.w=f.get(oe[0].toLowerCase()),Ae+oe[0].length):-1}function O(ie,De,Ae){var oe=x.exec(De.slice(Ae));return oe?(ie.m=C.get(oe[0].toLowerCase()),Ae+oe[0].length):-1}function j(ie,De,Ae){var oe=y.exec(De.slice(Ae));return oe?(ie.m=g.get(oe[0].toLowerCase()),Ae+oe[0].length):-1}function N(ie,De,Ae){return H(ie,t,De,Ae)}function E(ie,De,Ae){return H(ie,r,De,Ae)}function A(ie,De,Ae){return H(ie,n,De,Ae)}function R(ie){return s[ie.getDay()]}function B(ie){return o[ie.getDay()]}function P(ie){return l[ie.getMonth()]}function L(ie){return a[ie.getMonth()]}function Z(ie){return i[+(ie.getHours()>=12)]}function ee(ie){return 1+~~(ie.getMonth()/3)}function K(ie){return s[ie.getUTCDay()]}function se(ie){return o[ie.getUTCDay()]}function ke(ie){return l[ie.getUTCMonth()]}function Me(ie){return a[ie.getUTCMonth()]}function pe(ie){return i[+(ie.getUTCHours()>=12)]}function ze(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var De=T(ie+="",w);return De.toString=function(){return ie},De},parse:function(ie){var De=z(ie+="",!1);return De.toString=function(){return ie},De},utcFormat:function(ie){var De=T(ie+="",b);return De.toString=function(){return ie},De},utcParse:function(ie){var De=z(ie+="",!0);return De.toString=function(){return ie},De}}}var i$={"-":"",_:" ",0:"0"},lr=/^\s*\d+/,_he=/^%/,Che=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(t)+i:i)}function Dhe(e){return e.replace(Che,"\\$&")}function Wm(e){return new RegExp("^(?:"+e.map(Dhe).join("|")+")","i")}function Gm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function She(e,t,r){var n=lr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Mhe(e,t,r){var n=lr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Ehe(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function The(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function khe(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function o$(e,t,r){var n=lr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function s$(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Ihe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Ahe(e,t,r){var n=lr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Ohe(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function a$(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Phe(e,t,r){var n=lr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function l$(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Nhe(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Rhe(e,t,r){var n=lr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Fhe(e,t,r){var n=lr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lhe(e,t,r){var n=lr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Vhe(e,t,r){var n=_he.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function jhe(e,t,r){var n=lr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function zhe(e,t,r){var n=lr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function c$(e,t){return Ut(e.getDate(),t,2)}function $he(e,t){return Ut(e.getHours(),t,2)}function Bhe(e,t){return Ut(e.getHours()%12||12,t,2)}function Uhe(e,t){return Ut(1+ca.count(Gi(e),e),t,3)}function p$(e,t){return Ut(e.getMilliseconds(),t,3)}function Hhe(e,t){return p$(e,t)+"000"}function qhe(e,t){return Ut(e.getMonth()+1,t,2)}function Whe(e,t){return Ut(e.getMinutes(),t,2)}function Ghe(e,t){return Ut(e.getSeconds(),t,2)}function Yhe(e){var t=e.getDay();return t===0?7:t}function Zhe(e,t){return Ut(Wi.count(Gi(e)-1,e),t,2)}function m$(e){var t=e.getDay();return t>=4||t===0?ua(e):ua.ceil(e)}function Qhe(e,t){return e=m$(e),Ut(ua.count(Gi(e),e)+(Gi(e).getDay()===4),t,2)}function Xhe(e){return e.getDay()}function Khe(e,t){return Ut(Yc.count(Gi(e)-1,e),t,2)}function Jhe(e,t){return Ut(e.getFullYear()%100,t,2)}function epe(e,t){return e=m$(e),Ut(e.getFullYear()%100,t,2)}function tpe(e,t){return Ut(e.getFullYear()%1e4,t,4)}function npe(e,t){var r=e.getDay();return e=r>=4||r===0?ua(e):ua.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function rpe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function u$(e,t){return Ut(e.getUTCDate(),t,2)}function ipe(e,t){return Ut(e.getUTCHours(),t,2)}function ope(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function spe(e,t){return Ut(1+da.count(Yi(e),e),t,3)}function g$(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function ape(e,t){return g$(e,t)+"000"}function lpe(e,t){return Ut(e.getUTCMonth()+1,t,2)}function cpe(e,t){return Ut(e.getUTCMinutes(),t,2)}function upe(e,t){return Ut(e.getUTCSeconds(),t,2)}function dpe(e){var t=e.getUTCDay();return t===0?7:t}function fpe(e,t){return Ut(ms.count(Yi(e)-1,e),t,2)}function y$(e){var t=e.getUTCDay();return t>=4||t===0?fa(e):fa.ceil(e)}function hpe(e,t){return e=y$(e),Ut(fa.count(Yi(e),e)+(Yi(e).getUTCDay()===4),t,2)}function ppe(e){return e.getUTCDay()}function mpe(e,t){return Ut(Qc.count(Yi(e)-1,e),t,2)}function gpe(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function ype(e,t){return e=y$(e),Ut(e.getUTCFullYear()%100,t,2)}function vpe(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function xpe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?fa(e):fa.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function bpe(){return"+0000"}function d$(){return"%"}function f$(e){return+e}function h$(e){return Math.floor(+e/1e3)}var Cf,To,KD,Ir,Zm;Z3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Z3(e){return Cf=Ym(e),To=Cf.format,KD=Cf.parse,Ir=Cf.utcFormat,Zm=Cf.utcParse,Cf}var JD="%Y-%m-%dT%H:%M:%S.%LZ";function wpe(e){return e.toISOString()}var _pe=Date.prototype.toISOString?wpe:Ir(JD),Q3=_pe;function Cpe(e){var t=new Date(e);return isNaN(t)?null:t}var Dpe=+new Date("2000-01-01T00:00:00.000Z")?Cpe:Zm(JD),X3=Dpe;function Spe(e){return new Date(e)}function Mpe(e){return e instanceof Date?+e:+new Date(+e)}function K3(e,t,r,n,i,o,s,a,l,c){var u=Hc(),d=u.invert,f=u.domain,h=c(".%L"),m=c(":%S"),y=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),C=c("%b %d"),w=c("%B"),b=c("%Y");function I(T){return(l(T)<T?h:a(T)<T?m:s(T)<T?y:o(T)<T?g:n(T)<T?i(T)<T?x:C:r(T)<T?w:b)(T)}return u.invert=function(T){return new Date(d(T))},u.domain=function(T){return arguments.length?f(Array.from(T,Mpe)):f().map(Spe)},u.ticks=function(T){var z=f();return e(z[0],z[z.length-1],T??10)},u.tickFormat=function(T,z){return z==null?I:c(z)},u.nice=function(T){var z=f();return(!T||typeof T.range!="function")&&(T=t(z[0],z[z.length-1],T??10)),T?f(jm(z,T)):u},u.copy=function(){return hs(u,K3(e,t,r,n,i,o,s,a,l,c))},u}function hi(){return Cn.apply(K3(G3,Y3,Gi,xf,Wi,ca,vf,yf,qi,To).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J3(){return Cn.apply(K3(q3,W3,Yi,_f,ms,da,wf,bf,qi,Ir).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ex(){var e=0,t=1,r,n,i,o,s=nr,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(o(d)-r)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,r=o(e=+e),n=o(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(s=d,c):s};function u(d){return function(f){var h,m;return arguments.length?([h,m]=f,s=d(h,m),c):[s(0),s(1)]}}return c.range=u(Xt),c.rangeRound=u(cl),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return o=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),c}}function ha(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Tn(){var e=Gr(ex()(nr));return e.copy=function(){return ha(e,Tn())},Ui.apply(e,arguments)}function eS(){var e=zm(ex()).domain([1,10]);return e.copy=function(){return ha(e,eS()).base(e.base())},Ui.apply(e,arguments)}function tS(){var e=$m(ex());return e.copy=function(){return ha(e,tS()).constant(e.constant())},Ui.apply(e,arguments)}function tx(){var e=Bm(ex());return e.copy=function(){return ha(e,tx()).exponent(e.exponent())},Ui.apply(e,arguments)}function v$(){return tx.apply(null,arguments).exponent(.5)}mn();function nx(){var e=[],t=nr;function r(n){if(n!=null&&!isNaN(n=+n))return t(($r(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(at),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>bo(e,o/n))},r.copy=function(){return nx(t).domain(e)},Ui.apply(r,arguments)}function rx(){var e=0,t=.5,r=1,n=1,i,o,s,a,l,c=nr,u,d=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-o)*(n*y<n*o?a:l),c(d?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,r]=y,i=u(e=+e),o=u(t=+t),s=u(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,h):[e,t,r]},h.clamp=function(y){return arguments.length?(d=!!y,h):d},h.interpolator=function(y){return arguments.length?(c=y,h):c};function m(y){return function(g){var x,C,w;return arguments.length?([x,C,w]=g,c=Xp(y,[x,C,w]),h):[c(0),c(.5),c(1)]}}return h.range=m(Xt),h.rangeRound=m(cl),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return u=y,i=y(e),o=y(t),s=y(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,h}}function ix(){var e=Gr(rx()(nr));return e.copy=function(){return ha(e,ix())},Ui.apply(e,arguments)}function nS(){var e=zm(rx()).domain([.1,1,10]);return e.copy=function(){return ha(e,nS()).base(e.base())},Ui.apply(e,arguments)}function rS(){var e=$m(rx());return e.copy=function(){return ha(e,rS()).constant(e.constant())},Ui.apply(e,arguments)}function ox(){var e=Bm(rx());return e.copy=function(){return ha(e,ox()).exponent(e.exponent())},Ui.apply(e,arguments)}function x$(){return ox.apply(null,arguments).exponent(.5)}function ye(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var kn=ye("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");var sx=ye("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666");var ax=ye("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666");var Df=ye("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");var b$=ye("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");var w$=ye("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc");var lx=ye("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999");var Qm=ye("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3");var cx=ye("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");var Xc=ye("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");var je=e=>N2(e[e.length-1]);var iS=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ye),_$=je(iS);var oS=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ye),C$=je(oS);var sS=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ye),D$=je(sS);var aS=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ye),S$=je(aS);var Xm=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ye),ux=je(Xm);var lS=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ye),M$=je(lS);var cS=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ye),E$=je(cS);var uS=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ye),Km=je(uS);var Jm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ye),Sf=je(Jm);var dS=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ye),T$=je(dS);var fS=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ye),k$=je(fS);var hS=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ye),I$=je(hS);var pS=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ye),A$=je(pS);var mS=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ye),O$=je(mS);var gS=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ye),P$=je(gS);var yS=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ye),N$=je(yS);var vS=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ye),R$=je(vS);var xS=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ye),F$=je(xS);var bS=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ye),L$=je(bS);var wS=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ye),V$=je(wS);var _S=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ye),dx=je(_S);var CS=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ye),Mf=je(CS);var DS=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ye),fx=je(DS);var SS=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ye),j$=je(SS);var MS=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ye),z$=je(MS);var ES=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ye),Ef=je(ES);var TS=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ye),$$=je(TS);function B$(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var U$=vc(Mr(300,.5,0),Mr(-240,.5,1));var H$=vc(Mr(-100,.75,.35),Mr(80,1.5,.8)),q$=vc(Mr(260,.75,.35),Mr(80,1.5,.8)),hx=Mr();function W$(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return hx.h=360*e-100,hx.s=1.5-1.5*t,hx.l=.8-.9*t,hx+""}var px=Zs(),Epe=Math.PI/3,Tpe=Math.PI*2/3;function G$(e){var t;return e=(.5-e)*Math.PI,px.r=255*(t=Math.sin(e))*t,px.g=255*(t=Math.sin(e+Epe))*t,px.b=255*(t=Math.sin(e+Tpe))*t,px+""}function Y$(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function mx(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}var Ar=mx(ye("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Z$=mx(ye("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Q$=mx(ye("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),X$=mx(ye("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Qe(e){return function(){return e}}var kS=Math.abs,vr=Math.atan2,Sl=Math.cos,K$=Math.max,gx=Math.min,ko=Math.sin,Kc=Math.sqrt,cr=1e-12,Io=Math.PI,eg=Io/2,Zi=2*Io;function J$(e){return e>1?0:e<-1?Io:Math.acos(e)}function IS(e){return e>=1?eg:e<=-1?-eg:Math.asin(e)}function kpe(e){return e.innerRadius}function Ipe(e){return e.outerRadius}function Ape(e){return e.startAngle}function Ope(e){return e.endAngle}function Ppe(e){return e&&e.padAngle}function Npe(e,t,r,n,i,o,s,a){var l=r-e,c=n-t,u=s-i,d=a-o,f=d*l-u*c;if(!(f*f<cr))return f=(u*(t-o)-d*(e-i))/f,[e+f*l,t+f*c]}function yx(e,t,r,n,i,o,s){var a=e-r,l=t-n,c=(s?o:-o)/Kc(a*a+l*l),u=c*l,d=-c*a,f=e+u,h=t+d,m=r+u,y=n+d,g=(f+m)/2,x=(h+y)/2,C=m-f,w=y-h,b=C*C+w*w,I=i-o,T=f*y-m*h,z=(w<0?-1:1)*Kc(K$(0,I*I*b-T*T)),H=(T*w-C*z)/b,q=(-T*C-w*z)/b,$=(T*w+C*z)/b,D=(-T*C+w*z)/b,O=H-g,j=q-x,N=$-g,E=D-x;return O*O+j*j>N*N+E*E&&(H=$,q=D),{cx:H,cy:q,x01:-u,y01:-d,x11:H*(i/I-1),y11:q*(i/I-1)}}function sn(){var e=kpe,t=Ipe,r=Qe(0),n=null,i=Ape,o=Ope,s=Ppe,a=null;function l(){var c,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-eg,m=o.apply(this,arguments)-eg,y=kS(m-h),g=m>h;if(a||(a=c=ui()),f<d&&(u=f,f=d,d=u),!(f>cr))a.moveTo(0,0);else if(y>Zi-cr)a.moveTo(f*Sl(h),f*ko(h)),a.arc(0,0,f,h,m,!g),d>cr&&(a.moveTo(d*Sl(m),d*ko(m)),a.arc(0,0,d,m,h,g));else{var x=h,C=m,w=h,b=m,I=y,T=y,z=s.apply(this,arguments)/2,H=z>cr&&(n?+n.apply(this,arguments):Kc(d*d+f*f)),q=gx(kS(f-d)/2,+r.apply(this,arguments)),$=q,D=q,O,j;if(H>cr){var N=IS(H/d*ko(z)),E=IS(H/f*ko(z));(I-=N*2)>cr?(N*=g?1:-1,w+=N,b-=N):(I=0,w=b=(h+m)/2),(T-=E*2)>cr?(E*=g?1:-1,x+=E,C-=E):(T=0,x=C=(h+m)/2)}var A=f*Sl(x),R=f*ko(x),B=d*Sl(b),P=d*ko(b);if(q>cr){var L=f*Sl(C),Z=f*ko(C),ee=d*Sl(w),K=d*ko(w),se;if(y<Io&&(se=Npe(A,R,ee,K,L,Z,B,P))){var ke=A-se[0],Me=R-se[1],pe=L-se[0],ze=Z-se[1],ie=1/ko(J$((ke*pe+Me*ze)/(Kc(ke*ke+Me*Me)*Kc(pe*pe+ze*ze)))/2),De=Kc(se[0]*se[0]+se[1]*se[1]);$=gx(q,(d-De)/(ie-1)),D=gx(q,(f-De)/(ie+1))}}T>cr?D>cr?(O=yx(ee,K,A,R,f,D,g),j=yx(L,Z,B,P,f,D,g),a.moveTo(O.cx+O.x01,O.cy+O.y01),D<q?a.arc(O.cx,O.cy,D,vr(O.y01,O.x01),vr(j.y01,j.x01),!g):(a.arc(O.cx,O.cy,D,vr(O.y01,O.x01),vr(O.y11,O.x11),!g),a.arc(0,0,f,vr(O.cy+O.y11,O.cx+O.x11),vr(j.cy+j.y11,j.cx+j.x11),!g),a.arc(j.cx,j.cy,D,vr(j.y11,j.x11),vr(j.y01,j.x01),!g))):(a.moveTo(A,R),a.arc(0,0,f,x,C,!g)):a.moveTo(A,R),!(d>cr)||!(I>cr)?a.lineTo(B,P):$>cr?(O=yx(B,P,L,Z,d,-$,g),j=yx(A,R,ee,K,d,-$,g),a.lineTo(O.cx+O.x01,O.cy+O.y01),$<q?a.arc(O.cx,O.cy,$,vr(O.y01,O.x01),vr(j.y01,j.x01),!g):(a.arc(O.cx,O.cy,$,vr(O.y01,O.x01),vr(O.y11,O.x11),!g),a.arc(0,0,d,vr(O.cy+O.y11,O.cx+O.x11),vr(j.cy+j.y11,j.cx+j.x11),g),a.arc(j.cx,j.cy,$,vr(j.y11,j.x11),vr(j.y01,j.x01),!g))):a.arc(0,0,d,b,w,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-Io/2;return[Sl(u)*c,ko(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:Qe(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:Qe(+c),l):t},l.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:Qe(+c),l):r},l.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:Qe(+c),l):n},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:Qe(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:Qe(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:Qe(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}var eB=Array.prototype.slice;function Ml(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tB(e){this._context=e}tB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pi(e){return new tB(e)}function Tf(e){return e[0]}function kf(e){return e[1]}function Yn(e,t){var r=Qe(!0),n=null,i=pi,o=null;e=typeof e=="function"?e:e===void 0?Tf:Qe(e),t=typeof t=="function"?t:t===void 0?kf:Qe(t);function s(a){var l,c=(a=Ml(a)).length,u,d=!1,f;for(n==null&&(o=i(f=ui())),l=0;l<=c;++l)!(l<c&&r(u=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,l,a),+t(u,l,a));if(f)return o=null,f+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:Qe(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:Qe(+a),s):t},s.defined=function(a){return arguments.length?(r=typeof a=="function"?a:Qe(!!a),s):r},s.curve=function(a){return arguments.length?(i=a,n!=null&&(o=i(n)),s):i},s.context=function(a){return arguments.length?(a==null?n=o=null:o=i(n=a),s):n},s}function gs(e,t,r){var n=null,i=Qe(!0),o=null,s=pi,a=null;e=typeof e=="function"?e:e===void 0?Tf:Qe(+e),t=typeof t=="function"?t:t===void 0?Qe(0):Qe(+t),r=typeof r=="function"?r:r===void 0?kf:Qe(+r);function l(u){var d,f,h,m=(u=Ml(u)).length,y,g=!1,x,C=new Array(m),w=new Array(m);for(o==null&&(a=s(x=ui())),d=0;d<=m;++d){if(!(d<m&&i(y=u[d],d,u))===g)if(g=!g)f=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=d-1;h>=f;--h)a.point(C[h],w[h]);a.lineEnd(),a.areaEnd()}g&&(C[d]=+e(y,d,u),w[d]=+t(y,d,u),a.point(n?+n(y,d,u):C[d],r?+r(y,d,u):w[d]))}if(x)return a=null,x+""||null}function c(){return Yn().defined(i).curve(s).context(o)}return l.x=function(u){return arguments.length?(e=typeof u=="function"?u:Qe(+u),n=null,l):e},l.x0=function(u){return arguments.length?(e=typeof u=="function"?u:Qe(+u),l):e},l.x1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Qe(+u),l):n},l.y=function(u){return arguments.length?(t=typeof u=="function"?u:Qe(+u),r=null,l):t},l.y0=function(u){return arguments.length?(t=typeof u=="function"?u:Qe(+u),l):t},l.y1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Qe(+u),l):r},l.lineX0=l.lineY0=function(){return c().x(e).y(t)},l.lineY1=function(){return c().x(e).y(r)},l.lineX1=function(){return c().x(n).y(t)},l.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Qe(!!u),l):i},l.curve=function(u){return arguments.length?(s=u,o!=null&&(a=s(o)),l):s},l.context=function(u){return arguments.length?(u==null?o=a=null:a=s(o=u),l):o},l}function nB(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function rB(e){return e}function Yr(){var e=rB,t=nB,r=null,n=Qe(0),i=Qe(Zi),o=Qe(0);function s(a){var l,c=(a=Ml(a)).length,u,d,f=0,h=new Array(c),m=new Array(c),y=+n.apply(this,arguments),g=Math.min(Zi,Math.max(-Zi,i.apply(this,arguments)-y)),x,C=Math.min(Math.abs(g)/c,o.apply(this,arguments)),w=C*(g<0?-1:1),b;for(l=0;l<c;++l)(b=m[h[l]=l]=+e(a[l],l,a))>0&&(f+=b);for(t!=null?h.sort(function(I,T){return t(m[I],m[T])}):r!=null&&h.sort(function(I,T){return r(a[I],a[T])}),l=0,d=f?(g-c*w)/f:0;l<c;++l,y=x)u=h[l],b=m[u],x=y+(b>0?b*d:0)+w,m[u]={data:a[u],index:l,value:b,startAngle:y,endAngle:x,padAngle:C};return m}return s.value=function(a){return arguments.length?(e=typeof a=="function"?a:Qe(+a),s):e},s.sortValues=function(a){return arguments.length?(t=a,r=null,s):t},s.sort=function(a){return arguments.length?(r=a,t=null,s):r},s.startAngle=function(a){return arguments.length?(n=typeof a=="function"?a:Qe(+a),s):n},s.endAngle=function(a){return arguments.length?(i=typeof a=="function"?a:Qe(+a),s):i},s.padAngle=function(a){return arguments.length?(o=typeof a=="function"?a:Qe(+a),s):o},s}var vx=If(pi);function iB(e){this._curve=e}iB.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function If(e){function t(r){return new iB(e(r))}return t._curve=e,t}function Af(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(r){return arguments.length?t(If(r)):t()._curve},e}function AS(){return Af(Yn().curve(vx))}function OS(){var e=gs().curve(vx),t=e.curve,r=e.lineX0,n=e.lineX1,i=e.lineY0,o=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return Af(r())},delete e.lineX0,e.lineEndAngle=function(){return Af(n())},delete e.lineX1,e.lineInnerRadius=function(){return Af(i())},delete e.lineY0,e.lineOuterRadius=function(){return Af(o())},delete e.lineY1,e.curve=function(s){return arguments.length?t(If(s)):t()._curve},e}function Or(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}function Rpe(e){return e.source}function Fpe(e){return e.target}function PS(e){var t=Rpe,r=Fpe,n=Tf,i=kf,o=null;function s(){var a,l=eB.call(arguments),c=t.apply(this,l),u=r.apply(this,l);if(o||(o=a=ui()),e(o,+n.apply(this,(l[0]=c,l)),+i.apply(this,l),+n.apply(this,(l[0]=u,l)),+i.apply(this,l)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(r=a,s):r},s.x=function(a){return arguments.length?(n=typeof a=="function"?a:Qe(+a),s):n},s.y=function(a){return arguments.length?(i=typeof a=="function"?a:Qe(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function Lpe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function Vpe(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t,r=(r+i)/2,n,r,n,i)}function jpe(e,t,r,n,i){var o=Or(t,r),s=Or(t,r=(r+i)/2),a=Or(n,r),l=Or(n,i);e.moveTo(o[0],o[1]),e.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function tg(){return PS(Lpe)}function xx(){return PS(Vpe)}function oB(){var e=PS(jpe);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var ng={draw:function(e,t){var r=Math.sqrt(t/Io);e.moveTo(r,0),e.arc(0,0,r,0,Zi)}};var bx={draw:function(e,t){var r=Math.sqrt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}};var sB=Math.sqrt(.3333333333333333),zpe=sB*2,wx={draw:function(e,t){var r=Math.sqrt(t/zpe),n=r*sB;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}};var $pe=.8908130915292852,aB=Math.sin(Io/10)/Math.sin(7*Io/10),Bpe=Math.sin(Zi/10)*aB,Upe=-Math.cos(Zi/10)*aB,_x={draw:function(e,t){var r=Math.sqrt(t*$pe),n=Bpe*r,i=Upe*r;e.moveTo(0,-r),e.lineTo(n,i);for(var o=1;o<5;++o){var s=Zi*o/5,a=Math.cos(s),l=Math.sin(s);e.lineTo(l*r,-a*r),e.lineTo(a*n-l*i,l*n+a*i)}e.closePath()}};var Cx={draw:function(e,t){var r=Math.sqrt(t),n=-r/2;e.rect(n,n,r,r)}};var NS=Math.sqrt(3),Dx={draw:function(e,t){var r=-Math.sqrt(t/(NS*3));e.moveTo(0,r*2),e.lineTo(-NS*r,-r),e.lineTo(NS*r,-r),e.closePath()}};var Qi=-.5,Xi=Math.sqrt(3)/2,RS=1/Math.sqrt(12),Hpe=(RS/2+1)*3,Sx={draw:function(e,t){var r=Math.sqrt(t/Hpe),n=r/2,i=r*RS,o=n,s=r*RS+r,a=-o,l=s;e.moveTo(n,i),e.lineTo(o,s),e.lineTo(a,l),e.lineTo(Qi*n-Xi*i,Xi*n+Qi*i),e.lineTo(Qi*o-Xi*s,Xi*o+Qi*s),e.lineTo(Qi*a-Xi*l,Xi*a+Qi*l),e.lineTo(Qi*n+Xi*i,Qi*i-Xi*n),e.lineTo(Qi*o+Xi*s,Qi*s-Xi*o),e.lineTo(Qi*a+Xi*l,Qi*l-Xi*a),e.closePath()}};var lB=[ng,bx,wx,Cx,_x,Dx,Sx];function cB(e,t){var r=null;e=typeof e=="function"?e:Qe(e||ng),t=typeof t=="function"?t:Qe(t===void 0?64:+t);function n(){var i;if(r||(r=i=ui()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return n.type=function(i){return arguments.length?(e=typeof i=="function"?i:Qe(i),n):e},n.size=function(i){return arguments.length?(t=typeof i=="function"?i:Qe(+i),n):t},n.context=function(i){return arguments.length?(r=i??null,n):r},n}function Ki(){}function Of(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rg(e){this._context=e}rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Of(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Of(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uB(e){return new rg(e)}function dB(e){this._context=e}dB.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Of(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fB(e){return new dB(e)}function hB(e){this._context=e}hB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Of(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pB(e){return new hB(e)}var Mx=class{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}};function mB(e){return new Mx(e,!0)}function gB(e){return new Mx(e,!1)}function yB(e,t){this._basis=new rg(e),this._beta=t}yB.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,s=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var vB=function e(t){function r(n){return t===1?new rg(n):new yB(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Pf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function Ex(e,t){this._context=e,this._k=(1-t)/6}Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var ig=function e(t){function r(n){return new Ex(n,t)}return r.tension=function(n){return e(+n)},r}(0);function Tx(e,t){this._context=e,this._k=(1-t)/6}Tx.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var xB=function e(t){function r(n){return new Tx(n,t)}return r.tension=function(n){return e(+n)},r}(0);function kx(e,t){this._context=e,this._k=(1-t)/6}kx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var bB=function e(t){function r(n){return new kx(n,t)}return r.tension=function(n){return e(+n)},r}(0);function og(e,t,r){var n=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>cr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>cr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(n,i,o,s,e._x2,e._y2)}function wB(e,t){this._context=e,this._alpha=t}wB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:og(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _B=function e(t){function r(n){return t?new wB(n,t):new Ex(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function CB(e,t){this._context=e,this._alpha=t}CB.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:og(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var DB=function e(t){function r(n){return t?new CB(n,t):new Tx(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function SB(e,t){this._context=e,this._alpha=t}SB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:og(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var MB=function e(t){function r(n){return t?new SB(n,t):new kx(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function EB(e){this._context=e}EB.prototype={areaStart:Ki,areaEnd:Ki,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TB(e){return new EB(e)}function kB(e){return e<0?-1:1}function IB(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(kB(o)+kB(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function AB(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function FS(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function Ix(e){this._context=e}Ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FS(this,this._t0,AB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,FS(this,AB(this,r=IB(this,e,t)),r);break;default:FS(this,this._t0,r=IB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function OB(e){this._context=new PB(e)}(OB.prototype=Object.create(Ix.prototype)).point=function(e,t){Ix.prototype.point.call(this,t,e)};function PB(e){this._context=e}PB.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function Ax(e){return new Ix(e)}function NB(e){return new OB(e)}function FB(e){this._context=e}FB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=RB(e),i=RB(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RB(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function LB(e){return new FB(e)}function Ox(e,t){this._context=e,this._t=t}Ox.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function VB(e){return new Ox(e,.5)}function jB(e){return new Ox(e,0)}function zB(e){return new Ox(e,1)}function Ao(e,t){if((s=e.length)>1)for(var r=1,n,i,o=e[t[0]],s,a=o.length;r<s;++r)for(i=o,o=e[t[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Oo(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qpe(e,t){return e[t]}function Wpe(e){let t=[];return t.key=e,t}function ys(){var e=Qe([]),t=Oo,r=Ao,n=qpe;function i(o){var s=Array.from(e.apply(this,arguments),Wpe),a,l=s.length,c=-1,u;for(let d of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(d,s[a].key,c,o)]).data=d;for(a=0,u=Ml(t(s));a<l;++a)s[u[a]].index=a;return r(s,u),s}return i.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Qe(Array.from(o)),i):e},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:Qe(+o),i):n},i.order=function(o){return arguments.length?(t=o==null?Oo:typeof o=="function"?o:Qe(Array.from(o)),i):t},i.offset=function(o){return arguments.length?(r=o??Ao,i):r},i}function $B(e,t){if((n=e.length)>0){for(var r,n,i=0,o=e[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}Ao(e,t)}}function BB(e,t){if((l=e.length)>0)for(var r,n=0,i,o,s,a,l,c=e[t[0]].length;n<c;++n)for(s=a=0,r=0;r<l;++r)(o=(i=e[t[r]][n])[1]-i[0])>0?(i[0]=s,i[1]=s+=o):o<0?(i[1]=a,i[0]=a+=o):(i[0]=0,i[1]=o)}function UB(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=e[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}Ao(e,t)}}function HB(e,t){if(!(!((s=e.length)>0)||!((o=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,c=0;a<s;++a){for(var u=e[t[a]],d=u[n][1]||0,f=u[n-1][1]||0,h=(d-f)/2,m=0;m<a;++m){var y=e[t[m]],g=y[n][1]||0,x=y[n-1][1]||0;h+=g-x}l+=d,c+=h*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,Ao(e,t)}}function Px(e){var t=e.map(Gpe);return Oo(e).sort(function(r,n){return t[r]-t[n]})}function Gpe(e){for(var t=-1,r=0,n=e.length,i,o=-1/0;++t<n;)(i=+e[t][1])>o&&(o=i,r=t);return r}function Nx(e){var t=e.map(LS);return Oo(e).sort(function(r,n){return t[r]-t[n]})}function LS(e){for(var t=0,r=-1,n=e.length,i;++r<n;)(i=+e[r][1])&&(t+=i);return t}function qB(e){return Nx(e).reverse()}function WB(e){var t=e.length,r,n,i=e.map(LS),o=Px(e),s=0,a=0,l=[],c=[];for(r=0;r<t;++r)n=o[r],s<a?(s+=i[n],l.push(n)):(a+=i[n],c.push(n));return c.reverse().concat(l)}function GB(e){return Oo(e).reverse()}Bd();Ja();var sg=e=>()=>e;function VS(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function vs(e,t,r){this.k=e,this.x=t,this.y=r}vs.prototype={constructor:vs,scale:function(e){return e===1?this:new vs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nf=new vs(1,0,0);Rx.prototype=vs.prototype;function Rx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Nf;return e.__zoom}function Fx(e){e.stopImmediatePropagation()}function Rf(e){e.preventDefault(),e.stopImmediatePropagation()}function Ype(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Zpe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function YB(){return this.__zoom||Nf}function Qpe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Xpe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kpe(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],s=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function mi(){var e=Ype,t=Zpe,r=Kpe,n=Qpe,i=Xpe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=B2,c=Ei("start","zoom","end"),u,d,f,h=500,m=150,y=0,g=10;function x(N){N.property("__zoom",YB).on("wheel.zoom",H).on("mousedown.zoom",q).on("dblclick.zoom",$).filter(i).on("touchstart.zoom",D).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(N,E,A,R){var B=N.selection?N.selection():N;B.property("__zoom",YB),N!==B?I(N,E,A,R):B.interrupt().each(function(){T(this,arguments).event(R).start().zoom(null,typeof E=="function"?E.apply(this,arguments):E).end()})},x.scaleBy=function(N,E,A,R){x.scaleTo(N,function(){var B=this.__zoom.k,P=typeof E=="function"?E.apply(this,arguments):E;return B*P},A,R)},x.scaleTo=function(N,E,A,R){x.transform(N,function(){var B=t.apply(this,arguments),P=this.__zoom,L=A==null?b(B):typeof A=="function"?A.apply(this,arguments):A,Z=P.invert(L),ee=typeof E=="function"?E.apply(this,arguments):E;return r(w(C(P,ee),L,Z),B,s)},A,R)},x.translateBy=function(N,E,A,R){x.transform(N,function(){return r(this.__zoom.translate(typeof E=="function"?E.apply(this,arguments):E,typeof A=="function"?A.apply(this,arguments):A),t.apply(this,arguments),s)},null,R)},x.translateTo=function(N,E,A,R,B){x.transform(N,function(){var P=t.apply(this,arguments),L=this.__zoom,Z=R==null?b(P):typeof R=="function"?R.apply(this,arguments):R;return r(Nf.translate(Z[0],Z[1]).scale(L.k).translate(typeof E=="function"?-E.apply(this,arguments):-E,typeof A=="function"?-A.apply(this,arguments):-A),P,s)},R,B)};function C(N,E){return E=Math.max(o[0],Math.min(o[1],E)),E===N.k?N:new vs(E,N.x,N.y)}function w(N,E,A){var R=E[0]-A[0]*N.k,B=E[1]-A[1]*N.k;return R===N.x&&B===N.y?N:new vs(N.k,R,B)}function b(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function I(N,E,A,R){N.on("start.zoom",function(){T(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(R).end()}).tween("zoom",function(){var B=this,P=arguments,L=T(B,P).event(R),Z=t.apply(B,P),ee=A==null?b(Z):typeof A=="function"?A.apply(B,P):A,K=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),se=B.__zoom,ke=typeof E=="function"?E.apply(B,P):E,Me=l(se.invert(ee).concat(K/se.k),ke.invert(ee).concat(K/ke.k));return function(pe){if(pe===1)pe=ke;else{var ze=Me(pe),ie=K/ze[2];pe=new vs(ie,ee[0]-ze[0]*ie,ee[1]-ze[1]*ie)}L.zoom(null,pe)}})}function T(N,E,A){return!A&&N.__zooming||new z(N,E)}function z(N,E){this.that=N,this.args=E,this.active=0,this.sourceEvent=null,this.extent=t.apply(N,E),this.taps=0}z.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,E){return this.mouse&&N!=="mouse"&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var E=W(this.that).datum();c.call(N,this.that,new VS(N,{sourceEvent:this.sourceEvent,target:x,type:N,transform:this.that.__zoom,dispatch:c}),E)}};function H(N,...E){if(!e.apply(this,arguments))return;var A=T(this,E).event(N),R=this.__zoom,B=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,n.apply(this,arguments)))),P=or(N);if(A.wheel)(A.mouse[0][0]!==P[0]||A.mouse[0][1]!==P[1])&&(A.mouse[1]=R.invert(A.mouse[0]=P)),clearTimeout(A.wheel);else{if(R.k===B)return;A.mouse=[P,R.invert(P)],_o(this),A.start()}Rf(N),A.wheel=setTimeout(L,m),A.zoom("mouse",r(w(C(R,B),A.mouse[0],A.mouse[1]),A.extent,s));function L(){A.wheel=null,A.end()}}function q(N,...E){if(f||!e.apply(this,arguments))return;var A=T(this,E,!0).event(N),R=W(N.view).on("mousemove.zoom",ee,!0).on("mouseup.zoom",K,!0),B=or(N,P),P=N.currentTarget,L=N.clientX,Z=N.clientY;rl(N.view),Fx(N),A.mouse=[B,this.__zoom.invert(B)],_o(this),A.start();function ee(se){if(Rf(se),!A.moved){var ke=se.clientX-L,Me=se.clientY-Z;A.moved=ke*ke+Me*Me>y}A.event(se).zoom("mouse",r(w(A.that.__zoom,A.mouse[0]=or(se,P),A.mouse[1]),A.extent,s))}function K(se){R.on("mousemove.zoom mouseup.zoom",null),il(se.view,A.moved),Rf(se),A.event(se).end()}}function $(N,...E){if(e.apply(this,arguments)){var A=this.__zoom,R=or(N.changedTouches?N.changedTouches[0]:N,this),B=A.invert(R),P=A.k*(N.shiftKey?.5:2),L=r(w(C(A,P),R,B),t.apply(this,E),s);Rf(N),a>0?W(this).transition().duration(a).call(I,L,R,N):W(this).call(x.transform,L,R,N)}}function D(N,...E){if(e.apply(this,arguments)){var A=N.touches,R=A.length,B=T(this,E,N.changedTouches.length===R).event(N),P,L,Z,ee;for(Fx(N),L=0;L<R;++L)Z=A[L],ee=or(Z,this),ee=[ee,this.__zoom.invert(ee),Z.identifier],B.touch0?!B.touch1&&B.touch0[2]!==ee[2]&&(B.touch1=ee,B.taps=0):(B.touch0=ee,P=!0,B.taps=1+!!u);u&&(u=clearTimeout(u)),P&&(B.taps<2&&(d=ee[0],u=setTimeout(function(){u=null},h)),_o(this),B.start())}}function O(N,...E){if(this.__zooming){var A=T(this,E).event(N),R=N.changedTouches,B=R.length,P,L,Z,ee;for(Rf(N),P=0;P<B;++P)L=R[P],Z=or(L,this),A.touch0&&A.touch0[2]===L.identifier?A.touch0[0]=Z:A.touch1&&A.touch1[2]===L.identifier&&(A.touch1[0]=Z);if(L=A.that.__zoom,A.touch1){var K=A.touch0[0],se=A.touch0[1],ke=A.touch1[0],Me=A.touch1[1],pe=(pe=ke[0]-K[0])*pe+(pe=ke[1]-K[1])*pe,ze=(ze=Me[0]-se[0])*ze+(ze=Me[1]-se[1])*ze;L=C(L,Math.sqrt(pe/ze)),Z=[(K[0]+ke[0])/2,(K[1]+ke[1])/2],ee=[(se[0]+Me[0])/2,(se[1]+Me[1])/2]}else if(A.touch0)Z=A.touch0[0],ee=A.touch0[1];else return;A.zoom("touch",r(w(L,Z,ee),A.extent,s))}}function j(N,...E){if(this.__zooming){var A=T(this,E).event(N),R=N.changedTouches,B=R.length,P,L;for(Fx(N),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),P=0;P<B;++P)L=R[P],A.touch0&&A.touch0[2]===L.identifier?delete A.touch0:A.touch1&&A.touch1[2]===L.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(L=or(L,this),Math.hypot(d[0]-L[0],d[1]-L[1])<g)){var Z=W(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return x.wheelDelta=function(N){return arguments.length?(n=typeof N=="function"?N:sg(+N),x):n},x.filter=function(N){return arguments.length?(e=typeof N=="function"?N:sg(!!N),x):e},x.touchable=function(N){return arguments.length?(i=typeof N=="function"?N:sg(!!N),x):i},x.extent=function(N){return arguments.length?(t=typeof N=="function"?N:sg([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),x):t},x.scaleExtent=function(N){return arguments.length?(o[0]=+N[0],o[1]=+N[1],x):[o[0],o[1]]},x.translateExtent=function(N){return arguments.length?(s[0][0]=+N[0][0],s[1][0]=+N[1][0],s[0][1]=+N[0][1],s[1][1]=+N[1][1],x):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},x.constrain=function(N){return arguments.length?(r=N,x):r},x.duration=function(N){return arguments.length?(a=+N,x):a},x.interpolate=function(N){return arguments.length?(l=N,x):l},x.on=function(){var N=c.on.apply(c,arguments);return N===c?x:N},x.clickDistance=function(N){return arguments.length?(y=(N=+N)*N,x):Math.sqrt(y)},x.tapDistance=function(N){return arguments.length?(g=+N,x):g},x}var jS=[{name:"Mosaic",image:"../../../assets/browsers/Mosaic.png"},{name:"Safari",image:"../../../assets/browsers/Safari.png"},{name:"Netscape",image:"../../../assets/browsers/Netscape.png"},{name:"Opera",image:"../../../assets/browsers/opera.png"},{name:"Chrome",image:"../../../assets/browsers/Chrome.png"},{name:"Mozilla",image:"../../../assets/browsers/Mozilla.png"},{name:"Firefox",image:"../../../assets/browsers/Firefox.png"},{name:"Internet Explorer",image:"../../../assets/browsers/IE.png"},{name:"Edge",image:"../../../assets/browsers/Edge.png"}],iKe=new Date("1994-01-01").getTime(),oKe=new Date("2023-01-01").getTime();function zS(e){return e}function Lx(e){if(e==null)return zS;var t,r,n=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=r=0);var c=2,u=a.length,d=new Array(u);for(d[0]=(t+=a[0])*n+o,d[1]=(r+=a[1])*i+s;c<u;)d[c]=a[c],++c;return d}}function ZB(e,t){for(var r,n=e.length,i=n-t;i<--n;)r=e[i],e[i++]=e[n],e[n]=r}function Vx(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return QB(e,r)})}:QB(e,t)}function QB(e,t){var r=t.id,n=t.bbox,i=t.properties==null?{}:t.properties,o=$S(e,t);return r==null&&n==null?{type:"Feature",properties:i,geometry:o}:n==null?{type:"Feature",id:r,properties:i,geometry:o}:{type:"Feature",id:r,bbox:n,properties:i,geometry:o}}function $S(e,t){var r=Lx(e.transform),n=e.arcs;function i(u,d){d.length&&d.pop();for(var f=n[u<0?~u:u],h=0,m=f.length;h<m;++h)d.push(r(f[h],h));u<0&&ZB(d,m)}function o(u){return r(u)}function s(u){for(var d=[],f=0,h=u.length;f<h;++f)i(u[f],d);return d.length<2&&d.push(d[0]),d}function a(u){for(var d=s(u);d.length<4;)d.push(d[0]);return d}function l(u){return u.map(a)}function c(u){var d=u.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:u.geometries.map(c)};case"Point":f=o(u.coordinates);break;case"MultiPoint":f=u.coordinates.map(o);break;case"LineString":f=s(u.arcs);break;case"MultiLineString":f=u.arcs.map(s);break;case"Polygon":f=l(u.arcs);break;case"MultiPolygon":f=u.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return c(t)}var BS={};fu(BS,{arcs:()=>ime,bbox:()=>ome,default:()=>ame,objects:()=>US,transform:()=>sme,type:()=>rme});var rme="Topology",US={countries:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1]]],id:"242",properties:{name:"Fiji"}},{type:"Polygon",arcs:[[2,3,4,5,6,7,8,9,10]],id:"834",properties:{name:"Tanzania"}},{type:"Polygon",arcs:[[11,12,13,14]],id:"732",properties:{name:"W. Sahara"}},{type:"MultiPolygon",arcs:[[[15,16,17,18]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]]],id:"124",properties:{name:"Canada"}},{type:"MultiPolygon",arcs:[[[-19,48,49,50]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[-17,58]],[[59]]],id:"840",properties:{name:"United States of America"}},{type:"Polygon",arcs:[[60,61,62,63,64,65]],id:"398",properties:{name:"Kazakhstan"}},{type:"Polygon",arcs:[[-63,66,67,68,69]],id:"860",properties:{name:"Uzbekistan"}},{type:"MultiPolygon",arcs:[[[70,71]],[[72]],[[73]],[[74]]],id:"598",properties:{name:"Papua New Guinea"}},{type:"MultiPolygon",arcs:[[[-72,75]],[[76,77]],[[78]],[[79,80]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]]],id:"360",properties:{name:"Indonesia"}},{type:"MultiPolygon",arcs:[[[90,91]],[[92,93,94,95,96,97]]],id:"032",properties:{name:"Argentina"}},{type:"MultiPolygon",arcs:[[[-92,98]],[[99,-95,100,101]]],id:"152",properties:{name:"Chile"}},{type:"Polygon",arcs:[[-8,102,103,104,105,106,107,108,109,110,111]],id:"180",properties:{name:"Dem. Rep. Congo"}},{type:"Polygon",arcs:[[112,113,114,115]],id:"706",properties:{name:"Somalia"}},{type:"Polygon",arcs:[[-3,116,117,118,-113,119]],id:"404",properties:{name:"Kenya"}},{type:"Polygon",arcs:[[120,121,122,123,124,125,126,127]],id:"729",properties:{name:"Sudan"}},{type:"Polygon",arcs:[[-122,128,129,130,131]],id:"148",properties:{name:"Chad"}},{type:"Polygon",arcs:[[132,133]],id:"332",properties:{name:"Haiti"}},{type:"Polygon",arcs:[[-133,134]],id:"214",properties:{name:"Dominican Rep."}},{type:"MultiPolygon",arcs:[[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[141,142,143]],[[144]],[[145]],[[146,147,148,149,-66,150,151,152,153,154,155,156,157,158,159,160,161]],[[162]],[[163,164]]],id:"643",properties:{name:"Russia"}},{type:"MultiPolygon",arcs:[[[165]],[[166]],[[167]]],id:"044",properties:{name:"Bahamas"}},{type:"Polygon",arcs:[[168]],id:"238",properties:{name:"Falkland Is."}},{type:"MultiPolygon",arcs:[[[169]],[[-161,170,171,172]],[[173]],[[174]]],id:"578",properties:{name:"Norway"}},{type:"Polygon",arcs:[[175]],id:"304",properties:{name:"Greenland"}},{type:"Polygon",arcs:[[176]],id:"260",properties:{name:"Fr. S. Antarctic Lands"}},{type:"Polygon",arcs:[[177,-77]],id:"626",properties:{name:"Timor-Leste"}},{type:"Polygon",arcs:[[178,179,180,181,182,183,184],[185]],id:"710",properties:{name:"South Africa"}},{type:"Polygon",arcs:[[-186]],id:"426",properties:{name:"Lesotho"}},{type:"Polygon",arcs:[[-50,186,187,188,189]],id:"484",properties:{name:"Mexico"}},{type:"Polygon",arcs:[[190,191,-93]],id:"858",properties:{name:"Uruguay"}},{type:"Polygon",arcs:[[-191,-98,192,193,194,195,196,197,198,199,200]],id:"076",properties:{name:"Brazil"}},{type:"Polygon",arcs:[[-194,201,-96,-100,202]],id:"068",properties:{name:"Bolivia"}},{type:"Polygon",arcs:[[-195,-203,-102,203,204,205]],id:"604",properties:{name:"Peru"}},{type:"Polygon",arcs:[[-196,-206,206,207,208,209,210]],id:"170",properties:{name:"Colombia"}},{type:"Polygon",arcs:[[-209,211,212,213]],id:"591",properties:{name:"Panama"}},{type:"Polygon",arcs:[[-213,214,215,216]],id:"188",properties:{name:"Costa Rica"}},{type:"Polygon",arcs:[[-216,217,218,219]],id:"558",properties:{name:"Nicaragua"}},{type:"Polygon",arcs:[[-219,220,221,222,223]],id:"340",properties:{name:"Honduras"}},{type:"Polygon",arcs:[[-222,224,225]],id:"222",properties:{name:"El Salvador"}},{type:"Polygon",arcs:[[-189,226,227,-223,-226,228]],id:"320",properties:{name:"Guatemala"}},{type:"Polygon",arcs:[[-188,229,-227]],id:"084",properties:{name:"Belize"}},{type:"Polygon",arcs:[[-197,-211,230,231]],id:"862",properties:{name:"Venezuela"}},{type:"Polygon",arcs:[[-198,-232,232,233]],id:"328",properties:{name:"Guyana"}},{type:"Polygon",arcs:[[-199,-234,234,235]],id:"740",properties:{name:"Suriname"}},{type:"MultiPolygon",arcs:[[[-200,-236,236]],[[237,238,239,240,241,242,243,244]],[[245]]],id:"250",properties:{name:"France"}},{type:"Polygon",arcs:[[-205,246,-207]],id:"218",properties:{name:"Ecuador"}},{type:"Polygon",arcs:[[247]],id:"630",properties:{name:"Puerto Rico"}},{type:"Polygon",arcs:[[248]],id:"388",properties:{name:"Jamaica"}},{type:"Polygon",arcs:[[249]],id:"192",properties:{name:"Cuba"}},{type:"Polygon",arcs:[[-181,250,251,252]],id:"716",properties:{name:"Zimbabwe"}},{type:"Polygon",arcs:[[-180,253,254,-251]],id:"072",properties:{name:"Botswana"}},{type:"Polygon",arcs:[[-179,255,256,257,-254]],id:"516",properties:{name:"Namibia"}},{type:"Polygon",arcs:[[258,259,260,261,262,263,264]],id:"686",properties:{name:"Senegal"}},{type:"Polygon",arcs:[[-261,265,266,267,268,269,270]],id:"466",properties:{name:"Mali"}},{type:"Polygon",arcs:[[-13,271,-266,-260,272]],id:"478",properties:{name:"Mauritania"}},{type:"Polygon",arcs:[[273,274,275,276,277]],id:"204",properties:{name:"Benin"}},{type:"Polygon",arcs:[[-131,278,279,-277,280,-268,281,282]],id:"562",properties:{name:"Niger"}},{type:"Polygon",arcs:[[-278,-280,283,284]],id:"566",properties:{name:"Nigeria"}},{type:"Polygon",arcs:[[-130,285,286,287,288,289,-284,-279]],id:"120",properties:{name:"Cameroon"}},{type:"Polygon",arcs:[[-275,290,291,292]],id:"768",properties:{name:"Togo"}},{type:"Polygon",arcs:[[-292,293,294,295]],id:"288",properties:{name:"Ghana"}},{type:"Polygon",arcs:[[-270,296,-295,297,298,299]],id:"384",properties:{name:"C\xF4te d'Ivoire"}},{type:"Polygon",arcs:[[-262,-271,-300,300,301,302,303]],id:"324",properties:{name:"Guinea"}},{type:"Polygon",arcs:[[-263,-304,304]],id:"624",properties:{name:"Guinea-Bissau"}},{type:"Polygon",arcs:[[-299,305,306,-301]],id:"430",properties:{name:"Liberia"}},{type:"Polygon",arcs:[[-302,-307,307]],id:"694",properties:{name:"Sierra Leone"}},{type:"Polygon",arcs:[[-269,-281,-276,-293,-296,-297]],id:"854",properties:{name:"Burkina Faso"}},{type:"Polygon",arcs:[[-108,308,-286,-129,-121,309]],id:"140",properties:{name:"Central African Rep."}},{type:"Polygon",arcs:[[-107,310,311,312,-287,-309]],id:"178",properties:{name:"Congo"}},{type:"Polygon",arcs:[[-288,-313,313,314]],id:"266",properties:{name:"Gabon"}},{type:"Polygon",arcs:[[-289,-315,315]],id:"226",properties:{name:"Eq. Guinea"}},{type:"Polygon",arcs:[[-7,316,317,-252,-255,-258,318,-103]],id:"894",properties:{name:"Zambia"}},{type:"Polygon",arcs:[[-6,319,-317]],id:"454",properties:{name:"Malawi"}},{type:"Polygon",arcs:[[-5,320,-184,321,-182,-253,-318,-320]],id:"508",properties:{name:"Mozambique"}},{type:"Polygon",arcs:[[-183,-322]],id:"748",properties:{name:"eSwatini"}},{type:"MultiPolygon",arcs:[[[-106,322,-311]],[[-104,-319,-257,323]]],id:"024",properties:{name:"Angola"}},{type:"Polygon",arcs:[[-9,-112,324]],id:"108",properties:{name:"Burundi"}},{type:"Polygon",arcs:[[325,326,327,328,329,330,331]],id:"376",properties:{name:"Israel"}},{type:"Polygon",arcs:[[-331,332,333]],id:"422",properties:{name:"Lebanon"}},{type:"Polygon",arcs:[[334]],id:"450",properties:{name:"Madagascar"}},{type:"Polygon",arcs:[[-327,335]],id:"275",properties:{name:"Palestine"}},{type:"Polygon",arcs:[[-265,336]],id:"270",properties:{name:"Gambia"}},{type:"Polygon",arcs:[[337,338,339]],id:"788",properties:{name:"Tunisia"}},{type:"Polygon",arcs:[[-12,340,341,-338,342,-282,-267,-272]],id:"012",properties:{name:"Algeria"}},{type:"Polygon",arcs:[[-326,343,344,345,346,-328,-336]],id:"400",properties:{name:"Jordan"}},{type:"Polygon",arcs:[[347,348,349,350,351]],id:"784",properties:{name:"United Arab Emirates"}},{type:"Polygon",arcs:[[352,353]],id:"634",properties:{name:"Qatar"}},{type:"Polygon",arcs:[[354,355,356]],id:"414",properties:{name:"Kuwait"}},{type:"Polygon",arcs:[[-345,357,358,359,360,-357,361]],id:"368",properties:{name:"Iraq"}},{type:"MultiPolygon",arcs:[[[-351,362,363,364]],[[-349,365]]],id:"512",properties:{name:"Oman"}},{type:"MultiPolygon",arcs:[[[366]],[[367]]],id:"548",properties:{name:"Vanuatu"}},{type:"Polygon",arcs:[[368,369,370,371]],id:"116",properties:{name:"Cambodia"}},{type:"Polygon",arcs:[[-369,372,373,374,375,376]],id:"764",properties:{name:"Thailand"}},{type:"Polygon",arcs:[[-370,-377,377,378,379]],id:"418",properties:{name:"Laos"}},{type:"Polygon",arcs:[[-376,380,381,382,383,-378]],id:"104",properties:{name:"Myanmar"}},{type:"Polygon",arcs:[[-371,-380,384,385]],id:"704",properties:{name:"Vietnam"}},{type:"MultiPolygon",arcs:[[[386,386,386]],[[-147,387,388,389,390]]],id:"408",properties:{name:"North Korea"}},{type:"Polygon",arcs:[[-389,391]],id:"410",properties:{name:"South Korea"}},{type:"Polygon",arcs:[[-149,392]],id:"496",properties:{name:"Mongolia"}},{type:"Polygon",arcs:[[-383,393,394,395,396,397,398,399,400]],id:"356",properties:{name:"India"}},{type:"Polygon",arcs:[[-382,401,-394]],id:"050",properties:{name:"Bangladesh"}},{type:"Polygon",arcs:[[-400,402]],id:"064",properties:{name:"Bhutan"}},{type:"Polygon",arcs:[[-398,403]],id:"524",properties:{name:"Nepal"}},{type:"Polygon",arcs:[[-396,404,405,406,407]],id:"586",properties:{name:"Pakistan"}},{type:"Polygon",arcs:[[-69,408,409,-407,410,411]],id:"004",properties:{name:"Afghanistan"}},{type:"Polygon",arcs:[[-68,412,413,-409]],id:"762",properties:{name:"Tajikistan"}},{type:"Polygon",arcs:[[-62,414,-413,-67]],id:"417",properties:{name:"Kyrgyzstan"}},{type:"Polygon",arcs:[[-64,-70,-412,415,416]],id:"795",properties:{name:"Turkmenistan"}},{type:"Polygon",arcs:[[-360,417,418,419,420,421,-416,-411,-406,422]],id:"364",properties:{name:"Iran"}},{type:"Polygon",arcs:[[-332,-334,423,424,-358,-344]],id:"760",properties:{name:"Syria"}},{type:"Polygon",arcs:[[-420,425,426,427,428]],id:"051",properties:{name:"Armenia"}},{type:"Polygon",arcs:[[-172,429,430]],id:"752",properties:{name:"Sweden"}},{type:"Polygon",arcs:[[-156,431,432,433,434]],id:"112",properties:{name:"Belarus"}},{type:"Polygon",arcs:[[-155,435,-164,436,437,438,439,440,441,442,-432]],id:"804",properties:{name:"Ukraine"}},{type:"Polygon",arcs:[[-433,-443,443,444,445,446,-142,447]],id:"616",properties:{name:"Poland"}},{type:"Polygon",arcs:[[448,449,450,451,452,453,454]],id:"040",properties:{name:"Austria"}},{type:"Polygon",arcs:[[-441,455,456,457,458,-449,459]],id:"348",properties:{name:"Hungary"}},{type:"Polygon",arcs:[[-439,460]],id:"498",properties:{name:"Moldova"}},{type:"Polygon",arcs:[[-438,461,462,463,-456,-440,-461]],id:"642",properties:{name:"Romania"}},{type:"Polygon",arcs:[[-434,-448,-144,464,465]],id:"440",properties:{name:"Lithuania"}},{type:"Polygon",arcs:[[-157,-435,-466,466,467]],id:"428",properties:{name:"Latvia"}},{type:"Polygon",arcs:[[-158,-468,468]],id:"233",properties:{name:"Estonia"}},{type:"Polygon",arcs:[[-446,469,-453,470,-238,471,472,473,474,475,476]],id:"276",properties:{name:"Germany"}},{type:"Polygon",arcs:[[-463,477,478,479,480,481]],id:"100",properties:{name:"Bulgaria"}},{type:"MultiPolygon",arcs:[[[482]],[[-480,483,484,485,486]]],id:"300",properties:{name:"Greece"}},{type:"MultiPolygon",arcs:[[[-359,-425,487,488,-427,-418]],[[-479,489,-484]]],id:"792",properties:{name:"Turkey"}},{type:"Polygon",arcs:[[-486,490,491,492,493]],id:"008",properties:{name:"Albania"}},{type:"Polygon",arcs:[[-458,494,495,496,497,498]],id:"191",properties:{name:"Croatia"}},{type:"Polygon",arcs:[[-452,499,-239,-471]],id:"756",properties:{name:"Switzerland"}},{type:"Polygon",arcs:[[-472,-245,500]],id:"442",properties:{name:"Luxembourg"}},{type:"Polygon",arcs:[[-473,-501,-244,501,502]],id:"056",properties:{name:"Belgium"}},{type:"Polygon",arcs:[[-474,-503,503]],id:"528",properties:{name:"Netherlands"}},{type:"Polygon",arcs:[[504,505]],id:"620",properties:{name:"Portugal"}},{type:"Polygon",arcs:[[-505,506,-242,507]],id:"724",properties:{name:"Spain"}},{type:"Polygon",arcs:[[508,509]],id:"372",properties:{name:"Ireland"}},{type:"Polygon",arcs:[[510]],id:"540",properties:{name:"New Caledonia"}},{type:"MultiPolygon",arcs:[[[511]],[[512]],[[513]],[[514]],[[515]]],id:"090",properties:{name:"Solomon Is."}},{type:"MultiPolygon",arcs:[[[516]],[[517]]],id:"554",properties:{name:"New Zealand"}},{type:"MultiPolygon",arcs:[[[518]],[[519]]],id:"036",properties:{name:"Australia"}},{type:"Polygon",arcs:[[520]],id:"144",properties:{name:"Sri Lanka"}},{type:"MultiPolygon",arcs:[[[521]],[[-61,-150,-393,-148,-391,522,-385,-379,-384,-401,-403,-399,-404,-397,-408,-410,-414,-415]]],id:"156",properties:{name:"China"}},{type:"Polygon",arcs:[[523]],id:"158",properties:{name:"Taiwan"}},{type:"MultiPolygon",arcs:[[[-451,524,525,-240,-500]],[[526]],[[527]]],id:"380",properties:{name:"Italy"}},{type:"MultiPolygon",arcs:[[[-476,528]],[[529]]],id:"208",properties:{name:"Denmark"}},{type:"MultiPolygon",arcs:[[[-510,530]],[[531]]],id:"826",properties:{name:"United Kingdom"}},{type:"Polygon",arcs:[[532]],id:"352",properties:{name:"Iceland"}},{type:"MultiPolygon",arcs:[[[-152,533,-421,-429,534]],[[-419,-426]]],id:"031",properties:{name:"Azerbaijan"}},{type:"Polygon",arcs:[[-153,-535,-428,-489,535]],id:"268",properties:{name:"Georgia"}},{type:"MultiPolygon",arcs:[[[536]],[[537]],[[538]],[[539]],[[540]],[[541]],[[542]]],id:"608",properties:{name:"Philippines"}},{type:"MultiPolygon",arcs:[[[-374,543]],[[-81,544,545,546]]],id:"458",properties:{name:"Malaysia"}},{type:"Polygon",arcs:[[-546,547]],id:"096",properties:{name:"Brunei"}},{type:"Polygon",arcs:[[-450,-459,-499,548,-525]],id:"705",properties:{name:"Slovenia"}},{type:"Polygon",arcs:[[-160,549,-430,-171]],id:"246",properties:{name:"Finland"}},{type:"Polygon",arcs:[[-442,-460,-455,550,-444]],id:"703",properties:{name:"Slovakia"}},{type:"Polygon",arcs:[[-445,-551,-454,-470]],id:"203",properties:{name:"Czechia"}},{type:"Polygon",arcs:[[-126,551,552,553]],id:"232",properties:{name:"Eritrea"}},{type:"MultiPolygon",arcs:[[[554]],[[555]],[[556]]],id:"392",properties:{name:"Japan"}},{type:"Polygon",arcs:[[-193,-97,-202]],id:"600",properties:{name:"Paraguay"}},{type:"Polygon",arcs:[[-364,557,558]],id:"887",properties:{name:"Yemen"}},{type:"Polygon",arcs:[[-346,-362,-356,559,-354,560,-352,-365,-559,561]],id:"682",properties:{name:"Saudi Arabia"}},{type:"MultiPolygon",arcs:[[[562]],[[563]],[[564]],[[565]],[[566]],[[567]],[[568]],[[569]]],id:"010",properties:{name:"Antarctica"}},{type:"Polygon",arcs:[[570,571]],properties:{name:"N. Cyprus"}},{type:"Polygon",arcs:[[-572,572]],id:"196",properties:{name:"Cyprus"}},{type:"Polygon",arcs:[[-341,-15,573]],id:"504",properties:{name:"Morocco"}},{type:"Polygon",arcs:[[-124,574,575,-329,576]],id:"818",properties:{name:"Egypt"}},{type:"Polygon",arcs:[[-123,-132,-283,-343,-340,577,-575]],id:"434",properties:{name:"Libya"}},{type:"Polygon",arcs:[[-114,-119,578,-127,-554,579,580]],id:"231",properties:{name:"Ethiopia"}},{type:"Polygon",arcs:[[-553,581,582,-580]],id:"262",properties:{name:"Djibouti"}},{type:"Polygon",arcs:[[-115,-581,-583,583]],properties:{name:"Somaliland"}},{type:"Polygon",arcs:[[-11,584,-110,585,-117]],id:"800",properties:{name:"Uganda"}},{type:"Polygon",arcs:[[-10,-325,-111,-585]],id:"646",properties:{name:"Rwanda"}},{type:"Polygon",arcs:[[-496,586,587]],id:"070",properties:{name:"Bosnia and Herz."}},{type:"Polygon",arcs:[[-481,-487,-494,588,589]],id:"807",properties:{name:"Macedonia"}},{type:"Polygon",arcs:[[-457,-464,-482,-590,590,591,-587,-495]],id:"688",properties:{name:"Serbia"}},{type:"Polygon",arcs:[[-492,592,-497,-588,-592,593]],id:"499",properties:{name:"Montenegro"}},{type:"Polygon",arcs:[[-493,-594,-591,-589]],properties:{name:"Kosovo"}},{type:"Polygon",arcs:[[594]],id:"780",properties:{name:"Trinidad and Tobago"}},{type:"Polygon",arcs:[[-109,-310,-128,-579,-118,-586]],id:"728",properties:{name:"S. Sudan"}}]},land:{type:"GeometryCollection",geometries:[{type:"MultiPolygon",arcs:[[[0]],[[1]],[[3,320,184,255,323,104,322,311,313,315,289,284,273,290,293,297,305,307,302,304,263,336,258,272,13,573,341,338,577,575,329,332,423,487,535,153,435,164,436,461,477,489,484,490,592,497,548,525,240,507,505,506,242,501,503,474,528,476,446,142,464,466,468,158,549,430,172,161,387,391,389,522,385,371,372,543,374,380,401,394,404,422,360,354,559,352,560,347,365,349,362,557,561,346,576,124,551,581,583,115,119],[421,416,64,150,533]],[[17,48,186,229,227,223,219,216,213,209,230,232,234,236,200,191,93,100,203,246,207,211,214,217,220,224,228,189,50,15,58]],[[19]],[[20]],[[21]],[[22]],[[23]],[[24]],[[25]],[[26]],[[27]],[[28]],[[29]],[[30]],[[31]],[[32]],[[33]],[[34]],[[35]],[[36]],[[37]],[[38]],[[39]],[[40]],[[41]],[[42]],[[43]],[[44]],[[45]],[[46]],[[47]],[[51]],[[52]],[[53]],[[54]],[[55]],[[56]],[[57]],[[59]],[[70,75]],[[72]],[[73]],[[74]],[[77,177]],[[78]],[[546,79,544,547]],[[81]],[[82]],[[83]],[[84]],[[85]],[[86]],[[87]],[[88]],[[89]],[[90,98]],[[133,134]],[[135]],[[136]],[[137]],[[138]],[[139]],[[140]],[[144]],[[145]],[[162]],[[165]],[[166]],[[167]],[[168]],[[169]],[[173]],[[174]],[[175]],[[176]],[[245]],[[247]],[[248]],[[249]],[[334]],[[366]],[[367]],[[482]],[[508,530]],[[510]],[[511]],[[512]],[[513]],[[514]],[[515]],[[516]],[[517]],[[518]],[[519]],[[520]],[[521]],[[523]],[[526]],[[527]],[[529]],[[531]],[[532]],[[536]],[[537]],[[538]],[[539]],[[540]],[[541]],[[542]],[[554]],[[555]],[[556]],[[562]],[[563]],[[564]],[[565]],[[566]],[[567]],[[568]],[[569]],[[570,572]],[[594]]]}]}},ime=[[[99478,40237],[69,98],[96,-171],[-46,-308],[-172,-81],[-153,73],[-27,260],[107,203],[126,-74]],[[0,41087],[57,27],[-34,-284],[-23,-32],[99822,-145],[-177,-124],[-36,220],[139,121],[88,33],[163,184],[-99999,0]],[[59417,50018],[47,-65],[1007,-1203],[19,-343],[399,-590]],[[60889,47817],[-128,-728],[16,-335],[178,-216],[8,-153],[-76,-357],[16,-180],[-18,-282],[97,-370],[115,-583],[101,-129]],[[61198,44484],[-221,-342],[-303,-230],[-167,10],[-99,-177],[-193,-16],[-73,-74],[-334,166],[-209,-48]],[[59599,43773],[-77,804],[-95,275],[-55,164],[-273,110]],[[59099,45126],[-157,177],[-177,100],[-111,99],[-116,150]],[[58538,45652],[-150,745],[-161,330],[-55,343],[27,307],[-50,544]],[[58149,47921],[115,28],[101,214],[108,308],[69,124],[-3,192],[-60,134],[-16,233]],[[58463,49154],[80,74],[16,348],[-110,333]],[[58449,49909],[98,71],[304,-7],[566,45]],[[47592,66920],[1,-40],[-6,-114]],[[47587,66766],[-1,-895],[-911,31],[9,-1512],[-261,-53],[-68,-304],[53,-853],[-1088,4],[-60,-197]],[[45260,62987],[12,249]],[[45272,63236],[5,-1],[625,48],[33,213],[114,265],[92,816],[386,637],[131,745],[86,44],[91,460],[234,63],[100,-76],[126,0],[90,134],[172,19],[-7,317],[42,0]],[[15878,79530],[-38,1],[-537,581],[-199,255],[-503,244],[-155,523],[40,363],[-356,252],[-48,476],[-336,429],[-6,304]],[[13740,82958],[154,285],[-7,373],[-473,376],[-284,674],[-173,424],[-255,266],[-187,242],[-147,306],[-279,-192],[-270,-330],[-247,388],[-194,259],[-271,164],[-273,17],[1,3364],[2,2193]],[[10837,91767],[518,-142],[438,-285],[289,-54],[244,247],[336,184],[413,-72],[416,259],[455,148],[191,-245],[207,138],[62,278],[192,-63],[470,-530],[369,401],[38,-449],[341,97],[105,173],[337,-34],[424,-248],[650,-217],[383,-100],[272,38],[374,-300],[-390,-293],[502,-127],[750,70],[236,103],[296,-354],[302,299],[-283,251],[179,202],[338,27],[223,59],[224,-141],[279,-321],[310,47],[491,-266],[431,94],[405,-14],[-32,367],[247,103],[431,-200],[-2,-559],[177,471],[223,-16],[126,594],[-298,364],[-324,239],[22,653],[329,429],[366,-95],[281,-261],[378,-666],[-247,-290],[517,-120],[-1,-604],[371,463],[332,-380],[-83,-438],[269,-399],[290,427],[202,510],[16,649],[394,-46],[411,-87],[373,-293],[17,-293],[-207,-315],[196,-316],[-36,-288],[-544,-413],[-386,-91],[-287,178],[-83,-297],[-268,-498],[-81,-259],[-322,-399],[-397,-39],[-220,-250],[-18,-384],[-323,-74],[-340,-479],[-301,-665],[-108,-466],[-16,-686],[409,-99],[125,-553],[130,-448],[388,117],[517,-256],[277,-225],[199,-279],[348,-163],[294,-248],[459,-34],[302,-58],[-45,-511],[86,-594],[201,-661],[414,-561],[214,192],[150,607],[-145,934],[-196,311],[445,276],[314,415],[154,411],[-23,395],[-188,502],[-338,445],[328,619],[-121,535],[-93,922],[194,137],[476,-161],[286,-57],[230,155],[258,-200],[342,-343],[85,-229],[495,-45],[-8,-496],[92,-747],[254,-92],[201,-348],[402,328],[266,652],[184,274],[216,-527],[362,-754],[307,-709],[-112,-371],[370,-333],[250,-338],[442,-152],[179,-189],[110,-500],[216,-78],[112,-223],[20,-664],[-202,-222],[-199,-207],[-458,-210],[-349,-486],[-470,-96],[-594,125],[-417,4],[-287,-41],[-233,-424],[-354,-262],[-401,-782],[-320,-545],[236,97],[446,776],[583,493],[415,58],[246,-289],[-262,-397],[88,-637],[91,-446],[361,-295],[459,86],[278,664],[19,-429],[180,-214],[-344,-387],[-615,-351],[-276,-239],[-310,-426],[-211,44],[-11,500],[483,488],[-445,-19],[-309,-72]],[[31350,77248],[-181,334],[0,805],[-123,171],[-187,-100],[-92,155],[-212,-446],[-84,-460],[-99,-269],[-118,-91],[-89,-30],[-28,-146],[-512,0],[-422,-4],[-125,-109],[-294,-425],[-34,-46],[-89,-231],[-255,1],[-273,-3],[-125,-93],[44,-116],[25,-181],[-5,-60],[-363,-293],[-286,-93],[-323,-316],[-70,0],[-94,93],[-31,85],[6,61],[61,207],[131,325],[81,349],[-56,514],[-59,536],[-290,277],[35,105],[-41,73],[-76,0],[-56,93],[-14,140],[-54,-61],[-75,18],[17,59],[-65,58],[-27,155],[-216,189],[-224,197],[-272,229],[-261,214],[-248,-167],[-91,-6],[-342,154],[-225,-77],[-269,183],[-284,94],[-194,36],[-86,100],[-49,325],[-94,-3],[-1,-227],[-575,0],[-951,0],[-944,0],[-833,0],[-834,0],[-819,0],[-847,0],[-273,0],[-824,0],[-789,0]],[[26668,87478],[207,273],[381,-6],[-6,-114],[-325,-326],[-196,13],[-61,160]],[[27840,93593],[-306,313],[12,213],[133,39],[636,-63],[479,-325],[25,-163],[-296,17],[-299,13],[-304,-80],[-80,36]],[[27690,87261],[107,177],[114,-13],[70,-121],[-108,-310],[-123,50],[-73,176],[13,41]],[[23996,94879],[-151,-229],[-403,44],[-337,155],[148,266],[399,159],[243,-208],[101,-187]],[[23933,96380],[-126,-17],[-521,38],[-74,165],[559,-9],[195,-109],[-33,-68]],[[23124,97116],[332,-205],[-76,-214],[-411,-122],[-226,138],[-119,221],[-22,245],[360,-24],[162,-39]],[[25514,94532],[-449,73],[-738,190],[-96,325],[-34,293],[-279,258],[-574,72],[-322,183],[104,242],[573,-37],[308,-190],[547,1],[240,-194],[-64,-222],[319,-134],[177,-140],[374,-26],[406,-50],[441,128],[566,51],[451,-42],[298,-223],[62,-244],[-174,-157],[-414,-127],[-355,72],[-797,-91],[-570,-11]],[[19093,96754],[392,-92],[-93,-177],[-518,-170],[-411,191],[224,188],[406,60]],[[19177,97139],[361,-120],[-339,-115],[-461,1],[5,84],[285,177],[149,-27]],[[34555,80899],[-148,-372],[-184,-517],[181,199],[187,-126],[-98,-206],[247,-162],[128,144],[277,-182],[-86,-433],[194,101],[36,-313],[86,-367],[-117,-520],[-125,-22],[-183,111],[60,484],[-77,75],[-322,-513],[-166,21],[196,277],[-267,144],[-298,-35],[-539,18],[-43,175],[173,208],[-121,160],[234,356],[287,941],[172,336],[241,204],[129,-26],[-54,-160]],[[26699,89048],[304,-203],[318,-184],[25,-281],[204,46],[199,-196],[-247,-186],[-432,142],[-156,266],[-275,-314],[-396,-306],[-95,346],[-377,-57],[242,292],[35,465],[95,542],[201,-49],[51,-259],[143,91],[161,-155]],[[28119,93327],[263,235],[616,-299],[383,-282],[36,-258],[515,134],[290,-376],[670,-234],[242,-238],[263,-553],[-510,-275],[654,-386],[441,-130],[400,-543],[437,-39],[-87,-414],[-487,-687],[-342,253],[-437,568],[-359,-74],[-35,-338],[292,-344],[377,-272],[114,-157],[181,-584],[-96,-425],[-350,160],[-697,473],[393,-509],[289,-357],[45,-206],[-753,236],[-596,343],[-337,287],[97,167],[-414,304],[-405,286],[5,-171],[-803,-94],[-235,203],[183,435],[522,10],[571,76],[-92,211],[96,294],[360,576],[-77,261],[-107,203],[-425,286],[-563,201],[178,150],[-294,367],[-245,34],[-219,201],[-149,-175],[-503,-76],[-1011,132],[-588,174],[-450,89],[-231,207],[290,270],[-394,2],[-88,599],[213,528],[286,241],[717,158],[-204,-382],[219,-369],[256,477],[704,242],[477,-611],[-42,-387],[550,172]],[[23749,94380],[579,-20],[530,-144],[-415,-526],[-331,-115],[-298,-442],[-317,22],[-173,519],[4,294],[145,251],[276,161]],[[15873,95551],[472,442],[570,383],[426,-9],[381,87],[-38,-454],[-214,-205],[-259,-29],[-517,-252],[-444,-91],[-377,128]],[[13136,82508],[267,47],[-84,-671],[242,-475],[-111,1],[-167,270],[-103,272],[-140,184],[-51,260],[16,188],[131,-76]],[[20696,97433],[546,-81],[751,-215],[212,-281],[108,-247],[-453,66],[-457,192],[-619,21],[268,176],[-335,142],[-21,227]],[[15692,79240],[-140,-82],[-456,269],[-84,209],[-248,207],[-50,168],[-286,107],[-107,321],[24,137],[291,-129],[171,-89],[261,-63],[94,-204],[138,-280],[277,-244],[115,-327]],[[16239,94566],[397,-123],[709,-33],[270,-171],[298,-249],[-349,-149],[-681,-415],[-344,-414],[0,-257],[-731,-285],[-147,259],[-641,312],[119,250],[192,432],[241,388],[-272,362],[939,93]],[[20050,95391],[247,99],[291,-26],[49,-289],[-169,-281],[-940,-91],[-701,-256],[-423,-14],[-35,193],[577,261],[-1255,-70],[-389,106],[379,577],[262,165],[782,-199],[493,-350],[485,-45],[-397,565],[255,215],[286,-68],[94,-282],[109,-210]],[[20410,93755],[311,-239],[175,-575],[86,-417],[466,-293],[502,-279],[-31,-260],[-456,-48],[178,-227],[-94,-217],[-503,93],[-478,160],[-322,-36],[-522,-201],[-704,-88],[-494,-56],[-151,279],[-379,161],[-246,-66],[-343,468],[185,62],[429,101],[392,-26],[362,103],[-537,138],[-594,-47],[-394,12],[-146,217],[644,237],[-428,-9],[-485,156],[233,443],[193,235],[744,359],[284,-114],[-139,-277],[618,179],[386,-298],[314,302],[254,-194],[227,-580],[140,244],[-197,606],[244,86],[276,-94]],[[22100,93536],[-306,386],[329,286],[331,-124],[496,75],[72,-172],[-259,-283],[420,-254],[-50,-532],[-455,-229],[-268,50],[-192,225],[-690,456],[5,189],[567,-73]],[[20389,94064],[372,24],[211,-130],[-244,-390],[-434,413],[95,83]],[[22639,95907],[212,-273],[9,-303],[-127,-440],[-458,-60],[-298,94],[5,345],[-455,-46],[-18,457],[299,-18],[419,201],[390,-34],[22,77]],[[23329,98201],[192,180],[285,42],[-122,135],[646,30],[355,-315],[468,-127],[455,-112],[220,-390],[334,-190],[-381,-176],[-513,-445],[-492,-42],[-575,76],[-299,240],[4,215],[220,157],[-508,-4],[-306,196],[-176,268],[193,262]],[[24559,98965],[413,112],[324,19],[545,96],[409,220],[344,-30],[300,-166],[211,319],[367,95],[498,65],[849,24],[148,-63],[802,100],[601,-38],[602,-37],[742,-47],[597,-75],[508,-161],[-12,-157],[-678,-257],[-672,-119],[-251,-133],[605,3],[-656,-358],[-452,-167],[-476,-483],[-573,-98],[-177,-120],[-841,-64],[383,-74],[-192,-105],[230,-292],[-264,-202],[-429,-167],[-132,-232],[-388,-176],[39,-134],[475,23],[6,-144],[-742,-355],[-726,163],[-816,-91],[-414,71],[-525,31],[-35,284],[514,133],[-137,427],[170,41],[742,-255],[-379,379],[-450,113],[225,229],[492,141],[79,206],[-392,231],[-118,304],[759,-26],[220,-64],[433,216],[-625,68],[-972,-38],[-491,201],[-232,239],[-324,173],[-61,202]],[[29106,90427],[-180,-174],[-312,-30],[-69,289],[118,331],[255,82],[217,-163],[3,-253],[-32,-82]],[[23262,91636],[169,-226],[-173,-207],[-374,179],[-226,-65],[-380,266],[245,183],[194,256],[295,-168],[166,-106],[84,-112]],[[32078,80046],[96,49],[365,-148],[284,-247],[8,-108],[-135,-11],[-360,186],[-258,279]],[[32218,78370],[97,-288],[202,-79],[257,16],[-137,-242],[-102,-38],[-353,250],[-69,198],[105,183]],[[31350,77248],[48,-194],[-296,-286],[-286,-204],[-293,-175],[-147,-351],[-47,-133],[-3,-313],[92,-313],[115,-15],[-29,216],[83,-131],[-22,-169],[-188,-96],[-133,11],[-205,-103],[-121,-29],[-162,-29],[-231,-171],[408,111],[82,-112],[-389,-177],[-177,-1],[8,72],[-84,-164],[82,-27],[-60,-424],[-203,-455],[-20,152],[-61,30],[-91,148],[57,-318],[69,-105],[5,-223],[-89,-230],[-157,-472],[-25,24],[86,402],[-142,225],[-33,491],[-53,-255],[59,-375],[-183,93],[191,-191],[12,-562],[79,-41],[29,-204],[39,-591],[-176,-439],[-288,-175],[-182,-346],[-139,-38],[-141,-217],[-39,-199],[-305,-383],[-157,-281],[-131,-351],[-43,-419],[50,-411],[92,-505],[124,-418],[1,-256],[132,-685],[-9,-398],[-12,-230],[-69,-361],[-83,-75],[-137,72],[-44,259],[-105,136],[-148,508],[-129,452],[-42,231],[57,393],[-77,325],[-217,494],[-108,90],[-281,-268],[-49,30],[-135,275],[-174,147],[-314,-75],[-247,66],[-212,-41],[-114,-92],[50,-157],[-5,-240],[59,-117],[-53,-77],[-103,87],[-104,-112],[-202,18],[-207,312],[-242,-73],[-202,137],[-173,-42],[-234,-138],[-253,-438],[-276,-255],[-152,-282],[-63,-266],[-3,-407],[14,-284],[52,-201]],[[23016,65864],[-108,-18],[-197,130],[-217,184],[-78,277],[-61,414],[-164,337],[-96,346],[-139,404],[-196,236],[-227,-11],[-175,-467],[-230,177],[-144,178],[-69,325],[-92,309],[-165,260],[-142,186],[-102,210],[-481,0],[0,-244],[-221,0],[-552,-4],[-634,416],[-419,287],[26,116],[-353,-64],[-316,-46]],[[17464,69802],[-46,302],[-180,340],[-130,71],[-30,169],[-156,30],[-100,159],[-258,59],[-71,95],[-33,324],[-270,594],[-231,821],[10,137],[-123,195],[-215,495],[-38,482],[-148,323],[61,489],[-10,507],[-89,453],[109,557],[34,536],[33,536],[-50,792],[-88,506],[-80,274],[33,115],[402,-200],[148,-558],[69,156],[-45,484],[-94,485]],[[6833,62443],[49,-51],[45,-79],[71,-207],[-7,-33],[-108,-126],[-89,-92],[-41,-99],[-69,84],[8,165],[-46,216],[14,65],[48,97],[-19,116],[16,55],[21,-11],[107,-100]],[[6668,62848],[-23,-71],[-94,-43],[-47,125],[-32,48],[-3,37],[27,50],[99,-56],[73,-90]],[[6456,63091],[-9,-63],[-149,17],[21,72],[137,-26]],[[6104,63411],[23,-38],[80,-196],[-15,-34],[-19,8],[-97,21],[-35,133],[-11,24],[74,82]],[[5732,63705],[5,-138],[-33,-58],[-93,107],[14,43],[43,58],[64,-12]],[[3759,86256],[220,-54],[27,-226],[-171,-92],[-182,110],[-168,161],[274,101]],[[7436,84829],[185,-40],[117,-183],[-240,-281],[-277,-225],[-142,152],[-43,277],[252,210],[148,90]],[[13740,82958],[-153,223],[-245,188],[-78,515],[-358,478],[-150,558],[-267,38],[-441,15],[-326,170],[-574,613],[-266,112],[-486,211],[-385,-51],[-546,272],[-330,252],[-309,-125],[58,-411],[-154,-38],[-321,-123],[-245,-199],[-308,-126],[-39,348],[125,580],[295,182],[-76,148],[-354,-329],[-190,-394],[-400,-420],[203,-287],[-262,-424],[-299,-248],[-278,-180],[-69,-261],[-434,-305],[-87,-278],[-325,-252],[-191,45],[-259,-165],[-282,-201],[-231,-197],[-477,-169],[-43,99],[304,276],[271,182],[296,324],[345,66],[137,243],[385,353],[62,119],[205,208],[48,448],[141,349],[-320,-179],[-90,102],[-150,-215],[-181,300],[-75,-212],[-104,294],[-278,-236],[-170,0],[-24,352],[50,216],[-179,211],[-361,-113],[-235,277],[-190,142],[-1,334],[-214,252],[108,340],[226,330],[99,303],[225,43],[191,-94],[224,285],[201,-51],[212,183],[-52,270],[-155,106],[205,228],[-170,-7],[-295,-128],[-85,-131],[-219,131],[-392,-67],[-407,142],[-117,238],[-351,343],[390,247],[620,289],[228,0],[-38,-296],[586,23],[-225,366],[-342,225],[-197,296],[-267,252],[-381,187],[155,309],[493,19],[350,270],[66,287],[284,281],[271,68],[526,262],[256,-40],[427,315],[421,-124],[201,-266],[123,114],[469,-35],[-16,-136],[425,-101],[283,59],[585,-186],[534,-56],[214,-77],[370,96],[421,-177],[302,-83]],[[2297,88264],[171,-113],[173,61],[225,-156],[276,-79],[-23,-64],[-211,-125],[-211,128],[-106,107],[-245,-34],[-66,52],[17,223]],[[74266,79657],[-212,-393],[-230,-56],[-13,-592],[-155,-267],[-551,194],[-200,-1058],[-143,-131],[-550,-236],[250,-1026],[-190,-154],[22,-337]],[[72294,75601],[-171,87],[-140,212],[-412,62],[-461,16],[-100,-65],[-396,248],[-158,-122],[-43,-349],[-457,204],[-183,-84],[-62,-259]],[[69711,75551],[-159,-109],[-367,-412],[-121,-422],[-104,-4],[-76,280],[-353,19],[-57,484],[-135,4],[21,593],[-333,431],[-476,-46],[-326,-86],[-265,533],[-227,223],[-431,423],[-52,51],[-715,-349],[11,-2178]],[[65546,74986],[-142,-29],[-195,463],[-188,166],[-315,-123],[-123,-197]],[[64583,75266],[-15,144],[68,246],[-53,206],[-322,202],[-125,530],[-154,150],[-9,192],[270,-56],[11,432],[236,96],[243,-88],[50,576],[-50,365],[-278,-28],[-236,144],[-321,-260],[-259,-124]],[[63639,77993],[-142,96],[29,304],[-177,395],[-207,-17],[-235,401],[160,448],[-81,120],[222,649],[285,-342],[35,431],[573,643],[434,15],[612,-409],[329,-239],[295,249],[440,12],[356,-306],[80,175],[391,-25],[69,280],[-450,406],[267,288],[-52,161],[266,153],[-200,405],[127,202],[1039,205],[136,146],[695,218],[250,245],[499,-127],[88,-612],[290,144],[356,-202],[-23,-322],[267,33],[696,558],[-102,-185],[355,-457],[620,-1500],[148,309],[383,-340],[399,151],[154,-106],[133,-341],[194,-115],[119,-251],[358,79],[147,-361]],[[69711,75551],[83,-58],[-234,-382],[205,-223],[198,147],[329,-311],[-355,-425],[-212,58]],[[69725,74357],[-114,-15],[-40,164],[58,274],[-371,-137],[-89,-380],[-132,-326],[-232,28],[-72,-261],[204,-140],[60,-440],[-156,-598]],[[68841,72526],[-210,124],[-154,4]],[[68477,72654],[7,362],[-369,253],[-291,289],[-181,278],[-317,408],[-137,609],[-93,108],[-301,-27],[-106,121],[-30,471],[-374,312],[-234,-343],[-237,-204],[45,-297],[-313,-8]],[[89166,49043],[482,-407],[513,-338],[192,-302],[154,-297],[43,-349],[462,-365],[68,-313],[-256,-64],[62,-393],[248,-388],[180,-627],[159,20],[-11,-262],[215,-100],[-84,-111],[295,-249],[-30,-171],[-184,-41],[-69,153],[-238,66],[-281,89],[-216,377],[-158,325],[-144,517],[-362,259],[-235,-169],[-170,-195],[35,-436],[-218,-203],[-155,99],[-288,25]],[[89175,45193],[-4,1925],[-5,1925]],[[92399,48417],[106,-189],[33,-307],[-87,-157],[-52,348],[-65,229],[-126,193],[-158,252],[-200,174],[77,143],[150,-166],[94,-130],[117,-142],[111,-248]],[[92027,47129],[-152,-144],[-142,-138],[-148,1],[-228,171],[-158,165],[23,183],[249,-86],[152,46],[42,283],[40,15],[27,-314],[158,45],[78,202],[155,211],[-30,348],[166,11],[56,-97],[-5,-327],[-93,-361],[-146,-48],[-44,-166]],[[92988,47425],[84,-134],[135,-375],[131,-200],[-39,-166],[-78,-59],[-120,227],[-122,375],[-59,450],[38,57],[30,-175]],[[89175,45193],[-247,485],[-282,118],[-69,-168],[-352,-18],[118,481],[175,164],[-72,642],[-134,496],[-538,500],[-229,50],[-417,546],[-82,-287],[-107,-52],[-63,216],[-1,257],[-212,290],[299,213],[198,-11],[-23,156],[-407,1],[-110,352],[-248,109],[-117,293],[374,143],[142,192],[446,-242],[44,-220],[78,-955],[287,-354],[232,627],[319,356],[247,1],[238,-206],[206,-212],[298,-113]],[[84713,45326],[28,-117],[5,-179]],[[84746,45030],[-181,-441],[-238,-130],[-33,71],[25,201],[119,360],[275,235]],[[87280,46506],[-27,445],[49,212],[58,200],[63,-173],[0,-282],[-143,-402]],[[82744,53024],[-158,-533],[204,-560],[-48,-272],[312,-546],[-329,-70],[-93,-403],[12,-535],[-267,-404],[-7,-589],[-107,-903],[-41,210],[-316,-266],[-110,361],[-198,34],[-139,189],[-330,-212],[-101,285],[-182,-32],[-229,68],[-43,793],[-138,164],[-134,505],[-38,517],[32,548],[165,392]],[[80461,51765],[47,-395],[190,-334],[179,121],[177,-43],[162,299],[133,52],[263,-166],[226,126],[143,822],[107,205],[96,672],[319,0],[241,-100]],[[85936,48924],[305,-172],[101,-452],[-234,244],[-232,49],[-157,-39],[-192,21],[65,325],[344,24]],[[85242,48340],[-192,108],[-54,254],[281,29],[69,-195],[-104,-196]],[[85536,51864],[20,-322],[164,-52],[26,-241],[-15,-517],[-143,58],[-42,-359],[114,-312],[-78,-71],[-112,374],[-82,755],[56,472],[92,215]],[[84146,51097],[319,25],[275,429],[48,-132],[-223,-587],[-209,-113],[-267,115],[-463,-29],[-243,-85],[-39,-447],[248,-526],[150,268],[518,201],[-22,-272],[-121,86],[-121,-347],[-245,-229],[263,-757],[-50,-203],[249,-682],[-2,-388],[-148,-173],[-109,207],[134,484],[-273,-229],[-69,164],[36,228],[-200,346],[21,576],[-186,-179],[24,-689],[11,-846],[-176,-85],[-119,173],[79,544],[-43,570],[-117,4],[-86,405],[115,387],[40,469],[139,891],[58,243],[237,439],[217,-174],[350,-82]],[[83414,44519],[-368,414],[259,116],[146,-180],[97,-180],[-17,-159],[-117,-11]],[[83705,45536],[185,45],[249,216],[-41,-328],[-417,-168],[-370,73],[0,216],[220,123],[174,-177]],[[82849,45639],[172,48],[69,-251],[-321,-119],[-193,-79],[-149,5],[95,340],[153,5],[74,209],[100,-158]],[[80134,46785],[38,-210],[533,-59],[61,244],[515,-284],[101,-383],[417,-108],[341,-351],[-317,-225],[-306,238],[-251,-16],[-288,44],[-260,106],[-322,225],[-204,59],[-116,-74],[-506,243],[-48,254],[-255,44],[191,564],[337,-35],[224,-231],[115,-45]],[[78991,49939],[47,-412],[97,-330],[204,-52],[135,-374],[-70,-735],[-11,-914],[-308,-12],[-234,494],[-356,482],[-119,358],[-210,481],[-138,443],[-212,827],[-244,493],[-81,508],[-103,461],[-250,372],[-145,506],[-209,330],[-290,652],[-24,300],[178,-24],[430,-114],[246,-577],[215,-401],[153,-246],[263,-635],[283,-9],[233,-405],[161,-495],[211,-270],[-111,-482],[159,-205],[100,-15]],[[30935,19481],[106,-274],[139,-443],[361,-355],[389,-147],[-125,-296],[-264,-29],[-141,208]],[[31400,18145],[-168,16],[-297,1],[0,1319]],[[33993,32727],[-70,-473],[-74,-607],[3,-588],[-61,-132],[-21,-382]],[[33770,30545],[-19,-308],[353,-506],[-38,-408],[173,-257],[-14,-289],[-267,-757],[-412,-317],[-557,-123],[-305,59],[59,-352],[-57,-442],[51,-298],[-167,-208],[-284,-82],[-267,216],[-108,-155],[39,-587],[188,-178],[152,186],[82,-307],[-255,-183],[-223,-367],[-41,-595],[-66,-316],[-262,-2],[-218,-302],[-80,-443],[273,-433],[266,-119],[-96,-531],[-328,-333],[-180,-692],[-254,-234],[-113,-276],[89,-614],[185,-342],[-117,30]],[[30952,19680],[-257,93],[-672,79],[-115,344],[6,443],[-185,-38],[-98,214],[-24,626],[213,260],[88,375],[-33,299],[148,504],[101,782],[-30,347],[122,112],[-30,223],[-129,118],[92,248],[-126,224],[-65,682],[112,120],[-47,720],[65,605],[75,527],[166,215],[-84,576],[-1,543],[210,386],[-7,494],[159,576],[1,544],[-72,108],[-128,1020],[171,607],[-27,572],[100,537],[182,555],[196,367],[-83,232],[58,190],[-9,985],[302,291],[96,614],[-34,148]],[[31359,37147],[231,534],[364,-144],[163,-427],[109,475],[316,-24],[45,-127]],[[32587,37434],[511,-964],[227,-89],[339,-437],[286,-231],[40,-261],[-273,-898],[280,-160],[312,-91],[220,95],[252,453],[45,521]],[[34826,35372],[138,114],[139,-341],[-6,-472],[-234,-326],[-186,-241],[-314,-573],[-370,-806]],[[31400,18145],[-92,-239],[-238,-183],[-137,19],[-164,48],[-202,177],[-291,86],[-350,330],[-283,317],[-383,662],[229,-124],[390,-395],[369,-212],[143,271],[90,405],[256,244],[198,-70]],[[30669,40193],[136,-402],[37,-426],[146,-250],[-88,-572],[150,-663],[109,-814],[200,81]],[[30952,19680],[-247,4],[-134,-145],[-250,-213],[-45,-552],[-118,-14],[-313,192],[-318,412],[-346,338],[-87,374],[79,346],[-140,393],[-36,1007],[119,568],[293,457],[-422,172],[265,522],[94,982],[309,-208],[145,1224],[-186,157],[-87,-738],[-175,83],[87,845],[95,1095],[127,404],[-80,576],[-22,666],[117,19],[170,954],[192,945],[118,881],[-64,885],[83,487],[-34,730],[163,721],[50,1143],[89,1227],[87,1321],[-20,967],[-58,832]],[[30452,39739],[143,151],[74,303]],[[58538,45652],[-109,60],[-373,-99],[-75,-71],[-79,-377],[62,-261],[-49,-699],[-34,-593],[75,-105],[194,-230],[76,107],[23,-637],[-212,5],[-114,325],[-103,252],[-213,82],[-62,310],[-170,-187],[-222,83],[-93,268],[-176,55],[-131,-15],[-15,184],[-96,15]],[[56642,44124],[-127,35],[-172,-89],[-121,15],[-68,-54],[15,703],[-93,219],[-21,363],[41,356],[-56,228],[-5,372],[-337,-5],[24,213],[-142,-2],[-15,-103],[-172,-23],[-69,-344],[-42,-148],[-154,83],[-91,-83],[-184,-47],[-106,309],[-64,191],[-80,354],[-68,440],[-820,8],[-98,-71],[-80,11],[-115,-79]],[[53422,46976],[-39,183]],[[53383,47159],[71,62],[9,258],[45,152],[101,124]],[[53609,47755],[73,-60],[95,226],[152,-6],[17,-167],[104,-105],[164,370],[161,289],[71,189],[-10,486],[121,574],[127,304],[183,285],[32,189],[7,216],[45,205],[-14,335],[34,524],[55,368],[83,316],[16,357]],[[55125,52650],[25,412],[108,300],[149,190],[229,-200],[177,-218],[203,-59],[207,-115],[83,357],[38,46],[127,-60],[309,295],[110,-125],[90,18],[41,143],[104,51],[209,-62],[178,-14],[91,63]],[[57603,53672],[169,-488],[124,-71],[75,99],[128,-39],[155,125],[66,-252],[244,-393]],[[58564,52653],[-16,-691],[111,-80],[-89,-210],[-107,-157],[-106,-308],[-59,-274],[-15,-475],[-65,-225],[-2,-446]],[[58216,49787],[-80,-165],[-10,-351],[-38,-46],[-26,-323]],[[58062,48902],[70,-268],[17,-713]],[[61551,49585],[-165,488],[-3,2152],[243,670]],[[61626,52895],[76,186],[178,11],[247,417],[362,26],[785,1773]],[[63274,55308],[194,493],[125,363],[0,308],[0,596],[1,244],[2,9]],[[63596,57321],[89,12],[128,88],[147,59],[132,202],[105,2],[6,-163],[-25,-344],[1,-310],[-59,-214],[-78,-639],[-134,-659],[-172,-755],[-238,-866],[-237,-661],[-327,-806],[-278,-479],[-415,-586],[-259,-450],[-304,-715],[-64,-312],[-63,-140]],[[59417,50018],[-3,627],[80,239],[137,391],[101,431],[-123,678],[-32,296],[-132,411]],[[59445,53091],[171,352],[188,390]],[[59804,53833],[145,-99],[0,-332],[95,-194],[193,0],[352,-502],[87,-6],[65,16],[62,-68],[185,-47],[82,247],[254,247],[112,-200],[190,0]],[[61551,49585],[-195,-236],[-68,-246],[-104,-44],[-40,-416],[-89,-238],[-54,-393],[-112,-195]],[[56824,55442],[-212,258],[-96,170],[-18,184],[45,246],[-1,241],[-160,369],[-31,253]],[[56351,57163],[3,143],[-102,174],[-3,343],[-58,228],[-98,-34],[28,217],[72,246],[-32,245],[92,181],[-58,138],[73,365],[127,435],[240,-41],[-14,2345]],[[56621,62148],[3,248],[320,2],[0,1180]],[[56944,63578],[1117,0],[1077,0],[1102,0]],[[60240,63578],[90,-580],[-61,-107],[40,-608],[102,-706],[106,-145],[152,-219]],[[60669,61213],[-141,-337],[-204,-97],[-88,-181],[-27,-393],[-120,-868],[30,-236]],[[60119,59101],[-45,-508],[-112,-582],[-168,-293],[-119,-451],[-28,-241],[-132,-166],[-82,-618],[4,-531]],[[59437,55711],[-3,460],[-39,12],[5,294],[-33,203],[-143,233],[-34,426],[34,436],[-129,41],[-19,-132],[-167,-30],[67,-173],[23,-355],[-152,-324],[-138,-426],[-144,-61],[-233,345],[-105,-122],[-29,-172],[-143,-112],[-9,-122],[-277,0],[-38,122],[-200,20],[-100,-101],[-77,51],[-143,344],[-48,163],[-200,-81],[-76,-274],[-72,-528],[-95,-111],[-85,-65],[189,-230]],[[56351,57163],[-176,-101],[-141,-239],[-201,-645],[-261,-273],[-269,36],[-78,-54],[28,-208],[-145,-207],[-118,-230],[-350,-226],[-69,134],[-46,11],[-52,-152],[-229,-44]],[[54244,54965],[43,160],[-87,407],[-39,245],[-121,100],[-164,345],[60,279],[127,-60],[78,42],[155,-6],[-151,537],[10,393],[-18,392],[-111,378]],[[54026,58177],[28,279],[-178,13],[0,380],[-115,219],[120,778],[354,557],[15,769],[107,1199],[60,254],[-116,203],[-4,188],[-104,153],[-68,919]],[[54125,64088],[280,323],[1108,-1132],[1108,-1131]],[[30080,62227],[24,-321],[-21,-228],[-68,-99],[71,-177],[-5,-161]],[[30081,61241],[-185,100],[-131,-41],[-169,43],[-130,-110],[-149,184],[24,190],[256,-82],[210,-47],[100,131],[-127,256],[2,226],[-175,92],[62,163],[170,-26],[241,-93]],[[30080,62227],[34,101],[217,-3],[165,-152],[73,15],[50,-209],[152,11],[-9,-176],[124,-21],[136,-217],[-103,-240],[-132,128],[-127,-25],[-92,28],[-50,-107],[-106,-37],[-43,144],[-92,-85],[-111,-405],[-71,94],[-14,170]],[[76049,98451],[600,133],[540,-297],[640,-572],[-69,-531],[-606,-73],[-773,170],[-462,226],[-213,423],[-379,117],[722,404]],[[78565,97421],[704,-336],[-82,-240],[-1566,-228],[507,776],[229,66],[208,-38]],[[88563,95563],[734,-26],[1004,-313],[-219,-439],[-1023,16],[-461,-139],[-550,384],[149,406],[366,111]],[[91172,95096],[697,-155],[-321,-234],[-444,53],[-516,233],[66,192],[518,-89]],[[88850,93928],[263,234],[348,54],[394,-226],[34,-155],[-421,-4],[-569,66],[-49,31]],[[62457,98194],[542,107],[422,8],[57,-160],[159,142],[262,97],[412,-129],[-107,-90],[-373,-78],[-250,-45],[-39,-97],[-324,-98],[-301,140],[158,185],[-618,18]],[[56314,82678],[-511,-9],[-342,67]],[[55461,82736],[63,260],[383,191]],[[55907,83187],[291,-103],[123,-94],[-30,-162],[23,-150]],[[64863,94153],[665,518],[-75,268],[621,312],[917,380],[925,110],[475,220],[541,76],[193,-233],[-187,-184],[-984,-293],[-848,-282],[-863,-562],[-414,-577],[-435,-568],[56,-491],[531,-484],[-164,-52],[-907,77],[-74,262],[-503,158],[-40,320],[284,126],[-10,323],[551,503],[-255,73]],[[89698,82309],[96,-569],[-7,-581],[114,-597],[280,-1046],[-411,195],[-171,-854],[271,-605],[-8,-413],[-211,356],[-182,-457],[-51,496],[31,575],[-32,638],[64,446],[13,790],[-163,581],[24,808],[257,271],[-110,274],[123,83],[73,-391]],[[86327,75524],[-39,104]],[[86288,75628],[-2,300],[142,16],[40,698],[-73,506],[238,208],[338,-104],[186,575],[96,647],[107,216],[146,532],[-459,-175],[-240,-233],[-423,1],[-112,555],[-329,420],[-483,189],[-103,579],[-97,363],[-104,254],[-172,596],[-244,217],[-415,176],[-369,-16],[-345,-106],[-229,-294],[152,-141],[4,-326],[-155,-189],[-251,-627],[3,-260],[-392,-373],[-333,223]],[[82410,80055],[-331,-49],[-146,198],[-166,63],[-407,-416],[-366,-98],[-255,-146],[-350,96],[-258,-6],[-168,302],[-272,284],[-279,78],[-351,-78],[-263,-109],[-394,248],[-53,443],[-327,152],[-252,69],[-311,244],[-288,-612],[113,-348],[-270,-411],[-402,148],[-277,22],[-186,276],[-289,8],[-242,182],[-423,-278],[-530,-509],[-292,-102]],[[74375,79706],[-109,-49]],[[63639,77993],[-127,-350],[-269,-97],[-276,-610],[252,-561],[-27,-398],[303,-696]],[[63495,75281],[-166,-238],[-48,-150],[-122,40],[-191,359],[-78,20]],[[62890,75312],[-175,137],[-85,242],[-259,124],[-169,-93],[-48,110],[-378,283],[-409,96],[-235,101],[-34,-70]],[[61098,76242],[-354,499],[-317,223],[-240,347],[202,95],[231,494],[-156,234],[410,241],[-8,129],[-249,-95]],[[60617,78409],[9,262],[143,165],[269,43],[44,197],[-62,326],[113,310],[-3,173],[-410,192],[-162,-6],[-172,277],[-213,-94],[-352,208],[6,116],[-99,256],[-222,29],[-23,183],[70,120],[-178,334],[-288,-57],[-84,30],[-70,-134],[-104,23]],[[58829,81362],[-68,379],[-66,196],[54,55],[224,-20],[108,129],[-80,157],[-187,104],[16,107],[-113,108],[-174,387],[60,159],[-27,277],[-272,141],[-146,-70],[-39,146],[-293,149]],[[57826,83766],[-89,348],[-24,287],[-134,136]],[[57579,84537],[120,187],[-83,551],[198,341],[-42,103]],[[57772,85719],[316,327],[-291,280]],[[57797,86326],[594,755],[258,341],[105,301],[-411,405],[113,385],[-250,440],[187,506],[-323,673],[256,445],[-425,394],[41,414]],[[57942,91385],[224,54],[473,237]],[[58639,91676],[286,206],[456,-358],[761,-140],[1050,-668],[213,-281],[18,-393],[-308,-311],[-454,-157],[-1240,449],[-204,-75],[453,-433],[18,-274],[18,-604],[358,-180],[217,-153],[36,286],[-168,254],[177,224],[672,-368],[233,144],[-186,433],[647,578],[256,-34],[260,-206],[161,406],[-231,352],[136,353],[-204,367],[777,-190],[158,-331],[-351,-73],[1,-328],[219,-203],[429,128],[68,377],[580,282],[970,507],[209,-29],[-273,-359],[344,-61],[199,202],[521,16],[412,245],[317,-356],[315,391],[-291,343],[145,195],[820,-179],[385,-185],[1006,-675],[186,309],[-282,313],[-8,125],[-335,58],[92,280],[-149,461],[-8,189],[512,535],[183,537],[206,116],[736,-156],[57,-328],[-263,-479],[173,-189],[89,-413],[-63,-809],[307,-362],[-120,-395],[-544,-839],[318,-87],[110,213],[306,151],[74,293],[240,281],[-162,336],[130,390],[-304,49],[-67,328],[222,593],[-361,482],[497,398],[-64,421],[139,13],[145,-328],[-109,-570],[297,-108],[-127,426],[465,233],[577,31],[513,-337],[-247,492],[-28,630],[483,119],[669,-26],[602,77],[-226,309],[321,388],[319,16],[540,293],[734,79],[93,162],[729,55],[227,-133],[624,314],[510,-10],[77,255],[265,252],[656,242],[476,-191],[-378,-146],[629,-90],[75,-292],[254,143],[812,-7],[626,-289],[223,-221],[-69,-307],[-307,-175],[-730,-328],[-209,-175],[345,-83],[410,-149],[251,112],[141,-379],[122,153],[444,93],[892,-97],[67,-276],[1162,-88],[15,451],[590,-104],[443,4],[449,-312],[128,-378],[-165,-247],[349,-465],[437,-240],[268,620],[446,-266],[473,159],[538,-182],[204,166],[455,-83],[-201,549],[367,256],[2509,-384],[236,-351],[727,-451],[1122,112],[553,-98],[231,-244],[-33,-432],[342,-168],[372,121],[492,15],[525,-116],[526,66],[484,-526],[344,189],[-224,378],[123,262],[886,-165],[578,36],[799,-282],[-99610,-258],[681,-451],[728,-588],[-24,-367],[187,-147],[-64,429],[754,-88],[544,-553],[-276,-257],[-455,-61],[-7,-578],[-111,-122],[-260,17],[-212,206],[-369,172],[-62,257],[-283,96],[-315,-76],[-151,207],[60,219],[-333,-140],[126,-278],[-158,-251],[99997,-3],[-357,-260],[-360,44],[250,-315],[166,-487],[128,-159],[32,-244],[-71,-157],[-518,129],[-777,-445],[-247,-69],[-425,-415],[-403,-362],[-102,-269],[-397,409],[-724,-464],[-126,219],[-268,-253],[-371,81],[-90,-388],[-333,-572],[10,-239],[316,-132],[-37,-860],[-258,-22],[-119,-494],[116,-255],[-486,-302],[-96,-674],[-415,-144],[-83,-600],[-400,-551],[-103,407],[-119,862],[-155,1313],[134,819],[234,353],[14,276],[432,132],[496,744],[479,608],[499,471],[223,833],[-337,-50],[-167,-487],[-705,-649],[-227,727],[-717,-201],[-696,-990],[230,-362],[-620,-154],[-430,-61],[20,427],[-431,90],[-344,-291],[-850,102],[-914,-175],[-899,-1153],[-1065,-1394],[438,-74],[136,-370],[270,-132],[178,295],[305,-38],[401,-650],[9,-503],[-217,-590],[-23,-705],[-126,-945],[-418,-855],[-94,-409],[-377,-688],[-374,-682],[-179,-349],[-370,-346],[-175,-8],[-175,287],[-373,-432],[-43,-197]],[[0,92833],[36,24],[235,-1],[402,-169],[-24,-81],[-286,-141],[-363,-36],[99694,-30],[-49,187],[-99645,247]],[[59287,77741],[73,146],[198,-127],[89,-23],[36,-117],[42,-18]],[[59725,77602],[2,-51],[136,-142],[284,35],[-55,-210],[-304,-103],[-377,-342],[-154,121],[61,277],[-304,173],[50,113],[265,197],[-42,71]],[[28061,66408],[130,47],[184,-18],[8,-153],[-303,-95],[-19,219]],[[28391,66555],[220,-265],[-48,-420],[-51,75],[4,309],[-124,234],[-1,67]],[[28280,65474],[84,-23],[97,-491],[1,-343],[-68,-29],[-70,340],[-104,171],[60,375]],[[33e3,19946],[333,354],[236,-148],[167,237],[222,-266],[-83,-207],[-375,-177],[-125,207],[-236,-266],[-139,266]],[[54206,97653],[105,202],[408,20],[350,-206],[915,-440],[-699,-233],[-155,-435],[-243,-111],[-132,-490],[-335,-23],[-598,361],[252,210],[-416,170],[-541,499],[-216,463],[757,212],[152,-207],[396,8]],[[57942,91385],[117,414],[-356,235],[-431,-200],[-137,-433],[-265,-262],[-298,143],[-362,-29],[-309,312],[-167,-156]],[[55734,91409],[-172,-24],[-41,-389],[-523,95],[-74,-329],[-267,2],[-183,-421],[-278,-655],[-431,-831],[101,-202],[-97,-234],[-275,10],[-180,-554],[17,-784],[177,-300],[-92,-694],[-231,-405],[-122,-341]],[[53063,85353],[-187,363],[-548,-684],[-371,-138],[-384,301],[-99,635],[-88,1363],[256,381],[733,496],[549,609],[508,824],[668,1141],[465,444],[763,741],[610,259],[457,-31],[423,489],[506,-26],[499,118],[869,-433],[-358,-158],[305,-371]],[[57613,97879],[-412,-318],[-806,-70],[-819,98],[-50,163],[-398,11],[-304,271],[858,165],[403,-142],[281,177],[702,-148],[545,-207]],[[56867,96577],[-620,-241],[-490,137],[191,152],[-167,189],[575,119],[110,-222],[401,-134]],[[37010,99398],[932,353],[975,-27],[354,218],[982,57],[2219,-74],[1737,-469],[-513,-227],[-1062,-26],[-1496,-58],[140,-105],[984,65],[836,-204],[540,181],[231,-212],[-305,-344],[707,220],[1348,229],[833,-114],[156,-253],[-1132,-420],[-157,-136],[-888,-102],[643,-28],[-324,-431],[-224,-383],[9,-658],[333,-386],[-434,-24],[-457,-187],[513,-313],[65,-502],[-297,-55],[360,-508],[-617,-42],[322,-241],[-91,-208],[-391,-91],[-388,-2],[348,-400],[4,-263],[-549,244],[-143,-158],[375,-148],[364,-361],[105,-476],[-495,-114],[-214,228],[-344,340],[95,-401],[-322,-311],[732,-25],[383,-32],[-745,-515],[-755,-466],[-813,-204],[-306,-2],[-288,-228],[-386,-624],[-597,-414],[-192,-24],[-370,-145],[-399,-138],[-238,-365],[-4,-415],[-141,-388],[-453,-472],[112,-462],[-125,-488],[-142,-577],[-391,-36],[-410,482],[-556,3],[-269,324],[-186,577],[-481,735],[-141,385],[-38,530],[-384,546],[100,435],[-186,208],[275,691],[418,220],[110,247],[58,461],[-318,-209],[-151,-88],[-249,-84],[-341,193],[-19,401],[109,314],[258,9],[567,-157],[-478,375],[-249,202],[-276,-83],[-232,147],[310,550],[-169,220],[-220,409],[-335,626],[-353,230],[3,247],[-745,346],[-590,43],[-743,-24],[-677,-44],[-323,188],[-482,372],[729,186],[559,31],[-1188,154],[-627,241],[39,229],[1051,285],[1018,284],[107,214],[-750,213],[243,235],[961,413],[404,63],[-115,265],[658,156],[854,93],[853,5],[303,-184],[737,325],[663,-221],[390,-46],[577,-192],[-660,318],[38,253]],[[69148,21851],[179,-186],[263,-74],[9,-112],[-77,-269],[-427,-38],[-7,314],[41,244],[19,121]],[[84713,45326],[32,139],[239,133],[194,20],[87,74],[105,-74],[-102,-160],[-289,-258],[-233,-170]],[[54540,33696],[133,292],[109,-162],[47,-252],[125,-43],[175,-112],[149,43],[248,302],[0,2182]],[[55526,35946],[75,-88],[165,-562],[-26,-360],[62,-207],[199,60],[139,264],[132,177],[68,283],[135,137],[117,-71],[133,-166],[226,-29],[178,138],[28,184],[48,283],[152,47],[83,222],[93,393],[249,442],[393,435]],[[58175,37528],[113,-7],[134,-100],[94,71],[148,-59]],[[58664,37433],[133,-832],[72,-419],[-49,-659],[23,-212]],[[58843,35311],[-140,108],[-80,-42],[-26,-172],[-76,-222],[2,-204],[166,-320],[163,63],[56,263]],[[58908,34785],[211,-5]],[[59119,34780],[-70,-430],[-32,-491],[-72,-267],[-190,-298],[-54,-86],[-118,-300],[-77,-303],[-158,-424],[-314,-609],[-196,-355],[-210,-269],[-290,-229],[-141,-31],[-36,-164],[-169,88],[-138,-113],[-301,114],[-168,-72],[-115,31],[-286,-233],[-238,-94],[-171,-223],[-127,-14],[-117,210],[-94,11],[-120,264],[-13,-82],[-37,159],[2,346],[-90,396],[89,108],[-7,453],[-182,553],[-139,501],[-1,1],[-199,768]],[[58049,33472],[-121,182],[-130,-120],[-151,-232],[-148,-374],[209,-454],[99,59],[51,188],[155,93],[47,192],[85,288],[-96,178]],[[23016,65864],[-107,-518],[-49,-426],[-20,-791],[-27,-289],[48,-322],[86,-288],[56,-458],[184,-440],[65,-337],[109,-291],[295,-157],[114,-247],[244,165],[212,60],[208,106],[175,101],[176,241],[67,345],[22,496],[48,173],[188,155],[294,137],[246,-21],[169,50],[66,-125],[-9,-285],[-149,-351],[-66,-360],[51,-103],[-42,-255],[-69,-461],[-71,152],[-58,-10]],[[25472,61510],[-53,-8],[-99,-357],[-51,70],[-33,-27],[2,-87]],[[25238,61101],[-257,7],[-259,-1],[-1,-333],[-125,-1],[103,-198],[103,-136],[31,-128],[45,-36],[-7,-201],[-357,-2],[-133,-481],[39,-111],[-32,-138],[-7,-172]],[[24381,59170],[-314,636],[-144,191],[-226,155],[-156,-43],[-223,-223],[-140,-58],[-196,156],[-208,112],[-260,271],[-208,83],[-314,275],[-233,282],[-70,158],[-155,35],[-284,187],[-116,270],[-299,335],[-139,373],[-66,288],[93,57],[-29,169],[64,153],[1,204],[-93,266],[-25,235],[-94,298],[-244,587],[-280,462],[-135,368],[-238,241],[-51,145],[42,365],[-142,138],[-164,287],[-69,412],[-149,48],[-162,311],[-130,288],[-12,184],[-149,446],[-99,452],[5,227],[-201,234],[-93,-25],[-159,163],[-44,-240],[46,-284],[27,-444],[95,-243],[206,-407],[46,-139],[42,-42],[37,-203],[49,8],[56,-381],[85,-150],[59,-210],[174,-300],[92,-550],[83,-259],[77,-277],[15,-311],[134,-20],[112,-268],[100,-264],[-6,-106],[-117,-217],[-49,3],[-74,359],[-181,337],[-201,286],[-142,150],[9,432],[-42,320],[-132,183],[-191,264],[-37,-76],[-70,154],[-171,143],[-164,343],[20,44],[115,-33],[103,221],[10,266],[-214,422],[-163,163],[-102,369],[-103,388],[-129,472],[-113,531]],[[33993,32727],[180,63],[279,-457],[103,18],[286,-379],[218,-327],[160,-402],[-122,-280],[77,-334]],[[35174,30629],[-121,-372],[-313,-328],[-205,118],[-151,-63],[-256,253],[-189,-19],[-169,327]],[[34826,35372],[54,341],[38,350],[0,325],[-100,107],[-104,-96],[-103,26],[-33,228],[-26,541],[-52,177],[-187,160],[-114,-116],[-293,113],[18,802],[-82,329]],[[33842,38659],[87,122],[-27,337],[77,259],[49,465],[-66,367],[-151,166],[-30,233],[41,342],[-533,24],[-107,688],[81,10],[-3,255],[-55,172],[-12,342],[-161,175],[-175,-6],[-115,172],[-188,117],[-109,220],[-311,98],[-302,529],[23,396],[-34,227],[29,443],[-363,-100],[-147,-222],[-243,-239],[-62,-179],[-143,-13],[-206,50]],[[30686,44109],[-157,-102],[-126,68],[18,898],[-228,-348],[-245,15],[-105,315],[-184,34],[59,254],[-155,359],[-115,532],[73,108],[0,250],[168,171],[-28,319],[71,206],[20,275],[318,402],[227,114],[37,89],[251,-28]],[[30585,48040],[125,1620],[6,256],[-43,339],[-123,215],[1,430],[156,97],[56,-61],[9,226],[-162,61],[-4,370],[541,-13],[92,203],[77,-187],[55,-349],[52,73]],[[31423,51320],[153,-312],[216,38],[54,181],[206,138],[115,97],[32,250],[198,168],[-15,124],[-235,51],[-39,372],[12,396],[-125,153],[52,55],[206,-76],[221,-148],[80,140],[200,92],[310,221],[102,225],[-37,167]],[[33129,53652],[145,26],[64,-136],[-36,-259],[96,-90],[63,-274],[-77,-209],[-44,-502],[71,-299],[20,-274],[171,-277],[137,-29],[30,116],[88,25],[126,104],[90,157],[154,-50],[67,21]],[[34294,51702],[151,-48],[25,120],[-46,118],[28,171],[112,-53],[131,61],[159,-125]],[[34854,51946],[121,-122],[86,160],[62,-25],[38,-166],[133,42],[107,224],[85,436],[164,540]],[[35650,53035],[95,28],[69,-327],[155,-1033],[149,-97],[7,-408],[-208,-487],[86,-178],[491,-92],[10,-593],[211,388],[349,-212],[462,-361],[135,-346],[-45,-327],[323,182],[540,-313],[415,23],[411,-489],[355,-662],[214,-170],[237,-24],[101,-186],[94,-752],[46,-358],[-110,-977],[-142,-385],[-391,-822],[-177,-668],[-206,-513],[-69,-11],[-78,-435],[20,-1107],[-77,-910],[-30,-390],[-88,-233],[-49,-790],[-282,-771],[-47,-610],[-225,-256],[-65,-355],[-302,2],[-437,-227],[-195,-263],[-311,-173],[-327,-470],[-235,-586],[-41,-441],[46,-326],[-51,-597],[-63,-289],[-195,-325],[-308,-1040],[-244,-468],[-189,-277],[-127,-562],[-183,-337]],[[33842,38659],[-4,182],[-259,302],[-258,9],[-484,-172],[-133,-520],[-7,-318],[-110,-708]],[[30669,40193],[175,638],[-119,496],[63,199],[-49,219],[108,295],[6,503],[13,415],[60,200],[-240,951]],[[30452,39739],[-279,340],[-24,242],[-551,593],[-498,646],[-214,365],[-115,488],[46,170],[-236,775],[-274,1090],[-262,1177],[-114,269],[-87,435],[-216,386],[-198,239],[90,264],[-134,563],[86,414],[221,373]],[[27693,48568],[33,-246],[-79,-141],[8,-216],[114,47],[113,-64],[116,-298],[157,243],[53,398],[170,514],[334,233],[303,619],[86,384],[-38,449]],[[29063,50490],[74,56],[184,-280],[89,-279],[129,-152],[163,-620],[207,-74],[153,157],[101,-103],[166,51],[213,-276],[-179,-602],[83,-14],[139,-314]],[[29063,50490],[-119,140],[-137,195],[-79,-94],[-235,82],[-68,255],[-52,-10],[-278,338]],[[28095,51396],[-37,183],[103,44],[-12,296],[65,214],[138,40],[117,371],[106,310],[-102,141],[52,343],[-62,540],[59,155],[-44,500],[-112,315]],[[28366,54848],[36,287],[89,-43],[52,176],[-64,348],[34,86]],[[28513,55702],[143,-18],[209,412],[114,63],[3,195],[51,500],[159,274],[175,11],[22,123],[218,-49],[218,298],[109,132],[134,285],[98,-36],[73,-156],[-54,-199]],[[30185,57537],[-178,-99],[-71,-295],[-107,-169],[-81,-220],[-34,-422],[-77,-345],[144,-40],[35,-271],[62,-130],[21,-238],[-33,-219],[10,-123],[69,-49],[66,-207],[357,57],[161,-75],[196,-508],[112,63],[200,-32],[158,68],[99,-102],[-50,-318],[-62,-199],[-22,-423],[56,-393],[79,-175],[9,-133],[-140,-294],[100,-130],[74,-207],[85,-589]],[[28366,54848],[-93,170],[-59,319],[68,158],[-70,40],[-52,196],[-138,164],[-122,-38],[-56,-205],[-112,-149],[-61,-20],[-27,-123],[132,-321],[-75,-76],[-40,-87],[-130,-30],[-48,353],[-36,-101],[-92,35],[-56,238],[-114,39],[-72,69],[-119,-1],[-8,-128],[-32,89]],[[26954,55439],[14,117],[23,120],[-10,107],[41,70],[-58,88],[-1,238],[107,53]],[[27070,56232],[100,-212],[-6,-126],[111,-26],[26,48],[77,-145],[136,42],[119,150],[168,119],[95,176],[153,-34],[-10,-58],[155,-21],[124,-102],[90,-177],[105,-164]],[[26954,55439],[-151,131],[-56,124],[32,103],[-11,130],[-77,142],[-109,116],[-95,76],[-19,173],[-73,105],[18,-172],[-55,-141],[-64,164],[-89,58],[-38,120],[2,179],[36,187],[-78,83],[64,114]],[[26191,57131],[42,76],[183,-156],[63,77],[89,-50],[46,-121],[82,-40],[66,126]],[[26762,57043],[70,-321],[108,-238],[130,-252]],[[26191,57131],[-96,186],[-130,238],[-61,200],[-117,185],[-140,267],[31,91],[46,-88],[21,41]],[[25745,58251],[86,25],[35,135],[41,5],[-6,290],[65,14],[58,-4],[60,158],[82,-120],[29,74],[51,70],[97,163],[4,121],[27,-5],[36,141],[29,17],[47,-90],[56,-27],[61,76],[70,0],[97,77],[38,81],[95,-12]],[[26903,59440],[-24,-57],[-14,-132],[29,-216],[-64,-202],[-30,-237],[-9,-261],[15,-152],[7,-266],[-43,-58],[-26,-253],[19,-156],[-56,-151],[12,-159],[43,-97]],[[25745,58251],[-48,185],[-84,51]],[[25613,58487],[19,237],[-38,64],[-57,42],[-122,-70],[-10,79],[-84,95],[-60,118],[-82,50]],[[25179,59102],[58,150],[-22,116],[20,113],[131,166],[127,225]],[[25493,59872],[29,-23],[61,104],[79,8],[26,-48],[43,29],[129,-53],[128,15],[90,66],[32,66],[89,-31],[66,-40],[73,14],[55,51],[127,-82],[44,-13],[85,-110],[80,-132],[101,-91],[73,-162]],[[25613,58487],[-31,-139],[-161,9],[-100,57],[-115,117],[-154,37],[-79,127]],[[24973,58695],[9,86],[95,149],[52,66],[-15,69],[65,37]],[[25238,61101],[-2,-468],[-22,-667],[83,0]],[[25297,59966],[90,-107],[24,88],[82,-75]],[[24973,58695],[-142,103],[-174,11],[-127,117],[-149,244]],[[25472,61510],[1,-87],[53,-3],[-5,-160],[-45,-256],[24,-91],[-29,-212],[18,-56],[-32,-299],[-55,-156],[-50,-19],[-55,-205]],[[30185,57537],[-8,-139],[-163,-69],[91,-268],[-3,-309],[-123,-344],[105,-468],[120,38],[62,427],[-86,208],[-14,447],[346,241],[-38,278],[97,186],[100,-415],[195,-9],[180,-330],[11,-195],[249,-6],[297,61],[159,-264],[213,-74],[155,185],[4,149],[344,35],[333,9],[-236,-175],[95,-279],[222,-44],[210,-291],[45,-473],[144,13],[109,-139]],[[33400,55523],[-220,-347],[-24,-215],[95,-220],[-69,-110],[-171,-95],[5,-273],[-75,-163],[188,-448]],[[33400,55523],[183,-217],[171,-385],[8,-304],[105,-14],[149,-289],[109,-205]],[[34125,54109],[-44,-532],[-169,-154],[15,-139],[-51,-305],[123,-429],[89,-1],[37,-333],[169,-514]],[[34125,54109],[333,-119],[30,107],[225,43],[298,-159]],[[35011,53981],[-144,-508],[22,-404],[109,-351],[-49,-254],[-24,-270],[-71,-248]],[[35011,53981],[95,-65],[204,-140],[294,-499],[46,-242]],[[51718,79804],[131,-155],[400,-109],[-140,-404],[-35,-421]],[[52074,78715],[-77,-101],[-126,54],[9,-150],[-203,-332],[-5,-267],[133,92],[95,-259]],[[51900,77752],[-11,-167],[82,-222],[-97,-180],[72,-457],[151,-75],[-32,-256]],[[52065,76395],[-252,-334],[-548,160],[-404,-192],[-32,-355]],[[50829,75674],[-322,-77],[-313,267],[-101,-127],[-511,268],[-111,230]],[[49471,76235],[144,354],[53,1177],[-287,620],[-205,299],[-424,227],[-28,431],[360,129],[466,-152],[-88,669],[263,-254],[646,461],[84,484],[243,119]],[[50698,80799],[40,-207],[129,-10],[129,-237],[194,-279],[143,46],[243,-269]],[[51576,79843],[62,-52],[80,13]],[[52429,75765],[179,226],[47,-507],[-92,-456],[-126,120],[-64,398],[56,219]],[[27693,48568],[148,442],[-60,258],[-106,-275],[-166,259],[56,167],[-47,536],[97,89],[52,368],[105,381],[-20,241],[153,126],[190,236]],[[31588,61519],[142,-52],[50,-118],[-71,-149],[-209,4],[-163,-21],[-16,253],[40,86],[227,-3]],[[28453,61504],[187,-53],[147,-142],[46,-161],[-195,-11],[-84,-99],[-156,95],[-159,215],[34,135],[116,41],[64,-20]],[[27147,64280],[240,-42],[219,-7],[261,-201],[110,-216],[260,66],[98,-138],[235,-366],[173,-267],[92,8],[165,-120],[-20,-167],[205,-24],[210,-242],[-33,-138],[-185,-75],[-187,-29],[-191,46],[-398,-57],[186,329],[-113,154],[-179,39],[-96,171],[-66,336],[-157,-23],[-259,159],[-83,124],[-362,91],[-97,115],[104,148],[-273,30],[-199,-307],[-115,-8],[-40,-144],[-138,-65],[-118,56],[146,183],[60,213],[126,131],[142,116],[210,56],[67,65]],[[58175,37528],[-177,267],[-215,90],[-82,375],[0,208],[-119,64],[-315,649],[-87,342],[-56,105],[-107,473]],[[57017,40101],[311,-65],[90,-68],[94,13],[154,383],[241,486],[100,46],[33,205],[159,235],[210,81]],[[58409,41417],[18,-220],[232,12],[128,-125],[60,-146],[132,-43],[145,-190],[0,-748],[-54,-409],[-12,-442],[45,-175],[-31,-348],[-42,-53],[-74,-426],[-292,-671]],[[55526,35946],[0,1725],[274,20],[8,2105],[207,19],[428,207],[106,-243],[177,231],[85,2],[156,133]],[[56967,40145],[50,-44]],[[54540,33696],[-207,446],[-108,432],[-62,575],[-68,428],[-93,910],[-7,707],[-35,322],[-108,243],[-144,489],[-146,708],[-60,371],[-226,577],[-17,453]],[[53259,40357],[134,113],[166,100],[180,-17],[166,-267],[42,41],[1126,26],[192,-284],[673,-83],[510,241]],[[56448,40227],[228,134],[180,-34],[109,-133],[2,-49]],[[45357,58612],[-115,460],[-138,210],[122,112],[134,415],[66,304]],[[45426,60113],[96,189],[138,-51],[135,129],[155,6],[133,-173],[184,-157],[168,-435],[184,-405]],[[46619,59216],[13,-368],[54,-338],[104,-166],[24,-229],[-13,-184]],[[46801,57931],[-40,-33],[-151,47],[-21,-66],[-61,-13],[-200,144],[-134,6]],[[46194,58016],[-513,25],[-75,-67],[-92,19],[-147,-96]],[[45367,57897],[-46,453]],[[45321,58350],[253,-13],[67,83],[50,5],[103,136],[119,-124],[121,-11],[120,133],[-56,170],[-92,-99],[-86,3],[-110,145],[-88,-9],[-63,-140],[-302,-17]],[[46619,59216],[93,107],[47,348],[88,14],[194,-165],[157,117],[107,-39],[42,131],[1114,9],[62,414],[-48,73],[-134,2550],[-134,2550],[425,10]],[[48632,65335],[937,-1289],[937,-1289],[66,-277],[173,-169],[129,-96],[3,-376],[308,58]],[[51185,61897],[1,-1361],[-152,-394],[-24,-364],[-247,-94],[-379,-51],[-102,-210],[-178,-23]],[[50104,59400],[-178,-3],[-70,114],[-153,-84],[-259,-246],[-53,-184],[-216,-265],[-38,-152],[-116,-120],[-134,79],[-76,-144],[-41,-405],[-221,-490],[7,-200],[-76,-250],[18,-343]],[[48498,56707],[-114,-88],[-65,-74],[-43,253],[-80,-67],[-48,11],[-51,-172],[-215,5],[-77,89],[-36,-54]],[[47769,56610],[-85,170],[15,176],[-35,69],[-59,-58],[11,192],[57,152],[-114,248],[-33,163],[-62,130],[-55,15],[-67,-83],[-90,-79],[-76,-128],[-119,48],[-77,150],[-46,19],[-73,-78],[-44,-1],[-16,216]],[[47587,66766],[1045,-1431]],[[45426,60113],[-24,318],[78,291],[34,557],[-30,583],[-34,294],[28,295],[-72,281],[-146,255]],[[50747,54278],[-229,-69]],[[50518,54209],[-69,407],[13,1357],[-56,122],[-11,290],[-96,207],[-85,174],[35,311]],[[50249,57077],[96,67],[56,258],[136,56],[61,176]],[[50598,57634],[93,173],[100,2],[212,-340]],[[51003,57469],[-11,-197],[62,-350],[-54,-238],[29,-159],[-135,-366],[-86,-181],[-52,-372],[7,-376],[-16,-952]],[[54026,58177],[-78,-34],[-9,-188]],[[53939,57955],[-52,-13],[-188,647],[-65,24],[-217,-331],[-215,173],[-150,34],[-80,-83],[-163,18],[-164,-252],[-141,-14],[-337,305],[-131,-145],[-142,10],[-104,223],[-279,221],[-298,-70],[-72,-128],[-39,-340],[-80,-238],[-19,-527]],[[50598,57634],[6,405],[-320,134],[-9,286],[-156,386],[-37,269],[22,286]],[[51185,61897],[392,263],[804,1161],[952,1126]],[[53333,64447],[439,-255],[156,-324],[197,220]],[[53939,57955],[110,-235],[-31,-107],[-14,-196],[-234,-457],[-74,-377],[-39,-307],[-59,-132],[-56,-414],[-148,-243],[-43,-299],[-63,-238],[-26,-246],[-191,-199],[-156,243],[-105,-10],[-165,-345],[-81,-6],[-132,-570],[-71,-418]],[[52361,53399],[-289,-213],[-105,31],[-107,-132],[-222,13],[-149,370],[-91,427],[-197,389],[-209,-7],[-245,1]],[[54244,54965],[-140,-599],[-67,-107],[-21,-458],[28,-249],[-23,-176],[132,-309],[23,-212],[103,-305],[127,-190],[12,-269],[29,-172]],[[54447,51919],[-20,-319],[-220,140],[-225,156],[-350,23]],[[53632,51919],[-35,32],[-164,-76],[-169,79],[-132,-38]],[[53132,51916],[-452,13]],[[52680,51929],[40,466],[-108,391],[-127,100],[-56,265],[-72,85],[4,163]],[[50518,54209],[-224,-126]],[[50294,54083],[-62,207],[-74,375],[-22,294],[61,532],[-69,215],[-27,466],[1,429],[-116,305],[20,184]],[[50006,57090],[243,-13]],[[50294,54083],[-436,-346],[-154,-203],[-250,-171],[-248,168]],[[49206,53531],[13,233],[-121,509],[73,667],[117,496],[-74,841]],[[49214,56277],[-38,444],[7,336],[482,27],[123,-43],[90,96],[128,-47]],[[48498,56707],[125,-129],[49,-195],[125,-125],[97,149],[130,22],[190,-152]],[[49206,53531],[-126,-7],[-194,116],[-178,-7],[-329,-103],[-193,-170],[-275,-217],[-54,15]],[[47857,53158],[22,487],[26,74],[-8,233],[-118,247],[-88,40],[-81,162],[60,262],[-28,286],[13,172]],[[47655,55121],[44,0],[17,258],[-22,114],[27,82],[103,71],[-69,473],[-64,245],[23,200],[55,46]],[[47655,55121],[-78,15],[-57,-238],[-78,3],[-55,126],[19,237],[-116,362],[-73,-67],[-59,-13]],[[47158,55546],[-77,-34],[3,217],[-44,155],[9,171],[-60,249],[-78,211],[-222,1],[-65,-112],[-76,-13],[-48,-128],[-32,-163],[-148,-260]],[[46320,55840],[-122,349],[-108,232],[-71,76],[-69,118],[-32,261],[-41,130],[-80,97]],[[45797,57103],[123,288],[84,-11],[73,99],[61,1],[44,78],[-24,196],[31,62],[5,200]],[[45797,57103],[-149,247],[-117,39],[-63,166],[1,90],[-84,125],[-18,127]],[[47857,53158],[-73,-5],[-286,282],[-252,449],[-237,324],[-187,381]],[[46822,54589],[66,189],[15,172],[126,320],[129,276]],[[46822,54589],[-75,44],[-200,238],[-144,316],[-49,216],[-34,437]],[[55125,52650],[-178,33],[-188,99],[-166,-313],[-146,-550]],[[56824,55442],[152,-239],[2,-192],[187,-308],[116,-255],[70,-355],[208,-234],[44,-187]],[[53609,47755],[-104,203],[-84,-100],[-112,-255]],[[53309,47603],[-228,626]],[[53081,48229],[212,326],[-105,391],[95,148],[187,73],[23,261],[148,-283],[245,-25],[85,279],[36,393],[-31,461],[-131,350],[120,684],[-69,117],[-207,-48],[-78,305],[21,258]],[[53081,48229],[-285,596],[-184,488],[-169,610],[9,196],[61,189],[67,430],[56,438]],[[52636,51176],[94,35],[404,-6],[-2,711]],[[52636,51176],[-52,90],[96,663]],[[59099,45126],[131,-264],[71,-501],[-47,-160],[-56,-479],[53,-490],[-87,-205],[-85,-549],[147,-153]],[[59226,42325],[-843,-487],[26,-421]],[[56448,40227],[-181,369],[-188,483],[13,1880],[579,-7],[-24,203],[41,222],[-49,277],[32,286],[-29,184]],[[59599,43773],[-77,-449],[77,-768],[97,9],[100,-191],[116,-427],[24,-760],[-120,-124],[-85,-410],[-181,365],[-21,417],[59,274],[-16,237],[-110,149],[-77,-54],[-159,284]],[[61198,44484],[45,-265],[-11,-588],[34,-519],[11,-923],[49,-290],[-83,-422],[-108,-410],[-177,-366],[-254,-225],[-313,-287],[-313,-634],[-107,-108],[-194,-420],[-115,-136],[-23,-421],[132,-448],[54,-346],[4,-177],[49,29],[-8,-579],[-45,-275],[65,-101],[-41,-245],[-116,-211],[-229,-199],[-334,-320],[-122,-219],[24,-248],[71,-40],[-24,-311]],[[58908,34785],[-24,261],[-41,265]],[[53383,47159],[-74,444]],[[53259,40357],[-26,372],[38,519],[96,541],[15,254],[90,532],[66,243],[159,386],[90,263],[29,438],[-15,335],[-83,211],[-74,358],[-68,355],[15,122],[85,235],[-84,570],[-57,396],[-139,374],[26,115]],[[58062,48902],[169,-46],[85,336],[147,-38]],[[59922,69905],[-49,-186]],[[59873,69719],[-100,82],[-58,-394],[69,-66],[-71,-81],[-12,-156],[131,80]],[[59832,69184],[7,-230],[-139,-944]],[[59700,68010],[-27,153],[-155,862]],[[59518,69025],[80,194],[-19,34],[74,276],[56,446],[40,149],[8,6]],[[59757,70130],[93,-1],[25,104],[75,8]],[[59950,70241],[4,-242],[-38,-90],[6,-4]],[[59757,70130],[99,482],[138,416],[5,21]],[[59999,71049],[125,-31],[45,-231],[-151,-223],[-68,-323]],[[63761,43212],[74,-251],[69,-390],[45,-711],[72,-276],[-28,-284],[-49,-174],[-94,347],[-53,-175],[53,-438],[-24,-250],[-77,-137],[-18,-500],[-109,-689],[-137,-814],[-172,-1120],[-106,-821],[-125,-685],[-226,-140],[-243,-250],[-160,151],[-220,211],[-77,312],[-18,524],[-98,471],[-26,425],[50,426],[128,102],[1,197],[133,447],[25,377],[-65,280],[-52,372],[-23,544],[97,331],[38,375],[138,22],[155,121],[103,107],[122,7],[158,337],[229,364],[83,297],[-38,253],[118,-71],[153,410],[6,356],[92,264],[96,-254]],[[59873,69719],[0,-362],[-41,-173]],[[45321,58350],[36,262]],[[52633,68486],[-118,1061],[-171,238],[-3,143],[-227,352],[-24,445],[171,330],[65,487],[-44,563],[57,303]],[[52339,72408],[302,239],[195,-71],[-9,-299],[236,217],[20,-113],[-139,-290],[-2,-273],[96,-147],[-36,-511],[-183,-297],[53,-322],[143,-10],[70,-281],[106,-92]],[[53191,70158],[-16,-454],[-135,-170],[-86,-189],[-191,-228],[30,-244],[-24,-250],[-136,-137]],[[47592,66920],[-2,700],[449,436],[277,90],[227,159],[107,295],[324,234],[12,438],[161,51],[126,219],[363,99],[51,230],[-73,125],[-96,624],[-17,359],[-104,379]],[[49397,71358],[267,323],[300,102],[175,244],[268,180],[471,105],[459,48],[140,-87],[262,232],[297,5],[113,-137],[190,35]],[[52633,68486],[90,-522],[15,-274],[-49,-482],[21,-270],[-36,-323],[24,-371],[-110,-247],[164,-431],[11,-253],[99,-330],[130,109],[219,-275],[122,-370]],[[59922,69905],[309,-234],[544,630]],[[60775,70301],[112,-720]],[[60887,69581],[-53,-89],[-556,-296],[277,-591],[-92,-101],[-46,-197],[-212,-82],[-66,-213],[-120,-182],[-310,94]],[[59709,67924],[-9,86]],[[64327,64904],[49,29],[11,-162],[217,93],[230,-15],[168,-18],[190,400],[207,379],[176,364]],[[65575,65974],[52,-202]],[[65627,65772],[38,-466]],[[65665,65306],[-142,-3],[-23,-384],[50,-82],[-126,-117],[-1,-241],[-81,-245],[-7,-238]],[[65335,63996],[-56,-125],[-835,298],[-106,599],[-11,136]],[[64113,65205],[-18,430],[75,310],[76,64],[84,-185],[5,-346],[-61,-348]],[[64274,65130],[-77,-42],[-84,117]],[[63326,68290],[58,-261],[-25,-135],[89,-445]],[[63448,67449],[-196,-16],[-69,282],[-248,57]],[[62935,67772],[204,567],[187,-49]],[[60775,70301],[615,614],[105,715],[-26,431],[152,146],[142,369]],[[61763,72576],[119,92],[324,-77],[97,-150],[133,100]],[[62436,72541],[180,-705],[182,-177],[21,-345],[-139,-204],[-65,-461],[193,-562],[340,-324],[143,-449],[-46,-428],[89,0],[3,-314],[153,-311]],[[63490,68261],[-164,29]],[[62935,67772],[-516,47],[-784,1188],[-413,414],[-335,160]],[[65665,65306],[125,-404],[155,-214],[203,-78],[165,-107],[125,-339],[75,-196],[100,-75],[-1,-132],[-101,-352],[-44,-166],[-117,-189],[-104,-404],[-126,31],[-58,-141],[-44,-300],[34,-395],[-26,-72],[-128,2],[-174,-221],[-27,-288],[-63,-125],[-173,5],[-109,-149],[1,-238],[-134,-165],[-153,56],[-186,-199],[-128,-34]],[[64752,60417],[-91,413],[-217,975]],[[64444,61805],[833,591],[185,1182],[-127,418]],[[65575,65974],[80,201],[35,-51],[-26,-244],[-37,-108]],[[96448,41190],[175,-339],[-92,-78],[-93,259],[10,158]],[[96330,41322],[-39,163],[-6,453],[133,-182],[45,-476],[-75,74],[-58,-32]],[[78495,57780],[-66,713],[178,492],[359,112],[261,-84]],[[79227,59013],[229,-232],[126,407],[246,-217]],[[79828,58971],[64,-394],[-34,-708],[-467,-455],[122,-358],[-292,-43],[-240,-238]],[[78981,56775],[-233,87],[-112,307],[-141,611]],[[78495,57780],[-249,271],[-238,-11],[41,464],[-245,-3],[-22,-650],[-150,-863],[-90,-522],[19,-428],[181,-18],[113,-539],[50,-512],[155,-338],[168,-69],[144,-306]],[[78372,54256],[-91,-243],[-183,-71],[-22,304],[-227,258],[-48,-105]],[[77801,54399],[-110,227],[-47,292],[-148,334],[-135,280],[-45,-347],[-53,328],[30,369],[82,566]],[[77375,56448],[135,607],[152,551],[-108,539],[4,274],[-32,330],[-185,470],[-66,296],[96,109],[101,514],[-113,390],[-177,431],[-134,519],[117,107],[127,639],[196,26],[162,256],[159,137]],[[77809,62643],[120,-182],[16,-355],[188,-27],[-68,-623],[6,-530],[293,353],[83,-104],[163,17],[56,205],[210,-40],[211,-480],[18,-583],[224,-515],[-12,-500],[-90,-266]],[[77809,62643],[59,218],[237,384]],[[78105,63245],[25,-139],[148,-16],[-42,676],[144,86]],[[78380,63852],[162,-466],[125,-537],[342,-5],[108,-515],[-178,-155],[-80,-212],[333,-353],[231,-699],[175,-520],[210,-411],[70,-418],[-50,-590]],[[77375,56448],[-27,439],[86,452],[-94,350],[23,644],[-113,306],[-90,707],[-50,746],[-121,490],[-183,-297],[-315,-421],[-156,53],[-172,138],[96,732],[-58,554],[-218,681],[34,213],[-163,76],[-197,481]],[[75657,62792],[-18,476],[97,-90],[6,424]],[[75742,63602],[137,140],[-30,251],[63,201],[11,612],[217,-135],[124,487],[14,288],[153,496],[-8,338],[359,408],[199,-107],[-23,364],[97,108],[-20,224]],[[77035,67277],[162,44],[93,-348],[121,-141],[8,-452],[-11,-487],[-263,-493],[-33,-701],[293,98],[66,-544],[176,-115],[-81,-490],[206,-222],[121,-109],[203,172],[9,-244]],[[78380,63852],[149,145],[221,-3],[271,68],[236,315],[134,-222],[254,-108],[-44,-340],[132,-240],[280,-154]],[[80013,63313],[-371,-505],[-231,-558],[-61,-410],[212,-623],[260,-772],[252,-365],[169,-475],[127,-1093],[-37,-1039],[-232,-389],[-318,-381],[-227,-492],[-346,-550],[-101,378],[78,401],[-206,335]],[[86327,75524],[0,0]],[[86327,75524],[-106,36],[-120,-200],[-83,-202],[10,-424],[-143,-130],[-50,-105],[-104,-174],[-185,-97],[-121,-159],[-9,-256],[-32,-65],[111,-96],[157,-259]],[[85652,73393],[-40,-143],[-118,-39],[-197,-29],[-108,-266],[-124,21],[-17,-54]],[[85048,72883],[-135,112],[-34,-111],[-81,-49],[-10,112],[-72,54],[-75,94],[76,260],[66,69],[-25,108],[71,319],[-18,96],[-163,65],[-131,158]],[[84517,74170],[227,379],[306,318],[191,419],[131,-185],[241,-22],[-44,312],[429,254],[111,331],[179,-348]],[[85652,73393],[240,-697],[68,-383],[3,-681],[-105,-325],[-252,-113],[-222,-245],[-250,-51],[-31,322],[51,443],[-122,615],[206,99],[-190,506]],[[82410,80055],[-135,-446],[-197,-590],[72,-241],[157,74],[274,-92],[214,219],[223,-189],[251,-413],[-30,-210],[-219,66],[-404,-78],[-195,-168],[-204,-391],[-423,-229],[-277,-313],[-286,120],[-156,53],[-146,-381],[89,-227],[45,-195],[-194,-199],[-200,-316],[-324,-208],[-417,-22],[-448,-205],[-324,-318],[-123,184],[-336,-1],[-411,359],[-274,88],[-369,-82],[-574,133],[-306,-14],[-163,351],[-127,544],[-171,66],[-336,368],[-374,83],[-330,101],[-100,256],[107,690],[-192,476],[-396,222],[-233,313],[-73,413]],[[75742,63602],[-147,937],[-76,-2],[-46,-377],[-152,306],[86,336],[124,34],[128,500],[-160,101],[-257,-8],[-265,81],[-24,410],[-133,30],[-220,255],[-98,-401],[200,-313],[-173,-220],[-62,-215],[171,-159],[-47,-356],[96,-444],[43,-486]],[[74730,63611],[-39,-216],[-189,7],[-343,-122],[16,-445],[-148,-349],[-400,-398],[-311,-695],[-209,-373],[-276,-387],[-1,-271],[-138,-146],[-251,-212],[-129,-31],[-84,-450],[58,-769],[15,-490],[-118,-561],[-1,-1004],[-144,-29],[-126,-450],[84,-195],[-253,-168],[-93,-401],[-112,-170],[-263,552],[-128,827],[-107,596],[-97,279],[-148,568],[-69,739],[-48,369],[-253,811],[-115,1145],[-83,756],[1,716],[-54,553],[-404,-353],[-196,70],[-362,716],[133,214],[-82,232],[-326,501]],[[68937,64577],[185,395],[612,-2],[-56,507],[-156,300],[-31,455],[-182,265],[306,619],[323,-45],[290,620],[174,599],[270,593],[-4,421],[236,342],[-224,292],[-96,400],[-99,517],[137,255],[421,-144],[310,88],[268,496]],[[71621,71550],[298,-692],[-28,-482],[111,-303],[-9,-301],[-200,79],[78,-651],[273,-374],[386,-413]],[[72530,68413],[-176,-268],[-108,-553],[269,-224],[262,-289],[362,-332],[381,-76],[160,-301],[215,-56],[334,-138],[231,10],[32,234],[-36,375],[21,255]],[[74477,67050],[170,124],[23,-465]],[[74670,66709],[6,-119],[252,-224],[175,92],[234,-39],[227,17],[20,363],[-113,189]],[[75471,66988],[224,74],[252,439],[321,376],[233,-145],[198,249],[130,-367],[-94,-248],[300,-89]],[[75657,62792],[-79,308],[-16,301],[-53,285],[-116,344],[-256,23],[25,-243],[-87,-329],[-118,120],[-41,-108],[-78,65],[-108,53]],[[74670,66709],[184,439],[150,150],[198,-137],[147,-14],[122,-159]],[[72530,68413],[115,141],[223,-182],[280,-385],[157,-84],[93,-284],[216,-117],[225,-259],[314,-136],[324,-57]],[[68937,64577],[-203,150],[-83,424],[-215,450],[-512,-111],[-451,-11],[-391,-83]],[[67082,65396],[105,687],[400,305],[-23,272],[-133,96],[-7,520],[-266,260],[-112,357],[-137,310]],[[66909,68203],[465,-301],[278,88],[166,-75],[56,129],[194,-52],[361,246],[10,503],[154,334],[207,-1],[31,166],[212,77],[103,-55],[108,166],[-15,355],[118,356],[177,150],[-110,390],[265,-18],[76,213],[-12,227],[139,248],[-32,294],[-66,250],[163,258],[298,124],[319,68],[141,109],[162,67]],[[70877,72519],[205,-276],[82,-454],[457,-239]],[[68841,72526],[85,-72],[201,189],[93,-114],[90,271],[166,-12],[43,86],[29,239],[120,205],[150,-134],[-30,-181],[84,-28],[-26,-496],[110,-194],[97,125],[123,58],[173,265],[192,-44],[286,-1]],[[70827,72688],[50,-169]],[[66909,68203],[252,536],[-23,380],[-210,100],[-22,375],[-91,472],[119,323],[-121,87],[76,430],[113,736]],[[67002,71642],[284,-224],[209,79],[58,268],[219,89],[157,180],[55,472],[234,114],[44,211],[131,-158],[84,-19]],[[69725,74357],[-101,-182],[-303,98],[-26,-340],[301,46],[343,-192],[526,89]],[[70465,73876],[70,-546],[91,59],[169,-134],[-10,-230],[42,-337]],[[72294,75601],[-39,-134],[-438,-320],[-99,-234],[-356,-70],[-105,-378],[-294,80],[-192,-116],[-266,-279],[39,-138],[-79,-136]],[[67002,71642],[-24,498],[-207,21],[-318,523],[-221,65],[-308,299],[-197,55],[-122,-110],[-186,17],[-197,-338],[-244,-114]],[[64978,72558],[-52,417],[40,618],[-216,200],[71,405],[-184,34],[61,498],[262,-145],[244,189],[-202,355],[-80,338],[-224,-151],[-28,-433],[-87,383]],[[62436,72541],[-152,473],[55,183],[-87,678],[190,168]],[[62442,74043],[44,-223],[141,-273],[190,-78]],[[62817,73469],[101,17]],[[62918,73486],[327,436],[104,44],[82,-174],[-95,-292],[173,-309],[69,29]],[[63578,73220],[88,-436],[263,-123],[193,-296],[395,-102],[434,156],[27,139]],[[67082,65396],[-523,179],[-303,136],[-313,76],[-118,725],[-133,105],[-214,-106],[-280,-286],[-339,196],[-281,454],[-267,168],[-186,561],[-205,788],[-149,-96],[-177,196],[-104,-231]],[[59999,71049],[-26,452],[68,243]],[[60041,71744],[74,129],[75,130],[15,329],[91,-115],[306,165],[147,-112],[229,2],[320,222],[149,-10],[316,92]],[[62817,73469],[-113,342],[1,91],[-123,-2],[-82,159],[-58,-16]],[[62442,74043],[-109,172],[-207,147],[27,288],[-47,208]],[[62106,74858],[386,92]],[[62492,74950],[57,-155],[106,-103],[-56,-148],[148,-202],[-78,-189],[118,-160],[124,-97],[7,-410]],[[55734,91409],[371,-289],[433,-402],[8,-910],[93,-230]],[[56639,89578],[-478,-167],[-269,-413],[43,-361],[-441,-475],[-537,-509],[-202,-832],[198,-416],[265,-328],[-255,-666],[-289,-138],[-106,-992],[-157,-554],[-337,57],[-158,-468],[-321,-27],[-89,558],[-232,671],[-211,835]],[[58829,81362],[-239,-35],[-85,-129],[-18,-298],[-111,57],[-250,-28],[-73,138],[-104,-103],[-105,86],[-218,12],[-310,141],[-281,47],[-215,-14],[-152,-160],[-133,-23]],[[56535,81053],[-6,263],[-85,274],[166,121],[2,235],[-77,225],[-12,261]],[[56523,82432],[268,-4],[302,223],[64,333],[228,190],[-26,264]],[[57359,83438],[169,100],[298,228]],[[60617,78409],[-222,-48],[-185,-191],[-260,-31],[-239,-220],[14,-317]],[[59287,77741],[-38,64],[-432,149],[-19,221],[-257,-73],[-103,-325],[-215,-437]],[[58223,77340],[-126,101],[-131,-95],[-124,109]],[[57842,77455],[70,64],[49,203],[76,188],[-20,106],[58,47],[27,-81],[164,-18],[74,44],[-52,60],[19,88],[-97,150],[-40,247],[-101,97],[20,200],[-125,159],[-115,22],[-204,184],[-185,-58],[-66,-87]],[[57394,79070],[-118,0],[-69,-139],[-205,-56],[-95,-91],[-129,144],[-178,3],[-172,65],[-120,-127]],[[56308,78869],[-19,159],[-155,161]],[[56134,79189],[55,238],[77,154]],[[56266,79581],[60,-35],[-71,266],[252,491],[138,69],[29,166],[-139,515]],[[56266,79581],[-264,227],[-200,-84],[-131,61],[-165,-127],[-140,210],[-114,-81],[-16,36]],[[55236,79823],[-127,291],[-207,36],[-26,185],[-191,66],[-41,-153],[-151,122],[17,163],[-207,51],[-132,191]],[[54171,80775],[-114,377],[22,204],[-69,316],[-101,210],[77,158],[-64,300]],[[53922,82340],[189,174],[434,273],[350,200],[277,-100],[21,-144],[268,-7]],[[56314,82678],[142,-64],[67,-182]],[[54716,79012],[-21,-241],[-156,-2],[53,-128],[-92,-380]],[[54500,78261],[-53,-100],[-243,-14],[-140,-134],[-229,45]],[[53835,78058],[-398,153],[-62,205],[-274,-102],[-32,-113],[-169,84]],[[52900,78285],[-142,16],[-125,108],[42,145],[-10,104]],[[52665,78658],[83,33],[141,-164],[39,156],[245,-25],[199,106],[133,-18],[87,-121],[26,100],[-40,385],[100,75],[98,272]],[[53776,79457],[206,-190],[157,242],[98,44],[215,-180],[131,30],[128,-111]],[[54711,79292],[-23,-75],[28,-205]],[[56308,78869],[-170,-123],[-131,-401],[-168,-401],[-223,-111]],[[55616,77833],[-173,26],[-213,-155]],[[55230,77704],[-104,-89],[-229,114],[-208,253],[-88,73]],[[54601,78055],[-54,200],[-47,6]],[[54716,79012],[141,-151],[103,-65],[233,73],[22,118],[111,18],[135,92],[30,-38],[130,74],[66,139],[91,36],[297,-180],[59,61]],[[57842,77455],[-50,270],[30,252],[-9,259],[-160,352],[-89,249],[-86,175],[-84,58]],[[58223,77340],[6,-152],[-135,-128],[-84,56],[-78,-713]],[[57932,76403],[-163,62],[-202,215],[-327,-138],[-138,-150],[-408,31],[-213,92],[-108,-43],[-80,243]],[[56293,76715],[-51,103],[65,99],[-69,74],[-87,-133],[-162,172],[-22,244],[-169,139],[-31,188],[-151,232]],[[55907,83187],[-59,497]],[[55848,83684],[318,181],[466,-38],[273,59],[39,-123],[148,-38],[267,-287]],[[55848,83684],[10,445],[136,371],[262,202],[221,-442],[223,12],[53,453]],[[56753,84725],[237,105],[121,-73],[239,-219],[229,-1]],[[56753,84725],[32,349],[-102,-75],[-176,210],[-24,340],[351,164],[350,86],[301,-97],[287,17]],[[54171,80775],[-124,-62],[-73,68],[-70,-113],[-200,-114],[-103,-147],[-202,-129],[49,-176],[30,-249],[141,-142],[157,-254]],[[52665,78658],[-298,181],[-57,-128],[-236,4]],[[51718,79804],[16,259],[-56,133]],[[51678,80196],[32,400]],[[51710,80596],[-47,619],[167,0],[70,222],[69,541],[-51,200]],[[51918,82178],[54,125],[232,32],[52,-130],[188,291],[-63,222],[-13,335]],[[52368,83053],[210,-78],[178,90]],[[52756,83065],[4,-228],[281,-138],[-3,-210],[283,111],[156,162],[313,-233],[132,-189]],[[57932,76403],[-144,-245],[-101,-422],[89,-337]],[[57776,75399],[-239,79],[-283,-186]],[[57254,75292],[-3,-294],[-252,-56],[-196,206],[-222,-162],[-206,17]],[[56375,75003],[-20,391],[-139,189]],[[56216,75583],[46,84],[-30,70],[47,188],[105,185],[-135,255],[-24,216],[68,134]],[[57302,71436],[-35,-175],[-400,-50],[3,98],[-339,115],[52,251],[152,-199],[216,34],[207,-42],[-7,-103],[151,71]],[[57254,75292],[135,-157],[-86,-369],[-66,-67]],[[57237,74699],[-169,17],[-145,56],[-336,-154],[192,-332],[-141,-96],[-154,-1],[-147,305],[-52,-130],[62,-353],[139,-277],[-105,-129],[155,-273],[137,-171],[4,-334],[-257,157],[82,-302],[-176,-62],[105,-521],[-184,-8],[-228,257],[-104,473],[-49,393],[-108,272],[-143,337],[-18,168]],[[55597,73991],[129,287],[16,192],[91,85],[5,155]],[[55838,74710],[182,53],[106,129],[150,-12],[46,103],[53,20]],[[60041,71744],[-102,268],[105,222],[-169,-51],[-233,136],[-191,-340],[-421,-66],[-225,317],[-300,20],[-64,-245],[-192,-70],[-268,314],[-303,-11],[-165,588],[-203,328],[135,459],[-176,283],[308,565],[428,23],[117,449],[529,-78],[334,383],[324,167],[459,13],[485,-417],[399,-228],[323,91],[239,-53],[328,309]],[[61542,75120],[296,28],[268,-290]],[[57776,75399],[33,-228],[243,-190],[-51,-145],[-330,-33],[-118,-182],[-232,-319],[-87,276],[3,121]],[[55597,73991],[-48,41],[-5,130],[-154,199],[-24,281],[23,403],[38,184],[-47,93]],[[55380,75322],[-18,188],[120,291],[18,-111],[75,52]],[[55575,75742],[59,-159],[66,-60],[19,-214]],[[55719,75309],[-35,-201],[39,-254],[115,-144]],[[55230,77704],[67,-229],[89,-169],[-107,-222]],[[55279,77084],[-126,131],[-192,-8],[-239,98],[-130,-13],[-60,-123],[-99,136],[-59,-245],[136,-277],[61,-183],[127,-221],[106,-130],[105,-247],[246,-224]],[[55155,75778],[-31,-100]],[[55124,75678],[-261,218],[-161,213],[-254,176],[-233,434],[56,45],[-127,248],[-5,200],[-179,93],[-85,-255],[-82,198],[6,205],[10,9]],[[53809,77462],[194,-20],[51,100],[94,-97],[109,-11],[-1,165],[97,60],[27,239],[221,157]],[[52900,78285],[-22,-242],[-122,-100],[-206,75],[-60,-239],[-132,-19],[-48,94],[-156,-200],[-134,-28],[-120,126]],[[51576,79843],[30,331],[72,22]],[[50698,80799],[222,117]],[[50920,80916],[204,-47],[257,123],[176,-258],[153,-138]],[[50920,80916],[143,162],[244,869],[380,248],[231,-17]],[[47490,75324],[101,150],[113,86],[70,-289],[164,0],[47,75],[162,-21],[78,-296],[-129,-160],[-3,-461],[-45,-86],[-11,-280],[-120,-48],[111,-355],[-77,-388],[96,-175],[-38,-161],[-103,-222],[23,-195]],[[47929,72498],[-112,-153],[-146,83],[-143,-65],[42,462],[-26,363],[-124,55],[-67,224],[22,386],[111,215],[20,239],[58,355],[-6,250],[-56,212],[-12,200]],[[47490,75324],[14,420],[-114,257],[393,426],[340,-106],[373,3],[296,-101],[230,31],[449,-19]],[[50829,75674],[15,-344],[-263,-393],[-356,-125],[-25,-199],[-171,-327],[-107,-481],[108,-338],[-160,-263],[-60,-384],[-210,-118],[-197,-454],[-352,-9],[-265,11],[-174,-209],[-106,-223],[-136,49],[-103,199],[-79,340],[-259,92]],[[48278,82406],[46,-422],[-210,-528],[-493,-349],[-393,89],[225,617],[-145,601],[378,463],[210,276]],[[47896,83153],[57,-317],[-57,-317],[172,9],[210,-122]],[[96049,38125],[228,-366],[144,-272],[-105,-142],[-153,160],[-199,266],[-179,313],[-184,416],[-38,201],[119,-9],[156,-201],[122,-200],[89,-166]],[[95032,44386],[78,-203],[-194,4],[-106,363],[166,-142],[56,-22]],[[94910,44908],[-42,-109],[-206,512],[-57,353],[94,0],[100,-473],[111,-283]],[[94680,44747],[-108,-14],[-170,60],[-58,91],[17,235],[183,-93],[91,-124],[45,-155]],[[94344,45841],[65,-187],[12,-119],[-218,251],[-152,212],[-104,197],[41,60],[128,-142],[228,-272]],[[93649,46431],[111,-193],[-56,-33],[-121,134],[-114,243],[14,99],[166,-250]],[[99134,26908],[-105,-319],[-138,-404],[-214,-236],[-48,155],[-116,85],[160,486],[-91,326],[-299,236],[8,214],[201,206],[47,455],[-13,382],[-113,396],[8,104],[-133,244],[-218,523],[-117,418],[104,46],[151,-328],[216,-153],[78,-526],[202,-622],[5,403],[126,-161],[41,-447],[224,-192],[188,-48],[158,226],[141,-69],[-67,-524],[-85,-345],[-212,12],[-74,-179],[26,-254],[-41,-110]],[[97129,24846],[238,310],[167,306],[123,441],[106,149],[41,330],[195,273],[61,-251],[63,-244],[198,239],[80,-249],[0,-249],[-103,-274],[-182,-435],[-142,-238],[103,-284],[-214,-7],[-238,-223],[-75,-387],[-157,-597],[-219,-264],[-138,-169],[-256,13],[-180,194],[-302,42],[-46,217],[149,438],[349,583],[179,111],[200,225]],[[91024,26469],[166,-39],[20,-702],[-95,-203],[-29,-476],[-97,162],[-193,-412],[-57,32],[-171,19],[-171,505],[-38,390],[-160,515],[7,271],[181,-52],[269,-204],[151,81],[217,113]],[[85040,31546],[-294,-303],[-241,-137],[-53,-309],[-103,-240],[-236,-15],[-174,-52],[-246,107],[-199,-64],[-191,-27],[-165,-315],[-81,26],[-140,-167],[-133,-187],[-203,23],[-186,0],[-295,377],[-149,113],[6,338],[138,81],[47,134],[-10,212],[34,411],[-31,350],[-147,598],[-45,337],[12,336],[-111,385],[-7,174],[-123,235],[-35,463],[-158,467],[-39,252],[122,-255],[-93,548],[137,-171],[83,-229],[-5,303],[-138,465],[-26,186],[-65,177],[31,341],[56,146],[38,295],[-29,346],[114,425],[21,-450],[118,406],[225,198],[136,252],[212,217],[126,46],[77,-73],[219,220],[168,66],[42,129],[74,54],[153,-14],[292,173],[151,262],[71,316],[163,300],[13,236],[7,321],[194,502],[117,-510],[119,118],[-99,279],[87,287],[122,-128],[34,449],[152,291],[67,233],[140,101],[4,165],[122,-69],[5,148],[122,85],[134,80],[205,-271],[155,-350],[173,-4],[177,-56],[-59,325],[133,473],[126,155],[-44,147],[121,338],[168,208],[142,-70],[234,111],[-5,302],[-204,195],[148,86],[184,-147],[148,-242],[234,-151],[79,60],[172,-182],[162,169],[105,-51],[65,113],[127,-292],[-74,-316],[-105,-239],[-96,-20],[32,-236],[-81,-295],[-99,-291],[20,-166],[221,-327],[214,-189],[143,-204],[201,-350],[78,1],[145,-151],[43,-183],[265,-200],[183,202],[55,317],[56,262],[34,324],[85,470],[-39,286],[20,171],[-32,339],[37,445],[53,120],[-43,197],[67,313],[52,325],[7,168],[104,222],[78,-289],[19,-371],[70,-71],[11,-249],[101,-300],[21,-335],[-10,-214],[100,-464],[179,223],[92,-250],[133,-231],[-29,-262],[60,-506],[42,-295],[70,-72],[75,-505],[-27,-307],[90,-400],[301,-309],[197,-281],[186,-257],[-37,-143],[159,-371],[108,-639],[111,130],[113,-256],[68,91],[48,-626],[197,-363],[129,-226],[217,-478],[78,-475],[7,-337],[-19,-365],[132,-502],[-16,-523],[-48,-274],[-75,-527],[6,-339],[-55,-423],[-123,-538],[-205,-290],[-102,-458],[-93,-292],[-82,-510],[-107,-294],[-70,-442],[-36,-407],[14,-187],[-159,-205],[-311,-22],[-257,-242],[-127,-229],[-168,-254],[-230,262],[-170,104],[43,308],[-152,-112],[-243,-428],[-240,160],[-158,94],[-159,42],[-269,171],[-179,364],[-52,449],[-64,298],[-137,240],[-267,71],[91,287],[-67,438],[-136,-408],[-247,-109],[146,327],[42,341],[107,289],[-22,438],[-226,-504],[-174,-202],[-106,-470],[-217,243],[9,313],[-174,429],[-147,221],[52,137],[-356,358],[-195,17],[-267,287],[-498,-56],[-359,-211],[-317,-197],[-265,39]],[[72718,55024],[-42,-615],[-116,-168],[-242,-135],[-132,470],[-49,849],[126,959],[192,-328],[129,-416],[134,-616]],[[80409,61331],[-228,183],[-8,509],[137,267],[304,166],[159,-14],[62,-226],[-122,-260],[-64,-341],[-240,-284]],[[84517,74170],[-388,-171],[-204,-277],[-300,-161],[148,274],[-58,230],[220,397],[-147,310],[-242,-209],[-314,-411],[-171,-381],[-272,-29],[-142,-275],[147,-400],[227,-97],[9,-265],[220,-173],[311,422],[247,-230],[179,-15],[45,-310],[-393,-165],[-130,-319],[-270,-296],[-142,-414],[299,-325],[109,-581],[169,-541],[189,-454],[-5,-439],[-174,-161],[66,-315],[164,-184],[-43,-481],[-71,-468],[-155,-53],[-203,-640],[-225,-775],[-258,-705],[-382,-545],[-386,-498],[-313,-68],[-170,-262],[-96,192],[-157,-294],[-388,-296],[-294,-90],[-95,-624],[-154,-35],[-73,429],[66,228],[-373,189],[-131,-96]],[[83826,64992],[-167,-947],[-119,-485],[-146,499],[-32,438],[163,581],[223,447],[127,-176],[-49,-357]],[[53835,78058],[-31,-291],[67,-251]],[[53871,77516],[-221,86],[-226,-210],[15,-293],[-34,-168],[91,-301],[261,-298],[140,-488],[309,-476],[217,3],[68,-130],[-78,-118],[249,-214],[204,-178],[238,-308],[29,-111],[-52,-211],[-154,276],[-242,97],[-116,-382],[200,-219],[-33,-309],[-116,-35],[-148,-506],[-116,-46],[1,181],[57,317],[60,126],[-108,342],[-85,298],[-115,74],[-82,255],[-179,107],[-120,238],[-206,38],[-217,267],[-254,384],[-189,340],[-86,585],[-138,68],[-226,195],[-128,-80],[-161,-274],[-115,-43]],[[54100,73116],[211,51],[-100,-465],[41,-183],[-58,-303],[-213,222],[-141,64],[-387,300],[38,304],[325,-54],[284,64]],[[52419,74744],[139,183],[166,-419],[-39,-782],[-126,38],[-113,-197],[-105,156],[-11,713],[-64,338],[153,-30]],[[52368,83053],[-113,328],[-8,604],[46,159],[80,177],[244,37],[98,163],[223,167],[-9,-304],[-82,-192],[33,-166],[151,-89],[-68,-223],[-83,64],[-200,-425],[76,-288]],[[53436,83731],[88,-296],[-166,-478],[-291,333],[-39,246],[408,195]],[[47896,83153],[233,24],[298,-365],[-149,-406]],[[49140,82132],[1,0],[40,343],[-186,364],[-4,8],[-337,104],[-66,160],[101,264],[-92,163],[-149,-279],[-17,569],[-140,301],[101,611],[216,480],[222,-47],[335,49],[-297,-639],[283,81],[304,-3],[-72,-481],[-250,-530],[287,-38],[22,-62],[248,-697],[190,-95],[171,-673],[79,-233],[337,-113],[-34,-378],[-142,-173],[111,-305],[-250,-310],[-371,6],[-473,-163],[-130,116],[-183,-276],[-257,67],[-195,-226],[-148,118],[407,621],[249,127],[-2,1],[-434,98],[-79,235],[291,183],[-152,319],[52,387],[413,-54]],[[45969,89843],[-64,-382],[314,-403],[-361,-451],[-801,-405],[-240,-107],[-365,87],[-775,187],[273,261],[-605,289],[492,114],[-12,174],[-583,137],[188,385],[421,87],[433,-400],[422,321],[349,-167],[453,315],[461,-42]],[[63495,75281],[146,-311],[141,-419],[130,-28],[85,-159],[-228,-47],[-49,-459],[-48,-207],[-101,-138],[7,-293]],[[62492,74950],[68,96],[207,-169],[149,-36],[38,70],[-136,319],[72,82]],[[61542,75120],[42,252],[-70,403],[-160,218],[-154,68],[-102,181]],[[83564,58086],[-142,450],[238,-22],[97,-213],[-74,-510],[-119,295]],[[84051,56477],[70,165],[30,367],[153,35],[-44,-398],[205,570],[-26,-563],[-100,-195],[-87,-373],[-87,-175],[-171,409],[57,158]],[[85104,55551],[28,-392],[16,-332],[-94,-540],[-102,602],[-130,-300],[89,-435],[-79,-277],[-327,343],[-78,428],[84,280],[-176,280],[-87,-245],[-131,23],[-205,-330],[-46,173],[109,498],[175,166],[151,223],[98,-268],[212,162],[45,264],[196,15],[-16,457],[225,-280],[23,-297],[20,-218]],[[82917,56084],[-369,-561],[136,414],[200,364],[167,409],[146,587],[49,-482],[-183,-325],[-146,-406]],[[83982,61347],[-46,-245],[95,-423],[-73,-491],[-164,-196],[-43,-476],[62,-471],[147,-65],[123,70],[347,-328],[-27,-321],[91,-142],[-29,-272],[-216,290],[-103,310],[-71,-217],[-177,354],[-253,-87],[-138,130],[14,244],[87,151],[-83,136],[-36,-213],[-137,340],[-41,257],[-11,566],[112,-195],[29,925],[90,535],[169,-1],[171,-168],[85,153],[26,-150]],[[83899,57324],[-43,282],[166,-183],[177,1],[-5,-247],[-129,-251],[-176,-178],[-10,275],[20,301]],[[84861,57766],[78,-660],[-214,157],[5,-199],[68,-364],[-132,-133],[-11,416],[-84,31],[-43,357],[163,-47],[-4,224],[-169,451],[266,-13],[77,-220]],[[78372,54256],[64,-56],[164,-356],[116,-396],[16,-398],[-29,-269],[27,-203],[20,-349],[98,-163],[109,-523],[-5,-199],[-197,-40],[-263,438],[-329,469],[-32,301],[-161,395],[-38,489],[-100,322],[30,431],[-61,250]],[[80461,51765],[204,-202],[214,110],[56,500],[119,112],[333,128],[199,467],[137,374]],[[81723,53254],[126,-307],[58,202],[133,-19],[16,377],[13,291]],[[82069,53798],[214,411],[140,462],[112,2],[143,-299],[13,-257],[183,-165],[231,-177],[-20,-232],[-186,-29],[50,-289],[-205,-201]],[[81723,53254],[110,221],[236,323]],[[53809,77462],[62,54]],[[57797,86326],[-504,-47],[-489,-216],[-452,-125],[-161,323],[-269,193],[62,582],[-135,533],[133,345],[252,371],[635,640],[185,124],[-28,250],[-387,279]],[[54711,79292],[39,130],[123,-10],[95,61],[7,55],[54,28],[18,134],[64,26],[43,106],[82,1]],[[60669,61213],[161,-684],[77,-542],[152,-288],[379,-558],[154,-336],[151,-341],[87,-203],[136,-178]],[[61966,58083],[-83,-144],[-119,51]],[[61764,57990],[-95,191],[-114,346],[-124,190],[-71,204],[-242,237],[-191,7],[-67,124],[-163,-139],[-168,268],[-87,-441],[-323,124]],[[89411,73729],[-256,-595],[4,-610],[-104,-472],[48,-296],[-145,-416],[-355,-278],[-488,-36],[-396,-675],[-186,227],[-12,442],[-483,-130],[-329,-279],[-325,-11],[282,-435],[-186,-1004],[-179,-248],[-135,229],[69,533],[-176,172],[-113,405],[263,182],[145,371],[280,306],[203,403],[553,177],[297,-121],[291,1050],[185,-282],[408,591],[158,229],[174,723],[-47,664],[117,374],[295,108],[152,-819],[-9,-479]],[[90169,76553],[197,250],[62,-663],[-412,-162],[-244,-587],[-436,404],[-152,-646],[-308,-9],[-39,587],[138,455],[296,33],[81,817],[83,460],[326,-615],[213,-198],[195,-126]],[[86769,70351],[154,352],[158,-68],[114,248],[204,-127],[35,-203],[-156,-357],[-114,189],[-143,-137],[-73,-346],[-181,168],[2,281]],[[64752,60417],[-201,-158],[-54,-263],[-6,-201],[-277,-249],[-444,-276],[-249,-417],[-122,-33],[-83,35],[-163,-245],[-177,-114],[-233,-30],[-70,-34],[-61,-156],[-73,-43],[-43,-150],[-137,13],[-89,-80],[-192,30],[-72,345],[8,323],[-46,174],[-54,437],[-80,243],[56,29],[-29,270],[34,114],[-12,257]],[[61883,60238],[121,189],[-28,249],[74,290],[114,-153],[75,53],[321,14],[50,-59],[269,-60],[106,30],[70,-197],[130,99],[199,620],[259,266],[801,226]],[[63448,67449],[109,-510],[137,-135],[47,-207],[190,-249],[16,-243],[-27,-197],[35,-199],[80,-165],[37,-194],[41,-145]],[[64274,65130],[53,-226]],[[61883,60238],[-37,252],[-83,178],[-22,236],[-143,212],[-148,495],[-79,482],[-192,406],[-124,97],[-184,563],[-32,411],[12,350],[-159,655],[-130,231],[-150,122],[-92,339],[15,133],[-77,306],[-81,132],[-108,440],[-170,476],[-141,406],[-139,-3],[44,325],[12,206],[34,236]],[[36483,4468],[141,0],[414,127],[419,-127],[342,-255],[120,-359],[33,-254],[11,-301],[-430,-186],[-452,-150],[-522,-139],[-582,-116],[-658,35],[-365,197],[49,243],[593,162],[239,197],[174,254],[126,220],[168,209],[180,243]],[[31586,3163],[625,-23],[599,-58],[207,243],[147,208],[288,-243],[-82,-301],[-81,-266],[-582,81],[-621,-35],[-348,197],[0,23],[-152,174]],[[29468,8472],[190,70],[321,-23],[82,301],[16,219],[-6,475],[158,278],[256,93],[147,-220],[65,-220],[120,-267],[92,-254],[76,-267],[33,-266],[-49,-231],[-76,-220],[-326,-81],[-311,-116],[-364,11],[136,232],[-327,-81],[-310,-81],[-212,174],[-16,243],[305,231]],[[21575,8103],[174,104],[353,-81],[403,-46],[305,-81],[304,69],[163,-335],[-217,46],[-337,-23],[-343,23],[-376,-35],[-283,116],[-146,243]],[[15938,7061],[60,197],[332,-104],[359,-93],[332,104],[-158,-208],[-261,-151],[-386,47],[-278,208]],[[14643,7177],[202,127],[277,-139],[425,-231],[-164,23],[-359,58],[-381,162]],[[4524,4144],[169,220],[517,-93],[277,-185],[212,-209],[76,-266],[-533,-81],[-364,208],[-163,209],[-11,35],[-180,162]],[[0,529],[16,-5],[245,344],[501,-185],[32,21],[294,188],[38,-7],[32,-4],[402,-246],[352,246],[63,34],[816,104],[265,-138],[130,-71],[419,-196],[789,-151],[625,-185],[1072,-139],[800,162],[1181,-116],[669,-185],[734,174],[773,162],[60,278],[-1094,23],[-898,139],[-234,231],[-745,128],[49,266],[103,243],[104,220],[-55,243],[-462,162],[-212,209],[-430,185],[675,-35],[642,93],[402,-197],[495,173],[457,220],[223,197],[-98,243],[-359,162],[-408,174],[-571,35],[-500,81],[-539,58],[-180,220],[-359,185],[-217,208],[-87,672],[136,-58],[250,-185],[457,58],[441,81],[228,-255],[441,58],[370,127],[348,162],[315,197],[419,58],[-11,220],[-97,220],[81,208],[359,104],[163,-196],[425,115],[321,151],[397,12],[375,57],[376,139],[299,128],[337,127],[218,-35],[190,-46],[414,81],[370,-104],[381,11],[364,81],[375,-57],[414,-58],[386,23],[403,-12],[413,-11],[381,23],[283,174],[337,92],[349,-127],[331,104],[300,208],[179,-185],[98,-208],[180,-197],[288,174],[332,-220],[375,-70],[321,-162],[392,35],[354,104],[418,-23],[376,-81],[381,-104],[147,254],[-180,197],[-136,209],[-359,46],[-158,220],[-60,220],[-98,440],[213,-81],[364,-35],[359,35],[327,-93],[283,-174],[119,-208],[376,-35],[359,81],[381,116],[342,70],[283,-139],[370,46],[239,451],[224,-266],[321,-104],[348,58],[228,-232],[365,-23],[337,-69],[332,-128],[218,220],[108,209],[278,-232],[381,58],[283,-127],[190,-197],[370,58],[288,127],[283,151],[337,81],[392,69],[354,81],[272,127],[163,186],[65,254],[-32,244],[-87,231],[-98,232],[-87,231],[-71,209],[-16,231],[27,232],[130,220],[109,243],[44,231],[-55,255],[-32,232],[136,266],[152,173],[180,220],[190,186],[223,173],[109,255],[152,162],[174,151],[267,34],[174,186],[196,115],[228,70],[202,150],[157,186],[218,69],[163,-151],[-103,-196],[-283,-174],[-120,-127],[-206,92],[-229,-58],[-190,-139],[-202,-150],[-136,-174],[-38,-231],[17,-220],[130,-197],[-190,-139],[-261,-46],[-153,-197],[-163,-185],[-174,-255],[-44,-220],[98,-243],[147,-185],[229,-139],[212,-185],[114,-232],[60,-220],[82,-232],[130,-196],[82,-220],[38,-544],[81,-220],[22,-232],[87,-231],[-38,-313],[-152,-243],[-163,-197],[-370,-81],[-125,-208],[-169,-197],[-419,-220],[-370,-93],[-348,-127],[-376,-128],[-223,-243],[-446,-23],[-489,23],[-441,-46],[-468,0],[87,-232],[424,-104],[311,-162],[174,-208],[-310,-185],[-479,58],[-397,-151],[-17,-243],[-11,-232],[327,-196],[60,-220],[353,-220],[588,-93],[500,-162],[398,-185],[506,-186],[690,-92],[681,-162],[473,-174],[517,-197],[272,-278],[136,-220],[337,209],[457,173],[484,186],[577,150],[495,162],[691,12],[680,-81],[560,-139],[180,255],[386,173],[702,12],[550,127],[522,128],[577,81],[614,104],[430,150],[-196,209],[-119,208],[0,220],[-539,-23],[-571,-93],[-544,0],[-77,220],[39,440],[125,128],[397,138],[468,139],[337,174],[337,174],[251,231],[380,104],[376,81],[190,47],[430,23],[408,81],[343,116],[337,139],[305,139],[386,185],[245,197],[261,173],[82,232],[-294,139],[98,243],[185,185],[288,116],[305,139],[283,185],[217,232],[136,277],[202,163],[331,-35],[136,-197],[332,-23],[11,220],[142,231],[299,-58],[71,-220],[331,-34],[360,104],[348,69],[315,-34],[120,-243],[305,196],[283,105],[315,81],[310,81],[283,139],[310,92],[240,128],[168,208],[207,-151],[288,81],[202,-277],[157,-209],[316,116],[125,232],[283,162],[365,-35],[108,-220],[229,220],[299,69],[326,23],[294,-11],[310,-70],[300,-34],[130,-197],[180,-174],[304,104],[327,24],[315,0],[310,11],[278,81],[294,70],[245,162],[261,104],[283,58],[212,162],[152,324],[158,197],[288,-93],[109,-208],[239,-139],[289,46],[196,-208],[206,-151],[283,139],[98,255],[250,104],[289,197],[272,81],[326,116],[218,127],[228,139],[218,127],[261,-69],[250,208],[180,162],[261,-11],[229,139],[54,208],[234,162],[228,116],[278,93],[256,46],[244,-35],[262,-58],[223,-162],[27,-254],[245,-197],[168,-162],[332,-70],[185,-162],[229,-162],[266,-35],[223,116],[240,243],[261,-127],[272,-70],[261,-69],[272,-46],[277,0],[229,-614],[-11,-150],[-33,-267],[-266,-150],[-218,-220],[38,-232],[310,12],[-38,-232],[-141,-220],[-131,-243],[212,-185],[321,-58],[321,104],[153,232],[92,220],[153,185],[174,174],[70,208],[147,289],[174,58],[316,24],[277,69],[283,93],[136,231],[82,220],[190,220],[272,151],[234,115],[153,197],[157,104],[202,93],[277,-58],[250,58],[272,69],[305,-34],[201,162],[142,393],[103,-162],[131,-278],[234,-115],[266,-47],[267,70],[283,-46],[261,-12],[174,58],[234,-35],[212,-127],[250,81],[300,0],[255,81],[289,-81],[185,197],[141,196],[191,163],[348,439],[179,-81],[212,-162],[185,-208],[354,-359],[272,-12],[256,0],[299,70],[299,81],[229,162],[190,174],[310,23],[207,127],[218,-116],[141,-185],[196,-185],[305,23],[190,-150],[332,-151],[348,-58],[288,47],[218,185],[185,185],[250,46],[251,-81],[288,-58],[261,93],[250,0],[245,-58],[256,-58],[250,104],[299,93],[283,23],[316,0],[255,58],[251,46],[76,290],[11,243],[174,-162],[49,-266],[92,-244],[115,-196],[234,-105],[315,35],[365,12],[250,35],[364,0],[262,11],[364,-23],[310,-46],[196,-186],[-54,-220],[179,-173],[299,-139],[310,-151],[360,-104],[375,-92],[283,-93],[315,-12],[180,197],[245,-162],[212,-185],[245,-139],[337,-58],[321,-69],[136,-232],[316,-139],[212,-208],[310,-93],[321,12],[299,-35],[332,12],[332,-47],[310,-81],[288,-139],[289,-116],[195,-173],[-32,-232],[-147,-208],[-125,-266],[-98,-209],[-131,-243],[-364,-93],[-163,-208],[-360,-127],[-125,-232],[-190,-220],[-201,-185],[-115,-243],[-70,-220],[-28,-266],[6,-220],[158,-232],[60,-220],[130,-208],[517,-81],[109,-255],[-501,-93],[-424,-127],[-528,-23],[-234,-336],[-49,-278],[-119,-220],[-147,-220],[370,-196],[141,-244],[239,-219],[338,-197],[386,-186],[419,-185],[636,-185],[142,-289],[800,-128],[53,-45],[208,-175],[767,151],[636,-186],[479,-142],[-99999,0]],[[59092,71341],[19,3],[40,143],[200,-8],[253,176],[-188,-251],[21,-111]],[[59437,71293],[-30,21],[-53,-45],[-42,12],[-14,-22],[-5,59],[-20,37],[-54,6],[-75,-51],[-52,31]],[[59437,71293],[8,-48],[-285,-240],[-136,77],[-64,237],[132,22]],[[45272,63236],[13,274],[106,161],[91,308],[-18,200],[96,417],[155,376],[93,95],[74,344],[6,315],[100,365],[185,216],[177,603],[5,8],[139,227],[259,65],[218,404],[140,158],[232,493],[-70,735],[106,508],[37,312],[179,399],[278,270],[206,244],[186,612],[87,362],[205,-2],[167,-251],[264,41],[288,-131],[121,-6]],[[56944,63578],[0,2175],[0,2101],[-83,476],[71,365],[-43,253],[101,283]],[[56990,69231],[369,10],[268,-156],[275,-175],[129,-92],[214,188],[114,169],[245,49],[198,-75],[75,-293],[65,193],[222,-140],[217,-33],[137,149]],[[59700,68010],[-78,-238],[-60,-446],[-75,-308],[-65,-103],[-93,191],[-125,263],[-198,847],[-29,-53],[115,-624],[171,-594],[210,-920],[102,-321],[90,-334],[249,-654],[-55,-103],[9,-384],[323,-530],[49,-121]],[[53191,70158],[326,-204],[117,51],[232,-98],[368,-264],[130,-526],[250,-114],[391,-248],[296,-293],[136,153],[133,272],[-65,452],[87,288],[200,277],[192,80],[375,-121],[95,-264],[104,-2],[88,-101],[276,-70],[68,-195]],[[59804,53833],[-164,643],[-127,137],[-48,236],[-141,288],[-171,42],[95,337],[147,14],[42,181]],[[61764,57990],[-98,-261],[-94,-277],[22,-163],[4,-180],[155,-10],[67,42],[62,-106]],[[61882,57035],[-61,-209],[103,-325],[102,-285],[106,-210],[909,-702],[233,4]],[[61966,58083],[66,-183],[-9,-245],[-158,-142],[119,-161]],[[61984,57352],[-102,-317]],[[61984,57352],[91,-109],[54,-245],[125,-247],[138,-2],[262,151],[302,70],[245,184],[138,39],[99,108],[158,20]],[[58449,49909],[-166,-182],[-67,60]],[[58564,52653],[115,161],[176,-132],[224,138],[195,-1],[171,272]],[[55279,77084],[100,2],[-69,-260],[134,-227],[-41,-278],[-65,-27]],[[55338,76294],[-52,-53],[-90,-138],[-41,-325]],[[55719,75309],[35,-5],[13,121],[164,91],[62,23]],[[55993,75539],[95,35],[128,9]],[[55993,75539],[-9,44],[33,71],[31,144],[-39,-4],[-54,110],[-46,28],[-36,94],[-52,36],[-40,84],[-50,-33],[-38,-196],[-66,-43]],[[55627,75874],[22,51],[-106,123],[-91,63],[-40,82],[-74,101]],[[55380,75322],[-58,46],[-78,192],[-120,118]],[[55627,75874],[-52,-132]],[[32866,56937],[160,77],[58,-21],[-11,-440],[-232,-65],[-50,53],[81,163],[-6,233]]],ome=[-180,-85.60903777459771,180,83.64513000000001],sme={scale:[.0036000360003600037,.0016925586033320105],translate:[-180,-85.60903777459771]},ame={type:rme,objects:US,arcs:ime,bbox:ome,transform:sme};var Pr=(()=>{let t=class t{constructor(n){this.http=n,this.startDate=new Date("1994-01-01").getTime(),this.endDate=new Date("2023-01-01").getTime(),this.browserSubject=new qt([]),this.browserArray=[],this.energyArray=[],this.aiDataArray=[]}getWatch(){return this.http.get("assets/datasets/trit.json")}getIndustryData(){return this.http.get("assets/datasets/industryrelation.json")}getAiData(){return this.http.get("assets/datasets/aiddata.csv",{responseType:"text"}).pipe(ve(n=>{let i=n.split(`
`);for(let a=1;a<i.length-1;a++){let l=i[a].split(",");this.aiDataArray.push({country:l[1],year:parseInt(l[2]),donations:parseInt(l[3].trim()),receipts:parseInt(l[4]),net_donations:parseInt(l[5])})}let o=Rn(this.aiDataArray,a=>a.country,a=>a.year),s=Vx(BS,US.countries);return s.features.forEach(a=>{o.get(`"${a.properties.name}"`)!==void 0&&(a.properties.data=o.get(`"${a.properties.name}"`))}),{aiDataArray:this.aiDataArray,countries:s}}))}getEnergyData(){return this.http.get("assets/datasets/energy.csv",{responseType:"text"}).pipe(ve(n=>{let i=n.split(`
`);for(let o=1;o<i.length-1;o++){let s=i[o].split(",");this.energyArray.push({source:s[0],target:s[1],value:parseInt(s[2].trim())})}return this.energyArray}))}getEnergyNodes(){return this.getEnergyData().pipe(ve(n=>({nodes:Array.from(new Set(n.flatMap(i=>[i.source,i.target])),i=>({name:i,category:String(i).replace(/ .*/,"")})),links:n})))}getBrowsersList(){return this.http.get("assets/datasets/web_browsers_1994-2023.csv",{responseType:"text"}).pipe(ve(n=>{let i=n.split(`
`);for(let o=1;o<i.length-1;o++){let s=i[o].split(",");this.browserArray.push({date:s[0],name:s[1],value:parseInt(s[2].trim())})}return this.browserArray}),On(n=>(console.log(n),n)))}filterBrowserList(){return this.getBrowsersList().pipe(Vn(n=>n.map(i=>{if(new Date(i.date).getTime()>=this.startDate&&new Date(i.date).getTime()<=this.endDate)return i})))}transformedBrowserList(){return this.filterBrowserList().pipe(ve(n=>n.map(i=>{let o=jS.find(s=>i.name===s.name);return ne(ne({},i),o)})))}getImageLinks(){return new Map(jS.map(n=>[n.name,n.image]))}getBrowserNames(){return this.transformedBrowserList().pipe(ve(n=>new Set(n.map(i=>i.name))))}getDateValues(){return this.transformedBrowserList().pipe(ve(n=>({dateValues:Array.from(li(n,([i])=>i.value,i=>+new Date(i.date),i=>i.name)).map(([i,o])=>[new Date(i),o]).sort(([i],[o])=>at(i,o)),browserNames:new Set(n.map(i=>i.name))})))}getKeyFrames(){return this.getDateValues().pipe(ve(n=>{let i=[],s,a,l,c;for([[s,a],[l,c]]of Jn(n.dateValues)){for(let u=0;u<100;++u){let d=u/100;i.push([new Date(s*(1-d)+l*d),this.rank(f=>(a.get(f)||0)*(1-d)+(c.get(f)||0)*d,n.browserNames)])}i.push([new Date(l),this.rank(u=>c.get(u)||0,n.browserNames)])}return i}))}rank(n,i){let o=Array.from(i,s=>({name:s,image:this.getImageLinks().get(s),rank:0,value:n(s)||0}));for(let s=0;s<o.length;++s)o[s].rank=s;return o}};t.\u0275fac=function(i){return new(i||t)(re(Wt))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rr=(()=>{let t=class t{constructor(){this.largeMatchMedia=window.matchMedia("(min-width: 53.8rem)"),this.extendedMatchMedia=window.matchMedia("(min-width: 100rem)"),this.serialize=n=>{let i="http://www.w3.org/2000/xmlns/",o="http://www.w3.org/1999/xlink",s="http://www.w3.org/2000/svg";return this.serialize=a=>{a=n.cloneNode(!0);let l=window.location.href+"#",c=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT);for(;c.nextNode();)for(let f of c.currentNode.attributes)f.value.includes(l)&&(f.value=f.value.replace(l,"#"));n.setAttributeNS(i,"xmlns",s),n.setAttributeNS(i,"xmlns:xlink",o);let d=new window.XMLSerializer().serializeToString(n);return new Blob([d],{type:"image/svg+xml;base64"})}},this.windowSize$=new qt(this.getWindowSize()),this.windowSize=this.windowSize$.pipe(so()),Ps(window,"resize").pipe(Ns(100)).subscribe(n=>this.onResize())}isLargePresentation(){return this.largeMatchMedia.matches}isExtendedPresentation(){return this.extendedMatchMedia.matches}triggerResize(){this.onResize()}onResize(){this.windowSize$.next(this.getWindowSize())}getWindowSize(){return{height:window.innerHeight,width:window.innerWidth}}rasterize(n){let i,o,s=new Promise((l,c)=>(i=l,o=c)),a=new Image;return a.onerror=o,a.onload=l=>{let u=document.createElement("canvas").getContext("2d");u.drawImage(a,0,0,150,150),u.canvas.toBlob(i)},a.src=URL.createObjectURL(this.serialize(n)),s}saveSvgToImage(){let n=o=>new Promise(s=>o.complete?s():o.onload=o.onerror=s),i=o=>{let s=document.querySelector("#svg_container").querySelector("svg"),l=new XMLSerializer().serializeToString(s),c=document.createElement("img");c.src="data:image/svg+xml;charset=utf-8;base64,"+btoa(unescape(encodeURI(l))),n(c).then(u=>{let d=document.createElement("canvas");d.width=s.clientWidth,d.height=s.clientHeight,d.style.background="#FFFFFF",d.style.backgroundColor="white";let f=d.getContext("2d").drawImage(c,0,0,s.clientWidth,s.clientHeight);return d.toDataURL("image/"+o,4)}).then(u=>{document.getElementById("img").setAttribute("src",u),document.getElementById("img").setAttribute("background-color","white"),document.getElementById("anchor").setAttribute("href",u),document.getElementById("anchor").setAttribute("background-color","white"),URL.revokeObjectURL("anchor")}).catch(console.error)};document.querySelector("#map2Jpg").addEventListener("click",o=>i("jpg"))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lme=e=>({disabled:e});function cme(e,t){if(e&1){let r=bt();k(0,"li",8),te("click",function(){let o=lt(r).$implicit,s=_e();return ct(s.toggleLegendItem(o))}),Q(1,"div"),k(2,"label",9),V(3),M()()}if(e&2){let r=t.$implicit,n=_e();U(1),Ra("bullet ",n.legendItem[r]&&n.legendItem[r].className,""),ii("background-color",n.legendItem[r]&&n.legendItem[r].color),U(1),G("ngClass",jr(7,lme,n.legendItem[r]&&!n.legendItem[r].visible)),U(1),Ze(r)}}var Vf=(()=>{let t=class t{constructor(n,i){this.element=n,this.presentationService=i,this.colorScale=["red","yellow","green","blue","brown"],this.backData=[{category:"Critical",count:0,percent:0},{category:"Major",count:0,percent:0},{category:"Medium",count:0,percent:0},{category:"Minor",count:0,percent:0},{category:"Informational",count:0,percent:0}],this.sortOrder=["Critical","Major","Medium","Minor","Informational"],this.onSetChartFilters=new yt,this.onRandomizeClick=new yt,this.width=160,this.height=195,this.renderedWidth=0,this.PI=Math.PI,this.arcMin=48,this.arcWidth=18,this.arcPad=4,this.noArcs=5,this.legendItem={},this.dataSource=[],this.arcSize=this.noArcs,this.islegendClicked=!1,this.itemsArray=[],this.d3Format=We(" ,"),this.parentElement=n.nativeElement}transformData(n){if(!n||!Array.isArray(n))return[];switch(this.detectDataFormat(n)){case"category-count-percent":return this.transformCategoryCountPercentData(n);case"advertiser":return this.transformAdvertiserData(n);case"utm-source":return this.transformUtmSourceData(n);default:return this.transformGenericData(n)}}detectDataFormat(n){if(!n.length)return"unknown";let i=n[0];return i.hasOwnProperty("category")&&i.hasOwnProperty("count")?"category-count-percent":i.hasOwnProperty("name")&&i.hasOwnProperty("data")?"advertiser":i.hasOwnProperty("UTM_SOURCE")?"utm-source":"generic"}transformCategoryCountPercentData(n){return n.map(i=>({category:i.category||i.name||"Unknown",count:isNaN(Number(i.count))?0:Number(i.count),percent:isNaN(Number(i.percent))?0:Number(i.percent)}))}transformAdvertiserData(n){let i=n.reduce((o,s)=>o+(s.data?s.data.length:0),0);return n.map((o,s)=>{let a=o.data?o.data.length:0;return{category:o.name||`Advertiser ${s+1}`,count:isNaN(a)?0:a,percent:i>0?Math.round(a/i*100):0}}).filter(o=>o.count>0)}transformUtmSourceData(n){return n.map(i=>{let o=i.total||"0%",s=parseFloat(o.replace("%",""))||0,a=Math.round(s*100);return{category:i.UTM_SOURCE||"Unknown Source",count:isNaN(a)?0:a,percent:isNaN(s)?0:s}}).filter(i=>i.percent>0&&!isNaN(i.percent))}transformGenericData(n){return n.map((i,o)=>{let s=i.category||i.name||i.label||i.key||`Item ${o+1}`,a=i.count||i.value||i.total||i.amount||1,l=isNaN(Number(a))?1:Number(a),c=n.reduce((d,f)=>{let h=f.count||f.value||f.total||f.amount||1;return d+(isNaN(Number(h))?1:Number(h))},0),u=c>0?Math.round(l/c*100):0;return{category:String(s),count:isNaN(l)?1:l,percent:isNaN(u)?0:u}})}ngOnChanges(n){for(let i in n)if(n.hasOwnProperty(i))switch(i){case"data":{let o=this.transformData(this.data||[]);this.dataSource=o,this.dataSource=this.sortArray(this.dataSource).map((s,a)=>(s.index=a,s)),this.initializeOptions(),this.renderChart(this.dataSource);break}}}ngOnInit(){this.subscription=this.presentationService.windowSize.subscribe(n=>{this.renderedWidth?this.renderedWidth!==n.width&&(this.renderedWidth=n.width,this.onResize(n)):this.renderedWidth=n.width})}onResize(n){this.dataSource&&this.dataSource.length&&this.renderFilteredChart()}sortArray(n){return!n||typeof n[0]>"u"?[]:typeof n[0]=="object"?n.sort((i,o)=>this.sortOrder.indexOf(o.category)-this.sortOrder.indexOf(i.category)):n.sort((i,o)=>this.sortOrder.indexOf(o)-this.sortOrder.indexOf(i))}initializeOptions(){if(this.legendItem={},!this.dataSource||!this.dataSource.length)return;let n=this.getLegendKeys();this.keys=[];for(let i of n)this.keys.push(i),this.legendItem[i]={visible:!0,className:this.getKeyClassName(i)};for(let i of this.keys)this.legendItem[i].color=this.colorScale[this.keys.indexOf(i)]}getLegendKeys(){return this.dataSource&&this.dataSource.length>0?this.sortArray(this.dataSource.map(n=>n.category)).reverse():[]}setAllLegendItems(n){for(let i of this.keys)this.legendItem[i].visible=n}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}legendVisibleCount(){let n=0;for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n++;return n}toggleAllLegendItems(){let n=[],i=[];this.islegendClicked=!0,this.keys.forEach(o=>{this.legendItem[o]&&(this.legendItem[o].visible?i.push(o):(this.legendItem[o].visible=!this.legendItem[o].visible,n.push(o)))}),n.length||i.forEach(o=>{this.legendItem[o].visible=!1}),this.islegendClicked=!1,this.renderFilteredChart()}toggleLegendItem(n){this.islegendClicked=!0,this.keys.length===this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legendItem[n].visible=!this.legendItem[n].visible,this.legendVisibleCount()===0&&(this.setAllLegendItems(!0),this.islegendClicked=!1),this.renderFilteredChart()}renderFilteredChart(){try{let n=JSON.parse(JSON.stringify(this.dataSource)),i=[];this.keys.forEach(o=>{this.legendItem[o]&&!this.legendItem[o].visible&&i.push(o)}),i.length&&(n=n.map((o,s)=>i.includes(o.category)?{category:o.category,count:0,percent:0,index:s}:o)),n=n.filter(o=>o!==void 0&&o.count>0),this.renderChart(n)}catch(n){console.error("Error in renderFilteredChart:",n)}}getEnabledItems(){let n=[];for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n.push(i);return n}legendFilter(){let n=this.getEnabledItems();this.onSetChartFilters.emit({items:n,islegendClicked:this.islegendClicked})}barFilter(n){this.onSetChartFilters.emit({items:[n],islegendClicked:!0})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.destroyChart()}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}getChartWidth(){try{if(!this.parentElement)return console.warn("Parent element not available for width calculation"),160;let n=this.parentElement.querySelector(".chart-wrapper"),i=n?n.getBoundingClientRect().width:this.parentElement.getBoundingClientRect().width;return!i||isNaN(i)?(console.warn("Invalid panel width:",i),160):(this.keys&&this.keys.length>0&&this.presentationService.isLargePresentation()?i-=this.presentationService.isExtendedPresentation()?50:25:i-=5,i>0?i:160)}catch(n){return console.error("Error in getChartWidth:",n),160}}numberFormat(n){return n>=1e9?(n/1e9).toFixed(0).replace(/\.0$/,"")+"G":n>=1e6?(n/1e6).toFixed(0).replace(/\.0$/,"")+"M":n>=1e3?Math.trunc(n/1e3).toFixed(1).replace(/\.0$/,"")+"K":n}renderChart(n){try{if(this.destroyChart(),!this.parentElement){console.warn("Parent element not found for radial chart");return}let i=sn().innerRadius((y,g)=>this.arcMin+g*this.arcWidth+this.arcPad).outerRadius((y,g)=>this.arcMin+(g+1)*this.arcWidth).startAngle(0).endAngle((y,g)=>2*this.PI);(!n||!Array.isArray(n))&&(n=this.dataSource||[]),n=n.map(y=>Se(ne({},y),{count:isNaN(Number(y.count))?0:Number(y.count),percent:isNaN(Number(y.percent))?0:Number(y.percent),category:y.category||"Unknown"})).filter(y=>y.count>0),n.length===0&&(n=this.backData);let o=0;n.forEach(y=>{let g=isNaN(Number(y.count))?0:Number(y.count);o+=g}),this.totalCount=this.numberFormat(o);let s=this.getChartWidth(),a=this.height*1.35;if(s<=0||a<=0){console.warn("Invalid chart dimensions:",{chartWidth:s,chartHeight:a});return}let l=W(this.parentElement);if(!l||l.empty()){console.warn("Failed to select parent element with d3");return}let c=l.select("svg");c.empty()&&(c=l.append("svg"));let u=this.svg=c.attr("viewBox","-59, -60, 390, 280").attr("preserveAspectRatio","xMidYMin meet").attr("width",s).attr("height",a);if(!this.svg||this.svg.empty()){console.warn("Failed to create or select SVG element");return}if(u.attr("width",s),u.attr("height",a),this.parentElement==null||this.totalCount<1)try{u.selectAll(".arc-backgrounds").data(this.backData).enter().append("svg:path").style("fill","#f3f3f3").text("No data found.").attr("text-anchor","middle").attr("transform","translate(80,80)").attr("viewBox","-59, -60, 390, 280").attr("preserveAspectRatio","xMidYMin meet").attr("d",i)}catch(y){console.warn("Failed to create background arcs:",y)}let d=Ue(n,y=>isNaN(Number(y.count))?0:Number(y.count))||1;this.scale=be().domain([0,d*1.2]).range([0,2*Math.PI]);let f=sn().innerRadius(y=>{let g=isNaN(Number(y.index))?0:Number(y.index);return this.arcMin+g*this.arcWidth+this.arcPad}).outerRadius(y=>{let g=isNaN(Number(y.index))?0:Number(y.index);return this.arcMin+(g+1)*this.arcWidth}).startAngle(0).endAngle(y=>{let g=isNaN(Number(y.count))?0:Number(y.count);return this.scale(g)}),h=W("body").append("div").attr("class","radial-tooltip").style("position","absolute").style("padding","0 10px").style("background","white").style("opacity",0).style("pointer-events","none").style("border-radius","10px");try{u.append("text").attr("text-anchor","middle").attr("font-size","27px").attr("font-weight","600").attr("fill","#4d4d4d").text(this.totalCount).attr("transform","translate("+this.width/2+","+this.height/2.2+")")}catch(y){console.warn("Failed to append text:",y)}try{u.selectAll(".arc-backgrounds").data(this.backData).enter().append("svg:path").style("fill","#f3f3f3").attr("transform","translate(80,80)").attr("cursor","pointer").attr("d",i)}catch(y){console.warn("Failed to create background arcs:",y)}u.selectAll("path.arc-path").remove();let m=u.selectAll("path.arc-path").data(n,y=>y.category);try{m.enter().append("svg:path").attr("class","arc-path").attr("transform","translate(80,80)").attr("cursor","pointer").attr("fill",x=>{if(!this.legendItem||!this.legendItem[x.category])return"#ccc";let C=Object.values(this.legendItem),w="",b=this.getKeyClassName(x.category);return C.forEach(I=>{let T=I.className;b===T&&(w=I.color)}),w}).on("click",(x,C)=>{this.barFilter(C.category),h.style("display","none")}).on("mousemove",(x,C)=>{h.transition().duration(200).style("opacity",.9),h.html(`<div><p>${C.category} <strong>${this.d3Format(C.count)}</strong> (${C.percent}%)</p></div>`).style("left",x.pageX-35+"px").style("top",x.pageY-30+"px")}).on("mouseout",function(){h.transition().duration(200).style("opacity",0),h.html("")}).attr("d",x=>{let C=Se(ne({},x),{count:0});return f(C)}).merge(m).transition().duration(900).ease(Ks).attrTween("d",function(x){try{let C=this,w=Se(ne({},x),{count:isNaN(Number(x.count))?0:Number(x.count),index:isNaN(Number(x.index))?0:Number(x.index)}),b=C.current||Se(ne({},w),{count:0}),I=Xt(b,w);return C.current=w,function(T){try{let z=I(T);return isNaN(z.count)||isNaN(z.index)?(console.warn("Invalid interpolated data:",z),f(Se(ne({},z),{count:0,index:0}))):f(z)}catch(z){return console.error("Error in arcTween inner function:",z,{d:x,t:T}),f(Se(ne({},x),{count:0,index:0}))}}}catch(C){return console.error("Error in attrTween:",C,{d:x}),w=>f(Se(ne({},x),{count:0,index:0}))}})}catch(y){console.error("Error creating or animating arcs:",y)}}catch(i){console.error("Error in renderChart:",i)}}randomize(){this.onRandomizeClick.emit(this.id)}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(rr))},t.\u0275cmp=le({type:t,selectors:[["radial-chart"]],inputs:{data:"data",severityData:"severityData",id:"id",colorScale:"colorScale",unit:"unit"},outputs:{onSetChartFilters:"onSetChartFilters",onRandomizeClick:"onRandomizeClick"},features:[wn],decls:16,vars:1,consts:[[1,"chart-wrapper"],["width","1","height","1"],[1,"legend"],[3,"click",4,"ngFor","ngForOf"],[1,"time-series-icon-container"],[1,"time-series-table-control","view-events-button",3,"click"],[1,"material-icons"],[1,"time-series-icon-label"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(k(0,"div",0),Ft(),Q(1,"svg",1),zn(),k(2,"div",2)(3,"ul"),ge(4,cme,4,9,"li",3),M(),k(5,"div",4)(6,"div",5),te("click",function(){return o.toggleAllLegendItems()}),k(7,"span",6),V(8,"sync"),M(),k(9,"span",7),V(10,"Reset"),M()(),k(11,"div",5),te("click",function(){return o.legendFilter()}),k(12,"span",6),V(13,"analytics"),M(),k(14,"span",7),V(15,"Details"),M()()()()()),i&2&&(U(4),G("ngForOf",o.keys))},dependencies:[oi,Yt],styles:[`radial-chart{max-width:50px}radial-chart .chart-wrapper{overflow:hidden;display:block;height:40vh;margin-top:-1px}radial-chart .checkmark-icon{margin-right:10px}radial-chart .legend{font-weight:700;font-size:1.2rem;position:absolute;top:5rem;right:-2rem}radial-chart .legend .title{cursor:pointer}radial-chart .legend ul{font-weight:400;list-style-type:none;overflow-y:hidden;padding:0}radial-chart .legend li{cursor:pointer;min-width:12rem;margin:.4rem;white-space:nowrap}radial-chart .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}radial-chart .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#00f;font-size:1.4rem;font-weight:400}radial-chart .bullet{display:inline-block;background-color:#000;height:1.4rem;width:1.4rem;vertical-align:middle;border-radius:50%}radial-chart .disabled{opacity:.5}radial-chart .tick line{stroke-opacity:.2}@media (min-width: 57.3rem){radial-chart .legend{float:right;margin:1rem 0}radial-chart .legend ul{max-height:32rem;width:15.2rem;margin:.5rem 0}radial-chart .legend li{width:11.8rem}radial-chart .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();var KB=(()=>{let t=class t{constructor(){this.d$=new zt;let n=this.ngOnDestroy.bind(this);this.ngOnDestroy=()=>{n(),this.d$.next(!0),this.d$.complete()}}ngOnDestroy(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,o){},encapsulation:2});let e=t;return e})();var ag=jg(JB());var lg=(()=>{let t=class t{constructor(n){this.logger=n,this.utcOffset={hours:0,minutes:0},this.timeZoneAbbreviation="",this.dateOptions=[],this.allowCustomDates=!1,this.allowMultiDay=!1}getTimeZoneAbbreviation(){return this.timeZoneAbbreviation}setAllowCustomDates(n){this.allowCustomDates=n}setAllowMultiDay(n){this.allowMultiDay=n}setTimeZoneAbbreviation(n){this.timeZoneAbbreviation=n}setMaxAvailableDays(n){this.maxDaysAvailable=n}getMaxAvailableDays(){return this.maxDaysAvailable}setUtcOffset(n){if(n&&~n.indexOf(":")){let i=n.split(":");this.utcOffset.hours=Number(i[0]),this.utcOffset.minutes=Number(i[1])*(this.utcOffset.hours>-1?1:-1)}}getOffsetHours(){return this.utcOffset.hours}getOffsetMinutes(){return this.utcOffset.minutes*(this.getOffsetHours()>-1?1:-1)}getOffsetDate(n){let i=new Date(n);return i.setUTCHours(i.getUTCHours()+this.utcOffset.hours),i.setMinutes(i.getUTCMinutes()+this.utcOffset.minutes),i}getOffsetDateTimeString(n){let i=this.getOffsetDate(n);return this.toString(i)}getOffsetDateTimeLocaleSegments(n){let i=this.getOffsetDate(n),o=i.getUTCHours(),s=i.getUTCMonth()+1+"/"+i.getUTCDate()+"/"+i.getUTCFullYear(),a=(o%12||12)+":"+("0"+i.getUTCMinutes()).slice(-2)+":"+("0"+i.getUTCSeconds()).slice(-2)+(o>11?" PM":" AM"),l=this.getTimeZoneAbbreviation();return[s,a,l]}getOffsetDateTimeLocaleString(n){let i=this.getOffsetDateTimeLocaleSegments(n);return i[0]+" "+i[1]+" "+i[2]}toString(n){return n.toISOString()}getCustomDate(n,i){return{startDate:this.getCustomDateString(n),startTime:this.getCustomTimeString(n),endDate:this.getCustomDateString(i),endTime:this.getCustomTimeString(i)}}getDateRangeFromStartAndEnd(n,i){let o={startDateUtc:this.toString(n),endDateUtc:this.toString(i),timePeriod:"hour",label:"Custom"},s=i.getTime()-n.getTime();switch(!0){case s>864e5:o.timePeriod="day";break;case s<=6e4:o.timePeriod="second";break;case s<=36e5:o.timePeriod="minute";break}return o.fullLabel=()=>this.formatFullLabel(n,i,o.timePeriod,9),o}getCustomDateString(n){let i=new Date(n.getTime());return i.setUTCHours(i.getUTCHours()+this.getOffsetHours()),i.setUTCMinutes(i.getUTCMinutes()+this.getOffsetMinutes()),i.getUTCFullYear()+"-"+("0"+(i.getUTCMonth()+1)).slice(-2)+"-"+("0"+i.getUTCDate()).slice(-2)}getCustomTimeString(n){let i=new Date(n.getTime());return i.setUTCHours(i.getUTCHours()+this.getOffsetHours()),i.setUTCMinutes(i.getUTCMinutes()+this.getOffsetMinutes()),("0"+i.getUTCHours()).slice(-2)+":"+("0"+i.getUTCMinutes()).slice(-2)+":"+("0"+i.getUTCSeconds()).slice(-2)}getUTCDateRange(n,i=null){let o=new Date,s=new Date,a="hour";switch(n){case this.getDateRangeOptionIndex(Ne.LastHour):o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes()),a="minute";break;case this.getDateRangeOptionIndex(Ne.LastTwoHours):o.setUTCHours(o.getUTCHours()-1),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Ne.LastFourHours):o.setUTCHours(o.getUTCHours()-3),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Ne.LastSixHours):o.setUTCHours(o.getUTCHours()-5),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Ne.LastEightHours):o.setUTCHours(o.getUTCHours()-7),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Ne.LastTwelveHours):o.setUTCHours(o.getUTCHours()-11),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Ne.LastTwentyFourHours):o.setUTCHours(o.getUTCHours()-23),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());break;case this.getDateRangeOptionIndex(Ne.LastSevenDays):o.setUTCDate(o.getUTCDate()-6),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCHours(o.getUTCHours()+-1*this.getOffsetHours()),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());var l=this.getDayDifference(o,s);l!=7&&o.setUTCDate(o.getUTCDate()-(7-l)),a="day";break;case this.getDateRangeOptionIndex(Ne.LastThirtyDays):let c=ag.utc(o);c.subtract(29,"day"),o=c.toDate();var l=this.getDayDifference(o,s);l!=30&&o.setUTCDate(o.getUTCDate()-(30-l)),a="day";break;case this.getDateRangeOptionIndex(Ne.Custom):if(!i)throw"Custom option requires custom date parameter";let u=new Date(this.formatCustomDateTime(i.startDate,i.startTime));o=new Date(Date.UTC(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes(),u.getSeconds())),o.setUTCHours(o.getUTCHours()+-1*this.getOffsetHours()),o.setUTCMinutes(o.getUTCMinutes()+-1*this.getOffsetMinutes());let d=new Date(this.formatCustomDateTime(i.endDate,i.endTime));s=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds())),s.setUTCHours(s.getUTCHours()+-1*this.getOffsetHours()),s.setUTCMinutes(s.getUTCMinutes()+-1*this.getOffsetMinutes()),a=this.getCustomDateUnit(o,s);break;case this.getDateRangeOptionIndex(Ne.LastSixtyDays):let f=ag.utc(o);f.subtract(59,"day"),o=f.toDate();var l=this.getDayDifference(o,s);l!=60&&o.setUTCDate(o.getUTCDate()-(60-l)),a="month";break;case this.getDateRangeOptionIndex(Ne.LastNinetyDays):let h=ag.utc(o);h.subtract(89,"day"),o=h.toDate();var l=this.getDayDifference(o,s);l!=90&&o.setUTCDate(o.getUTCDate()-(90-l)),a="month";break;case this.getDateRangeOptionIndex(Ne.LastOneHundredTwentyDays):let m=ag.utc(o);m.subtract(119,"day"),o=m.toDate();var l=this.getDayDifference(o,s);l!=120&&o.setUTCDate(o.getUTCDate()-(120-l)),a="month";break;default:o.setUTCHours(o.getUTCHours()-24),o.setUTCSeconds(0)}return{startDateUtc:this.toString(o),endDateUtc:this.toString(s),timePeriod:a,label:this.getDateOptionsName(n),isCustom:n===9,customLabel:this.formatCustomLabel(o,s,a,n),fullLabel:()=>this.formatFullLabel(o,s,a,n)}}getDateRangeFromPeriod(n,i,o){let s=new Date(n),a=new Date(n),l=o;switch(o){case"second":break;case"minute":a.setUTCSeconds(59),l="second";break;case"hour":a.setUTCSeconds(59),a.setUTCMinutes(59),l="minute";break;case"day":a.setUTCHours(a.getUTCHours()+23),a.setUTCMinutes(59),a.setUTCSeconds(59),l="hour";break;case"month":let c=new Date(a.getUTCFullYear(),a.getUTCMonth(),0);a.setUTCDate(c.getDate()),a.setUTCHours(a.getUTCHours()+23),a.setUTCMinutes(59),a.setUTCSeconds(59),l="day";break}return{startDateUtc:this.toString(s),endDateUtc:this.toString(a),timePeriod:l,label:i,fullLabel:()=>this.formatFullLabel(s,a,l,this.getIndexFromDateRange({startDateUtc:null,endDateUtc:null,timePeriod:null,label:i}))}}formatCustomDateTime(n,i){return((n||"")+"T"+(i||"")).trim()}formatCustomLabel(n,i,o,s){return s==9?o.charAt(0).toUpperCase()+o.slice(1)+"s between "+this.getOffsetDateTimeLocaleString(n)+" and "+this.getOffsetDateTimeLocaleString(i):this.getDateOptionsName(s)}getDayDifference(n,i){let o=864e5;return Math.ceil(Math.abs((i.getTime()-n.getTime())/o))}getCustomDateUnit(n,i){let o,s=Math.abs(n.getTime()-i.getTime());return s>=1e3*3600*24*32?o="month":s>1e3*3600*24?o="day":s>=1e3*3600?o="hour":s>=1e3*60?o="minute":o="second",o}formatFullLabel(n,i,o,s){let a=this.getDateOptionsName(s);return a+=": ",a+=this.getOffsetDateTimeLocaleString(n),a+=" - ",a+=this.getOffsetDateTimeLocaleString(i),a}getDateOptionsName(n){switch(n){case 8:return"Last 30 Days";case 9:return"Custom";case 10:return"Last 60 Days";case 11:return"Last 90 Days";case 12:return"Last 120 Days"}return this.getDateOptions()[n].name}getIndexFromDateRange(n){switch(n.label||""){case"Last Hour":return 0;case"Last 2 Hours":return 1;case"Last 4 Hours":return 2;case"Last 6 Hours":return 3;case"Last 8 Hours":return 4;case"Last 12 Hours":return 5;case"Last 24 Hours":default:return 6;case"Last 7 Days":return 7;case"Last 30 Days":return 8;case"Custom":return 9;case"Last 60 Days":return 10;case"Last 90 Days":return 11;case"Last 120 Days":return 12}}getDateRangeOptionIndex(n){switch(n){case Ne.LastHour:return 0;case Ne.LastTwoHours:return 1;case Ne.LastFourHours:return 2;case Ne.LastSixHours:return 3;case Ne.LastEightHours:return 4;case Ne.LastTwelveHours:return 5;case Ne.LastTwentyFourHours:return 6;case Ne.LastSevenDays:return 7;case Ne.LastThirtyDays:return 8;case Ne.Custom:return 9;case Ne.LastSixtyDays:return 10;case Ne.LastNinetyDays:return 11;case Ne.LastOneHundredTwentyDays:return 12}}getDateOptions(){let n=[{id:0,name:"Last Hour"},{id:1,name:"Last 2 Hours"},{id:2,name:"Last 4 Hours"},{id:3,name:"Last 6 Hours"},{id:4,name:"Last 8 Hours"},{id:5,name:"Last 12 Hours"},{id:6,name:"Last 24 Hours"}];return this.allowMultiDay&&(n.push({id:7,name:"Last 7 Days"}),n.push({id:8,name:"Last 30 Days"})),this.maxDaysAvailable>=60&&n.push({id:10,name:"Last 60 Days"}),this.maxDaysAvailable>=90&&n.push({id:11,name:"Last 90 Days"}),this.maxDaysAvailable>=120&&n.push({id:12,name:"Last 120 Days"}),this.allowCustomDates&&n.push({id:9,name:"Custom"}),n}};t.\u0275fac=function(i){return new(i||t)(re(yd))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var eU=(()=>{let t=class t{constructor(n,i){this.el=n,this.renderer=i,this.menuOptions=[],this.optionSelected=new yt,this.menuVisible=!0}onRightClick(n){n.preventDefault(),this.createMenu(n.pageX,n.pageY)}onDocumentClick(){this.menuVisible&&this.destroyMenu()}createMenu(n,i){this.menuVisible&&this.destroyMenu(),this.menuElement=this.renderer.createElement("div"),this.renderer.addClass(this.menuElement,"menu");let o=window.scrollX||document.documentElement.scrollLeft,s=window.scrollY||document.documentElement.scrollTop,a=n+o,l=i+s,c=window.innerWidth,u=140;a+u>c&&(a=c-u);let d=window.innerHeight,f=160;l+f>d&&(l=d-f),this.renderer.setStyle(this.menuElement,"position","absolute"),this.renderer.setStyle(this.menuElement,"top",`${l}px`),this.renderer.setStyle(this.menuElement,"left",`${a}px`),this.renderer.setStyle(this.menuElement,"z-index","1000"),this.renderer.setStyle(this.menuElement,"box-shadow","0 4px 5px 3px rgba(0, 0, 0, 0.2)"),this.renderer.setStyle(this.menuElement,"background","#fff"),this.renderer.setStyle(this.menuElement,"border-radius","4px");let h=this.renderer.createElement("ul");this.renderer.addClass(h,"menu-options"),this.menuOptions.forEach(m=>{let y=this.renderer.createElement("li");this.renderer.addClass(y,"menu-option"),this.renderer.setStyle(y,"list-style","none"),this.renderer.setStyle(y,"padding","10px 40px 10px 20px"),this.renderer.setStyle(y,"cursor","pointer"),this.renderer.setStyle(y,"font-size","14px"),this.renderer.setStyle(y,"font-weight","500"),this.renderer.listen(y,"mouseover",()=>{this.renderer.setStyle(y,"background","rgba(0, 0, 0, 0.2)")}),this.renderer.listen(y,"mouseout",()=>{this.renderer.removeStyle(y,"background")}),this.renderer.listen(y,"click",()=>{this.optionSelected.emit(m),this.destroyMenu()});let g=this.renderer.createText(m);this.renderer.appendChild(y,g),this.renderer.appendChild(h,y)}),this.renderer.appendChild(this.menuElement,h),this.renderer.appendChild(document.body,this.menuElement),this.menuVisible=!0}destroyMenu(){this.menuElement&&(this.renderer.removeChild(document.body,this.menuElement),this.menuElement=null,this.menuVisible=!1)}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(ni))},t.\u0275dir=hn({type:t,selectors:[["","appContextMenu",""]],hostBindings:function(i,o){i&1&&te("contextmenu",function(a){return o.onRightClick(a)})("click",function(){return o.onDocumentClick()},!1,pT)},inputs:{menuOptions:"menuOptions"},outputs:{optionSelected:"optionSelected"}});let e=t;return e})();var dme=e=>({disabled:e});function fme(e,t){if(e&1){let r=bt();k(0,"li",10),te("click",function(){let o=lt(r).$implicit,s=_e();return ct(s.toggleLegendItem(o))}),Q(1,"div"),k(2,"label",11),V(3),M()()}if(e&2){let r=t.$implicit,n=_e();U(1),Ra("bullet ",n.legend[r]&&n.legend[r].className,""),ii("background-color",n.legend[r]&&n.legend[r].color),U(1),G("ngClass",jr(7,dme,n.legend[r]&&!n.legend[r].visible)),U(1),Ze(r)}}var hme=()=>["Back","Reload","Save","Save As","Inspect"],tU=(()=>{let t=class t extends KB{constructor(n,i,o){super(),this.element=n,this.dateTimeService=i,this.presentationService=o,this.chartOptions=new Hy,this.xAxisLabelChange=new yt,this.margins={top:10,right:15,bottom:80,left:75},this.renderedWidth=0,this.height=360,this.legend={},this.keys=[],this.disableItems=!1,this.applyLegendFilters=!1,this.imageSource=" TimeSeriesChartData.png",this.showDownload=!1,this.parentElement=n.nativeElement}ngOnChanges(n){this.initializeOptions(),setTimeout(()=>this.renderChart())}ngOnInit(){this.subscription=this.presentationService.windowSize.pipe(vh(this.d$)).subscribe(n=>{this.renderedWidth?this.renderedWidth!==n.width&&(this.renderedWidth=n.width,this.onResize(n)):this.renderedWidth=n.width}),this.initializeOptions(),this.renderChart()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onResize(n){this.data&&this.data.length&&this.renderFilteredChart()}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}initializeOptions(){if(this.legend={},!this.data||!this.data.length)return;let n=this.getLegendKeys();this.keys=[];for(let o of n)o!="Period"&&(this.keys.push(o),this.legend[o]={visible:!0,className:this.getKeyClassName(o)});let i=Ar;if(this.colorScale=Tn(i).domain([0,this.keys.length]),this.chartOptions&&this.chartOptions.showLegend&&this.chartOptions.dynamicColors)for(let o of this.keys)this.legend[o].color=this.colorScale(this.keys.indexOf(o))}getLegendKeys(){if(this.legendData&&Object.keys(this.legendData).length>0){let n={};Object.keys(this.legendData).slice(0,6).forEach(i=>{this.legendData[i].length>0&&(n[i]=this.legendData[i])});for(let i of this.data)for(let o of Object.keys(i))i[o]!="0"&&(n[o]=this.legendData[o]);return Object.keys(n)}else return Object.keys(this.data[0])}toggleLegendItem(n){this.keys.length==this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legend[n].visible=!this.legend[n].visible,this.legendVisibleCount()==0&&this.setAllLegendItems(!0),this.renderFilteredChart()}applyLegendFiltersClick(){if(this.chartOptions&&this.chartOptions.legendClickFunction){let n=[];for(let i of this.keys)this.legend[i]&&this.legend[i].visible&&n.push(i);this.chartOptions.legendClickFunction(n)}}legendVisibleCount(){let n=0;for(let i of this.keys)this.legend[i]&&this.legend[i].visible&&n++;return n}handleOptionSelected(n){console.log("Selected option:",n),this.presentationService.saveSvgToImage()}toggleAllLegendItems(){let n=[],i=[];for(let o of this.keys)o!=="Period"&&this.legend[o]&&(this.legend[o].visible?i.push(o):(this.legend[o].visible=!this.legend[o.visible],n.push(o)));n.length||i.forEach(o=>{this.legend[o].visible=!this.legend[o].visible}),this.renderFilteredChart()}setAllLegendItems(n){for(let i of this.keys)this.legend[i].visible=n}renderFilteredChart(){let n=JSON.parse(JSON.stringify(this.data)),i=[];for(let o of this.keys)this.legend[o]&&!this.legend[o].visible&&i.push(o);i.length&&(n=n.map(o=>(i.forEach(s=>{delete o[s]}),o))),this.renderChart(n)}renderChart(n){this.destroyChart();let i=this.margins,o=W(this.parentElement),s=this.svg=o.select("svg");if(s.attr("width",this.getChartWidth()),n||(n=this.data),this.parentElement==null||n==null||!this.data.length){s.attr("height",20).append("text").attr("x",0).attr("y",15).text("No data returned.");return}let a=this.presentationService.isExtendedPresentation()?480:360;s.attr("height",a);let l=+s.attr("width")-i.left-i.right,c=+s.attr("height")-i.top-i.bottom,u=s.append("g").attr("transform","translate("+i.left+","+i.top+")"),d="%_I %p";switch(this.dateRange&&this.dateRange.timePeriod){case"second":d="%S";break;case"minute":d="%_I:%M %p";break;case"day":d="%b %_d";break;case"month":d="%B";break}let f=Ir(d);n=this.formatDataPeriods(n);let h=ot().domain(n.map((q,$)=>f(q.Period)+`_${$}`)).rangeRound([0,l]).padding(.2),m=be().domain([0,Ue(n.map(q=>{let $=0;for(let D of Object.keys(q))D!=="Period"&&($+=+q[D]);return $}))]).nice().rangeRound([c,0]),y="rotate(90) translate(10, -13)",g=h.bandwidth(),x=!0,C=15;g>=37?(x=!1,y="translate(-18, 0)"):g>=22&&(x=!0,y="rotate(45) translate(10, -5)"),x&&s.attr("height",a+C),u.append("g").attr("class","x-axis").attr("transform","translate(0,"+c+")").call(it(h).tickSize(-c).tickPadding(10).tickFormat(q=>{if(!q.includes("_"))return q;let $=q.indexOf("_");return q.substring(0,$)})).selectAll("text").attr("text-anchor","start").attr("transform",y),s.append("text").attr("x",+s.attr("width")/2).attr("y",c+i.bottom+(x?C:0)).attr("dx","1rem").style("text-anchor","middle").text(this.dateRange.isCustom?this.dateRange.customLabel:this.dateRange.fullLabel?this.dateRange.fullLabel():""),this.xAxisLabelChange.emit(this.dateRange),u.append("g").attr("class","y-axis").call(Je(m).tickSize(-l).tickPadding(10).ticks(8).tickFormat(q=>this.formatNumber(Number(q)))),s.append("text").attr("y",0).attr("x",-180).attr("dy","1em").attr("transform","rotate(-90)").style("text-anchor","middle").text("Count");let w=Object.keys(n[0]);w.splice(w.indexOf("Period"),1);let b=ys().keys(w)(n),T=u.append("g").selectAll("g").data(b).enter().append("g").attr("data-key",q=>q.key).attr("class",(q,$)=>"stack "+this.getKeyClassName(q.key)).attr("fill",q=>this.chartOptions&&this.chartOptions.dynamicColors?this.colorScale(this.keys.indexOf(q.key)):"").attr("cursor",q=>this.chartOptions&&this.chartOptions.barClickFunction?"pointer":"default").selectAll("rect").data(q=>q).enter().append("rect"),z=160,H=0;g>z&&(H=(g-z)/2,g=z),T.attr("x",(q,$)=>h(f(q.data.Period)+`_${$}`)+H).attr("y",q=>m(q[1])).attr("height",(q,$)=>m(q[0])-m(q[1])).attr("visibility",q=>{let $=q[1]-q[0];return $<=0?"hidden":$}).attr("width",g).append("title").text(function(q,$){let D=W(this).node().parentNode.parentNode.getAttribute("data-key"),O=q[1]-q[0];return D+": "+O.toLocaleString()||""}),this.chartOptions&&this.chartOptions.barClickFunction&&T.on("click",q=>{let $=q.event.target.parentNode.getAttribute("data-key"),D=new Date(q.data.Period);this.dateRange.timePeriod=="month"?(D.setDate(1),D.setHours(0),D.setMinutes(0)):this.dateRange.timePeriod=="day"&&(D.setUTCHours(0),D.setUTCMinutes(0)),D.setUTCHours(D.getUTCHours()+-1*this.dateTimeService.getOffsetHours()),D.setUTCMinutes(D.getUTCMinutes()+-1*this.dateTimeService.getOffsetMinutes()),this.chartOptions.barClickFunction($,D)})}formatNumber(n){if(n<10)return We("")(n);{let i=We(".2s")(n);switch(i[i.length-1]){case"G":return i.slice(0,-1)+"B";case"P":return i.slice(0,-1)+"Q"}return i}}formatDataPeriods(n){let i=JSON.parse(JSON.stringify(n));if(this.dateRange.timePeriod=="day"){let o=[];return i.forEach(s=>{let a=this.dateTimeService.getOffsetDate(s.Period);a.setUTCHours(0),a.setUTCMinutes(0);let l=o.length-1;if(o.length&&o[l].Period.getTime()==a.getTime())for(let c in o[l])c!="Period"&&(o[l][c]=+o[l][c]+ +s[c]);else s.Period=a,o.push(s)}),o}else return this.dateRange.timePeriod=="month"?(i.forEach(o=>{let s=new Date(o.Period);s.setUTCHours(s.getUTCHours()-this.dateTimeService.getOffsetHours()),s.setUTCMinutes(s.getUTCMinutes()-this.dateTimeService.getOffsetMinutes()),o.Period=s}),i):(i.forEach(o=>o.Period=this.dateTimeService.getOffsetDate(o.Period)),i)}getChartWidth(){let n=this.parentElement.getBoundingClientRect().width;return this.chartOptions&&this.chartOptions.showLegend&&this.keys.length>0&&this.keys[0]!="Count"&&this.presentationService.isLargePresentation()?n-=this.presentationService.isExtendedPresentation()?210:180:n-=5,n>0?n:0}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(lg),X(rr))},t.\u0275cmp=le({type:t,selectors:[["time-series-bar-chart"]],inputs:{chartOptions:"chartOptions",dateRange:"dateRange",data:"data",legendData:"legendData"},outputs:{xAxisLabelChange:"xAxisLabelChange"},features:[ri,wn],decls:18,vars:3,consts:[["id","svg_container",1,"chart-wrapper"],["shape-rendering","crispEdges","width","1","height","1"],[1,"legend"],["title","Click here to turn all filters on/off at once",1,"title",3,"click"],[3,"click",4,"ngFor","ngForOf"],[1,"time-series-icon-container"],[1,"time-series-table-control","view-events-button",3,"click"],[1,"material-icons"],[1,"time-series-icon-label"],["appContextMenu","",1,"time-series-table-control","view-events-button",3,"menuOptions","optionSelected","click"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(k(0,"div",0),Ft(),Q(1,"svg",1),zn(),k(2,"div",2)(3,"span",3),te("click",function(){return o.toggleAllLegendItems()}),V(4," Legend "),M(),k(5,"ul"),ge(6,fme,4,9,"li",4),M(),k(7,"div",5)(8,"div",6),te("click",function(){return o.applyLegendFiltersClick()}),k(9,"span",7),V(10,"check"),M(),k(11,"span",8),V(12,"Apply Filters"),M()(),k(13,"div",9),te("optionSelected",function(a){return o.handleOptionSelected(a)})("click",function(){return o.applyLegendFiltersClick()}),k(14,"span",7),V(15,"list"),M(),k(16,"span",8),V(17,"Context Menu"),M()()()()()),i&2&&(U(6),G("ngForOf",o.keys),U(7),G("menuOptions",Mk(2,hme)))},dependencies:[oi,Yt,eU],styles:[`@media (min-width: 100rem){.chart-wrapper svg g text{font-size:1.2rem}.chart-wrapper svg>text{font-size:1.6rem}}.time-series-table-control{cursor:pointer}.time-series-icon-container{display:inline-block;right:0;top:0;font-size:1rem}.view-events-button{display:flex;align-items:center}.time-series-icon-label{font-size:1rem;font-weight:700;color:#0072b2;text-transform:uppercase;display:inline-block;vertical-align:middle}.checkmark{vertical-align:middle;cursor:pointer;display:inline-block;width:22px;height:22px;-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg)}.checkmark_stem{position:absolute;width:3px;height:13px;background-color:#0072b2;left:6px;top:2px}.checkmark_kick{position:absolute;width:6px;height:3px;background-color:#0072b2;left:2px;top:12px}time-series-bar-chart .chart-wrapper{overflow:hidden}time-series-bar-chart .checkmark-icon{margin-right:10px}time-series-bar-chart .legend{font-weight:700;font-size:1.2rem;-webkit-user-select:none;user-select:none}time-series-bar-chart .legend .title{cursor:pointer}time-series-bar-chart .legend ul{font-weight:400;list-style-type:none;overflow-y:auto;padding:0}time-series-bar-chart .legend li{cursor:pointer;min-width:12rem;margin:.8rem 0;white-space:nowrap}time-series-bar-chart .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}time-series-bar-chart .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#0072b2;font-size:1.4rem;font-weight:400}time-series-bar-chart .bullet{display:inline-block;background-color:#000;height:1.6rem;width:1.6rem;vertical-align:middle;border-radius:50%}time-series-bar-chart .disabled{opacity:.5}time-series-bar-chart .tick line{stroke-opacity:.2}time-series-bar-chart .informational rect{fill:#4dd2ff}time-series-bar-chart .bullet.informational{background-color:#4dd2ff}time-series-bar-chart .minor rect{fill:#5ece5e}time-series-bar-chart .bullet.minor{background-color:#5ece5e}time-series-bar-chart .medium rect{fill:#fff423}time-series-bar-chart .bullet.medium{background-color:#fff423}time-series-bar-chart .major rect{fill:#e69f00}time-series-bar-chart .bullet.major{background-color:#e69f00}time-series-bar-chart .bullet.critical{background-color:#ee3224}time-series-bar-chart .critical rect{fill:#ee3224}time-series-bar-chart .bullet.non-critical{background-color:#5ece5e}time-series-bar-chart .non-critical rect{fill:#5ece5e}time-series-bar-chart .bullet.non-actionable{background-color:#4dd2ff}time-series-bar-chart .non-actionable rect{fill:#4dd2ff}time-series-bar-chart .malicious-activity rect{fill:#8214a0}time-series-bar-chart .bullet.malicious-activity{background-color:#8214a0}time-series-bar-chart .network-scanning rect{fill:#ee3224}time-series-bar-chart .bullet.network-scanning{background-color:#ee3224}time-series-bar-chart .network-service-abuse rect{fill:#333}time-series-bar-chart .bullet.network-service-abuse{background-color:#333}time-series-bar-chart .security-system-health rect{fill:#cc79a7}time-series-bar-chart .bullet.security-system-health{background-color:#cc79a7}time-series-bar-chart .suspicious-account-activity rect{fill:#56b4e9}time-series-bar-chart .bullet.suspicious-account-activity{background-color:#56b4e9}time-series-bar-chart .suspicious-network-activity rect{fill:#009e73}time-series-bar-chart .bullet.suspicious-network-activity{background-color:#009e73}time-series-bar-chart .suspicious-reputation rect{fill:#0072b2}time-series-bar-chart .bullet.suspicious-reputation{background-color:#0072b2}time-series-bar-chart .attack-preparation rect{fill:#68b6ff}time-series-bar-chart .bullet.attack-preparation{background-color:#68b6ff}time-series-bar-chart .attack rect{fill:#037433}time-series-bar-chart .bullet.attack{background-color:#037433}time-series-bar-chart .exploit rect{fill:#fff423}time-series-bar-chart .bullet.exploit{background-color:#fff423}time-series-bar-chart .control-and-maintain rect{fill:#ff773d}time-series-bar-chart .bullet.control-and-maintain{background-color:#ff773d}time-series-bar-chart .compromise rect{fill:#990049}time-series-bar-chart .bullet.compromise{background-color:#990049}time-series-bar-chart .reconnaissance rect{fill:#440154}time-series-bar-chart .bullet.reconnaissance{background-color:#440154}time-series-bar-chart .resource-development rect{fill:#481c6e}time-series-bar-chart .bullet.resource-development{background-color:#481c6e}time-series-bar-chart .initial-access rect{fill:#453581}time-series-bar-chart .bullet.initial-access{background-color:#453581}time-series-bar-chart .execution rect{fill:#3d4d8a}time-series-bar-chart .bullet.execution{background-color:#3d4d8a}time-series-bar-chart .persistence rect{fill:#34618d}time-series-bar-chart .bullet.persistence{background-color:#34618d}time-series-bar-chart .privilege-escalation rect{fill:#2b748e}time-series-bar-chart .bullet.privilege-escalation{background-color:#2b748e}time-series-bar-chart .defense-evasion rect{fill:#24878e}time-series-bar-chart .bullet.defense-evasion{background-color:#24878e}time-series-bar-chart .credential-access rect{fill:#1f998a}time-series-bar-chart .bullet.credential-access{background-color:#1f998a}time-series-bar-chart .discovery rect{fill:#25ac82}time-series-bar-chart .bullet.discovery{background-color:#25ac82}time-series-bar-chart .lateral-movement rect{fill:#40bd72}time-series-bar-chart .bullet.lateral-movement{background-color:#40bd72}time-series-bar-chart .collection rect{fill:#67cc5c}time-series-bar-chart .bullet.collection{background-color:#67cc5c}time-series-bar-chart .command-and-control rect{fill:#98d83e}time-series-bar-chart .bullet.command-and-control{background-color:#98d83e}time-series-bar-chart .exfiltration rect{fill:#cde11d}time-series-bar-chart .bullet.exfiltration{background-color:#cde11d}time-series-bar-chart .impact rect{fill:#e2e418}time-series-bar-chart .bullet.impact{background-color:#e2e418}@media (min-width: 10rem){time-series-bar-chart .legend{float:right;margin:1rem 0}time-series-bar-chart .legend ul{max-height:31rem;width:15.2rem;margin:1rem 0}time-series-bar-chart .legend li{width:11.8rem}time-series-bar-chart .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();function mme(e,t){if(e&1){let r=bt();k(0,"button",8),te("click",function(){lt(r);let i=_e();return ct(i.isMinimized=!i.isMinimized)}),M()}}function gme(e,t){e&1&&(k(0,"button",9),te("click",function(){return null}),M())}var yme=[[["",8,"panel-title"]],[["",8,"panel-properties"]],[["",8,"panel-body"]]],vme=e=>({"component-loading-mask":e}),xme=[".panel-title",".panel-properties",".panel-body"],kt=(()=>{let t=class t{constructor(){this.action="",this.loading=!0,this.isMinimized=!1}ngOnInit(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["single-card"]],inputs:{action:"action",loading:"loading"},ngContentSelectors:xme,decls:11,vars:5,consts:[[1,"panel-wrapper"],[1,"panel-container","actionable","collapsible"],[1,"panel"],[1,"card","panel-content-container",3,"ngClass"],[1,"panel-header"],["class","circle-button minimize-button",3,"click",4,"ngIf"],["class","circle-button close-button",3,"click",4,"ngIf"],[1,"panel-body-container"],[1,"circle-button","minimize-button",3,"click"],[1,"circle-button","close-button",3,"click"]],template:function(i,o){i&1&&(Qu(yme),k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),mo(5),mo(6,1),ge(7,mme,1,0,"button",5)(8,gme,1,0,"button",6),M(),k(9,"div",7),mo(10,2),M()()()()()),i&2&&(U(3),G("ngClass",jr(3,vme,o.loading)),U(4),G("ngIf",o.action==="minimize"),U(1),G("ngIf",o.action==="close"))},dependencies:[oi,mt],styles:[".panel-wrapper[_ngcontent-%COMP%]{min-height:5rem}"],changeDetection:0});let e=t;return e})();var bme=e=>({disabled:e});function wme(e,t){if(e&1){let r=bt();k(0,"li",9),te("click",function(){let o=lt(r).$implicit,s=_e();return ct(s.toggleLegendItem(o))}),Q(1,"div"),k(2,"label",10),V(3),M()()}if(e&2){let r=t.$implicit,n=_e();U(1),Ra("bullet ",n.legendItem[r]&&n.legendItem[r].className,""),ii("background-color",n.legendItem[r]&&n.legendItem[r].color),U(1),G("ngClass",jr(7,bme,n.legendItem[r]&&!n.legendItem[r].visible)),U(1),Ze(r)}}var bs=(()=>{let t=class t{constructor(n,i,o){this.element=n,this.service=i,this.presentationService=o,this.isDynamicColors=!1,this.onSetChartFilters=new yt,this.onRandomizeClick=new yt,this.id="",this.applyLegendFilters=!1,this.renderedWidth=0,this.islegendClicked=!1,this.keys=[],this.width=200,this.height=250,this.margins={top:15,right:15,bottom:10,left:5},this.backData=[{category:"",count:0,value:1}],this.radius=this.height/2,this.initialCount=100,this.liked=!0,this.preventSingleClick=!1,this.sortOrder=["Compromise","Control and Maintain","Exploit","Attack","Attack Preparation","Reconnaissance"],this.parentElement=this.element.nativeElement}ngOnChanges(n){for(let i in n)if(this.chartData=n.chartData.currentValue,this.chartData&&Array.isArray(this.chartData)&&this.chartData.length>0){let o=this.transformData(this.chartData);this.initializeOptions(),this.drawSlices(o)}}ngOnInit(){if(this.chartData&&Array.isArray(this.chartData)&&this.chartData.length>0){let n=this.transformData(this.chartData);this.initializeOptions(),this.drawSlices(n)}this.subscription=this.presentationService.windowSize.subscribe(n=>{this.renderedWidth?this.renderedWidth!==n.width&&(this.renderedWidth=n.width,this.onResize(),this.renderFilteredChart()):this.renderedWidth=n.width})}onResize(){this.chartData&&this.chartData.length&&this.renderFilteredChart()}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}applyLegendFiltersClick(){let n=[];for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n.push(i)}getEnabledItems(){let n=[];for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n.push(i);return n}legendFilter(){let n=this.getEnabledItems();this.onSetChartFilters.emit({items:n,islegendClicked:this.islegendClicked})}barFilter(n){this.onSetChartFilters.emit({items:[n],islegendClicked:!0})}toggleAllLegendItems(){this.onRandomizeClick.emit(this.id);let n=[],i=[];this.islegendClicked=!0;for(let o of this.keys)this.legendItem[o]&&(this.legendItem[o].visible?i.push(o):(this.legendItem[o].visible=!this.legendItem[o].visible,n.push(o)));n.length||i.forEach(o=>{this.legendItem[o].visible=this.legendItem[o].visible}),this.islegendClicked=!1,this.renderFilteredChart()}setAllLegendItems(n){for(let i of this.keys)this.legendItem[i].visible=n}toggleLegendItem(n){this.islegendClicked=!0,this.keys.length===this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legendItem[n].visible=!this.legendItem[n].visible,this.legendVisibleCount()==0&&(this.setAllLegendItems(!0),this.islegendClicked=!1),this.renderFilteredChart()}legendVisibleCount(){let n=0;for(let i of this.keys)this.legendItem[i]&&this.legendItem[i].visible&&n++;return n}transformData(n){if(!n||!Array.isArray(n))return[];switch(this.detectDataFormat(n)){case"category-count-percent":return this.transformCategoryCountPercentData(n);case"advertiser":return this.transformAdvertiserData(n);case"utm-source":return this.transformUtmSourceData(n);default:return this.transformGenericData(n)}}detectDataFormat(n){if(!n.length)return"unknown";let i=n[0];return i.hasOwnProperty("category")&&i.hasOwnProperty("count")?"category-count-percent":i.hasOwnProperty("name")&&i.hasOwnProperty("data")?"advertiser":i.hasOwnProperty("UTM_SOURCE")?"utm-source":"generic"}transformCategoryCountPercentData(n){return n.map(i=>({category:i.category||i.name||"Unknown",count:i.count||0,percent:i.percent||0}))}transformAdvertiserData(n){let i=n.reduce((o,s)=>o+(s.data?s.data.length:0),0);return n.map((o,s)=>{let a=o.data?o.data.length:0;return{category:o.name||`Advertiser ${s+1}`,count:a,percent:i>0?Math.round(a/i*100):0}}).filter(o=>o.count>0)}transformUtmSourceData(n){return n.map(i=>{let o=i.total||"0%",s=parseFloat(o.replace("%",""))||0,a=Math.round(s*100);return{category:i.UTM_SOURCE||"Unknown Source",count:isNaN(a)?0:a,percent:isNaN(s)?0:s}}).filter(i=>i.percent>0&&!isNaN(i.percent))}transformGenericData(n){return n.map((i,o)=>{let s=i.category||i.name||i.label||i.key||`Item ${o+1}`,a=i.count||i.value||i.total||i.amount||1,l=isNaN(Number(a))?1:Number(a),c=n.reduce((d,f)=>{let h=f.count||f.value||f.total||f.amount||1;return d+(isNaN(Number(h))?1:Number(h))},0),u=c>0?Math.round(l/c*100):0;return{category:String(s),count:isNaN(l)?1:l,percent:isNaN(u)?0:u}})}getLegendKeys(){return this.chartData&&this.chartData.length>=0?this.transformData(this.chartData).map(i=>i.category):[]}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}initializeOptions(){if(this.legendItem={},!this.chartData||!this.chartData.length)return;let n=this.getLegendKeys();this.keys=[];for(let i of n)this.keys.push(i),this.legendItem[i]={visible:!0,className:this.getKeyClassName(i)};this.color=this.isDynamicColors?this.colorScale:Tn(i=>Ar(i*1+.1)).domain([0,this.keys.length]);for(let i of this.keys)this.legendItem[i].color=this.isDynamicColors?this.color[this.keys.indexOf(i)]:this.color(this.keys.indexOf(i))}renderFilteredChart(){if(!this.chartData||!Array.isArray(this.chartData)||this.chartData.length===0){this.drawSlices(this.backData);return}let n=this.transformData(this.chartData),i=JSON.parse(JSON.stringify(n)),o=[];for(let s of this.keys)this.legendItem[s]&&!this.legendItem[s].visible&&o.push(s);o.length&&(i=i.map(s=>{if(o.forEach(a=>{s.category===a&&delete s.category}),s.hasOwnProperty("category"))return s})),i=i.filter(s=>s!==void 0),this.drawSlices(i)}getChartWidth(){try{if(!this.parentElement)return console.warn("Parent element not available for width calculation"),200;let n=this.parentElement.querySelector(".chart-wrapper"),i=n?n.getBoundingClientRect().width:this.parentElement.getBoundingClientRect().width;return!i||isNaN(i)?(console.warn("Invalid panel width:",i),200):(this.keys&&this.keys.length>0&&this.presentationService.isLargePresentation()?i-=this.presentationService.isExtendedPresentation()?50:20:i-=5,i>0?i:200)}catch(n){return console.error("Error in getChartWidth:",n),200}}get donutWidth(){return parseInt(W("body").style("width"),10)}destroyChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove())}setArcs(){this.arc=sn().outerRadius(this.radius).innerRadius(this.radius*.7)}initArc(){try{if(this.destroyChart(),!this.parentElement){console.warn("Parent element not found for donut chart");return}let n=W(this.parentElement);if(!n||n.empty()){console.warn("Failed to select parent element with d3");return}let i=this.getChartWidth(),o=this.height;if(i<=0||o<=0){console.warn("Invalid chart dimensions:",{chartWidth:i,chartHeight:o});return}let s=n.select("svg");if(s.empty()&&(s=n.append("svg")),this.svg=s.attr("viewBox","0, 0, 380, 250").attr("preserveAspectRatio","xMidYMid meet").attr("transform",`translate(${this.margins.left}, ${this.margins.top})`).attr("width",i).attr("height",o),!this.svg||this.svg.empty()){console.warn("Failed to create or select SVG element");return}if(this.parentElement==null||!this.chartData)try{this.svg&&!this.svg.empty()&&this.svg.append("text").transition().duration(15).ease(ci).attr("height",290).attr("x",120).attr("y",140).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").text("No relevant data found.")}catch(a){console.warn("Failed to append text:",a)}}catch(n){console.error("Error in initArc:",n)}}showBackground(){try{if(!this.svg||this.svg.empty()){console.warn("SVG not available for background");return}let n=Yr().sort(null).value(i=>i.value);if(this.totalCount<1){this.initArc(),this.setArcs();try{this.svg.selectAll(".backpath").remove().exit().data(n(this.backData)).enter().append("svg:path").attr("transform",`translate(${this.radius}, ${this.radius})`).attr("cursor","pointer").attr("stroke-width","1.3px").attr("d",this.arc).style("fill","#F3F3F3")}catch(i){console.warn("Failed to create background:",i)}}}catch(n){console.error("Error in showBackground:",n)}}numberFormat(n){return n>=1e9?Math.trunc(n/1e9).toFixed(1).replace(/\.0$/,"")+"G":n>=1e6?Math.trunc(n/1e6).toFixed(1).replace(/\.0$/,"")+"M":n>=1e3?Math.trunc(n/1e3).toFixed(1).replace(/\.0$/,"")+"K":n.toFixed(2)}d3Format(n){return We(" ,")(n)}drawSlices(n){try{if(n||(n=this.backData),(!this.legendItem||Object.keys(this.legendItem).length===0)&&this.initializeOptions(),this.initArc(),!this.svg||this.svg.empty()){console.warn("SVG not available for drawing slices");return}this.setArcs();let i=0;n.map(a=>{i=i+a.count,console.log(i)}),this.totalCount=this.numberFormat(i),this.pie=Yr().sort(null).value(a=>a.count);let o=W("body").append("div").style("position","absolute").style("padding","0 10px").style("background","white").style("opacity",0);this.svg.append("text").attr("text-anchor","middle").attr("font-size","27px").attr("font-weight","600").attr("fill","#4D4D4D").text(this.totalCount).attr("transform","translate("+this.width/1.6+","+this.height/1.9+")");let s=sn().outerRadius(this.radius).innerRadius(this.radius*.7);try{this.svg.selectAll("path").remove().exit().data(this.pie(n)).enter().append("g").append("path").attr("transform",`translate(${this.radius}, ${this.radius})`).attr("stroke","white").attr("stroke-width","1.3px").attr("cursor","pointer").attr("fill",(l,c)=>{if(!this.legendItem||!this.legendItem[l.data.category])return"#ccc";let u=Object.values(this.legendItem),d="",f=this.getKeyClassName(l.data.category);return u.map(h=>{let m=h.className;d=f===m?h.color:d}),d}).on("click",l=>{this.barFilter(l.data?.category),o.style("display","none")}).on("mousemove",(l,{data:c})=>{o.transition().duration(900).style("opacity",.9),o.html(` <div>
                        <p>${c.category}
                          <strong>${this.d3Format(c.count)}</strong>
                          (${c.percent}%)
                        </p>
                    </div>`).style("left",l.pageX-35+"px").style("top",l.pageY-30+"px").style("border-radius","10px").style("pointer-events","none").attr("transform",`translate(${l.pageX-35}, ${l.pageY-30})`)}).on("mouseout",function(){o.html("")}).transition().duration(900).ease(Ks).attrTween("d",function(l){let c=Xt({startAngle:l.startAngle,endAngle:l.startAngle},l);return function(u){return s(c(u))}})}catch(a){console.error("Error creating arcs:",a)}this.showBackground()}catch(i){console.error("Error in drawSlices:",i)}}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Pr),X(rr))},t.\u0275cmp=le({type:t,selectors:[["donut"]],inputs:{chartData:"chartData",colorScale:"colorScale",isDynamicColors:"isDynamicColors",unit:"unit",id:"id"},outputs:{onSetChartFilters:"onSetChartFilters",onRandomizeClick:"onRandomizeClick"},features:[Vr([Pr]),wn],decls:16,vars:1,consts:[[1,"chart-wrapper"],["width","1","height","1"],[1,"legend"],[3,"click",4,"ngFor","ngForOf"],[1,"time-series-icon-container"],[1,"time-series-table-control","view-events-button",3,"click"],[1,"material-icons"],[1,"time-series-icon-label"],["routerLink","/stacked",1,"time-series-icon-label"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(k(0,"div",0),Ft(),Q(1,"svg",1),zn(),k(2,"div",2)(3,"ul"),ge(4,wme,4,9,"li",3),M(),k(5,"div",4)(6,"div",5),te("click",function(){return o.toggleAllLegendItems()}),k(7,"span",6),V(8,"sync"),M(),k(9,"span",7),V(10,"Reset"),M()(),k(11,"div",5),te("click",function(){return o.legendFilter()}),k(12,"span",6),V(13,"analytics"),M(),k(14,"span",8),V(15,"Details"),M()()()()()),i&2&&(U(4),G("ngForOf",o.keys))},dependencies:[oi,Yt,gt],styles:[`donut{max-width:50px}donut .chart-wrapper{overflow:hidden;display:block;height:40vh;margin-top:-1px}donut .checkmark-icon{margin-right:10px}donut .legend{font-weight:700;font-size:1.2rem;position:absolute;top:5rem;right:-2rem}donut .legend .title{cursor:pointer}donut .legend ul{font-weight:400;list-style-type:none;overflow-y:hidden;padding:0}donut .legend li{cursor:pointer;min-width:12rem;margin:.4rem;white-space:nowrap}donut .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}donut .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#00f;font-size:1.4rem;font-weight:400}donut .bullet{display:inline-block;background-color:#000;height:1.4rem;width:1.4rem;vertical-align:middle;border-radius:50%}donut .disabled{opacity:.5}donut .tick line{stroke-opacity:.2}@media (min-width: 57.3rem){polar-chart .legend{float:right;margin:1rem 0}polar-chart .legend ul{max-height:32rem;width:15.2rem;margin:.5rem 0}polar-chart .legend li{width:11.8rem}polar-chart .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();var _me=[[["",8,"under-chart-title"]],[["",8,"under-legend-item"]]],Cme=[".under-chart-title",".under-legend-item"],nU=(()=>{let t=class t{constructor(n){this.loadservice=n,this.loadingState=!0,this.data={},this.data2=[{category:"Execution",count:305,percent:71},{category:"Acc. Compromise",count:1208,percent:18},{category:"Exploit PFA",count:110,percent:6},{category:"Ext.Remote Service",count:89,percent:5},{category:"Content Injection",count:1,percent:.06}],this.data3=[{category:"Persistence",count:1505,percent:18},{category:"BITS Jobs",count:208,percent:71},{category:"Browser Ext.",count:410,percent:6},{category:"Exfiltration",count:189,percent:5},{category:"Defense Evasion",count:9011,percent:.06}],this.chartData=[],this.ngUnsubscribe=new zt,this.dateRangeOptions=[Ne.LastHour,Ne.LastTwoHours,Ne.LastFourHours,Ne.LastSixHours,Ne.LastEightHours,Ne.LastTwelveHours,Ne.LastTwentyFourHours,Ne.LastSevenDays,Ne.LastThirtyDays,Ne.Custom],this.dateRangeOption=Ne.LastTwentyFourHours,this.dateRange=new qy}ngOnInit(){this.data2=this.randomizeData(this.data2),this.data3=this.randomizeData(this.data3),setTimeout(()=>this.loadingState=!1,3e3),this.loadservice.getWatch().subscribe(n=>{this.chartData=n.data})}randomizeData(n){let i=n.map(s=>Se(ne({},s),{count:Math.floor(Math.random()*1e4)+1})),o=i.reduce((s,a)=>s+a.count,0);return i.map(s=>Se(ne({},s),{percent:Math.round(s.count/o*100)}))}randomizeAllData(){this.data2=this.randomizeData(this.data2),this.data3=this.randomizeData(this.data3)}};t.\u0275fac=function(i){return new(i||t)(X(Pr))},t.\u0275cmp=le({type:t,selectors:[["alaaap-dashboard"]],ngContentSelectors:Cme,decls:30,vars:9,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"title"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/metrics",1,"button","button2"],[1,"row"],[1,"column"],[3,"loading"],["id","svg_container",1,"panel-body"],[3,"dateRange","data"],[1,"panel-body"],[3,"data"],[3,"chartData"]],template:function(i,o){i&1&&(Qu(_me),k(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),V(4,"Cyber Kill Chain Report"),M(),k(5,"div",3)(6,"button",4),V(7,"\xAB Home"),M(),k(8,"button",5),V(9,"Next \xBB"),M()()()()(),k(10,"div",6)(11,"div",7)(12,"single-card",8)(13,"div",9),mo(14),k(15,"time-series-bar-chart",10),mo(16,1,["ngProjectAs",".under-legend-item",5,["",8,"under-legend-item"]]),M()()()()(),k(17,"div",6)(18,"div",7)(19,"single-card",8)(20,"div",11),Q(21,"radial-chart",12),M()()(),k(22,"div",7)(23,"single-card",8)(24,"div",11),Q(25,"donut",13),M()()(),k(26,"div",7)(27,"single-card",8)(28,"div",11),Q(29,"donut",13),M()()()()),i&2&&(U(12),G("loading",o.loadingState),U(3),G("dateRange",o.dateRange)("data",o.chartData),U(4),G("loading",o.loadingState),U(2),G("data",o.data3),U(2),G("loading",o.loadingState),U(2),G("chartData",o.data3),U(2),G("loading",o.loadingState),U(2),G("chartData",o.data2))},dependencies:[gt,Vf,tU,kt,bs],styles:['.panel-title[_ngcontent-%COMP%]{width:60%}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]{top:0;color:initial;position:absolute;right:-13px;margin-top:-1rem;max-width:60%;font-size:initial;font-weight:initial}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]     span.dropdown-display-name{all:unset}.panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;white-space:nowrap}.panel-body[_ngcontent-%COMP%]   .date-label[_ngcontent-%COMP%]{text-align:center;font-weight:400;padding:0;margin:0}.panel-body-container[_ngcontent-%COMP%]{min-width:5rem}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.gutter[_ngcontent-%COMP%]{width:2rem}[_nghost-%COMP%]     .minimized daterange-dropdown{display:none}[_nghost-%COMP%]     .minimized dropdown{display:none}.scan-category[_ngcontent-%COMP%]{position:absolute;top:-.1rem;right:20.2rem;cursor:pointer}dropdown[_ngcontent-%COMP%]{position:absolute;top:-.5rem;right:20.2rem}daterange-dropdown[_ngcontent-%COMP%]{position:absolute;top:-.5rem;right:5.2rem}i[_ngcontent-%COMP%]{color:#bbbbc5;margin-top:.5rem}.container-configured-filters[_ngcontent-%COMP%]{padding:1.8rem 0 1.2rem}.container-configured-filters[_ngcontent-%COMP%]   .filter-heading[_ngcontent-%COMP%]{margin-top:.5rem}.container-configured-filters[_ngcontent-%COMP%]   .flex-container-row[_ngcontent-%COMP%]{margin-left:2rem;flex-wrap:wrap}.configured-filter[_ngcontent-%COMP%]{display:flex;align-items:center;margin:0 1rem .5rem 0;cursor:pointer;font-size:1.2rem;white-space:nowrap;border-radius:.6rem;background-color:#d9eaf4}.configured-filter[_ngcontent-%COMP%]   .configured-filter-display[_ngcontent-%COMP%]{max-width:42rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:.6rem 1rem .6rem .6rem}.configured-filter[_ngcontent-%COMP%]   .edit-configured-filter-icon[_ngcontent-%COMP%]{line-height:2.5rem;font-size:1.5rem;color:#000;padding:0 .8rem}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]{font-size:1.2rem;line-height:1.3rem;font-weight:700;color:#000;padding:.6rem;padding-left:0}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]:before{content:"";border-left:.1rem solid #bbbbc5;padding-left:.9rem}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]:hover{background-color:#ee3224;border-top-right-radius:.6rem;border-bottom-right-radius:.6rem;color:#fff}.configured-filter[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]:hover:before{border-left-color:transparent}.configured-filter.hovered[_ngcontent-%COMP%]{border:.1rem solid}.configured-filter.hovered[_ngcontent-%COMP%]   .configured-filter-display[_ngcontent-%COMP%]{padding:.5rem 1rem .5rem .5rem}.configured-filter.hovered[_ngcontent-%COMP%]   .edit-configured-filter-icon[_ngcontent-%COMP%]{line-height:2.3rem}.configured-filter.hovered[_ngcontent-%COMP%]   .remove-configured-filter-icon[_ngcontent-%COMP%]{line-height:1.1rem;padding-right:.5rem}.container-reset[_ngcontent-%COMP%]{justify-content:flex-end}.container-reset[_ngcontent-%COMP%]   .reset[_ngcontent-%COMP%]{align-items:center}.container-reset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;color:#0072b2;font-size:1rem}.container-reset[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{cursor:pointer;font-weight:700;margin-right:.4rem}.container-filter-configuration[_ngcontent-%COMP%]{background-color:#d9eaf4;padding:2rem}.container-filter-configuration[_ngcontent-%COMP%]   .panel-select[_ngcontent-%COMP%], .container-filter-configuration[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:1rem}.container-filter-configuration[_ngcontent-%COMP%]     .suggest-wrapper ul{width:23rem;max-height:8rem}@media (min-width: 100rem){.container-filter-configuration[_ngcontent-%COMP%]     .suggest-wrapper ul{width:32rem}}.container-filter-configuration[_ngcontent-%COMP%]     .suggest-wrapper .close-button{top:1.2rem!important;right:2rem!important}.container-filter-configuration[_ngcontent-%COMP%]   .square-button[_ngcontent-%COMP%]{width:12rem}.container-filter-configuration[_ngcontent-%COMP%]   .rounded-toggle-button[_ngcontent-%COMP%]{min-width:6rem}.container-filter-configuration[_ngcontent-%COMP%]   .flex-container-column[_ngcontent-%COMP%]   .flex-container-row[_ngcontent-%COMP%]{margin-bottom:1rem}.under-legend-item[_ngcontent-%COMP%]{margin-left:-.4rem;margin-bottom:-1.4rem}@media (max-width: 57.3rem){.panel-body-container[_ngcontent-%COMP%]{padding-top:4rem;max-height:26rem}}@media (min-width: 100rem){.panel-body-container[_ngcontent-%COMP%]{height:26rem;overflow-y:auto}position[_ngcontent-%COMP%]:   relative[_ngcontent-%COMP%];top[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];right[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];display[_ngcontent-%COMP%]:   flex[_ngcontent-%COMP%];flex-direction: column}']});let e=t;return e})();function Dme(e,t){if(e&1){let r=bt();k(0,"button",6),te("click",function(){let o=lt(r).$implicit,s=_e(2);return ct(s.selectOption(o))}),V(1),M()}if(e&2){let r=t.$implicit;U(1),ut(" ",r.name," ")}}function Sme(e,t){if(e&1&&(k(0,"div"),k4(1),k(2,"h3"),V(3),M(),ge(4,Dme,2,1,"button",5),I4(),M()),e&2){let r=t.$implicit;U(3),Ze(r.key),U(1),G("ngForOf",r.value)}}var rU=(()=>{let t=class t{constructor(n){this.router=n,this.allOptions=[{name:"GDP Population",route:"/voronoi-gdp",category:"Visualizations"},{name:"Companies Valuation",route:"/compvaluation",category:"Visualizations"},{name:"Energy Data",route:"/sankey",category:"Visualizations"},{name:"Crypto Trade",route:"/crypto",category:"Visualizations"},{name:"Browser Realtime Monitor",route:"/donut-monitor",category:"Visualizations"},{name:"Aid Data",route:"/earth",category:"Dashboards"},{name:"RealTime Monitor",route:"/bubble-monitor",category:"Dashboards"},{name:"Global Companies by Market Cap",route:"/voronoi",category:"Dashboards"},{name:"Analytics Dashboard",route:"/analytics",category:"CyberSec"},{name:"Metrics Dashboard",route:"/metrics",category:"CyberSec"},{name:"Mitre Dashboard",route:"/attack-tree",category:"CyberSec"},{name:"Finance Dashboard",route:"/finance",category:"Dashboards"},{name:"Cyber Incidents",route:"/incidents",category:"CyberSec"},{name:"Matrix",route:"/matrix",category:"CyberSec"},{name:"Browser Market Share",route:"/browser",category:"Charts"},{name:"Line Chart",route:"/linechart",category:"Charts"},{name:"Funnel Chart",route:"/funnel",category:"Charts"},{name:"Diverging Bars",route:"/diverging",category:"Charts"},{name:"Radial Bars",route:"/stacked",category:"Charts"},{name:"US States Population",route:"/states",category:"Charts"},{name:"Area",route:"/area",category:"Finance, Ads & Market"},{name:"Market Cap",route:"/market",category:"Finance, Ads & Market"},{name:"Advertiser Data",route:"/advertiser",category:"Finance, Ads & Market"},{name:"Ad-Nalytics",route:"/founalytics",category:"Finance, Ads & Market"},{name:"Vulnerability Dashboard",route:"/cved",category:"CyberSec"},{name:"Security & Data Breach",route:"/breach",category:"CyberSec"}],this.searchControl=new A5(""),this.filteredOptions=[],this.selectedIndex=-1,this.landingItems={}}ngOnInit(){this.filteredOptions=[...this.allOptions],this.landingItems=this.getOptionsByCategory(),this.searchControl.valueChanges.pipe(Ns(300),so()).subscribe(()=>{this.onSearch()})}onSearch(){let n=this.searchControl.value?.toLowerCase()||"";this.landingItems=this.getOptionsByCategory(),this.filteredOptions=this.allOptions.filter(i=>i.name.toLowerCase().includes(n)||i.category?.toLowerCase().includes(n)),this.selectedIndex=-1}onArrowDown(){this.selectedIndex<this.filteredOptions.length-1&&this.selectedIndex++}onArrowUp(){this.selectedIndex>0&&this.selectedIndex--}onEnter(){this.selectedIndex>=0&&this.selectedIndex<this.filteredOptions.length&&this.selectOption(this.filteredOptions[this.selectedIndex])}selectOption(n){this.searchControl.setValue(n.name),this.filteredOptions=[],this.router.navigate([n.route])}getOptionsByCategory(){return this.filteredOptions.reduce((n,i)=>{let o=i.category||"Uncategorized";return n[o]||(n[o]=[]),n[o].push(i),n},{})}};t.\u0275fac=function(i){return new(i||t)(X(Nn))},t.\u0275cmp=le({type:t,selectors:[["app-landing"]],decls:6,vars:4,consts:[[1,"search-container"],[1,"search-input"],["type","text","placeholder","Search","autocomplete","off","autofocus","",3,"formControl","input","keydown.arrowdown","keydown.arrowup","keydown.enter"],[1,"grid-container"],[4,"ngFor","ngForOf"],["class","button button2",3,"click",4,"ngFor","ngForOf"],[1,"button","button2",3,"click"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"input",2),te("input",function(){return o.onSearch()})("keydown.arrowdown",function(){return o.onArrowDown()})("keydown.arrowup",function(){return o.onArrowUp()})("keydown.enter",function(){return o.onEnter()}),M()(),k(3,"div",3),ge(4,Sme,5,2,"div",4),Vh(5,"keyvalue"),M()()),i&2&&(U(2),G("formControl",o.searchControl),U(2),G("ngForOf",kk(5,2,o.landingItems)))},dependencies:[Yt,si,ai,P5,rI],styles:[".search-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto}.search-input[_ngcontent-%COMP%]{margin:5rem 0}.search-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:0 0 8px 1px #e1e1e1;border-radius:24px;border:1px solid #dfe1e5;background:#fff;padding:1rem;display:flex;z-index:3;max-width:90%;width:100%;height:24px;margin:1rem auto}.grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem;padding:1rem}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#fffc;text-align:center;padding:1rem}.grid-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.25rem;color:#2a2a5c}.grid-container[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin:.5rem;width:calc(100% - 1rem)}@media (max-width: 64rem){.grid-container[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 48rem){.grid-container[_ngcontent-%COMP%]{grid-template-columns:1fr}}.button[_ngcontent-%COMP%]{background-color:#2a2a5c;border:none;color:#fff;padding:12px 24px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:.5rem;cursor:pointer;transition:all .4s ease;width:100%;max-width:300px}.button.button1[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003}.button.button2[_ngcontent-%COMP%]:hover{box-shadow:0 8px 12px #0000003d;transform:translateY(-2px)}@media (min-width: 48rem){.button[_ngcontent-%COMP%]{width:auto}}"]});let e=t;return e})();var AU=jg(JS());var eM=jg(CU());function zf(){var e=.01,t=50,r=.01,n=Math.random,i=[[0,0],[0,1],[1,1],[1,0]],o=[[0,0],[1,1]],s=[1,1],a=e,l=t,c=r,u=n,d=[{weight:1},{weight:1}],f=(0,eM.voronoiMapSimulation)(d).stop();function h(y){m(i,y)}h.convergenceRatio=function(y){return arguments.length?(a=y,h):a},h.maxIterationCount=function(y){return arguments.length?(l=y,h):l},h.minWeightRatio=function(y){return arguments.length?(c=y,h):c},h.clip=function(y){return arguments.length?(f.clip(y),i=f.clip(),o=f.extent(),s=f.size(),h):i},h.extent=function(y){return arguments.length?(f.extent(y),i=f.clip(),o=f.extent(),s=f.size(),h):o},h.size=function(y){return arguments.length?(f.size(y),i=f.clip(),o=f.extent(),s=f.size(),h):s},h.prng=function(y){return arguments.length?(u=y,h):u};function m(y,g){var x;if(g.polygon=y,g.height!=0){x=(0,eM.voronoiMapSimulation)(g.children).clip(y).weight(function(w){return w.value}).convergenceRatio(a).maxIterationCount(l).minWeightRatio(c).prng(u).stop();for(var C=x.state();!C.ended;)x.tick(),C=x.state();C.polygons.forEach(function(w){m(w,w.site.originalObject.data.originalData)})}}return h}var gi=function(e){return e.GetAllData="Get All Data",e.FilterByCountry="Filter By Country",e.FilterByCompany="Filter By Company",e.CompanyLoadSuccess="Company Load Success",e.CompanyLoadFailed="Company Load Failed",e.SetCurrentQuery="Set Current Query",e}(gi||{}),Ux=class{constructor(){this.type=gi.GetAllData}};var Hx=class{constructor(t){this.currentQuery=t,this.type=gi.SetCurrentQuery}},qx=class{constructor(t){this.companyData=t,this.type=gi.CompanyLoadSuccess}},Wx=class{constructor(t){this.error=t,this.type=gi.CompanyLoadFailed}};var $f=qo("[Voronoi] Load Countries"),Gx=qo("[Voronoi] Load Countries Success",ed()),Yx=qo("[Voronoi] Load Countries Failure",ed()),Bf=qo("[Voronoi] Load Companies"),Zx=qo("[Voronoi] Load Companies Success",ed()),Qx=qo("[Voronoi] Load Companies Failure",ed()),cg=qo("[Voronoi] Set Country Selected",ed());var SU=K1("voronoi"),nM=yo(SU,e=>e.countries),rM=yo(SU,e=>e.companies),MU=e=>yo(rM,t=>{let r=Rn(t,i=>i[e]),n=En(r,i=>{if(typeof i.values=="function"){if(i.length===2)return i[1]}else return i.values}).sum(i=>Number(i.SharePrice));return t.length>0&&{companyHierarchy:n,data:t}}),iM=yo(nM,e=>({products:e,dataValues:Array.from(li(e,([t])=>t.value,t=>t.date,t=>t.name)).map(([t,r])=>[new Date(t),r]).sort(([t],[r])=>at(t,r)),productNames:new Set(e.map(t=>t.name))})),DU=(e,t)=>{let r=Array.from(t,n=>({name:n,rank:0,value:e(n)}));r.sort((n,i)=>Hs(n.value,i.value));for(let n=0;n<r.length;++n)r[n].rank=Math.min(12,n);return r},oM=yo(iM,e=>{let t=[],n,i,o,s;for([[n,i],[o,s]]of Jn(e.dataValues)){for(let a=0;a<10;++a){let l=a/10;t.push([new Date(n*(1-l)+o*l),DU(c=>(i.get(c)||0)*(1-l)+(s.get(c)||0)*l,e.productNames)])}t.push([new Date(o),DU(a=>s.get(a)||0,e.productNames)])}return{products:e.products,keyframes:t,next:new Map(t.flatMap(([,a])=>Jn(a))),prev:new Map(t.flatMap(([,a])=>Jn(a,(l,c)=>[c,l])))}}),EU=yo(oM,e=>Rn(e.keyframes.flatMap(([,t])=>t),t=>t.name));var Uf=(()=>{let t=class t{constructor(n,i){this.http=n,this.store=i,this.startDate=new Date("1994-01-01").getTime(),this.endDate=new Date("2023-01-01").getTime()}getCountries(){let n=[];return this.http.get("assets/datasets/companies_capitalization.csv",{responseType:"text"}).pipe(ve(i=>{let o=i.split(`
`),s=o[0].split(",");for(let a=1;a<o.length-1;a++){let l=o[a].split(","),c={};for(let u in s)l[u].includes(", ")?c[s[u]]=l[u].split(", ").map(d=>d.trim()):c[s[u]]=l[u];n.push(c)}return n}),On(i=>(console.log(i),i)))}getCompanyData(){let n=[];return this.http.get("assets/datasets/companies_capitalization.csv",{responseType:"text"}).pipe(ve(i=>{let o=i.split(`
`);for(let s=1;s<o.length-1;s++){let a=o[s].split(",");n.push({Rank:a[0],Company:a[1],Symbol:a[2].trim(),Capital:Number(a[3]).toLocaleString(),SharePrice:Number(a[4]),Country:a[5].replace(/(\r\n|\n|\r)/gm,"")})}return n.filter(s=>["Germany","Spain","Turkey","Russia","Argentina","Tunisia","Brazil","Ireland","Poland","Italy","Greece","Czech Republic"].includes(s.Country))}))}getNestedCompanyData(n){return this.getCompanyData().pipe(ve(i=>{let o=Rn(i,a=>a[n]);return{companyHierarchy:En(o,a=>{if(typeof a.values=="function"){if(a.length===2)return a[1]}else return a.values}).sum(a=>Number(a.SharePrice)),data:i}}))}getDateValues(){return this.getCountries().pipe(ve(n=>({products:n,dataValues:Array.from(li(n,([i])=>i.value,i=>i.date,i=>i.name)).map(([i,o])=>[new Date(i),o]).sort(([i],[o])=>at(i,o)),productNames:new Set(n.map(i=>i.name))})))}getNameFrames(){return this.getKeyFrames().pipe(ve(n=>Rn(n.keyframes.flatMap(([,i])=>i),i=>i.name)))}getKeyFrames(){return this.getDateValues().pipe(ve(n=>{let i=[],s,a,l,c;for([[s,a],[l,c]]of Jn(n.dataValues)){for(let u=0;u<10;++u){let d=u/10;i.push([new Date(s*(1-d)+l*d),this.rank(f=>(a.get(f)||0)*(1-d)+(c.get(f)||0)*d,n.productNames)])}i.push([new Date(l),this.rank(u=>c.get(u)||0,n.productNames)])}return{products:n.products,keyframes:i,next:new Map(i.flatMap(([,u])=>Jn(u))),prev:new Map(i.flatMap(([,u])=>Jn(u,(d,f)=>[f,d])))}}))}rank(n,i){let o=Array.from(i,s=>({name:s,rank:0,value:n(s)}));o.sort((s,a)=>Hs(s.value,a.value));for(let s=0;s<o.length;++s)o[s].rank=Math.min(12,s);return o}loadCountries(){this.store.dispatch($f())}loadCompanies(){this.store.dispatch(Bf())}getCountries$(){return this.store.select(nM)}getCompanyData$(){return this.store.select(rM)}getNestedCompanyData$(n){return this.store.select(MU(n))}getDateValues$(){return this.store.select(iM)}getKeyFrames$(){return this.store.select(oM)}getNameFrames$(){return this.store.select(EU)}};t.\u0275fac=function(i){return new(i||t)(re(Wt),re(go))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Xx=(()=>{let t=class t{constructor(){this._companyCountry="",this._selectedPolygon=null,this._showCardOne=!1}get companyCountry(){return this._companyCountry}set companyCountry(n){this._companyCountry=n}get selectedPolygon(){return this._selectedPolygon}set selectedPolygon(n){this._selectedPolygon=n}get showCardOne(){return this._showCardOne}set showCardOne(n){this._showCardOne=n}clearState(){this._companyCountry="",this._selectedPolygon=null,this._showCardOne=!1}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Nme(e,t){if(e&1&&(k(0,"option",7),V(1),M()),e&2){let r=t.$implicit;G("value",r.value),U(1),ut(" ",r.label," ")}}function Rme(e,t){if(e&1){let r=bt();k(0,"div",8),te("click",function(){let o=lt(r).$implicit,s=_e();return ct(s.selectOption(o))}),V(1),M()}if(e&2){let r=t.$implicit,n=_e();rn("same-as-selected",r===n.selectedOption),U(1),ut(" ",r.label," ")}}var TU=(()=>{let t=class t{constructor(){this.options=[{value:"Country",label:"Group By"},{value:"Country",label:"GroupBy Country"},{value:"Company",label:"Group Company"}],this.selectionChange=new yt,this.isOpen=!1}ngOnInit(){this.initialValue!==void 0?this.selectedOption=this.options.find(n=>n.value===this.initialValue):this.options.length>0&&(this.selectedOption=this.options[0]),document.addEventListener("click",this.closeAllSelect.bind(this))}ngOnDestroy(){document.removeEventListener("click",this.closeAllSelect.bind(this))}toggleDropdown(n){n.stopPropagation(),this.isOpen=!this.isOpen}selectOption(n){this.selectedOption=n,this.isOpen=!1,this.selectionChange.emit(n)}closeAllSelect(n){n.target.closest(".custom-select")||(this.isOpen=!1)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["custom-select"]],inputs:{options:"options",initialValue:"initialValue",type:"type"},outputs:{selectionChange:"selectionChange"},decls:10,vars:9,consts:[[1,"custom-select"],["selectElement",""],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"select-selected",3,"click"],[1,"select-items"],[3,"same-as-selected","click",4,"ngFor","ngForOf"],[3,"value"],[3,"click"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"select",null,1)(3,"option",2),V(4,"Group By"),M(),ge(5,Nme,2,2,"option",3),M(),k(6,"div",4),te("click",function(a){return o.toggleDropdown(a)}),V(7),M(),k(8,"div",5),ge(9,Rme,2,3,"div",6),M()()),i&2&&(U(1),ii("display","none"),U(4),G("ngForOf",o.options),U(1),rn("select-arrow-active",o.isOpen),U(1),ut(" ",o.selectedOption==null?null:o.selectedOption.label," "),U(1),rn("select-hide",!o.isOpen),U(1),G("ngForOf",o.options))},dependencies:[Yt,Cr,Dr],styles:['.custom-select[_ngcontent-%COMP%]{position:relative;font-family:Arial}.custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{display:none}.select-selected[_ngcontent-%COMP%]{background-color:#414d5a}.select-selected[_ngcontent-%COMP%]:after{position:absolute;content:"";top:14px;right:10px;width:0;height:0;border:6px solid transparent;border-color:#fff transparent transparent transparent}.select-selected.select-arrow-active[_ngcontent-%COMP%]:after{border-color:transparent transparent #fff transparent;top:7px}.select-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .select-selected[_ngcontent-%COMP%]{color:#fff;padding:15px 29px;border:1px solid transparent;border-color:transparent transparent rgba(0,0,0,.1) transparent;cursor:pointer;-webkit-user-select:none;user-select:none}.select-items[_ngcontent-%COMP%]{position:absolute;background-color:#4d657d;top:100%;left:0;right:0;z-index:99}.select-hide[_ngcontent-%COMP%]{display:none}.select-items[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover, .same-as-selected[_ngcontent-%COMP%]{background-color:#0000001a}']});let e=t;return e})();var kU=(()=>{let t=class t{constructor(n){this.el=n}ngOnInit(){let n={position:"relative",bottom:"-2rem",left:"35%","margin-left":"-20px",width:"40px",height:"40px","background-image":"url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSI1MTIiIGlkPSJzdmcyIiB2ZXJzaW9uPSIxLjEiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIiB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzIGlkPSJkZWZzNCIvPjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAsLTU0MC4zNjIyKSI+PHBhdGggZD0ibSAxMjcuNDA2MjUsNjU3Ljc4MTI1IGMgLTQuOTg1MywwLjA3ODQgLTkuOTEwNzcsMi4xNjMwOCAtMTMuNDM3NSw1LjY4NzUgbCAtNTUsNTUgYyAtMy42MDA1NjUsMy41OTkyNyAtNS42OTY4ODMsOC42NTg5NSAtNS42OTY4ODMsMTMuNzUgMCw1LjA5MTA1IDIuMDk2MzE4LDEwLjE1MDczIDUuNjk2ODgzLDEzLjc1IEwgMjQyLjI1LDkyOS4yNSBjIDMuNTk5MjcsMy42MDA1NiA4LjY1ODk1LDUuNjk2ODggMTMuNzUsNS42OTY4OCA1LjA5MTA1LDAgMTAuMTUwNzMsLTIuMDk2MzIgMTMuNzUsLTUuNjk2ODggTCA0NTMuMDMxMjUsNzQ1Ljk2ODc1IGMgMy42MDA1NiwtMy41OTkyNyA1LjY5Njg4LC04LjY1ODk1IDUuNjk2ODgsLTEzLjc1IDAsLTUuMDkxMDUgLTIuMDk2MzIsLTEwLjE1MDczIC01LjY5Njg4LC0xMy43NSBsIC01NSwtNTUgYyAtMy41OTgxNSwtMy41OTEyNyAtOC42NTA2OCwtNS42ODEyNyAtMTMuNzM0MzgsLTUuNjgxMjcgLTUuMDgzNjksMCAtMTAuMTM2MjIsMi4wOSAtMTMuNzM0MzcsNS42ODEyNyBMIDI1Niw3NzguMDMxMjUgMTQxLjQzNzUsNjYzLjQ2ODc1IGMgLTMuNjY2NzgsLTMuNjY0MjMgLTguODQ4MDEsLTUuNzY0NDIgLTE0LjAzMTI1LC01LjY4NzUgeiIgaWQ9InBhdGgzNzY2LTEiIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO2NvbG9yOiMwMDAwMDA7ZmlsbDojMjIyMjIyO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozOC44ODAwMDEwNzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OlNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zIi8+PC9nPjwvc3ZnPg==)","background-size":"contain",animation:"bounce 2s infinite"};Object.keys(n).forEach(s=>{this.el.nativeElement.style[s]=n[s]});let i=document.styleSheets[0],o=`
      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
          transform: translateY(0);
        }
        40% {
          transform: translateY(-30px);
        }
        60% {
          transform: translateY(-15px);
        }
      }
    `;i.insertRule(o,i.cssRules.length)}};t.\u0275fac=function(i){return new(i||t)(X(Ye))},t.\u0275dir=hn({type:t,selectors:[["","appBouncingArrow",""]]});let e=t;return e})();var IU=(()=>{let t=class t{constructor(n){this.router=n,this.inputData=[],this.height=500,this.width=500,this.newRoot=[],this.TabItem=[{title:"Time Series Bar",id:"3",component:bs}]}ngOnInit(){}ngOnChanges(n){n.inputData.currentValue.parent?.children.length>0&&(this.newRoot=n.inputData.currentValue.parent.children.map(i=>i.data),this.createBubbleChart(En(this.transformToGenericObjectList(this.newRoot)).sum(function(i){return i.value}).sort(function(i,o){return o.value-i.value})))}toOverlay(){this.router.navigate(["/diverging"])}createBubbleChart(n){this.destroyChart(W("#bubble-chart"));let i=W("#bubble-chart").append("svg").attr("width",this.width*1.2).attr("height",this.height*1.2).attr("viewBox","-30, 10, 780, 750").style("background","white");W("#bubble-chart").call(mi().extent([[-4,-1],[this.width/12,this.height/12]]).scaleExtent([1,1.2]).on("zoom",u=>this.zoomed(u,i)));let o=We(",d"),s=Xe(Df),a=W("body").append("div").attr("height",this.height).style("position","absolute").style("z-index","10").style("visibility","hidden").style("color","white").style("padding","8px").style("background-color","rgba(0, 0, 0, 0.75)").style("border-radius","6px").style("font","12px sans-serif").text("tooltip");D3().size([this.width,this.height]).padding(1.5)(n);let c=i.selectAll(".node").data(n.children).enter().append("g").attr("class","node").attr("transform",function(u){return"translate("+u.x+","+u.y+")"});c.append("circle").attr("r",u=>u.r).attr("stroke","2px").style("fill",u=>s(u.data.value)).on("mouseover",function(u,d){a.text(d.data.name+": "+o(d.value)),a.style("visibility","visible"),W(this).style("stroke","red")}).on("click",(u,d)=>{a.style("visibility","hidden"),this.toOverlay()}).on("mousemove",u=>a.style("top",u.pageY-10+"px").style("left",u.pageX+10+"px")).on("mouseout",function(){return W(this).style("stroke","none"),a.style("visibility","hidden")}),c.append("text").attr("dy",".3em").style("text-anchor","middle").style("font","10px sans-serif").style("pointer-events","none").text(u=>u.data.name.substring(0,u.r/3))}transformToGenericObjectList(n){let i={};return i.children=[],n.forEach(o=>{o.Company!==""&&i.children.push({group:o.Country,value:parseFloat(o.SharePrice),name:o.Company})}),i}zoomed({transform:n},i){i.attr("transform",n)}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}};t.\u0275fac=function(i){return new(i||t)(X(Nn))},t.\u0275cmp=le({type:t,selectors:[["bubble-chart"]],inputs:{inputData:"inputData"},features:[wn],decls:1,vars:0,consts:[["id","bubble-chart"]],template:function(i,o){i&1&&Q(0,"div",0)},encapsulation:2});let e=t;return e})();function jme(e,t){if(e&1&&(k(0,"button")(1,"a",17),V(2),M()()),e&2){let r=_e();U(1),_i("download",r.imageSource),U(1),ut(" ","Download Company Valuation Image","")}}var aM=(()=>{let t=class t{constructor(n,i,o,s){this.store=n,this.service=i,this.presentation=o,this.stateService=s,this.height=680,this.width=680,this.margins={top:20,right:20,bottom:50,left:50},this.animate=!0,this.freedom=null,this.duration=1250,this.selectedYear=2008,this.displayYear=2008,this.voronoiTreeMaps=zf(),this.companyHierarchy=null,this.countryList=[],this.symbolList=[],this.countrySelected=[],this.companyCountry="",this.imageSource=" CompanyValuation.jpg",this.showDownload=!1,this.currentQuery="Country",this.showCardOne=!1,this.isChartRendered=!1,this.isLoading=!0,this.regionColor=a=>({"Middle East and Africa":"#596F7E","United States":"#596F7E",Americas:"#168B98",Asia:"#ED5B67",Oceania:"#FD8F24",Europe:"#919C4C"})[a],this.setCountryColor=(a,l)=>{let c=Sf,u=Ar,d={},f={};return this.countryList.forEach((h,m)=>{let y=m/this.countryList.length;d[h]=c(y)}),l?f[l]:d[a]},this.countryColorHierarchy=a=>{a.depth===0?a.color="black":a.depth===1?a.color=this.setCountryColor(a.data[0]):a.color=a.parent.color,a.children&&a.children.forEach(l=>this.countryColorHierarchy(l))},this.bigFormat=We(",.0f"),this.formatDate=Ir("%Y")}ngOnDestroy(){this.isChartRendered=!1,W("#chart").selectAll("*").remove()}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.store.select(n=>n.voronoi.countrySelected).subscribe(n=>{n&&(this.countrySelected=n)}),this.companyHierarchy||this.service.loadCompanies(),this.isChartRendered||this.service.getNestedCompanyData$("Country").subscribe(n=>{this.companyHierarchy=n.companyHierarchy,this.countryList=[...this.companyHierarchy?.data[1].keys()],this.symbolList=[...this.companyHierarchy.data[1].values()],this.renderVoronoi(),this.isChartRendered=!0}),this.stateService.companyCountry&&(this.companyCountry=this.stateService.companyCountry,this.showCardOne=this.stateService.showCardOne,this.stateService.selectedPolygon&&this.createNewSvg(this.stateService.selectedPolygon))}setDownload(){this.showDownload=!this.showDownload}updateSelection(n){this.store.dispatch(cg({data:n}))}getSelectionChange(n){this.store.dispatch(cg({data:n})),this.currentQuery!==n.value&&(this.store.dispatch(new Hx(n.value)),this.store.dispatch(new Ux),W("#chart").attr("width","0"),W("#chart").selectAll("*").remove())}colorHierarchy(n){n.depth===0?n.color="black":n.depth===1?n.color=this.regionColor(n.data[0]):n.color=n.parent.color,n.children&&n.children.forEach(i=>this.colorHierarchy(i))}renderVoronoi(){W("#chart").selectAll("*").remove();let n=W("#chart").append("svg").attr("width",this.width/1.1).attr("height",this.height/1.05).attr("viewBox","-30, 10, 780, 750").style("background","white"),i=n.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),o=i,s=i,a=i,l=n,c=(0,AU.default)("00"),u=$t(100).map(T=>[this.width*(1+.99*Math.cos(T/50*Math.PI))/2,this.height*(1+.99*Math.sin(T/50*Math.PI))/2]),f=zf().prng(c).clip(u);this.countryColorHierarchy(this.companyHierarchy),f(this.companyHierarchy);let h=this.companyHierarchy.descendants().sort((T,z)=>z.depth-T.depth).map((T,z)=>Object.assign({},T,{id:z})),m=null,y=200,x=339+20,C=390,w=360,b=`M ${C+x}, ${w}
                      A ${x},${x} 0 1,1 ${C-x},${w}
                      A ${x},${x} 0 1,1 ${C+x},${w} Z`;l.append("path").attr("id","countryLabelPath").attr("d",b).attr("fill","none").attr("stroke","none"),l.append("g").append("circle").attr("r",339).attr("fill","none").attr("stroke","grey").attr("transform","translate(390,360)").attr("stroke-width",1.5),l.append("clipPath").attr("id","circle-clip").append("circle").attr("r",x);let I=h.filter(T=>T.data.length===2&&T.data[0]!==void 0).map(T=>{let z=Math.atan2(T.polygon.site.y-w,T.polygon.site.x-C);return z<0&&(z+=2*Math.PI),Se(ne({},T),{angle:z})}).sort((T,z)=>T.angle-z.angle);l.selectAll("text").data(I).enter().append("text").attr("class",T=>`label-${T.id}`).append("textPath").attr("href","#countryLabelPath").attr("startOffset",T=>T.angle/(2*Math.PI)*100+"%").text(T=>T.data[0]).attr("font-weight","bold").attr("class","tick font-medium text-sm").attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat"),o.selectAll("path").data(h).enter().append("path").attr("d",T=>"M"+T.polygon.join("L")+"Z").style("fill",T=>T.parent?T.parent.color:T.color).attr("stroke","white").attr("stroke-width",2.5).style("fill-opacity",T=>T.depth===2?1:0).on("click",(T,z)=>{this.companyCountry=z.data.Company+" - "+z.data.Country,this.showCardOne=!0,this.destroyChart(W("#card-one")),this.updateSelection(z),this.countrySelected=z,this.stateService.companyCountry=this.companyCountry,this.stateService.selectedPolygon=z.parent.polygon,this.stateService.showCardOne=!0,this.createNewSvg(this.stateService.selectedPolygon)}).on("dblclick",(T,z)=>{this.showCardOne=!1,this.stateService.showCardOne=!1,this.setZoom(n)}).attr("pointer-events",T=>T.depth===2?"all":"none").on("mouseenter",T=>{let{id:z}=T.target.__data__;s.select(`.label-${z}`).attr("opacity",1),a.select(`.label-${z}`).attr("opacity",1)}).on("mouseleave",T=>{let{id:z}=T.target.__data__;s.select(`.label-${z}`).attr("opacity",0),a.select(`.label-${z}`).attr("opacity",0)}).attr("stroke-width",T=>7-T.depth*2.8).style("fill",T=>T.color),W("#chart").call(mi().extent([[-4,-1],[this.width/24,this.height/24]]).scaleExtent([1,1.01]).on("zoom",T=>this.zoomed(T,n))),s.selectAll("text").data(h.filter(T=>T.depth===2)).enter().append("text").attr("class",T=>`label-${T.id}`).attr("text-anchor","middle").attr("transform",T=>"translate("+[T.polygon.site.x,T.polygon.site.y+6]+")").text(T=>T.data.Company).attr("opacity",T=>T.data.key===m||T.data.Capital>6?1:0).attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat"),a.selectAll("text").data(h.filter(T=>T.depth===2)).enter().append("text").attr("class",T=>`label-${T.id}`).attr("text-anchor","middle").attr("transform",T=>"translate("+[T.polygon.site.x,T.polygon.site.y+25]+")").text(T=>T.data.Symbol).attr("opacity",T=>T.data.key===m||T.data.length<12?1:0).attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-size","12px").style("font-family","Montserrat"),this.presentation.saveSvgToImage()}zoomed({transform:n},i){i.attr("transform",n)}setZoom(n=null){W("#chart").call(mi().extent([[-1,10],[this.width/12,this.height/12]]).scaleExtent([1,1.1]).on("zoom",i=>this.zoomed(i,n)))}findCircularBoundaries(n){let i=n.polygon,o=0,s=0;i.forEach(d=>{o+=d[0],s+=d[1]}),o/=i.length,s/=i.length;let a=i.map(d=>{let f=d[0]-o,h=d[1]-s;return Math.sqrt(f*f+h*h)}),l=Qa(a),c=l*.55,u=i.filter((d,f)=>{let h=a[f];return Math.abs(h-l)<c});return{center:[o,s],radius:l,points:u.sort((d,f)=>d[0]-f[0])}}createNewSvg(n){let o=W("#card-one").append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox","-30, 10, 780, 750").style("background","white").attr("xmlns","http://www.w3.org/2000/svg"),s=be().domain([mr(n,d=>d[0])-2,Ue(n,d=>d[0])+2]).range([0,this.width]),a=be().domain([mr(n,d=>d[1])-2,Ue(n,d=>d[1])+2]).range([this.height,0]),l=Yn().x(d=>s(d[0])+10).y(d=>a(d[1])+40),c=o.append("path").datum(n).attr("d",Yn().x(d=>s(d[0])).y(d=>a(d[1]))).attr("id","polygonPath").attr("fill","lightblue").attr("stroke","blue").attr("stroke-width",2).attr("fill-opacity",.5),u=o.append("path").datum(n).attr("d",l).attr("id","textPathOffset").attr("fill","none").attr("stroke","none");o.selectAll("circle").data(n).enter().append("circle").attr("cx",d=>s(d[0])).attr("cy",d=>a(d[1])).attr("r",5).attr("fill","red")}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}createTransformInterpolator(n,i){let o=Xt(n.translate,i.translate),s=n.rotate%360,a=i.rotate%360;Math.abs(a-s)>180&&(a>s?s+=360:a+=360);let l=Xt(s,a);return function(c){let u=o(c),d=l(c);return`translate(${u[0]}, ${u[1]}) rotate(${d})`}}};t.\u0275fac=function(i){return new(i||t)(X(go),X(Uf),X(rr),X(Xx))},t.\u0275cmp=le({type:t,selectors:[["voronoi"]],decls:30,vars:4,consts:[[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/voronoi-gdp",1,"button","button2"],[3,"selectionChange"],[3,"loading"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],[4,"ngIf"],[1,"row"],["id","chart",1,"column"],["appBouncingArrow",""],[1,"description"],[1,"column"],[3,"inputData"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(k(0,"div")(1,"h1"),V(2,"Top Global Companies by Market Capitalization"),M(),k(3,"header")(4,"div",0)(5,"div",1)(6,"button",2),V(7,"\xAB Home"),M(),k(8,"button",3),te("click",function(){return o.setDownload()}),V(9,"Download Image JPG"),M(),k(10,"button",4),V(11,"Next \xBB"),M(),k(12,"custom-select",5),te("selectionChange",function(a){return o.getSelectionChange(a)}),V(13,"Select "),M()()()(),k(14,"single-card",6)(15,"div",7)(16,"h1"),V(17),M(),k(18,"div",8),Q(19,"img",9),ge(20,jme,3,2,"button",10),k(21,"div",11),Q(22,"div",12),k(23,"div",13)(24,"div",14)(25,"span")(26,"h4"),V(27,"Click on the chart to explore more details"),M()()()(),k(28,"div",15),Q(29,"bubble-chart",16),M()()()()()()),i&2&&(U(14),G("loading",o.isLoading),U(3),Ze(o.companyCountry),U(3),G("ngIf",o.showDownload),U(9),G("inputData",o.countrySelected))},dependencies:[mt,gt,TU,kU,IU,kt],styles:[".column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.header[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3[_ngcontent-%COMP%]{background-color:#606f94}custom-select[_ngcontent-%COMP%]{border:none;display:inline-block}.button[_ngcontent-%COMP%]{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title[_ngcontent-%COMP%]{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny[_ngcontent-%COMP%]{font-size:10pt}text.light[_ngcontent-%COMP%]{fill:#d3d3d3}.world[_ngcontent-%COMP%]{stroke:#d3d3d3;stroke-width:4px}.cell[_ngcontent-%COMP%]{stroke:#fff;stroke-width:1px}.label[_ngcontent-%COMP%]{text-anchor:middle;fill:#fff}.label[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{dominant-baseline:text-after-edge}.label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{dominant-baseline:text-before-edge}.description[_ngcontent-%COMP%]{margin-top:5rem;max-width:300px;text-align:right;padding-right:20px}.description[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-orientation:unset}.hoverer[_ngcontent-%COMP%]{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer[_ngcontent-%COMP%]:hover{stroke-width:3px}.legend-color[_ngcontent-%COMP%]{stroke-width:1px;stroke:#a9a9a9}@media (min-width: 100rem){.panel-body-container[_ngcontent-%COMP%]{height:26rem;overflow-y:auto}position[_ngcontent-%COMP%]:   relative[_ngcontent-%COMP%];top[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];right[_ngcontent-%COMP%]:   0[_ngcontent-%COMP%];display[_ngcontent-%COMP%]:   flex[_ngcontent-%COMP%];flex-direction: column}"]});let e=t;return e})();var Kx=(()=>{let t=class t{constructor(n){this.http=n,this.startDate=new Date("1994-01-01").getTime(),this.endDate=new Date("2023-01-01").getTime()}getProducts(){let n=[];return this.http.get("assets/datasets/category-brands.csv",{responseType:"text"}).pipe(ve(i=>{let o=i.split(`
`);for(let s=1;s<o.length-1;s++){let a=o[s].split(",");n.push({date:a[0],name:a[1],category:a[2],value:parseInt(a[3].trim())})}return n}),On(i=>(console.log(i),i)))}getDateValues(){return this.getProducts().pipe(ve(n=>({products:n,dataValues:Array.from(li(n,([i])=>i.value,i=>i.date,i=>i.name)).map(([i,o])=>[new Date(i),o]).sort(([i],[o])=>at(i,o)),productNames:new Set(n.map(i=>i.name))})))}getNameFrames(){return this.getKeyFrames().pipe(ve(n=>Rn(n.keyframes.flatMap(([,i])=>i),i=>i.name)))}getKeyFrames(){return this.getDateValues().pipe(ve(n=>{let i=[],s,a,l,c;for([[s,a],[l,c]]of Jn(n.dataValues)){for(let u=0;u<10;++u){let d=u/10;i.push([new Date(s*(1-d)+l*d),this.rank(f=>(a.get(f)||0)*(1-d)+(c.get(f)||0)*d,n.productNames)])}i.push([new Date(l),this.rank(u=>c.get(u)||0,n.productNames)])}return{products:n.products,keyframes:i,next:new Map(i.flatMap(([,u])=>Jn(u))),prev:new Map(i.flatMap(([,u])=>Jn(u,(d,f)=>[f,d])))}}))}rank(n,i){let o=Array.from(i,s=>({name:s,rank:0,value:n(s)}));o.sort((s,a)=>Hs(s.value,a.value));for(let s=0;s<o.length;++s)o[s].rank=Math.min(12,s);return o}};t.\u0275fac=function(i){return new(i||t)(re(Wt))},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $me(e,t){if(e&1&&(k(0,"button")(1,"a",12),V(2),M()()),e&2){let r=_e();U(1),_i("download",r.currentYear+r.imageSource),U(1),ut(" ","Download Browser Share Image: "+r.currentYear,"")}}var OU=(()=>{let t=class t{constructor(n,i,o){this.service=n,this.element=i,this.presentation=o,this.marginLeft=0,this.marginBottom=6,this.marginRight=6,this.marginTop=16,this.barSize=48,this.nSize=12,this.width=928,this.height=this.marginTop+this.barSize*this.nSize+this.marginBottom,this.products=[],this.imageSource=" CompanyValuationBar.png",this.currentYear="2000",this.showDownload=!1,this.isLoading=!0,this.yScale=ot().domain($t(this.nSize+1)).rangeRound([this.marginTop,this.marginTop+this.barSize*(this.nSize+1+.1)]).padding(.1),this.xScale=be([0,1],[this.marginLeft,this.width-this.marginRight]),this.formatNumber=We(",d"),this.formatDate=Ir("%Y"),this.parentElement=this.element.nativeElement}ngOnInit(){return Sn(this,null,function*(){this.service.getKeyFrames().subscribe(n=>{this.keyframes=n.keyframes,this.next=n.next,this.prev=n.prev,this.products=n.products,this.initializeBars(),setTimeout(()=>this.isLoading=!1,2e3)})})}setDownload(){this.showDownload=!this.showDownload}initializeBars(){return Sn(this,null,function*(){let n=this.svg=W(this.parentElement).select("#chart").append("svg").attr("viewBox",[0,0,this.width,this.height]).attr("width",this.width).attr("height",this.height).style("background","#FDFDFD"),i=this.bars(n),o=this.setAxis(n),s=this.labels(n),a=this.ticker(n);for(let l of this.keyframes){let c=n.transition().duration(150).ease(ci);this.xScale.domain([0,l[1][0].value]),o(l,c),i(l,c),s(l,c),a(l,c),this.presentation.saveSvgToImage(),yield c.end()}})}setColor(n){let i=Xe(kn);if(n.some(o=>o.category!==void 0)){let o=new Map(n.map(s=>[s.name,s.category]));return i.domain(o.values()),s=>i(o.get(s.name))}return o=>i(o.name)}textTween(n,i){let o=Gn(n,i);return s=>this.textContent=We(",d")(o(s))}setAxis(n){let i=n.append("g").attr("transform",`translate(0,${this.marginTop})`),o=Jo(this.xScale).ticks(this.width/160,We(",d")).tickSizeOuter(0).tickSizeInner(-this.barSize*(this.nSize+this.yScale.padding()));return(s,a)=>{i.transition(a).call(o),i.select(".tick:first-of-type text").remove(),i.selectAll(".tick:not(:first-of-type) line").attr("stroke","white"),i.select(".domain").remove()}}labels(n){let i=n.append("g").style("font","bold 12px sans-serif").style("font-variant-numeric","tabular-nums").attr("text-anchor","end").selectAll("text");return([o,s],a)=>i=i.data(s.slice(0,this.nSize),l=>l.name).join(l=>l.append("text").attr("transform",c=>`translate(${this.xScale((this.prev.get(c)||c).value)},${this.yScale((this.prev.get(c)||c).rank)})`).attr("y",this.yScale.bandwidth()/2).attr("x",-6).attr("dy","-0.25em").text(c=>c.name).call(c=>c.append("tspan").attr("fill-opacity",.7).attr("font-weight","normal").attr("x",-6).attr("dy","1.15em")),l=>l,l=>l.transition(a).remove().attr("transform",c=>`translate(${this.xScale((this.next.get(c)||c).value)},${this.yScale((this.next.get(c)||c).rank)})`).call(c=>c.select("tspan").duration(0).ease(ci).textTween(u=>d=>this.formatNumber(u.value||this.next.get(u).value)))).call(l=>l.transition(a).attr("transform",c=>`translate(${this.xScale(c.value)},${this.yScale(c.rank)})`).call(c=>c.select("tspan").duration(0).ease(ci).textTween(u=>d=>this.formatNumber(u.value||this.prev.get(u).value))))}bars(n){let i=n.append("g").attr("fill-opacity",.6).selectAll("rect");return([o,s],a)=>i=i.data(s.slice(0,this.nSize),l=>l.name).join(l=>l.append("rect").attr("fill",this.setColor(this.products)).attr("height",this.yScale.bandwidth()).attr("x",this.xScale(0)).attr("y",c=>this.yScale((this.prev.get(c)||c).rank)).attr("width",c=>this.xScale((this.prev.get(c)||c).value)-this.xScale(0)),l=>l,l=>l.transition(a).remove().attr("y",c=>this.yScale((this.next.get(c)||c).rank)).attr("width",c=>this.xScale((this.next.get(c)||c).value)-this.xScale(0))).call(l=>l.transition(a).attr("y",c=>this.yScale(c.rank)).attr("width",c=>this.xScale(c.value)-this.xScale(0)))}ticker(n){let i=n.append("text").style("font",`bold ${this.barSize}px sans-serif`).style("font-variant-numeric","tabular-nums").attr("text-anchor","end").attr("x",this.width-6).attr("y",this.marginTop+this.barSize*(this.nSize-.45)).attr("dy","0.32em").text(this.formatDate(this.keyframes[0][0]));return([o],s)=>{this.currentYear=this.formatDate(o),s.end().then(()=>i.text(this.formatDate(o)))}}};t.\u0275fac=function(i){return new(i||t)(X(Kx),X(Ye),X(rr))},t.\u0275cmp=le({type:t,selectors:[["race-bar"]],features:[Vr([Kx])],decls:18,vars:2,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download jpg image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/analytics",1,"button","button2"],[3,"loading"],["id","svg_container",1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],[4,"ngIf"],["id","chart"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"Companies Valuation From 2000 - 2019"),M(),k(5,"div",2)(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),te("click",function(){return o.setDownload()}),V(9,"Download Image JPG"),M(),k(10,"button",5),V(11,"Next \xBB"),M()()()()(),k(12,"single-card",6)(13,"div",7)(14,"div",8),Q(15,"img",9),ge(16,$me,3,2,"button",10),Q(17,"div",11),M()()()),i&2&&(U(12),G("loading",o.isLoading),U(4),G("ngIf",o.showDownload))},dependencies:[mt,gt,kt],styles:[`svg{background-color:"white";background:"white"}
`],encapsulation:2});let e=t;return e})();var Bme=["chartContainer"],PU=(()=>{let t=class t{constructor(){this.tau=2*Math.PI,this.w=960,this.h=960,this.outerThickness=30,this.outerMargin=3,this.maxWordLength=20,this.outer=[{hex:"#D6D6D6",name:"1. volt"},{hex:"#D6D6D6",name:"2. tour yellow"},{hex:"#D6D6D6",name:"3. total orange"},{hex:"#D6D6D6",name:"4. hot punch"},{hex:"#D6D6D6",name:"5. speed red"},{hex:"#D6D6D6",name:"6. fuchsia blast"},{hex:"#D6D6D6",name:"7. hyper magenta"},{hex:"#D6D6D6",name:"8. hyper grape"},{hex:"#D6D6D6",name:"9. ocean bliss"},{hex:"#D6D6D6",name:"10. photo blue"},{hex:"#D6D6D6",name:"11. ultramarine"},{hex:"#D6D6D6",name:"12. solar red"}],this.outer2=[{hex:"#D6D6D6",name:"11. volt"},{hex:"#D6D6D6",name:"22. tour yellow"},{hex:"#D6D6D6",name:"33. total orange"},{hex:"#D6D6D6",name:"44. hot punch"},{hex:"#D6D6D6",name:"55. speed red"},{hex:"#D6D6D6",name:"66. fuchsia blast"},{hex:"#D6D6D6",name:"77. hyper magenta"},{hex:"#D6D6D6",name:"88. hyper grape"},{hex:"#D6D6D6",name:"99. ocean bliss"},{hex:"#D6D6D6",name:"1010. photo blue"},{hex:"#D6D6D6",name:"1111. ultramarine"},{hex:"#D6D6D6",name:"1212. solar red"}],this.outerLabels=[{hex:"#51BE58",name:"1. yellows yellows",s:0,e:3},{hex:"#3EB4F0",name:"2. reds reds",s:3,e:6},{hex:"#FA44B3",name:"3. blues blues",s:6,e:9},{hex:"#FED130",name:"4. neutrals neutrals",s:9,e:12}]}ngOnInit(){this.createChart()}createChart(){this.svg=W(this.chartContainer.nativeElement).append("svg").attr("width",this.w).attr("height",this.h),this.g=this.svg.append("g").attr("transform",`translate(${this.w/2},${this.h/2})`),this.setupArcs(),this.drawOuterLabels(),this.drawOuterPies(),this.drawOuterColorArcs()}setupArcs(){let n=this.tau/72,i=(this.tau-n*this.outerLabels.length)/this.outer.length;this.outer.forEach((o,s)=>{let a=Math.floor(s/(this.outer.length/this.outerLabels.length))*n-this.tau/8;o.startAngle=s*i+a,o.endAngle=(s+1)*i+a}),this.outer2.forEach((o,s)=>{let a=Math.floor(s/(this.outer2.length/this.outerLabels.length))*n-this.tau/8;o.startAngle=s*i+a,o.endAngle=(s+1)*i+a})}isTextInverted(n){return n.startAngle>this.tau/8*3-.1&&n.endAngle<this.tau/8*5+.1}getLabelArc(n,i,o){let a=/(^.+?)L/.exec(n)?.[1]||"";if(this.isTextInverted({startAngle:i,endAngle:o})){let l=/M(.*?)A/,c=/A(.*?)0,0,1/,d=/0,0,1,(.*?)$/.exec(a)?.[1]||"",f=l.exec(a)?.[1]||"",h=c.exec(a)?.[1]||"";a=`M${d}A${h}0,0,0,${f}`}return a}drawOuterLabels(){let n=this.getOuterArc2OuterRadius()+this.outerMargin+this.outerThickness,i=n+18,o=sn().innerRadius(n).outerRadius(i),s=-this.tau/this.outerLabels.length/2,a=Yr().startAngle(s).endAngle(s+this.tau).value(()=>1).padAngle(.01).sort(null);this.g.selectAll(".outerLabel").data(a(this.outerLabels)).enter().each((l,c)=>{let u=this.getLabelArc(o(l),l.startAngle,l.endAngle);this.g.append("path").classed("outerLabel",!0).attr("class","hiddenOuterLabelArcs").attr("id",`outerLabelArc${c}`).attr("d",u).style("fill","none")}),this.g.selectAll(".outerLabelText").data(a(this.outerLabels)).enter().append("text").attr("class","outerLabelText").attr("dy",l=>this.isTextInverted(l)?18:-11).append("textPath").attr("startOffset","50%").style("text-anchor","middle").attr("xlink:href",(l,c)=>`#outerLabelArc${c}`).text(l=>l.data.name).attr("font-size",`${18/750*this.w}px`).attr("font-weight",700).attr("letter-spacing",2.2)}getOuterArcOuterRadius(){return 350}getOuterArc2OuterRadius(){return this.getOuterArcOuterRadius()+this.outerMargin+this.outerThickness}drawOuterPies(){let n=sn().innerRadius(this.getOuterArcOuterRadius()).outerRadius(this.getOuterArcOuterRadius()-this.outerThickness).padAngle(.001*this.tau),i=this.g.selectAll(".outer").data(this.outer).enter();this.drawPieSection(i,n,"outer",1);let o=sn().innerRadius(this.getOuterArc2OuterRadius()).outerRadius(this.getOuterArc2OuterRadius()-this.outerThickness).padAngle(9e-4*this.tau),s=this.g.selectAll(".outer2").data(this.outer2).enter();this.drawPieSection(s,o,"outer2",2)}drawPieSection(n,i,o,s){n.append("path").classed(o,!0).attr("id",(a,l)=>`${o}Arc_${l}`).style("fill",a=>a.hex).attr("d",i).each((a,l)=>{let c=this.getLabelArc(i(a),a.startAngle,a.endAngle);this.g.append("path").classed("outerLabel",!0).attr("class","hiddenOuterLabelArcs").attr("id",`outerLayer${s}LabelArc${l}`).attr("d",c).style("fill","none")}),n.append("text").attr("id",a=>a.name).attr("dy",a=>this.isTextInverted(a)?-10:20).append("textPath").attr("startOffset","50%").style("text-anchor","middle").attr("xlink:href",(a,l)=>`#outerLayer${s}LabelArc${l}`).text(a=>a.name).attr("font-size",`${12/750*this.w}px`).style("fill","#000").attr("font-weight",700)}drawOuterColorArcs(){let n=this.getOuterArcOuterRadius(),i=sn().innerRadius(n).outerRadius(n+this.outerMargin+3),o=-this.tau/this.outerLabels.length/2,s=Yr().startAngle(o).endAngle(o+this.tau).value(()=>1).padAngle(.35).sort(null);this.g.selectAll(".outerColor").data(s(this.outerLabels)).enter().append("path").attr("class","outerColor").attr("id",(a,l)=>`outerColorArc${l}`).style("fill",a=>a.data.hex).attr("d",i)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["radial-donut-chart"]],viewQuery:function(i,o){if(i&1&&Be(Bme,7),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first)}},decls:2,vars:0,consts:[["chartContainer",""]],template:function(i,o){i&1&&Q(0,"div",null,0)},styles:[`svg{font-family:Raleway,serif;text-transform:uppercase}.outer{cursor:pointer}
`],encapsulation:2,changeDetection:0});let e=t;return e})();mn();function ug(e,t){return e.sourceLinks.length?e.depth:t-1}function Hf(e){return function(){return e}}function NU(e,t){return Jx(e.source,t.source)||e.index-t.index}function RU(e,t){return Jx(e.target,t.target)||e.index-t.index}function Jx(e,t){return e.y0-t.y0}function lM(e){return e.value}function Ume(e){return e.index}function Hme(e){return e.nodes}function qme(e){return e.links}function FU(e,t){let r=e.get(t);if(!r)throw new Error("missing: "+t);return r}function LU({nodes:e}){for(let t of e){let r=t.y0,n=r;for(let i of t.sourceLinks)i.y0=r+i.width/2,r+=i.width;for(let i of t.targetLinks)i.y1=n+i.width/2,n+=i.width}}function eu(){let e=0,t=0,r=1,n=1,i=24,o=8,s,a=Ume,l=ug,c,u,d=Hme,f=qme,h=6;function m(){let E={nodes:d.apply(null,arguments),links:f.apply(null,arguments)};return y(E),g(E),x(E),C(E),I(E),LU(E),E}m.update=function(E){return LU(E),E},m.nodeId=function(E){return arguments.length?(a=typeof E=="function"?E:Hf(E),m):a},m.nodeAlign=function(E){return arguments.length?(l=typeof E=="function"?E:Hf(E),m):l},m.nodeSort=function(E){return arguments.length?(c=E,m):c},m.nodeWidth=function(E){return arguments.length?(i=+E,m):i},m.nodePadding=function(E){return arguments.length?(o=s=+E,m):o},m.nodes=function(E){return arguments.length?(d=typeof E=="function"?E:Hf(E),m):d},m.links=function(E){return arguments.length?(f=typeof E=="function"?E:Hf(E),m):f},m.linkSort=function(E){return arguments.length?(u=E,m):u},m.size=function(E){return arguments.length?(e=t=0,r=+E[0],n=+E[1],m):[r-e,n-t]},m.extent=function(E){return arguments.length?(e=+E[0][0],r=+E[1][0],t=+E[0][1],n=+E[1][1],m):[[e,t],[r,n]]},m.iterations=function(E){return arguments.length?(h=+E,m):h};function y({nodes:E,links:A}){for(let[B,P]of E.entries())P.index=B,P.sourceLinks=[],P.targetLinks=[];let R=new Map(E.map((B,P)=>[a(B,P,E),B]));for(let[B,P]of A.entries()){P.index=B;let{source:L,target:Z}=P;typeof L!="object"&&(L=P.source=FU(R,L)),typeof Z!="object"&&(Z=P.target=FU(R,Z)),L.sourceLinks.push(P),Z.targetLinks.push(P)}if(u!=null)for(let{sourceLinks:B,targetLinks:P}of E)B.sort(u),P.sort(u)}function g({nodes:E}){for(let A of E)A.value=A.fixedValue===void 0?Math.max(Ka(A.sourceLinks,lM),Ka(A.targetLinks,lM)):A.fixedValue}function x({nodes:E}){let A=E.length,R=new Set(E),B=new Set,P=0;for(;R.size;){for(let L of R){L.depth=P;for(let{target:Z}of L.sourceLinks)B.add(Z)}if(++P>A)throw new Error("circular link");R=B,B=new Set}}function C({nodes:E}){let A=E.length,R=new Set(E),B=new Set,P=0;for(;R.size;){for(let L of R){L.height=P;for(let{source:Z}of L.targetLinks)B.add(Z)}if(++P>A)throw new Error("circular link");R=B,B=new Set}}function w({nodes:E}){let A=Ue(E,P=>P.depth)+1,R=(r-e-i)/(A-1),B=new Array(A);for(let P of E){let L=Math.max(0,Math.min(A-1,Math.floor(l.call(null,P,A))));P.layer=L,P.x0=e+L*R,P.x1=P.x0+i,B[L]?B[L].push(P):B[L]=[P]}if(c)for(let P of B)P.sort(c);return B}function b(E){let A=mr(E,R=>(n-t-(R.length-1)*s)/Ka(R,lM));for(let R of E){let B=t;for(let P of R){P.y0=B,P.y1=B+P.value*A,B=P.y1+s;for(let L of P.sourceLinks)L.width=L.value*A}B=(n-B+s)/(R.length+1);for(let P=0;P<R.length;++P){let L=R[P];L.y0+=B*(P+1),L.y1+=B*(P+1)}O(R)}}function I(E){let A=w(E);s=Math.min(o,(n-t)/(Ue(A,R=>R.length)-1)),b(A);for(let R=0;R<h;++R){let B=Math.pow(.99,R),P=Math.max(1-B,(R+1)/h);z(A,B,P),T(A,B,P)}}function T(E,A,R){for(let B=1,P=E.length;B<P;++B){let L=E[B];for(let Z of L){let ee=0,K=0;for(let{source:ke,value:Me}of Z.targetLinks){let pe=Me*(Z.layer-ke.layer);ee+=j(ke,Z)*pe,K+=pe}if(!(K>0))continue;let se=(ee/K-Z.y0)*A;Z.y0+=se,Z.y1+=se,D(Z)}c===void 0&&L.sort(Jx),H(L,R)}}function z(E,A,R){for(let B=E.length,P=B-2;P>=0;--P){let L=E[P];for(let Z of L){let ee=0,K=0;for(let{target:ke,value:Me}of Z.sourceLinks){let pe=Me*(ke.layer-Z.layer);ee+=N(Z,ke)*pe,K+=pe}if(!(K>0))continue;let se=(ee/K-Z.y0)*A;Z.y0+=se,Z.y1+=se,D(Z)}c===void 0&&L.sort(Jx),H(L,R)}}function H(E,A){let R=E.length>>1,B=E[R];$(E,B.y0-s,R-1,A),q(E,B.y1+s,R+1,A),$(E,n,E.length-1,A),q(E,t,0,A)}function q(E,A,R,B){for(;R<E.length;++R){let P=E[R],L=(A-P.y0)*B;L>1e-6&&(P.y0+=L,P.y1+=L),A=P.y1+s}}function $(E,A,R,B){for(;R>=0;--R){let P=E[R],L=(P.y1-A)*B;L>1e-6&&(P.y0-=L,P.y1-=L),A=P.y0-s}}function D({sourceLinks:E,targetLinks:A}){if(u===void 0){for(let{source:{sourceLinks:R}}of A)R.sort(RU);for(let{target:{targetLinks:R}}of E)R.sort(NU)}}function O(E){if(u===void 0)for(let{sourceLinks:A,targetLinks:R}of E)A.sort(RU),R.sort(NU)}function j(E,A){let R=E.y0-(E.sourceLinks.length-1)*s/2;for(let{target:B,width:P}of E.sourceLinks){if(B===A)break;R+=P+s}for(let{source:B,width:P}of A.targetLinks){if(B===E)break;R-=P}return R}function N(E,A){let R=A.y0-(A.targetLinks.length-1)*s/2;for(let{source:B,width:P}of A.targetLinks){if(B===E)break;R+=P+s}for(let{target:B,width:P}of E.sourceLinks){if(B===A)break;R-=P}return R}return m}var cM=Math.PI,uM=2*cM,tu=1e-6,Wme=uM-tu;function dM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function VU(){return new dM}dM.prototype=VU.prototype={constructor:dM,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,a=r-e,l=n-t,c=o-e,u=s-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>tu)if(!(Math.abs(u*a-l*c)>tu)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-o,h=n-s,m=a*a+l*l,y=f*f+h*h,g=Math.sqrt(m),x=Math.sqrt(d),C=i*Math.tan((cM-Math.acos((m+d-y)/(2*g*x)))/2),w=C/x,b=C/g;Math.abs(w-1)>tu&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*h)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),a=r*Math.sin(n),l=e+s,c=t+a,u=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>tu||Math.abs(this._y1-c)>tu)&&(this._+="L"+l+","+c),r&&(d<0&&(d=d%uM+uM),d>Wme?this._+="A"+r+","+r+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>tu&&(this._+="A"+r+","+r+",0,"+ +(d>=cM)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var fM=VU;function hM(e){return function(){return e}}function jU(e){return e[0]}function zU(e){return e[1]}var $U=Array.prototype.slice;function Gme(e){return e.source}function Yme(e){return e.target}function Zme(e){var t=Gme,r=Yme,n=jU,i=zU,o=null;function s(){var a,l=$U.call(arguments),c=t.apply(this,l),u=r.apply(this,l);if(o||(o=a=fM()),e(o,+n.apply(this,(l[0]=c,l)),+i.apply(this,l),+n.apply(this,(l[0]=u,l)),+i.apply(this,l)),a)return o=null,a+""||null}return s.source=function(a){return arguments.length?(t=a,s):t},s.target=function(a){return arguments.length?(r=a,s):r},s.x=function(a){return arguments.length?(n=typeof a=="function"?a:hM(+a),s):n},s.y=function(a){return arguments.length?(i=typeof a=="function"?a:hM(+a),s):i},s.context=function(a){return arguments.length?(o=a??null,s):o},s}function Qme(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function pM(){return Zme(Qme)}function Xme(e){return[e.source.x1,e.y0]}function Kme(e){return[e.target.x0,e.y1]}function nu(){return pM().source(Xme).target(Kme)}function Jme(e,t){if(e&1&&(k(0,"a",12),V(1),M()),e&2){let r=_e();_i("download",r.imageSource),U(1),ut(" ","Download Energy Conversion & Transmission Data","")}}var mM=(()=>{let t=class t{constructor(n,i){this.service=n,this.presentation=i,this.width=954,this.height=600,this.margins={top:20,right:20,bottom:50,left:50},this.format=We(",.0f"),this.energyData=null,this.currentSelected="target",this.imageSource=" EnergyData.png",this.showDownload=!1,this.edgeColor="path",this.nodeWidth=15,this.sankeyChart=eu().nodeId(o=>o.name).nodeAlign(ug).nodeWidth(15).nodePadding(10).extent([[1,5],[this.width-1,this.height-5]]),this.domIdString="0-link-",this.DOMID=50,this.colorScale=Xe(kn)}ngOnInit(){this.service.getEnergyNodes().pipe().subscribe(n=>{this.energyData=n,this.renderChart()})}setDownload(){this.showDownload=!this.showDownload}reDrawChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove()),this.renderChart()}getNextID(){return{href:"https://ezejike.static.observableusercontent.com/next/worker-lLzrCfCS.html#"+this.domIdString+this.DOMID++,id:this.domIdString+this.DOMID++}}renderChart(){this.svg=W("#chart").append("svg").attr("width",this.width*1.5).attr("height",this.height*1.5).attr("viewBox","-30, -80, 980, 850").style("background","white");let n=!1,{nodes:i,links:o}=this.sankeyChart({nodes:this.energyData.nodes.map(c=>Object.assign({},c)),links:this.energyData.links.map(c=>Object.assign({},c))});if(this.groups={nodes:i,links:o},n){let c=this.groups.nodes.filter(({targetLinks:u})=>u.length==0).map(({name:u,value:d})=>({source:"Total",target:u,value:d}));i=[{name:"Total",category:"Total"}].concat(i),o=c.concat(o),this.groups=this.sankeyChart({nodes:i,links:o})}this.nodeWidth=i[0].x1-i[0].x0;let s=Xe(sx);this.node=this.svg.selectAll(".node").data(i).join("g").attr("transform",c=>`translate(${c.x0}, ${c.y0})`),this.node.append("rect").attr("height",c=>c.y1-c.y0).attr("width",c=>c.x1-c.x0).attr("fill",c=>s(c.category||c.name)).attr("stroke","#000").append("title").text(c=>`${c.name}
${this.format(c.value)}`);let a=(c,u)=>{W(c.sourceEvent.target.parentNode).attr("transform",()=>{let d=c.x-u.__x,f=c.y-u.__y;return u.x0=u.__x0+d,u.x1=u.__x1+d,u.y0=u.__y0+f,u.y1=u.__y1+f,u.x0<0&&(u.x0=0,u.x1=this.nodeWidth),u.x1>this.width&&(u.x0=this.width-this.nodeWidth,u.x1=this.width),u.y0<0&&(u.y0=0,u.y1=u.__y1-u.__y0),u.y1>this.height&&(u.y0=this.height-(u.__y1-u.__y0),u.y1=this.height),`translate(${u.x0}, ${u.y0})`}),eu().update({nodes:i,links:o}),this.link.selectAll(".link").attr("d",nu())},l=(c,u)=>{u.__x=c.x,u.__y=c.y,u.__x0=u.x0,u.__y0=u.y0,u.__x1=u.x1,u.__y1=u.y1};if(this.node.append("text").attr("font-family","sans-serif").attr("font-size",10).attr("x",c=>c.x0<this.width/2?6+(c.x1-c.x0):-6).attr("y",c=>(c.y1-c.y0)/2).attr("dy","0.35em").attr("text-anchor",c=>c.x0<this.width/2?"start":"end").text(c=>c.name),this.node.attr("cursor","move").call(Gs().on("start",l).on("drag",a)),this.link=this.svg.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(o).join("g").style("mix-blend-mode","multiply"),this.edgeColor==="path"){let c=this.link.append("linearGradient").attr("id",(u,d)=>(u.uid=`link-${d}`,u.uid)).attr("gradientUnits","userSpaceOnUse").attr("x1",u=>u.source.x1).attr("x2",u=>u.target.x0);c.append("stop").attr("offset","0%").attr("stop-color",u=>s(u.source.category)||u.source.name),c.append("stop").attr("offset","100%").attr("stop-color",u=>s(u.target.category)||u.target.name)}this.link.append("path").attr("class","link").attr("d",nu()).attr("stroke",c=>this.edgeColor==="none"?"#aaa":this.edgeColor==="path"?`url(#${c.uid})`:this.edgeColor==="input"?s(c.source.category||c.source.name):s(c.target.category||c.target.name)).attr("stroke-width",c=>Math.max(1,c.width)),this.link.append("title").text(c=>`${c.source.name} \u2192 ${c.target.name}
${this.format(c.value)}`),this.presentation.saveSvgToImage()}};t.\u0275fac=function(i){return new(i||t)(X(Pr),X(rr))},t.\u0275cmp=le({type:t,selectors:[["app-sankey"]],decls:20,vars:1,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download jpg image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/compvaluation",1,"button","button2"],[1,"button",3,"click"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],["id","anchor",3,"download",4,"ngIf"],["id","chart"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"h1"),V(5,"Energy Conversion & Transmission "),M(),k(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),te("click",function(){return o.setDownload()}),V(9,"Download Image JPG"),M(),k(10,"button",5),V(11,"Next \xBB"),M(),k(12,"button",6),te("click",function(){return o.reDrawChart()}),V(13,"Refresh"),M()()()()(),k(14,"single-card")(15,"div",7)(16,"div",8),Q(17,"img",9),ge(18,Jme,2,2,"a",10),Q(19,"div",11),M()()()),i&2&&(U(18),G("ngIf",o.showDownload))},dependencies:[mt,gt,kt],styles:[`.header{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3{background-color:#606f94}custom-select{border:none;display:inline-block}.button{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny{font-size:10pt}text.light{fill:#d3d3d3}.world{stroke:#d3d3d3;stroke-width:4px}.cell{stroke:#fff;stroke-width:1px}.label{text-anchor:middle;fill:#fff}.label>.name{dominant-baseline:text-after-edge}.label>.value{dominant-baseline:text-before-edge}.hoverer{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer:hover{stroke-width:3px}.legend-color{stroke-width:1px;stroke:#a9a9a9}
`],encapsulation:2});let e=t;return e})();function tge(e,t){if(e&1){let r=bt();k(0,"a",13),te("click",function(){lt(r);let i=_e();return ct(i.setDownload())}),V(1),M()}if(e&2){let r=_e();_i("download",r.currentYear.toString()+r.imageSource),U(1),ut(" ","Foreign Aid Data in : "+r.currentYear,"")}}var eb=(()=>{let t=class t{constructor(n,i){this.service=n,this.presentation=i,this.width=952,this.height=1100,this.aiData=[],this.aiCountries=[],this.currentYear=0,this.svg=null,this.download=null,this.imageSource=" ForeignAid.png",this.showDownload=!1,this.isLoading=!0}ngOnInit(){setTimeout(()=>this.isLoading=!1,2500),this.service.getAiData().subscribe(n=>{this.aiData=n.aiDataArray,this.aiCountries=n.countries,this.renderChart()})}setDownload(){this.showDownload=!this.showDownload}renderChart(){return Sn(this,null,function*(){let n=Hi().domain([mr(this.aiData,u=>Number(u.net_donations)),0,Ue(this.aiData,u=>Number(u.net_donations))]).range([-1,0,1]).interpolate((u,d)=>u<0?f=>Ef(1-f):f=>Mf(f)),i=y3(),o=({transform:u},d)=>{d.attr("transform",u)},s=km(i),a=Array.from(new Set(this.aiData.map(u=>u.year).sort())).filter(Boolean);this.svg=W("#chart").append("svg").attr("viewBox",`0, -40, ${this.width*1.1}, ${this.height/1.9}`).style("background","white");let l=W("body").append("div").attr("class","tooltip").style("position","absolute").style("visibility","hidden"),c=(u,d)=>{W(".tooltip").text(u).style("top",d[1]+"px").style("left",d[0]+"px").style("visibility","visible")};for(let u of a){this.currentYear=Number(u),this.svg.selectAll("*").remove();let d=1250,f=this.svg.transition().duration(d).ease(_c.exponent(1));this.svg.selectAll("path").data(this.aiCountries.features).enter().append("path").attr("d",s).attr("stroke","#111").attr("stroke-width",.5).attr("cursor","pointer").attr("fill",h=>h.properties.data?.get(u)?n(h.properties.data.get(u)[0].net_donations):"lightgrey").on("mouseover",(h,m)=>{let y=m.properties.name,g=m.properties.data!==void 0?m.properties?.data?.get(u)[0]?.donations:0,x=m.properties.data!==void 0?m.properties?.data?.get(u)[0]?.receipts:0;g>0&&(y=y+`
Donations: `+We("$0.2s")(g).replace(/G/,"B")),x>0&&(y=y+`
Receipts: `+We("$0.2s")(x).replace(/G/,"B")),c(y,[h.pageX,h.pageY])}).on("mousemove",function(h,m){let y=m.properties.name;W(".tooltip").style("top",h.pageY-10+"px").style("left",h.pageX+10+"px"),c(y,[h.pageX,h.pageY])}).on("mouseout",function(){W(".tooltip").style("visibility","hidden")}),this.presentation.saveSvgToImage(),yield f.end()}})}};t.\u0275fac=function(i){return new(i||t)(X(Pr),X(rr))},t.\u0275cmp=le({type:t,selectors:[["app-flat-earth"]],decls:20,vars:3,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"title"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download jpg image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/sankey",1,"button","button2"],[3,"loading"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],["id","anchor",3,"download","click",4,"ngIf"],["id","chart"],["id","anchor",3,"download","click"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),V(4,"World Aid Summary"),M(),k(5,"div",3)(6,"button",4),V(7,"\xAB Home"),M(),k(8,"button",5),te("click",function(){return o.setDownload()}),V(9,"Download Image JPG"),M(),k(10,"button",6),V(11,"Next \xBB"),M()()()()(),k(12,"single-card",7)(13,"div",8)(14,"div",9)(15,"h1"),V(16),M(),Q(17,"img",10),ge(18,tge,2,2,"a",11),Q(19,"div",12),M()()()),i&2&&(U(12),G("loading",o.isLoading),U(4),ut("Year in focus: ",o.currentYear,""),U(2),G("ngIf",o.showDownload))},dependencies:[mt,gt,kt],styles:[`.header{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3{background-color:#606f94}custom-select{border:none;display:inline-block}.button{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny{font-size:10pt}text.light{fill:#d3d3d3}.world{stroke:#d3d3d3;stroke-width:4px}.cell{stroke:#fff;stroke-width:1px}.label{text-anchor:middle;fill:#fff}.label>.name{dominant-baseline:text-after-edge}.label>.value{dominant-baseline:text-before-edge}.hoverer{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer:hover{stroke-width:3px}.legend-color{stroke-width:1px;stroke:#a9a9a9}
`],encapsulation:2});let e=t;return e})();var BU=jg(JS());function rge(e,t){if(e&1&&(k(0,"a",13),V(1),M()),e&2){let r=_e();_i("download",r.currentYear.toString()+r.imageSource),U(1),ut(" ","World Gdp data for : "+r.currentYear,"")}}var gM=(()=>{let t=class t{constructor(n,i,o){this.route=n,this.presentation=i,this.service=o,this.height=680,this.width=680,this.margins={top:20,right:40,bottom:50,left:50},this.fontSizeYear=64*this.height/900,this.animate=!0,this.animationPaused=!1,this.animationTimeout=null,this.freedom=null,this.duration=1250,this.selectedYear=2008,this.displayYear=2008,this.voronoiTreeMaps=zf(),this.companyHierarchy=null,this.countryList=[],this.imageSource=" World_Gdp_Data.png",this.showDownload=!1,this.currentYear=2016,this.isLoading=!0,this.regionColor=s=>({"Middle East and Africa":"#596F7E","United States":"#596F7E",Americas:"#168B98",Asia:"#ED5B67",Oceania:"#FD8F24",Europe:"#919C4C"})[s],this.bigFormat=We(",.0f"),this.formatDate=Ir("%Y")}ngOnInit(){ml("assets/datasets/freedom_clean.csv",ta).then(n=>{this.renderVoronoi(n),setTimeout(()=>this.isLoading=!1,2e3)}).catch(n=>console.log(n))}setDownload(){this.showDownload=!this.showDownload}colorHierarchy(n){n.depth===0?n.color="black":n.depth===1?n.color=this.regionColor(n.data[0]):n.color=n.parent.color,n.children&&n.children.forEach(i=>this.colorHierarchy(i))}toggleAnimation(){this.animate=!this.animate,this.animationPaused=!this.animationPaused,this.animationPaused||this.resumeAnimation()}resumeAnimation(){return Sn(this,null,function*(){this.freedom&&(yield this.renderVoronoi(this.freedom,!0))})}renderVoronoi(n,i=!1){return Sn(this,null,function*(){let o=n.map((c,u)=>c.year),s=[...new Set(o)].sort(),a=W("#chart").append("svg").attr("width",this.width*1.4).attr("height",this.height*1.4).style("fill","#F5F5F2").attr("viewBox","-120, -80, 1000, 1000"),l=i?s.indexOf(this.selectedYear):0;for(;l<s.length;l++){if(this.animationPaused){this.selectedYear=Number(s[l]);break}let c=s[l];this.selectedYear=Number(c),this.currentYear=this.displayYear=Number(c);let u=n.filter(E=>Number(E.year)===this.selectedYear),d=Rn(u,E=>E.region_simple),f=En(d,E=>{if(typeof E.values=="function"){if(E.length===2)return E[1]}else return E.values}).sum(E=>E.population);a.selectAll("g").remove();let h=a.transition().duration(this.duration),m=a.append("g").attr("transform","translate("+this.margins.left+","+this.margins.top+")"),y=m,g=m,x=m,C=m,w=Math.min(this.width,this.height)/2;C=a.append("g").append("circle").attr("r",339).attr("fill","none").attr("stroke","gray").attr("transform","translate(390,360)").attr("stroke-width",1.5),C.append("clipPath").attr("id","circle-clip").append("circle").attr("r",w);let b=(0,BU.default)("00"),I=$t(100).map(E=>[this.width*(1+.99*Math.cos(E/50*Math.PI))/2,this.height*(1+.99*Math.sin(E/50*Math.PI))/2]),z=zf().prng(b).clip(I);this.colorHierarchy(f),z(f);let H=f.descendants().sort((E,A)=>A.depth-E.depth).map((E,A)=>Object.assign({},E,{id:A})),q=null;y.selectAll("path").data(H).enter().append("path").attr("d",E=>"M"+E.polygon.join("L")+"Z").style("fill",E=>E.parent?E.parent.color:E.color).attr("stroke","white").attr("stroke-width",2.5).style("fill-opacity",E=>E.depth===2?1:0).attr("pointer-events",E=>E.depth===2?"all":"none").on("mouseenter",E=>{let{id:A}=E.target.__data__;g.select(`.label-${A}`).attr("opacity",1),x.select(`.label-${A}`).attr("opacity",1)}).on("mouseleave",E=>{let{id:A,data:R}=E.target.__data__;g.select(`.label-${A}`).attr("opacity",L=>Number(R.population)>13e7?1:0),x.select(`.label-${A}`).attr("opacity",L=>Number(R.population)>13e7?1:0)}).attr("stroke-width",E=>7-E.depth*2.8).style("fill",E=>E.color),a.call(mi().extent([[-350,-10],[this.width*1.5,this.height*1.5]]).scaleExtent([1,8]).on("zoom",E=>this.zoomed(E,a))),g.selectAll("text").data(H.filter(E=>E.depth===2)).enter().append("text").attr("class",E=>`label-${E.id}`).attr("text-anchor","middle").attr("transform",E=>"translate("+[E.polygon.site.x,E.polygon.site.y+6]+")").text(E=>E.data.key||E.data.countries).attr("opacity",E=>E.data.key===q||E.data.population>13e7?1:0).attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat"),y.append("g").attr("transform","translate(-70,"+this.margins.bottom+")").attr("font-family","sans-serif").attr("font-size",this.fontSizeYear).attr("text-anchor","right").attr("fill-opacity",.2).attr("fill","black").selectAll().data(H.filter(E=>!isNaN(E.data.year))).join("text").call(E=>E.append("tspan").attr("font-weight","bold").attr("x",-50).attr("y","110px").text(A=>c)),a.selectAll(".arc-label-path").remove(),a.selectAll(".arc-label-text").remove();let $=390,D=360,O=339+30,j=f.children||[],N=W("body").append("svg").attr("id","temp-svg-label-measure").style("position","absolute").style("visibility","hidden");if(j.forEach((E,A)=>{let R=E.children||[];if(R.length===0)return;let B=R.map(wt=>{if(!wt.polygon)return null;let ft=Lm(wt.polygon),an=ft[0]-$,An=ft[1]-D,He=Math.atan2(An,an);return He<0&&(He+=2*Math.PI),He}).filter(wt=>wt!==null);if(B.length===0)return;let P=Math.min(...B),L=Math.max(...B);L-P>Math.PI&&([P,L]=[L,P+2*Math.PI]);let Z=Math.abs(L-P),ee=(P+L)/2,K=Math.PI/12,se=P,ke=L;Z<K&&(se=ee-K/2,ke=ee+K/2,Z=K);let Me=O*Z,pe=E.data[0],ze=16,ie=N.append("text").text(pe).style("font-family","Montserrat").style("font-size",ze+"px"),De=ie.node().getBBox().width;ie.remove(),Me<De+20&&(ze=Math.max(10,Math.floor(ze*(Me/(De+20))))),ie=N.append("text").text(pe).style("font-family","Montserrat").style("font-size",ze+"px"),De=ie.node().getBBox().width,ie.remove();let Ae=sn()({innerRadius:O,outerRadius:O,startAngle:se,endAngle:ke}),oe=`arc-label-path-${A}`;a.append("path").attr("id",oe).attr("class","arc-label-path").attr("d",Ae).attr("transform",`translate(${$},${D})`).attr("fill","none").attr("stroke","none"),a.append("text").attr("class","arc-label-text").append("textPath").attr("href",`#${oe}`).attr("startOffset","50%").text(pe).attr("font-weight","bold").attr("class","tick font-medium text-sm").attr("cursor","default").attr("pointer-events","none").attr("fill","black").style("font-family","Montserrat").style("font-size",ze+"px")}),N.remove(),this.presentation.saveSvgToImage(),yield h.end(),this.animationPaused)break}})}zoomed({transform:n},i){i.attr("transform",n)}};t.\u0275fac=function(i){return new(i||t)(X($n),X(rr),X(Uf))},t.\u0275cmp=le({type:t,selectors:[["app-voronoi"]],decls:20,vars:3,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/earth",1,"button","button2"],[1,"button",3,"click"],[3,"loading"],[1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],["id","anchor",3,"download",4,"ngIf"],["id","chart"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"World Population and GDP by Country"),M(),k(5,"div",2)(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),te("click",function(){return o.setDownload()}),V(9,"Download Image JPG"),M(),k(10,"button",5),V(11,"Next \xBB"),M(),k(12,"button",6),te("click",function(){return o.toggleAnimation()}),V(13),M()()()()(),k(14,"single-card",7)(15,"div",8)(16,"div",9),Q(17,"img",10),ge(18,rge,2,2,"a",11),Q(19,"div",12),M()()()),i&2&&(U(13),Ze(o.animate?"Pause Animation":"Start Animation"),U(1),G("loading",o.isLoading),U(4),G("ngIf",o.showDownload))},dependencies:[mt,gt,kt],styles:[`.header{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3{background-color:#606f94}custom-select{border:none;display:inline-block}.button{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny{font-size:10pt}text.light{fill:#d3d3d3}.world{stroke:#d3d3d3;stroke-width:4px}.cell{stroke:#fff;stroke-width:1px}.label{text-anchor:middle;fill:#fff}.label>.name{dominant-baseline:text-after-edge}.label>.value{dominant-baseline:text-before-edge}.hoverer{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer:hover{stroke-width:3px}.legend-color{stroke-width:1px;stroke:#a9a9a9}
`],encapsulation:2});let e=t;return e})();function ige(e,t){if(e&1){let r=bt();k(0,"div",7)(1,"header")(2,"div",8)(3,"h1"),V(4,"World Population and GDP by Country"),M(),k(5,"div",9)(6,"button",10),V(7,"\xAB Home"),M(),k(8,"button",11),te("click",function(){lt(r);let i=_e();return ct(i.setDownload())}),V(9,"Download Image JPG"),M(),k(10,"button",12),V(11,"Next \xBB"),M()()()()()}}function oge(e,t){if(e&1&&(k(0,"button")(1,"a",13),V(2),M()()),e&2){let r=_e();U(1),_i("download",r.currentYear+r.imageSource),U(1),ut(" ","Download Browser Share Image: "+r.currentYear,"")}}var tb=(()=>{let t=class t{constructor(n,i,o,s){this.element=n,this.route=i,this.presentation=o,this.service=s,this.width=600,this.height=Math.min(this.width,700),this.radius=this.height/2-150*this.height/700,this.duration=15,this.innerRadiusFactor=.65,this.distTextFactor=1.54,this.widthImage=56*this.height/700,this.minAngle=.38,this.hideAngle=.07,this.fontSize=15,this.fontSizeYear=64*this.height/700,this.currentYear="1994",this.backgroundColor="#FDFDFD",this.borderColor="#C0C0C0",this.imageSource="BrowserShare.jpg",this.showDownload=!1,this.isLoading=!0,this.fontSizeTitle=28*this.height/700,this.titleTop="Browsers Market Share",this.title="Market share (%)",this.currentRoute=!0,this.arc=sn().innerRadius(this.radius*this.innerRadiusFactor).outerRadius(this.radius),this.formatDate=To("%Y"),this.parentElement=this.element.nativeElement}ngOnInit(){this.route.url.subscribe(n=>{this.currentRoute=n[0].path==="browser"}),setTimeout(()=>this.isLoading=!1,3e3),this.service.getKeyFrames().subscribe(n=>{this.renderChart(n)})}setDownload(){this.showDownload=!this.showDownload}renderChart(n){return Sn(this,null,function*(){let i=W(this.parentElement).select("#chart").append("svg").attr("width",this.width*1.5).attr("height",this.height).attr("viewBox",[-250,-this.height/2,this.width/1.3,this.height]).attr("style",o=>this.currentRoute?"max-width: 50%; height: auto;":"max-width: 100%; height: auto;").style("background",this.backgroundColor).style("outline-color",this.borderColor);for(let o of n){let s=i.transition().duration(this.duration).ease(ci),a=Yr().padAngle(1/this.radius).sort(null).value(c=>c.value),l=Xe().domain(o[1].map(c=>c.name)).range(U2(c=>Sf(c*.85+.1),o[1].length).reverse());i.selectAll("g").remove(),i.append("g").attr("font-family","sans-serif").attr("font-size",this.fontSizeTitle).attr("font-weight","bold").attr("fill-opacity",.2).selectAll().data(a(o[1])).join("text").call(c=>c.append("tspan").attr("class","title_top").attr("x",-this.width/2+30*this.height/700).attr("y",-this.height/2+50*this.height/700).attr("dy","-0.5em").text(this.titleTop)),i.selectAll(".title_top"),i.append("g").attr("font-family","sans-serif").attr("font-size",this.fontSizeYear).attr("text-anchor","middle").attr("fill-opacity",.2).selectAll().data(a(o[1])).join("text").call(c=>c.append("tspan").attr("font-weight","bold").attr("x",0).attr("y","10px").text(u=>(this.currentYear=this.formatDate(o[0]),this.formatDate(o[0])))).call(c=>c.append("tspan").attr("font-weight","lighter").attr("x",0).attr("y",50*this.height/700).attr("font-size",this.fontSizeYear/2.8).text(this.title)),i.append("g").selectAll().data(a(o[1])).enter().filter(c=>c.endAngle-c.startAngle>2*this.hideAngle).append("line").style("stroke","black").style("stroke-width",1).attr("x1",c=>this.arc.centroid(c)[0]*1.2).attr("y1",c=>this.arc.centroid(c)[1]*1.2).attr("x2",c=>this.arc.centroid(c)[0]*this.distTextFactor*.88).attr("y2",c=>this.arc.centroid(c)[1]*this.distTextFactor*.88),i.append("g").selectAll().data(a(o[1])).join("path").attr("fill",c=>l(c.data.name)).attr("d",this.arc).append("title").text(c=>`${c.data.name}: ${c.data.value.toLocaleString()}`),i.append("g").selectAll().data(a(o[1])).join("svg:image").filter(c=>c.endAngle-c.startAngle<this.minAngle&&c.endAngle-c.startAngle>this.hideAngle).attr("xlink:href",c=>c.data.image).attr("transform",c=>`translate(${[this.arc.centroid(c)[0]-this.widthImage*.5*(c.endAngle-c.startAngle)/this.minAngle,this.arc.centroid(c)[1]-this.widthImage*.5*(c.endAngle-c.startAngle)/this.minAngle]})`).attr("width",c=>this.widthImage*(c.endAngle-c.startAngle)/this.minAngle),i.append("g").selectAll().data(a(o[1])).join("svg:image").filter(c=>c.endAngle-c.startAngle>this.minAngle).attr("xlink:href",c=>c.data.image).attr("transform",c=>`translate(${[this.arc.centroid(c)[0]-this.widthImage/2,this.arc.centroid(c)[1]-this.widthImage/2]})`).attr("width",c=>this.widthImage),i.append("g").attr("font-family","sans-serif").attr("font-size",this.fontSize).attr("text-anchor","middle").selectAll().data(a(o[1])).join("text").attr("transform",c=>`translate(${[this.arc.centroid(c)[0]*this.distTextFactor,this.arc.centroid(c)[1]*this.distTextFactor]})`).call(c=>c.filter(u=>u.endAngle-u.startAngle>2*this.hideAngle).append("tspan").attr("y","-0.6em").attr("dy","-1em").attr("font-weight","bold").attr("class","tick").text(u=>u.data.name)).call(c=>c.filter(u=>u.endAngle-u.startAngle>2*this.hideAngle).append("tspan").attr("x",0).attr("dy","1.2em").attr("fill-opacity",.7).text(u=>u.data.value.toLocaleString("en-US",{maximumFractionDigits:1})+"%")),i.selectAll(".tick"),yield s.end()}})}wrap(n,i){return n.each(()=>{for(var o=W("g"),s=o.text().split(/\s+/).reverse(),a,l=[],c=0,u=1.1,d=parseFloat(o.attr("dy")),f=o.text(null).append("tspan").attr("dx",0).attr("dy",`${d}em`);a=s.pop();)l.push(a),f.text(l.join(" ")),f.node().getComputedTextLength()>i&&(l.pop(),f.text(l.join(" ")),l=[a],f=o.append("tspan").attr("dx",-f.node().getComputedTextLength()).attr("dy",++c*u+d+"em").text(a))}),0}zoomed({transform:n},i){i.attr("transform",n)}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X($n),X(rr),X(Pr))},t.\u0275cmp=le({type:t,selectors:[["donut-race"]],features:[Vr([Pr])],decls:7,vars:3,consts:[["class","button-group","id","voronoi",4,"ngIf"],[3,"loading"],["id","svg_container",1,"panel-body"],["id","svg_container"],["id","img","width","1","height","1"],[4,"ngIf"],["id","chart"],["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/voronoi",1,"button","button2"],["id","anchor",3,"download"]],template:function(i,o){i&1&&(ge(0,ige,12,0,"div",0),k(1,"single-card",1)(2,"div",2)(3,"div",3),Q(4,"img",4),ge(5,oge,3,2,"button",5),Q(6,"div",6),M()()()),i&2&&(G("ngIf",o.currentRoute),U(1),G("loading",o.isLoading),U(4),G("ngIf",o.showDownload))},dependencies:[mt,gt,kt],styles:[".header[_ngcontent-%COMP%]{background-color:#f1f1f1;padding:20px;text-align:center;margin:1rem}.button.button3[_ngcontent-%COMP%]{background-color:#606f94}custom-select[_ngcontent-%COMP%]{border:none;display:inline-block}.button[_ngcontent-%COMP%]{background-color:#555;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer}#title[_ngcontent-%COMP%]{letter-spacing:4px;font-weight:700;font-size:x-large}text.tiny[_ngcontent-%COMP%]{font-size:10pt}text.light[_ngcontent-%COMP%]{fill:#d3d3d3}.world[_ngcontent-%COMP%]{stroke:#d3d3d3;stroke-width:4px}.cell[_ngcontent-%COMP%]{stroke:#fff;stroke-width:1px}.label[_ngcontent-%COMP%]{text-anchor:middle;fill:#fff}.label[_ngcontent-%COMP%] > .name[_ngcontent-%COMP%]{dominant-baseline:text-after-edge}.label[_ngcontent-%COMP%] > .value[_ngcontent-%COMP%]{dominant-baseline:text-before-edge}.hoverer[_ngcontent-%COMP%]{fill:transparent;stroke:#fff;stroke-width:0px}.hoverer[_ngcontent-%COMP%]:hover{stroke-width:3px}.legend-color[_ngcontent-%COMP%]{stroke-width:1px;stroke:#a9a9a9}"]});let e=t;return e})();var UU=(()=>{let t=class t{constructor(n,i){this.service=n,this.elementRef=i,this.width=800,this.height=600,this.align="justify",this.showTotal=!1,this.edgeColor="path",this.format=We(",.0f"),this.color=Xe(kn)}ngOnInit(){this.service.getEnergyNodes().pipe().subscribe(n=>{this.data=n,this.initializeSvg(),this.createSankey()})}ngOnChanges(n){this.svg&&(n.data||n.width||n.height||n.align||n.showTotal||n.edgeColor)&&this.updateChart()}initializeSvg(){this.svg=W(this.elementRef.nativeElement.querySelector("svg")).attr("viewBox",`0 0 ${this.width} ${this.height}`)}createSankey(){this.sankeyGenerator=eu().nodeId(n=>n.name).nodeWidth(15).nodePadding(10).extent([[1,5],[this.width-1,this.height-5]]),this.updateChart()}updateChart(){if(!this.data||!this.data.nodes||!this.data.links)return;this.svg.selectAll("*").remove();let n=tt;console.log(`sankey${this.align[0].toUpperCase} ${this.align.slice(1)}`),this.sankeyGenerator.nodeAlign();let i=this.data.nodes.map(f=>ne({},f)),o=this.data.links.map(f=>ne({},f)),s=this.sankeyGenerator({nodes:i,links:o});if(this.showTotal){let f=s.nodes.filter(({targetLinks:h})=>h.length===0).map(({name:h,value:m})=>({source:"Total",target:h,value:m}));i=[{name:"Total",category:"Total"},...i],o=[...f,...o],s=this.sankeyGenerator({nodes:i,links:o})}let a=s.nodes,l=s.links,c=a[0].x1-a[0].x0,u=this.svg.selectAll(".node").data(a).join("g").attr("class","node").attr("transform",f=>`translate(${f.x0},${f.y0})`).attr("cursor","move").call(Gs().on("start",(f,h)=>this.dragStart(f,h)).on("drag",(f,h)=>this.dragMove(f,h)));u.append("rect").attr("height",f=>f.y1-f.y0).attr("width",f=>f.x1-f.x0).attr("fill",f=>this.color(f.category||f.name)).attr("stroke","#000").append("title").text(f=>`${f.name}
${this.format(f.value)}`),u.append("text").attr("font-family","sans-serif").attr("font-size",10).attr("x",f=>f.x0<this.width/2?c+6:-6).attr("y",f=>(f.y1-f.y0)/2).attr("dy","0.35em").attr("text-anchor",f=>f.x0<this.width/2?"start":"end").text(f=>f.name);let d=this.svg.append("g").attr("fill","none").attr("stroke-opacity",.5).selectAll("g").data(l).join("g").style("mix-blend-mode","multiply");if(this.edgeColor==="path"){let f=d.append("linearGradient").attr("id",(h,m)=>(h.uid=`link-${m}`,h.uid)).attr("gradientUnits","userSpaceOnUse").attr("x1",h=>h.source.x1).attr("x2",h=>h.target.x0);f.append("stop").attr("offset","0%").attr("stop-color",h=>this.color(h.source.category||h.source.name)),f.append("stop").attr("offset","100%").attr("stop-color",h=>this.color(h.target.category||h.target.name))}d.append("path").attr("class","link").attr("d",nu()).attr("stroke",f=>this.edgeColor==="none"?"#aaa":this.edgeColor==="path"?`url(#${f.uid})`:this.edgeColor==="input"?this.color(f.source.category||f.source.name):this.color(f.target.category||f.target.name)).attr("stroke-width",f=>Math.max(1,f.width)).append("title").text(f=>`${f.source.name} \u2192 ${f.target.name}
${this.format(f.value)}`)}dragStart(n,i){i.dragX=n.x,i.dragY=n.y,i.initialX0=i.x0,i.initialY0=i.y0,i.initialX1=i.x1,i.initialY1=i.y1}dragMove(n,i){let o=n.x-i.dragX,s=n.y-i.dragY;i.x0=Math.max(0,Math.min(this.width-(i.initialX1-i.initialX0),i.initialX0+o)),i.x1=i.x0+(i.initialX1-i.initialX0),i.y0=Math.max(0,Math.min(this.height-(i.initialY1-i.initialY0),i.initialY0+s)),i.y1=i.y0+(i.initialY1-i.initialY0),W(n.sourceEvent.target.parentNode).attr("transform",`translate(${i.x0},${i.y0})`),this.sankeyGenerator.update(this.data),this.svg.selectAll(".link").attr("d",nu())}};t.\u0275fac=function(i){return new(i||t)(X(Pr),X(Ye))},t.\u0275cmp=le({type:t,selectors:[["app-sankey-diagram"]],inputs:{data:"data",width:"width",height:"height",align:"align",showTotal:"showTotal",edgeColor:"edgeColor"},features:[wn],decls:2,vars:0,consts:[["svgElement",""]],template:function(i,o){i&1&&(Ft(),Q(0,"svg",null,0))},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}"]});let e=t;return e})();function age(e,t){if(e&1){let r=bt();k(0,"button",8),te("click",function(){lt(r);let i=_e();return ct(i.isMinimized=!i.isMinimized)}),M()}}function lge(e,t){if(e&1){let r=bt();k(0,"button",9),te("click",function(){lt(r);let i=_e();return ct(i.location.back())}),M()}}var cge=[[["",8,"panel-title"]],[["",8,"panel-properties"]],[["",8,"panel-body"]]],uge=e=>({minimized:e}),dge=e=>({"component-loading-mask":e}),fge=[".panel-title",".panel-properties",".panel-body"],qf=(()=>{let t=class t{constructor(n){this.location=n,this.action="",this.loading=!1,this.isMinimized=!1}};t.\u0275fac=function(i){return new(i||t)(X(La))},t.\u0275cmp=le({type:t,selectors:[["overlay"]],inputs:{action:"action",loading:"loading"},ngContentSelectors:fge,decls:11,vars:8,consts:[[1,"panel-wrapper"],[1,"panel-container","actionable","collapsible",3,"ngClass"],[1,"panel",3,"ngClass"],[1,"panel-content-container"],[1,"panel-header"],["class","circle-button minimize-button",3,"click",4,"ngIf"],["class","circle-button close-button",3,"click",4,"ngIf"],[1,"panel-body-container"],[1,"circle-button","minimize-button",3,"click"],[1,"circle-button","close-button",3,"click"]],template:function(i,o){i&1&&(Qu(cge),k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),mo(5),mo(6,1),ge(7,age,1,0,"button",5)(8,lge,1,0,"button",6),M(),k(9,"div",7),mo(10,2),M()()()()()),i&2&&(U(1),G("ngClass",jr(4,uge,o.isMinimized)),U(1),G("ngClass",jr(6,dge,o.loading)),U(5),G("ngIf",o.action==="minimize"),U(1),G("ngIf",o.action==="close"))},dependencies:[oi,mt],encapsulation:2});let e=t;return e})();var HU=(()=>{let t=class t{constructor(){this.ngUnsubscribe=new zt}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["alaaap-header"]],decls:38,vars:5,consts:[[3,"action","loading"],[1,"panel-title"],[1,"title"],[1,"panel-body"],[1,"row"],[1,"column"],[1,"card"],["id","header"],[1,"change"],[1,"material-icons",3,"ngClass"]],template:function(i,o){i&1&&(k(0,"overlay",0)(1,"div",1)(2,"h2",2),V(3,"Incident Summary"),M(),Q(4,"span"),M(),k(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6)(9,"header",7)(10,"h1"),V(11,"RansomWare"),M()(),k(12,"div")(13,"span",8),V(14,"Incident Count: 3616"),M(),k(15,"span",9),V(16,"play_arrow"),M()()()(),k(17,"div",5)(18,"div",6)(19,"header",7)(20,"h1"),V(21,"Phishing Report"),M()(),k(22,"div")(23,"span",8),V(24,"Incident Count: 59"),M(),k(25,"span",9),V(26,"play_arrow"),M()()()(),k(27,"div",5)(28,"div",6)(29,"header",7)(30,"h1"),V(31,"MITM Attacks"),M()(),Q(32,"div"),k(33,"div")(34,"span",8),V(35,"Incident Count: 127"),M(),k(36,"span",9),V(37,"play_arrow"),M()()()()()()()),i&2&&(G("action","minimize")("loading",!1),U(15),G("ngClass","decrease"),U(10),G("ngClass","decrease"),U(11),G("ngClass","decrease"))},dependencies:[oi,qf],styles:['h2[_ngcontent-%COMP%]{font-size:2.6rem;margin:0rem;font-weight:400}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]{top:0;color:initial;position:absolute;right:50px;margin-top:-.5rem;font-size:initial;font-weight:initial}.panel-title[_ngcontent-%COMP%]   daterange-dropdown[_ngcontent-%COMP%]     span.dropdown-display-name{all:unset}span.change[_ngcontent-%COMP%]{font-size:20px}.material-icons[_ngcontent-%COMP%]{color:#fff;font-size:24px;visibility:hidden}.material-icons.increase[_ngcontent-%COMP%]{transform:rotate(-90deg);visibility:visible;color:#ee3224}.material-icons.decrease[_ngcontent-%COMP%]{transform:rotate(90deg);visibility:visible;color:green}.material-icons.neutral-increase[_ngcontent-%COMP%]{transform:rotate(-90deg);visibility:visible}.material-icons.neutral-decrease[_ngcontent-%COMP%]{transform:rotate(90deg);visibility:visible}.material-icons.log-increase[_ngcontent-%COMP%]{transform:rotate(-90deg);visibility:visible;color:green}.material-icons.log-decrease[_ngcontent-%COMP%]{transform:rotate(90deg);visibility:visible;color:#ee3224}.material-icons[_ngcontent-%COMP%]{color:#000;font-size:24px;margin-top:2rem;margin-left:.7rem;padding-right:1rem}.panel-container.actionable[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .circle-button[_ngcontent-%COMP%]{top:-.2rem;position:absolute}#header[_ngcontent-%COMP%]{border-top-left-radius:4px;border-top-right-radius:4px;background:#8b8b8a;width:100%;height:45px;top:auto;margin-bottom:2rem}#header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;font-weight:500;margin:0 0 .1rem 1rem;color:#fff}.row[_ngcontent-%COMP%]{margin:0 -2px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.w3-panel[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:16px;height:60px}.log-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding-top:.8rem;text-align:center}.log-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-top:-.8rem;text-align:left}.log-header[_ngcontent-%COMP%]   .updated[_ngcontent-%COMP%]{padding-top:-.8rem;float:right}.w3-blue[_ngcontent-%COMP%], .w3-hover-blue[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#102151!important;padding:15px;border-radius:4px}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-top-left-radius:4px;border-top-right-radius:4px;text-align:center;background-color:#f1f1f1;height:16rem;margin:.8rem}[_nghost-%COMP%]     .panel-container .panel-body{overflow-y:unset}.panel-title[_ngcontent-%COMP%]{width:90%;font-weight:400;font-size:2.1rem}.panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px}.panel-body[_ngcontent-%COMP%]   .scrolling-container[_ngcontent-%COMP%]{min-height:50rem;max-height:50rem;overflow-y:auto}.panel-body-container[_ngcontent-%COMP%]{min-height:5rem}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;width:100%}.column[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;flex:1}.gutter[_ngcontent-%COMP%]{width:2rem}strong[_ngcontent-%COMP%]{font-size:35px;font-weight:500}@media (max-width: 57.3rem){.panel-body-container[_ngcontent-%COMP%]{padding-top:4rem}}@media (min-width: 100rem){.panel-body-container[_ngcontent-%COMP%]{height:26rem;overflow-y:auto}}']});let e=t;return e})();var qU=(()=>{let t=class t{constructor(n,i,o,s){this.router=n,this.dateTimeService=i,this.http=o,this.logger=s,this.loadingState=!0,this.data={},this.data2=[{category:"Phishing",count:305,percent:71},{category:"Privilege Esc.",count:1208,percent:18},{category:"Spyware",count:110,percent:6},{category:"DDOS",count:89,percent:5},{category:"Malware",count:1,percent:.06}],this.data3=[{category:"Exfiltration",count:208,percent:71},{category:"Credential Acc.",count:1505,percent:18},{category:"Trojan",count:410,percent:6},{category:"Pwd Att&ck",count:189,percent:5},{category:"Network",count:9011,percent:.06}],this.deviceTypeDateRange=null,this.deviceTypeData={},this.deviceTypeDataTitle="Log Volume By Device Type",this.deviceDateRangeOption=Ne.LastTwentyFourHours,this.isDrillDownDevice=!1,this.alertsBySeverityDateRange=null,this.alertsBySeverity={},this.alertsBySeverityDataTitle="Localized Alerts By Severity",this.alertsSeverityDateRangeOption=Ne.LastTwentyFourHours,this.isDrillLocalSeverity=!1,this.twAlertsBySeverityDateRange=null,this.twAlertsBySeverity={},this.twAlertsBySeverityDataTitle="ThreatWatch Alerts By Severity",this.twSeverityDateRangeOption=Ne.LastTwentyFourHours,this.isDrillThreatSeverity=!1,this.destinationCountryDateRange=null,this.destinationCountry={},this.destinationCountryDataTitle="Outbound By Destination Country",this.destinationDateRangeOption=Ne.LastTwentyFourHours,this.isDrillDestinationCountry=!1,this.alertsByCategoryDateRange=null,this.alertsByCategory={},this.alertsByCategoryDataTitle="Localized Alerts By Category",this.alertsCategoryDateRangeOption=Ne.LastTwentyFourHours,this.isDrillLocalizedCategory=!1,this.twAlertsByCategoryDateRange=null,this.twAlertsByCategory={},this.twAlertsByCategoryDataTitle="ThreatWatch Alerts By Category",this.twCategoryDateRangeOption=Ne.LastTwentyFourHours,this.isDrillThreatCategory=!1,this.severityColorScale=["#EE3224","#E69F00","#FFF423","#5ECE5E","#4DD2FF"],this.threatWatchColorScale=["#990049","#FF773D","#FFF423","#037433","#68B6FF","#152E76"],this.dateRangeOption=Ne.LastTwentyFourHours,this.dateRangeOptions=[Ne.LastHour,Ne.LastTwoHours,Ne.LastFourHours,Ne.LastSixHours,Ne.LastEightHours,Ne.LastTwelveHours,Ne.LastTwentyFourHours,Ne.LastSevenDays,Ne.LastThirtyDays,Ne.Custom],this.ngUnsubscribe=new zt,this.chartConfigs=[{id:"donut1",label:"Radial 1",initial:"data2"},{id:"donut2",label:"Donut 2",initial:"data3"},{id:"donut3",label:"Donut 3",initial:"data2"},{id:"donut5",label:"Radial 5",initial:"data2"},{id:"donut4",label:"Donut 4",initial:"data3"},{id:"donut6",label:"Donut 6",initial:"data3"}],this.chartData={}}ngOnInit(){this.chartConfigs.forEach(n=>{this.chartData[n.id]=n.initial==="data2"?this.randomizeData([...this.data2]):this.randomizeData([...this.data3])}),setTimeout(()=>this.loadingState=!1,3e3)}randomizeData(n){let i=n.map(s=>Se(ne({},s),{count:Math.floor(Math.random()*1e4)+1})),o=i.reduce((s,a)=>s+a.count,0);return i.map(s=>Se(ne({},s),{percent:Math.round(s.count/o*100)}))}getChartData(n){return this.chartData[n]}randomizeDataForCharts(n){if(!n)Object.keys(this.chartData).forEach(i=>{let o=Math.random()<.5?this.data2:this.data3;this.chartData[i]=this.randomizeData([...o])});else{let i=Math.random()<.5?this.data2:this.data3;this.chartData[n]=this.randomizeData([...i])}}};t.\u0275fac=function(i){return new(i||t)(X(Nn),X(lg),X(Wt),X(yd))},t.\u0275cmp=le({type:t,selectors:[["metrics-dashboard"]],decls:36,vars:18,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/attack-tree",1,"button","button2"],[1,"row"],[1,"column"],[3,"loading"],[1,"panel-body"],[3,"data","id","onRandomizeClick"],[3,"id","chartData","onRandomizeClick"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"div",2)(4,"button",3),V(5,"\xAB Home"),M(),k(6,"button",4),V(7,"Next \xBB"),M()()()()(),k(8,"div"),Q(9,"alaaap-header"),M(),k(10,"div",5)(11,"div",6)(12,"single-card",7)(13,"div",8)(14,"radial-chart",9),te("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),M()()()(),k(15,"div",6)(16,"single-card",7)(17,"div",8)(18,"donut",10),te("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),M()()()(),k(19,"div",6)(20,"single-card",7)(21,"div",8)(22,"radial-chart",9),te("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),M()()()()(),k(23,"div",5)(24,"div",6)(25,"single-card",7)(26,"div",8)(27,"donut",10),te("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),M()()()(),k(28,"div",6)(29,"single-card",7)(30,"div",8)(31,"radial-chart",9),te("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),M()()()(),k(32,"div",6)(33,"single-card",7)(34,"div",8)(35,"donut",10),te("onRandomizeClick",function(a){return o.randomizeDataForCharts(a)}),M()()()()()),i&2&&(U(12),G("loading",o.loadingState),U(2),G("data",o.getChartData(o.chartConfigs[0].id))("id",o.chartConfigs[0].id),U(2),G("loading",o.loadingState),U(2),G("id",o.chartConfigs[1].id)("chartData",o.getChartData(o.chartConfigs[1].id)),U(2),G("loading",o.loadingState),U(2),G("data",o.getChartData(o.chartConfigs[2].id))("id",o.chartConfigs[2].id),U(3),G("loading",o.loadingState),U(2),G("id",o.chartConfigs[3].id)("chartData",o.getChartData(o.chartConfigs[3].id)),U(2),G("loading",o.loadingState),U(2),G("data",o.getChartData(o.chartConfigs[4].id))("id",o.chartConfigs[4].id),U(2),G("loading",o.loadingState),U(2),G("id",o.chartConfigs[5].id)("chartData",o.getChartData(o.chartConfigs[5].id)))},dependencies:[gt,Vf,HU,kt,bs],styles:[`.panel-title{width:60%;font-weight:400;font-size:2.1rem}.panel-title daterange-dropdown{top:0;color:initial;position:absolute;right:-13px;margin-top:-1rem;max-width:60%;font-size:initial;font-weight:initial}.panel-title span{font-size:16px}.panel-body .date-label{text-align:center;font-weight:400;padding:0;margin:0}.panel-body-container{min-width:5rem}.row{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.column{display:flex;flex-direction:column;flex-basis:100%;flex:1}.gutter{width:2rem}@media (max-width: 57.3rem){.panel-body-container{padding-top:4rem;max-height:26rem}}@media (min-width: 100rem){.panel-body-container{height:26rem;overflow-y:auto}}
`],encapsulation:2});let e=t;return e})();var nb=class{constructor(t,r){this.g=null,this.infoBox=null,this.textBox=null,this.charBox=null,this.width=0,this.height=0,this.offset=30,this.halfWidth=0,this.funnelWidth={max:0,min:0},this.yScale=null,this.data=null,this.total=0,this.streamlined=!1,this.options={palette:Xc,style:"3d",streamlined:!1,percentage:"first",showPercentage:!0},this.font={fontFamily:"sans-serif",size:{label:16,value:16,percentage:12}},this.field={stage:"stage",value:"value"},this.tooltip={color:"black",boxColor:"white",boxOpacity:.8},this.onHover=null,this.onClick=null,this.selectedStages=new Set,this.container=t,this.chartData=r}setSize(t){return[this.width,this.height]=t,this}setOptions(t){return Object.assign(this.options,t),this}setFont(t){return Object.assign(this.font,t),this}setField(t){return Object.assign(this.field,t),this}setTooltip(t){return Object.assign(this.tooltip,t),this}setData(t){return this.data=[...t],this}setOnHover(t){return this.onHover=t,this}setOnClick(t){return this.onClick=t,this}render(){return this.initialize(),this.processData(),this.initializeScales(),this.renderChart(),this}initialize(){this.streamlined=this.options.streamlined,this.halfWidth=this.width/2,this.funnelWidth.max=this.width*.65,this.funnelWidth.min=this.width*.15,this.textBox=this.container.append("text").attr("font-family",this.font.fontFamily).style("visibility","hidden"),this.getCharBox()}processData(){this.streamlined?this.processStreamlined():this.processPartToWhole()}processStreamlined(){if(this.data){this.chartData=[],this.data.sort((t,r)=>r[this.field.value]-t[this.field.value]);for(let t=1;t<this.data.length;t++){let r=this.data[t],n=r[this.field.value],i=1;this.options.percentage==="first"?i=this.data[0][this.field.value]:this.options.percentage==="previous"&&(i=t===0?n:this.data[t-1][this.field.value]),this.chartData.push({stage:r[this.field.stage],value:n,vs:this.data[t-1][this.field.value],ve:n,pct:n/i})}}}processPartToWhole(){if(!this.data)return;let t=0;this.chartData=this.data.map((r,n)=>{let i=t,o=r[this.field.value];return t+=o,{stage:r[this.field.stage],value:o,vs:i,ve:t,pct:0}}),this.total=t,this.chartData.forEach(r=>r.pct=r.value/t)}initializeScales(){!this.data||!this.chartData||(this.yScale=be().range([this.streamlined?30:0,this.height]),this.streamlined?this.yScale.domain(Mt(this.data.map(t=>t[this.field.value])).reverse()):this.yScale.domain([0,this.total]),this.colorScale=Xe().domain(this.chartData.map(t=>t.stage)).range(this.options.palette))}renderLabels(){let t=this.options.style==="3d"?5:1;if(this.streamlined){let i=this.data[0];this.g?.append("text").attr("text-anchor","left").attr("font-size",this.font.size?.label).attr("font-weight","bold").attr("fill","#666").attr("x",this.width/2).attr("y",25).text(`${i[this.field.stage]} = ${We(".3s")(i[this.field.value])}`)}let r=this.chartData.filter(i=>this.yScale(i.ve)-this.yScale(i.vs)>(this.charBox?.height||0)),n=this.g?.selectAll("label").data(r).join("g").attr("class","label").attr("font-size",this.font.size?.label).attr("font-weight","bold").attr("fill","#666").call(i=>{let o=i.append("line").attr("stroke","#666").attr("stroke-dasharray","1,2");this.streamlined?o.attr("x1",0).attr("y1",s=>this.yScale(s.ve)-t).attr("x2",this.halfWidth).attr("y2",s=>this.yScale(s.ve)-t):o.attr("x1",0).attr("y1",s=>this.yScale(s.vs+s.value*.75)).attr("x2",this.halfWidth).attr("y2",s=>this.yScale(s.vs+s.value*.75)),i.append("text").attr("x",0).attr("y",s=>this.yScale(this.streamlined?s.ve:s.vs+s.value*.75)-t).attr("dy","-0.2em").attr("fill","black").text(s=>s.stage)});this.attachEvents(n)}renderLayers(t,r){return this.g.selectAll("layer").data(this.chartData).join("g").attr("class","layer").call(n=>{n.append("path").attr("fill",i=>this.colorScale(i.stage)).attr("d",t)}).call(n=>{n.append("path").attr("fill",i=>Br(this.colorScale(i.stage)).darker(.5)).attr("d",r)})}renderNumbers(t,r){let n=this.options.showPercentage?this.charBox.height*2:this.charBox.height;t.filter(o=>this.yScale(o.ve)-this.yScale(o.vs)>n).call(o=>{o.append("text").attr("fill","white").attr("font-size",this.font.size.value).attr("font-weight","bold").attr("text-anchor","end").attr("transform",r).text(s=>We(".3s")(s.value)),this.options.showPercentage&&o.append("text").attr("fill","white").attr("font-size",this.font.size.percentage).attr("text-anchor","end").attr("transform",r).attr("dy","1em").text(s=>We(".1%")(s.pct))})}getLinearEquationSet1(){let t=this.xScale((this.width-this.funnelWidth.max)/2,0,(this.width-this.funnelWidth.min)/2,this.height),r=this.xScale((this.width-this.funnelWidth.max)/2+this.funnelWidth.max,0,(this.width-this.funnelWidth.min)/2+this.funnelWidth.min,this.height);return{left:t,right:r}}renderFunnel2D(){let t=this,{left:r,right:n}=this.getLinearEquationSet1(),i=this.renderLayers(o,s);this.renderNumbers(i,a=>{if(this.streamlined){let l=this.yScale(a.vs),c=this.yScale(a.ve);return`translate(${this.halfWidth},${l+(c-l)/2})`}else return`translate(${this.halfWidth},${this.yScale(a.vs+a.value/2)})`}),this.options.style==="2d"&&i.attr("transform",(a,l)=>`translate(${l%2===0?-5:5},0)`),this.attachEvents(i);function o(a){let l=t.yScale(a.vs),c=t.yScale(a.ve),u=r(l),d=n(l),f=r(c),h=n(c);return`M${u},${l}L${d},${l}L${h},${c}L${f},${c}L${u},${l}`}function s(a,l){if(l>0&&t.options.style==="2d"){let c=t.yScale(a.vs),u=t.streamlined?t.yScale(a.vs)+(t.yScale(a.ve)-t.yScale(a.vs))/5:t.yScale(a.vs+a.value/5),d=(t.halfWidth-r(c))*1.5,f=l%2===0?n(c):r(c),h=l%2===0?f-d:f+d,m=l%2===0?n(u):r(u);return`M${f},${c}L${m},${u}L${h},${c}L${f},${c}`}return""}}renderFunnel3D(){let t=this,{pa:r,pc:n,xb:i,xt:o}=this.getLinearEquationSet2(),s=this.renderLayers(f,h).call(y=>{y.append("path").attr("fill",g=>Br(this.colorScale(g.stage)).darker(.7)).attr("d",m)}),a=(this.width-this.funnelWidth.max*1/3)/2,l=0,c=(this.width-this.funnelWidth.max)/2+this.funnelWidth.max,u=this.offset,d=Math.atan2(u-l,c-a)*180/Math.PI;this.renderNumbers(s,y=>{if(this.streamlined){let g=this.yScale(y.vs),x=this.yScale(y.ve),C=g+(x-g)/2;return`translate(${o(C)},${C}) skewY(${d})`}else{let g=this.yScale(y.vs+y.value/2);return`translate(${o(g)},${g}) skewY(${d})`}}),this.attachEvents(s);function f(y){let g=t.yScale(y.vs),x=t.yScale(y.ve)-10,C=g,w=x,b=i(C),I=i(w),T=n(g),z=n(x);return`M${b},${C}L${T.x},${T.y}L${z.x},${z.y}L${I},${w}L${b},${C}`}function h(y){let g=t.yScale(y.vs),x=t.yScale(y.ve)-10,C=g,w=x,b=i(C),I=i(w),T=r(g),z=r(x);return`M${b},${C}L${T.x},${T.y}L${z.x},${z.y}L${I},${w}L${b},${C}`}function m(y){let g=t.yScale(y.ve)-10,x=g,C=i(x),w=r(g),b=n(g);return`M${C},${x}L${w.x},${w.y}L${b.x},${b.y}L${C},${x}`}}attachEvents(t){t.on("pointerenter",(r,n)=>{this.showTooltip(r,n),this.onHover&&this.onHover(n)}).on("pointermove",(r,n)=>{this.moveTooltip(r)}).on("pointerleave",()=>{this.hideTooltip()}).on("click",(r,n)=>{r.stopPropagation(),this.selectedStages.has(n.stage)?this.selectedStages.delete(n.stage):this.selectedStages.add(n.stage),this.selectedStages.size===this.chartData.length&&this.selectedStages.clear(),this.updateBlur(),this.onClick&&this.onClick(n)}),W(this.container.node()).on("click.resetBlur",()=>{this.selectedStages.clear(),this.updateBlur()})}updateBlur(){if(!this.g)return;let t=this.g.selectAll(".layer");this.selectedStages.size>0?t.classed("funnel-blur",r=>!this.selectedStages.has(r.stage)):t.classed("funnel-blur",!1)}calcTextLength(t){return this.textBox.text(t).node().getBBox().width}hideTooltip(){this.infoBox&&this.infoBox.style("visibility","hidden")}moveTooltip(t){let r=this.getSVG();if(r){let n=r.createSVGPoint(),i=this.infoBox.node().getBBox(),o=this.g.node().getBoundingClientRect();n.x=t.clientX,n.y=t.clientY;let s=n.matrixTransform(this.g.node().getScreenCTM().inverse()),a=s.x+i.width+o.left>this.width?s.x-i.width:s.x,l=s.y+i.height+o.top>this.height?s.y-i.height:s.y;this.infoBox.attr("transform",`translate(${a+10},${l+10})`)}}showTooltip(t,r){let n=[r.stage,We(",")(r.value),We(".2%")(r.pct)],i=0;n.forEach(s=>{let a=this.calcTextLength(s);a>i&&(i=a)}),this.infoBox||(this.infoBox=this.g.append("g").attr("fill",this.tooltip.color).call(s=>s.append("rect").attr("class","ibbg").attr("opacity",this.tooltip.boxOpacity).attr("stroke","#aaa").attr("stroke-width",.5).attr("rx",4).attr("ry",4).attr("x",-5).attr("y",-5).attr("fill",this.tooltip.boxColor)));let o=1.1;this.infoBox.style("visibility","visible").select(".ibbg").attr("width",i+20).attr("height",o*this.charBox.height*n.length+5),this.infoBox.selectAll("text").data(n).join(s=>{s.append("text").attr("dy",(a,l)=>`${o*l+1}em`).attr("font-weight",(a,l)=>l===0?"bold":"").text(a=>a)},s=>s.text(a=>a),s=>s.remove()),this.moveTooltip(t)}renderChart(){this.g=this.container.append("g").attr("font-family",this.font.fontFamily),this.renderLabels(),this.options.style==="3d"?this.renderFunnel3D():this.renderFunnel2D()}xScale(t,r,n,i){let o=(i-r)/(n-t),s=r-o*t;return a=>(a-s)/o}getLinearEquationSet2(){let t=(a,l,c,u)=>{let d=(u-l)/(c-a),f=l-d*a;return{m:d,b:f}},r=a=>{let l=(this.width-this.funnelWidth.max*1/3)/2,c=0,u=(this.width-this.funnelWidth.min)/2*1.05,d=this.height;return this.xScale(l,c,u,d)(a)},n=a=>{let l=(this.width-this.funnelWidth.max*1/3)/2,c=(this.width-this.funnelWidth.max)/2+this.funnelWidth.max,u=l+(c-l)/2,d=0,f=(this.width-this.funnelWidth.min)/2*1.05,h=(this.width-this.funnelWidth.min)/2+this.funnelWidth.min,m=f+(h-f)/2,y=this.height;return this.xScale(u,d,m,y)(a)},i=(a,l,c,u)=>{let f=this.height,h=r(u),m=u,y=m+this.offset,g=t(a,0,l,f),x=t(h,m,c,y),C=(x.b-g.b)/(g.m-x.m),w=g.m*C+g.b;return{x:C,y:w}};return{pa:a=>i((this.width-this.funnelWidth.max)/2,(this.width-this.funnelWidth.min)/2,(this.width-this.funnelWidth.max)/2,a),pc:a=>i((this.width-this.funnelWidth.max)/2+this.funnelWidth.max,(this.width-this.funnelWidth.min)/2+this.funnelWidth.min,(this.width-this.funnelWidth.max)/2+this.funnelWidth.max,a),xb:r,xt:n}}getSVG(){let t=this.container.node();for(;t&&t.tagName!=="svg";)t=t.parentElement;return t}getCharBox(){this.charBox=this.textBox.text("M").node().getBBox()}};function pge(e,t){if(e&1&&(k(0,"option",7),V(1),M()),e&2){let r=t.$implicit;G("value",r),U(1),Ze(r)}}var WU=(()=>{let t=class t{constructor(){this.schemes=["schemeSet1","schemeSet2","schemeDark2","schemePaired","schemeTableau10"],this.defaultScheme=this.schemes[1],this.defaultStyle="2d",this.isRotating=!1,this.schemeChange=new yt,this.styleChange=new yt,this.percentageToggle=new yt,this.pctOptionChange=new yt,this.pauseClick=new yt,this.selectedScheme=this.defaultScheme,this.selectedStyle=this.defaultStyle,this.uniqueId=Math.random().toString(36).substring(2,9)}ngOnChanges(n){}onSchemeChange(n){this.defaultScheme=n.target.value,this.schemeChange.emit(this.defaultScheme)}onStyleChange(n){console.log(n),this.selectedStyle=n,this.styleChange.emit(this.selectedStyle)}onPauseClick(){this.pauseClick.emit()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["form-select"]],inputs:{defaultStyle:"defaultStyle",isRotating:"isRotating"},outputs:{schemeChange:"schemeChange",styleChange:"styleChange",percentageToggle:"percentageToggle",pctOptionChange:"pctOptionChange",pauseClick:"pauseClick"},features:[wn],decls:20,vars:18,consts:[[2,"font-size","11pt"],["id","scheme-select","name","scheme",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"border-left","2px solid #ddd","padding-left","5px"],[3,"for"],["type","radio",3,"id","name","value","ngModel","ngModelChange","change"],["type","button",2,"margin-left","8px",3,"click"],[3,"value"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div")(2,"select",1),te("ngModelChange",function(a){return o.selectedScheme=a})("change",function(a){return o.onSchemeChange(a)}),ge(3,pge,2,2,"option",2),M(),Q(4,"span",3),M(),k(5,"div"),V(6," Style: "),k(7,"label",4)(8,"input",5),te("ngModelChange",function(a){return o.selectedStyle=a})("change",function(){return o.onStyleChange("2d")}),M(),V(9,"2D "),M(),k(10,"label",4)(11,"input",5),te("ngModelChange",function(a){return o.selectedStyle=a})("change",function(){return o.onStyleChange("3d")}),M(),V(12,"3D "),M(),k(13,"label",4)(14,"input",5),te("ngModelChange",function(a){return o.selectedStyle=a})("change",function(){return o.onStyleChange("flat")}),M(),V(15,"Flat "),M(),k(16,"button",6),te("click",function(){return o.onPauseClick()}),V(17),M(),Q(18,"span",3),M(),Q(19,"div"),M()),i&2&&(U(2),G("ngModel",o.selectedScheme),U(1),G("ngForOf",o.schemes),U(4),G("for","2d-"+o.uniqueId),U(1),G("id","2d-"+o.uniqueId)("name","style-"+o.uniqueId)("value","2d")("ngModel",o.selectedStyle),U(2),G("for","3d-"+o.uniqueId),U(1),G("id","3d-"+o.uniqueId)("name","style-"+o.uniqueId)("value","3d")("ngModel",o.selectedStyle),U(2),G("for","flat-"+o.uniqueId),U(1),G("id","flat-"+o.uniqueId)("name","style-"+o.uniqueId)("value","flat")("ngModel",o.selectedStyle),U(3),Ze(o.isRotating?"Pause":"Resume"))},dependencies:[Yt,Cr,Dr,si,id,oc,ai,Ci],styles:['form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}div[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}span[_ngcontent-%COMP%]{border-left:2px solid #ddd;padding-left:5px}.container[_ngcontent-%COMP%]{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:22px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer}.checkmark[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee;border-radius:50%}.container[_ngcontent-%COMP%]:hover   input[_ngcontent-%COMP%] ~ .checkmark[_ngcontent-%COMP%]{background-color:#ccc}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#2196f3}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{top:9px;left:9px;width:8px;height:8px;border-radius:50%;background:white}']});let e=t;return e})();function gge(e,t){e&1&&(k(0,"div",8)(1,"header")(2,"div",9)(3,"h1"),V(4,"Funnel Chart"),M(),k(5,"div",10)(6,"button",11),V(7,"\xAB Home"),M(),k(8,"button",12),V(9,"Next \xBB"),M()()()()())}var vM=[{stage:"Org. Account",value:5e5},{stage:"Account Active",value:350138},{stage:"Gold Profile",value:213067},{stage:"Trial Ended",value:177635},{stage:"Trial Active",value:140071},{stage:"Sub. Onhold",value:93081}];var rb=(()=>{let t=class t{constructor(n,i){this.element=n,this.route=i,this.data=vM,this.width=600,this.height=400,this.margins={top:15,right:15,bottom:10,left:5},this.options={palette:Xc,style:"3d",streamlined:!0,percentage:"first",showPercentage:!0},this.currentScheme="schemeSet2",this.currentStyle="2d",this.activatedRoute="",this.isLoading=!0,this.animationFrameId=null,this.rotationAngle=0,this.isRotating=!1,this.parentElement=this.element.nativeElement}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.route.url.subscribe(n=>{this.activatedRoute=n[0].path}),this.initializeChart(),this.isRotating=!1}ngOnDestroy(){this.stopRotation()}getChartWidth(){let n=this.parentElement.getBoundingClientRect().width;return n>0?n:0}initializeChart(){let n=W(this.parentElement);this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove()),this.svg=n.select("svg").attr("viewBox","-60, 0, 680, 600").attr("preserveAspectRatio","xMidYMid meet").attr("transform",`translate(${this.margins.left}, ${this.margins.top})`),this.svg.attr("width",this.getChartWidth()/1.2),this.svg.attr("height",this.height),this.renderChart(this.svg),this.rotationAngle=0,this.isRotating&&this.startRotation()}renderChart(n){let i=new nb(n,vM).setSize([this.width,this.height]).setOptions({palette:this.updateColorScheme(this.currentScheme),style:this.currentStyle,streamlined:!1}).setField({stage:"stage"}).setData(vM).render()}onSchemeChange(n){this.currentScheme=n,this.updateColorScheme(n),this.initializeChart()}updateColorScheme(n){switch(n){case"schemeSet1":this.currentScheme=lx;break;case"schemeSet2":this.currentScheme=[...Qm];break;case"schemePaired":this.currentScheme=Df;break;case"schemeTableau10":this.currentScheme=Xc;break;case"schemeDark2":this.currentScheme=ax;break;default:[...Qm];break}return this.currentScheme}onStyleChange(n){return this.currentStyle=n,this.initializeChart(),this.currentStyle}onPercentageToggle(n){console.log("Show percentage:",n)}onPctOptionChange(n){console.log("Selected percentage option:",n)}startRotation(){this.stopRotation();let n=()=>{if(this.rotationAngle=(this.rotationAngle+.5)%360,this.svg&&!this.svg.empty()){let i=this.svg.node();i&&(i.style.transform=`rotateY(${this.rotationAngle}deg)`,i.style.transformOrigin="50% 50%")}this.animationFrameId=requestAnimationFrame(n)};this.animationFrameId=requestAnimationFrame(n)}stopRotation(){if(this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.svg&&!this.svg.empty()){let n=this.svg.node();n&&(n.style.transform="")}}onPauseClick(){this.isRotating?(this.stopRotation(),this.isRotating=!1):(this.startRotation(),this.isRotating=!0)}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X($n))},t.\u0275cmp=le({type:t,selectors:[["funnel-chart"]],inputs:{data:"data",width:"width",height:"height",options:"options"},decls:8,vars:3,consts:[["class","button-group","id","funnel",4,"ngIf"],[3,"loading"],[1,"panel-body"],[1,"controls"],[3,"isRotating","schemeChange","styleChange","percentageToggle","pctOptionChange","pauseClick"],["id","svg_container"],["id","img","width","1","height","1"],["width","1","height","1"],["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"]],template:function(i,o){i&1&&(ge(0,gge,10,0,"div",0),k(1,"single-card",1)(2,"div",2)(3,"div",3)(4,"form-select",4),te("schemeChange",function(a){return o.onSchemeChange(a)})("styleChange",function(a){return o.onStyleChange(a)})("percentageToggle",function(a){return o.onPercentageToggle(a)})("pctOptionChange",function(a){return o.onPctOptionChange(a)})("pauseClick",function(){return o.onPauseClick()}),M()(),k(5,"div",5),Q(6,"img",6),Ft(),Q(7,"svg",7),M()()()),i&2&&(G("ngIf",o.activatedRoute==="funnel"),U(1),G("loading",o.isLoading),U(3),G("isRotating",o.isRotating))},dependencies:[mt,gt,WU,kt],styles:[`@media (min-width: 57.3rem){polar-chart .legend{float:right;margin:1rem 0}polar-chart .legend ul{max-height:32rem;width:15.2rem;margin:.5rem 0}polar-chart .legend li{width:11.8rem}polar-chart .legend label{max-width:9.8rem}}.funnel-blur{opacity:.3;filter:blur(1px);transition:opacity .2s,filter .2s}
`],encapsulation:2});let e=t;return e})();var GU=(()=>{let t=class t{constructor(n,i,o){this.el=n,this.zone=i,this.router=o,this.data=[{sharedLabel:"Live animals and meat",barData1:43041,barData2:40852},{sharedLabel:"Dairy products",barData1:38867,barData2:36296},{sharedLabel:"Fruits and Vegetables",barData1:41748,barData2:40757},{sharedLabel:"Coffee, Tea, Cocoa and Spices",barData1:24831,barData2:23624},{sharedLabel:"Cereals and food preparations",barData1:15764,barData2:15299},{sharedLabel:"Oilseeds, fats and oils",barData1:17006,barData2:16071},{sharedLabel:"Sugars and confectionery",barData1:24309,barData2:23235},{sharedLabel:"Beverages and tobacco",barData1:46756,barData2:46065},{sharedLabel:"Cotton, silk and wool",barData1:41923,barData2:41704},{sharedLabel:"Other agricultural products",barData1:42565,barData2:42159},{sharedLabel:"Fish and fish products",barData1:44316,barData2:45468},{sharedLabel:"Minerals and metals",barData1:42975,barData2:44223},{sharedLabel:"Petroleum",barData1:36755,barData2:39452},{sharedLabel:"Chemicals",barData1:31578,barData2:34063},{sharedLabel:"Wood, paper, furniture",barData1:10328,barData2:11799},{sharedLabel:"Textiles",barData1:13917,barData2:14949},{sharedLabel:"Clothing",barData1:7920,barData2:8589},{sharedLabel:"Rubber, leather and footwear",barData1:9003,barData2:10397},{sharedLabel:"Mechanical",barData1:14322,barData2:16832},{sharedLabel:"Elect. Mach./Elect. Equip.",barData1:12369,barData2:15836},{sharedLabel:"Transport equipment",barData1:8710,barData2:12377},{sharedLabel:"Other Manufactures",barData1:5853,barData2:12213}],this.w=0,this.h=0,this.topMargin=15,this.labelSpace=0,this.innerMargin=0,this.outerMargin=10,this.gap=10,this.dataRange=0,this.leftLabel="America",this.rightLabel="China",this.chartWidth=0,this.barWidth=0,this.commas=We(",.0f"),this.resizeSubscription=null,this.isLoading=!0}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.initChart(),this.drawChart(),this.zone.runOutsideAngular(()=>{this.resizeSubscription=Ps(window,"resize").pipe(Ns(300)).subscribe(()=>{this.zone.run(()=>{this.resize()})})})}onClose(){this.router.navigate(["/"])}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}initChart(){this.dataRange=Ue(this.data.map(i=>Math.max(i.barData1,i.barData2)))||0;let n=this.el.nativeElement.querySelector(".content");this.w=parseInt(getComputedStyle(n).width,10),this.h=parseInt(getComputedStyle(n).height,10),this.updateDimensions()}updateDimensions(){this.labelSpace=100+this.w/100,this.innerMargin=this.w/2+this.labelSpace,this.chartWidth=this.w-this.innerMargin-this.outerMargin,this.barWidth=this.h/this.data.length,this.yScale=be().domain([0,this.data.length]).range([0,this.h-this.topMargin]),this.total=be().domain([0,this.dataRange]).range([0,this.chartWidth-this.labelSpace])}drawChart(){this.svg=W(this.el.nativeElement.querySelector("#vis")).append("svg").attr("width",this.w).attr("height",this.h);let i=this.svg.append("defs").append("linearGradient").attr("id","myGradient").attr("gradientUnits","userSpaceOnUse").attr("x1","-50%").attr("y1","40%").attr("x2","0%").attr("y2","100%");i.append("stop").attr("offset","0%").attr("stop-color","#50C9CE"),i.append("stop").attr("offset","100%").attr("stop-color","#FFE066"),this.svg.append("text").attr("class","firstlabel").text(this.leftLabel).attr("x",this.w-this.innerMargin).attr("y",this.topMargin-3).attr("text-anchor","end"),this.svg.append("text").attr("class","secondlabel").text(this.rightLabel).attr("x",this.innerMargin).attr("y",this.topMargin-3),this.bar=this.svg.selectAll("g.bar").data(this.data).enter().append("g").attr("class","bar").attr("transform",(a,l)=>`translate(0,${this.yScale(l)+this.topMargin})`);let o=this.bar.append("rect").attr("class","singlebar").attr("width",this.w).attr("height",this.barWidth-this.gap).attr("fill","none").attr("pointer-events","all"),s=a=>(l,c)=>{this.bar.filter((u,d)=>c===d).attr("class",a)};this.bar.on("mouseover",s("highlight bar")).on("mouseout",s("bar")),this.bar.append("text").attr("class","shared").attr("x",this.w/2).attr("dy","1em").attr("text-anchor","middle").text(a=>a.sharedLabel),this.bar.append("rect").attr("class","femalebar").attr("classed",".femalebar").attr("fill"," #F25F5C").attr("stroke","black").attr("stroke-width",2).attr("height",this.barWidth-this.gap).attr("x",a=>this.innerMargin-this.total(a.barData2)-2*this.labelSpace).attr("width",a=>this.total(a.barData2)),this.bar.append("text").attr("class","femalebar").attr("dx",-10).attr("dy","1em").attr("text-anchor","end").text(a=>this.commas(a.barData2)).attr("x",a=>this.innerMargin-this.total(a.barData2)-2*this.labelSpace),this.bar.append("rect").attr("class","malebar").attr("stroke","black").attr("stroke-width",2).attr("fill","#247BA0").attr("height",this.barWidth-this.gap).attr("x",this.innerMargin).attr("width",a=>this.total(a.barData1)),this.bar.append("text").attr("class","malebar-text").attr("dx",5).attr("dy","1em").text(a=>this.commas(a.barData1)).attr("x",a=>this.innerMargin+this.total(a.barData1))}resize(){let n=this.el.nativeElement.querySelector(".content");this.w=parseInt(getComputedStyle(n).width,10),this.h=parseInt(getComputedStyle(n).height,10),this.updateDimensions(),this.svg.attr("width",this.w).attr("height",this.h),this.svg.select(".firstlabel").attr("x",this.w-this.innerMargin).attr("y",this.topMargin-3),this.svg.select(".secondlabel").attr("x",this.innerMargin).attr("y",this.topMargin-3),this.bar.attr("transform",(i,o)=>`translate(0,${this.yScale(o)+this.topMargin})`),this.svg.selectAll(".singlebar").attr("width",this.w).attr("height",this.barWidth-this.gap),this.bar.selectAll(".shared").attr("x",this.w/2),this.bar.selectAll("rect.femalebar").attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace).attr("width",i=>this.total(i.barData2)),this.bar.selectAll("rect.malebar").attr("x",this.innerMargin).attr("width",i=>this.total(i.barData1)),this.bar.selectAll(".malebar-text").attr("x",i=>this.innerMargin+this.total(i.barData1)),this.bar.selectAll("text.femalebar").attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace)}generateRandomData(){this.data.forEach(n=>{n.barData1=Math.random()*this.dataRange*1.4,n.barData2=Math.random()*this.dataRange*1.4}),this.refreshChart()}refreshChart(){let n=this.svg.selectAll("g.bar").data(this.data);n.selectAll("rect.malebar").transition().attr("width",i=>this.total(i.barData1)),n.selectAll("rect.femalebar").transition().attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace).attr("width",i=>this.total(i.barData2)),n.selectAll("text.malebar-text").text(i=>this.commas(i.barData1)).transition().attr("x",i=>this.innerMargin+this.total(i.barData1)),n.selectAll("text.femalebar").text(i=>this.commas(i.barData2)).transition().attr("x",i=>this.innerMargin-this.total(i.barData2)-2*this.labelSpace)}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Rt),X(Nn))},t.\u0275cmp=le({type:t,selectors:[["divergin-bars"]],decls:7,vars:3,consts:[[3,"action"],[1,"panel-body"],[1,"content"],["id","vis"],[1,"controls"],[1,"generate-btn",3,"click"]],template:function(i,o){i&1&&(k(0,"overlay",0)(1,"div",1)(2,"div",2),Q(3,"div",3),k(4,"div",4)(5,"button",5),te("click",function(){return o.generateRandomData()}),V(6,"Generate Random Data"),M()()()()()),i&2&&(rn("component-loading-mask",o.isLoading),G("action","close"))},dependencies:[qf],styles:[".content[_ngcontent-%COMP%]{display:block;width:100rem;height:60rem;min-width:300px;min-height:500px;max-width:2060px;max-height:1800px;overflow:hidden;border:1px solid black;position:relative}#vis[_ngcontent-%COMP%]{min-height:500px;height:500px;width:800px;width:100%;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]{margin-top:5rem;justify-content:left;text-align:center}button[_ngcontent-%COMP%]{margin-top:20rem;position:absolute;bottom:3px;left:3px}.generate-btn[_ngcontent-%COMP%]{padding:8px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px}.generate-btn[_ngcontent-%COMP%]:hover{background-color:#45a049}svg[_ngcontent-%COMP%]{display:block;margin:0 auto}.shared[_ngcontent-%COMP%], .bar[_ngcontent-%COMP%], .firstlabel[_ngcontent-%COMP%], .secondlabel[_ngcontent-%COMP%]{font-size:10pt;font-weight:regular;fill:#fff;font-family:Fenton,sans-serif}.femalebar[_ngcontent-%COMP%]{fill:#f25f5c;stroke-width:1px;stroke:#fff;transition:stroke-width .5s}.malebar[_ngcontent-%COMP%]{fill:#247ba0;stroke-width:1px;stroke:#fff;transition:stroke-width .5s}.highlight[_ngcontent-%COMP%]   rect.malebar[_ngcontent-%COMP%], .highlight[_ngcontent-%COMP%]   rect.femalebar[_ngcontent-%COMP%]{fill:url(#myGradient);stroke-width:3px;stroke:url(#myGradient)}.highlight[_ngcontent-%COMP%]   text.malebar-text[_ngcontent-%COMP%], .highlight[_ngcontent-%COMP%]   text.femalebar[_ngcontent-%COMP%]{fill:#fff;font-weight:600}text.malebar-text[_ngcontent-%COMP%], text.femalebar[_ngcontent-%COMP%]{display:none}.highlight[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{display:block;fill:#ffe066}"]});let e=t;return e})();var ib="http://www.w3.org/1999/xhtml",ob={svg:"http://www.w3.org/2000/svg",xhtml:ib,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function dg(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),ob.hasOwnProperty(t)?{space:ob[t],local:e}:e}function vge(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===ib&&t.documentElement.namespaceURI===ib?t.createElement(e):t.createElementNS(r,e)}}function xge(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Wf(e){var t=dg(e);return(t.local?xge:vge)(t)}function bge(){}function fg(e){return e==null?bge:function(){return this.querySelector(e)}}function YU(e){typeof e!="function"&&(e=fg(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new In(n,this._parents)}function wge(){return[]}function xM(e){return e==null?wge:function(){return this.querySelectorAll(e)}}function ZU(e){typeof e!="function"&&(e=xM(e));for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(n.push(e.call(l,l.__data__,c,s)),i.push(l));return new In(n,i)}function bM(e){return function(){return this.matches(e)}}function QU(e){typeof e!="function"&&(e=bM(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],s=o.length,a=n[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new In(n,this._parents)}function sb(e){return new Array(e.length)}function XU(){return new In(this._enter||this._groups.map(sb),this._parents)}function hg(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hg.prototype={constructor:hg,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function KU(e){return function(){return e}}var JU="$";function _ge(e,t,r,n,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],n[s]=a):r[s]=new hg(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Cge(e,t,r,n,i,o,s){var a,l,c={},u=t.length,d=o.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=JU+s.call(l,l.__data__,a,t),h in c?i[a]=l:c[h]=l);for(a=0;a<d;++a)h=JU+s.call(e,o[a],a,o),(l=c[h])?(n[a]=l,l.__data__=o[a],c[h]=null):r[a]=new hg(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c[f[a]]===l&&(i[a]=l)}function eH(e,t){if(!e)return h=new Array(this.size()),c=-1,this.each(function(T){h[++c]=T}),h;var r=t?Cge:_ge,n=this._parents,i=this._groups;typeof e!="function"&&(e=KU(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=n[c],d=i[c],f=d.length,h=e.call(u,u&&u.__data__,c,n),m=h.length,y=a[c]=new Array(m),g=s[c]=new Array(m),x=l[c]=new Array(f);r(u,d,y,g,x,h,t);for(var C=0,w=0,b,I;C<m;++C)if(b=y[C]){for(C>=w&&(w=C+1);!(I=g[w])&&++w<m;);b._next=I||null}}return s=new In(s,n),s._enter=a,s._exit=l,s}function tH(){return new In(this._exit||this._groups.map(sb),this._parents)}function nH(e,t,r){var n=this.enter(),i=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(i=t(i)),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function rH(e){for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),s=new Array(n),a=0;a<o;++a)for(var l=t[a],c=r[a],u=l.length,d=s[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<n;++a)s[a]=t[a];return new In(s,this._parents)}function iH(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],s;--i>=0;)(s=n[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function oH(e){e||(e=Dge);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var s=r[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new In(i,this._parents).order()}function Dge(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sH(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function aH(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function lH(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var s=n[i];if(s)return s}return null}function cH(){var e=0;return this.each(function(){++e}),e}function uH(){return!this.node()}function dH(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Sge(e){return function(){this.removeAttribute(e)}}function Mge(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ege(e,t){return function(){this.setAttribute(e,t)}}function Tge(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function kge(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Ige(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function fH(e,t){var r=dg(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Mge:Sge:typeof t=="function"?r.local?Ige:kge:r.local?Tge:Ege)(r,t))}function pg(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Age(e){return function(){this.style.removeProperty(e)}}function Oge(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Pge(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function hH(e,t,r){return arguments.length>1?this.each((t==null?Age:typeof t=="function"?Pge:Oge)(e,t,r??"")):pH(this.node(),e)}function pH(e,t){return e.style.getPropertyValue(t)||pg(e).getComputedStyle(e,null).getPropertyValue(t)}function Nge(e){return function(){delete this[e]}}function Rge(e,t){return function(){this[e]=t}}function Fge(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function mH(e,t){return arguments.length>1?this.each((t==null?Nge:typeof t=="function"?Fge:Rge)(e,t)):this.node()[e]}function gH(e){return e.trim().split(/^|\s+/)}function wM(e){return e.classList||new yH(e)}function yH(e){this._node=e,this._names=gH(e.getAttribute("class")||"")}yH.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function vH(e,t){for(var r=wM(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function xH(e,t){for(var r=wM(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function Lge(e){return function(){vH(this,e)}}function Vge(e){return function(){xH(this,e)}}function jge(e,t){return function(){(t.apply(this,arguments)?vH:xH)(this,e)}}function bH(e,t){var r=gH(e+"");if(arguments.length<2){for(var n=wM(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?jge:t?Lge:Vge)(r,t))}function zge(){this.textContent=""}function $ge(e){return function(){this.textContent=e}}function Bge(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function wH(e){return arguments.length?this.each(e==null?zge:(typeof e=="function"?Bge:$ge)(e)):this.node().textContent}function Uge(){this.innerHTML=""}function Hge(e){return function(){this.innerHTML=e}}function qge(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function _H(e){return arguments.length?this.each(e==null?Uge:(typeof e=="function"?qge:Hge)(e)):this.node().innerHTML}function Wge(){this.nextSibling&&this.parentNode.appendChild(this)}function CH(){return this.each(Wge)}function Gge(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function DH(){return this.each(Gge)}function SH(e){var t=typeof e=="function"?e:Wf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Yge(){return null}function MH(e,t){var r=typeof e=="function"?e:Wf(e),n=t==null?Yge:typeof t=="function"?t:fg(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function Zge(){var e=this.parentNode;e&&e.removeChild(this)}function EH(){return this.each(Zge)}function Qge(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Xge(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function TH(e){return this.select(e?Xge:Qge)}function kH(e){return arguments.length?this.property("__data__",e):this.node().__data__}var AH={},st=null;typeof document<"u"&&(IH=document.documentElement,"onmouseenter"in IH||(AH={mouseenter:"mouseover",mouseleave:"mouseout"}));var IH;function Kge(e,t,r){return e=OH(e,t,r),function(n){var i=n.relatedTarget;(!i||i!==this&&!(i.compareDocumentPosition(this)&8))&&e.call(this,n)}}function OH(e,t,r){return function(n){var i=st;st=n;try{e.call(this,this.__data__,t,r)}finally{st=i}}}function Jge(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function e0e(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.capture):t[++n]=o;++n?t.length=n:delete this.__on}}}function t0e(e,t,r){var n=AH.hasOwnProperty(e.type)?Kge:OH;return function(i,o,s){var a=this.__on,l,c=n(t,o,s);if(a){for(var u=0,d=a.length;u<d;++u)if((l=a[u]).type===e.type&&l.name===e.name){this.removeEventListener(l.type,l.listener,l.capture),this.addEventListener(l.type,l.listener=c,l.capture=r),l.value=t;return}}this.addEventListener(e.type,c,r),l={type:e.type,name:e.name,value:t,listener:c,capture:r},a?a.push(l):this.__on=[l]}}function PH(e,t,r){var n=Jge(e+""),i,o=n.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=n[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?t0e:e0e,r==null&&(r=!1),i=0;i<o;++i)this.each(a(n[i],t,r));return this}function ab(e,t,r,n){var i=st;e.sourceEvent=st,st=e;try{return t.apply(r,n)}finally{st=i}}function NH(e,t,r){var n=pg(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function n0e(e,t){return function(){return NH(this,e,t)}}function r0e(e,t){return function(){return NH(this,e,t.apply(this,arguments))}}function RH(e,t){return this.each((typeof t=="function"?r0e:n0e)(e,t))}var lb=[null];function In(e,t){this._groups=e,this._parents=t}function i0e(){return new In([[document.documentElement]],lb)}In.prototype=i0e.prototype={constructor:In,select:YU,selectAll:ZU,filter:QU,data:eH,enter:XU,exit:tH,join:nH,merge:rH,order:iH,sort:oH,call:sH,nodes:aH,node:lH,size:cH,empty:uH,each:dH,attr:fH,style:hH,property:mH,classed:bH,text:wH,html:_H,raise:CH,lower:DH,append:SH,insert:MH,remove:EH,clone:TH,datum:kH,on:PH,dispatch:RH};function Ii(e){return typeof e=="string"?new In([[document.querySelector(e)]],[document.documentElement]):new In([[e]],lb)}var o0e=0;function CM(){return new _M}function _M(){this._="@"+(++o0e).toString(36)}_M.prototype=CM.prototype={constructor:_M,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};function mg(){for(var e=st,t;t=e.sourceEvent;)e=t;return e}function Gf(e,t){var r=e.ownerSVGElement||e;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=t.clientX,n.y=t.clientY,n=n.matrixTransform(e.getScreenCTM().inverse()),[n.x,n.y]}var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}function DM(e){var t=mg();return t.changedTouches&&(t=t.changedTouches[0]),Gf(e,t)}function SM(e,t,r){arguments.length<3&&(r=t,t=mg().changedTouches);for(var n=0,i=t?t.length:0,o;n<i;++n)if((o=t[n]).identifier===r)return Gf(e,o);return null}var s0e={value:function(){}};function LH(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new cb(r)}function cb(e){this._=e}function a0e(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}cb.prototype=LH.prototype={constructor:cb,on:function(e,t){var r=this._,n=a0e(e+"",r),i,o=-1,s=n.length;if(arguments.length<2){for(;++o<s;)if((i=(e=n[o]).type)&&(i=l0e(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=n[o]).type)r[i]=FH(r[i],e.name,t);else if(t==null)for(i in r)r[i]=FH(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new cb(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function l0e(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function FH(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=s0e,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var gg=LH;function ub(){st.stopImmediatePropagation()}function El(){st.preventDefault(),st.stopImmediatePropagation()}function MM(e){var t=e.document.documentElement,r=Ii(e).on("dragstart.drag",El,!0);"onselectstart"in t?r.on("selectstart.drag",El,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function EM(e,t){var r=e.document.documentElement,n=Ii(e).on("dragstart.drag",null);t&&(n.on("click.drag",El,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function yg(e){return function(){return e}}function vg(e,t,r,n,i,o,s,a,l,c){this.target=e,this.type=t,this.subject=r,this.identifier=n,this.active=i,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=c}vg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function c0e(){return!st.button}function u0e(){return this.parentNode}function d0e(e){return e??{x:st.x,y:st.y}}function f0e(){return"ontouchstart"in this}function db(){var e=c0e,t=u0e,r=d0e,n=f0e,i={},o=gg("start","drag","end"),s=0,a,l,c,u,d=0;function f(b){b.on("mousedown.drag",h).filter(n).on("touchstart.drag",g).on("touchmove.drag",x).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(){if(!(u||!e.apply(this,arguments))){var b=w("mouse",t.apply(this,arguments),DM,this,arguments);b&&(Ii(st.view).on("mousemove.drag",m,!0).on("mouseup.drag",y,!0),MM(st.view),ub(),c=!1,a=st.clientX,l=st.clientY,b("start"))}}function m(){if(El(),!c){var b=st.clientX-a,I=st.clientY-l;c=b*b+I*I>d}i.mouse("drag")}function y(){Ii(st.view).on("mousemove.drag mouseup.drag",null),EM(st.view,c),El(),i.mouse("end")}function g(){if(e.apply(this,arguments)){var b=st.changedTouches,I=t.apply(this,arguments),T=b.length,z,H;for(z=0;z<T;++z)(H=w(b[z].identifier,I,SM,this,arguments))&&(ub(),H("start"))}}function x(){var b=st.changedTouches,I=b.length,T,z;for(T=0;T<I;++T)(z=i[b[T].identifier])&&(El(),z("drag"))}function C(){var b=st.changedTouches,I=b.length,T,z;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),T=0;T<I;++T)(z=i[b[T].identifier])&&(ub(),z("end"))}function w(b,I,T,z,H){var q=T(I,b),$,D,O,j=o.copy();if(ab(new vg(f,"beforestart",$,b,s,q[0],q[1],0,0,j),function(){return(st.subject=$=r.apply(z,H))==null?!1:(D=$.x-q[0]||0,O=$.y-q[1]||0,!0)}))return function N(E){var A=q,R;switch(E){case"start":i[b]=N,R=s++;break;case"end":delete i[b],--s;case"drag":q=T(I,b),R=s;break}ab(new vg(f,E,$,b,R,q[0]+D,q[1]+O,q[0]-A[0],q[1]-A[1],j),j.apply,j,[E,z,H])}}return f.filter=function(b){return arguments.length?(e=typeof b=="function"?b:yg(!!b),f):e},f.container=function(b){return arguments.length?(t=typeof b=="function"?b:yg(b),f):t},f.subject=function(b){return arguments.length?(r=typeof b=="function"?b:yg(b),f):r},f.touchable=function(b){return arguments.length?(n=typeof b=="function"?b:yg(!!b),f):n},f.on=function(){var b=o.on.apply(o,arguments);return b===o?f:b},f.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,f):Math.sqrt(d)},f}var TM=Math.PI,kM=2*TM,ru=1e-6,h0e=kM-ru;function IM(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function VH(){return new IM}IM.prototype=VH.prototype={constructor:IM,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,s=this._y1,a=r-e,l=n-t,c=o-e,u=s-t,d=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(d>ru)if(!(Math.abs(u*a-l*c)>ru)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var f=r-o,h=n-s,m=a*a+l*l,y=f*f+h*h,g=Math.sqrt(m),x=Math.sqrt(d),C=i*Math.tan((TM-Math.acos((m+d-y)/(2*g*x)))/2),w=C/x,b=C/g;Math.abs(w-1)>ru&&(this._+="L"+(e+w*c)+","+(t+w*u)),this._+="A"+i+","+i+",0,0,"+ +(u*f>c*h)+","+(this._x1=e+b*a)+","+(this._y1=t+b*l)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var s=r*Math.cos(n),a=r*Math.sin(n),l=e+s,c=t+a,u=1^o,d=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+l+","+c:(Math.abs(this._x1-l)>ru||Math.abs(this._y1-c)>ru)&&(this._+="L"+l+","+c),r&&(d<0&&(d=d%kM+kM),d>h0e?this._+="A"+r+","+r+",0,1,"+u+","+(e-s)+","+(t-a)+"A"+r+","+r+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):d>ru&&(this._+="A"+r+","+r+",0,"+ +(d>=TM)+","+u+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};var xg=VH;function dr(e){return function(){return e}}var fr=1e-12,pa=Math.PI,bg=pa/2,iu=2*pa;function p0e(e){return e.innerRadius}function m0e(e){return e.outerRadius}function g0e(e){return e.startAngle}function y0e(e){return e.endAngle}function v0e(e){return e&&e.padAngle}function jH(e){return e>=1?bg:e<=-1?-bg:Math.asin(e)}function x0e(e,t,r,n,i,o,s,a){var l=r-e,c=n-t,u=s-i,d=a-o,f=(u*(t-o)-d*(e-i))/(d*l-u*c);return[e+f*l,t+f*c]}function fb(e,t,r,n,i,o,s){var a=e-r,l=t-n,c=(s?o:-o)/Math.sqrt(a*a+l*l),u=c*l,d=-c*a,f=e+u,h=t+d,m=r+u,y=n+d,g=(f+m)/2,x=(h+y)/2,C=m-f,w=y-h,b=C*C+w*w,I=i-o,T=f*y-m*h,z=(w<0?-1:1)*Math.sqrt(Math.max(0,I*I*b-T*T)),H=(T*w-C*z)/b,q=(-T*C-w*z)/b,$=(T*w+C*z)/b,D=(-T*C+w*z)/b,O=H-g,j=q-x,N=$-g,E=D-x;return O*O+j*j>N*N+E*E&&(H=$,q=D),{cx:H,cy:q,x01:-u,y01:-d,x11:H*(i/I-1),y11:q*(i/I-1)}}function AM(){var e=p0e,t=m0e,r=dr(0),n=null,i=g0e,o=y0e,s=v0e,a=null;function l(){var c,u,d=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-bg,m=o.apply(this,arguments)-bg,y=Math.abs(m-h),g=m>h;if(a||(a=c=xg()),f<d&&(u=f,f=d,d=u),!(f>fr))a.moveTo(0,0);else if(y>iu-fr)a.moveTo(f*Math.cos(h),f*Math.sin(h)),a.arc(0,0,f,h,m,!g),d>fr&&(a.moveTo(d*Math.cos(m),d*Math.sin(m)),a.arc(0,0,d,m,h,g));else{var x=h,C=m,w=h,b=m,I=y,T=y,z=s.apply(this,arguments)/2,H=z>fr&&(n?+n.apply(this,arguments):Math.sqrt(d*d+f*f)),q=Math.min(Math.abs(f-d)/2,+r.apply(this,arguments)),$=q,D=q,O,j;if(H>fr){var N=jH(H/d*Math.sin(z)),E=jH(H/f*Math.sin(z));(I-=N*2)>fr?(N*=g?1:-1,w+=N,b-=N):(I=0,w=b=(h+m)/2),(T-=E*2)>fr?(E*=g?1:-1,x+=E,C-=E):(T=0,x=C=(h+m)/2)}var A=f*Math.cos(x),R=f*Math.sin(x),B=d*Math.cos(b),P=d*Math.sin(b);if(q>fr){var L=f*Math.cos(C),Z=f*Math.sin(C),ee=d*Math.cos(w),K=d*Math.sin(w);if(y<pa){var se=I>fr?x0e(A,R,ee,K,L,Z,B,P):[B,P],ke=A-se[0],Me=R-se[1],pe=L-se[0],ze=Z-se[1],ie=1/Math.sin(Math.acos((ke*pe+Me*ze)/(Math.sqrt(ke*ke+Me*Me)*Math.sqrt(pe*pe+ze*ze)))/2),De=Math.sqrt(se[0]*se[0]+se[1]*se[1]);$=Math.min(q,(d-De)/(ie-1)),D=Math.min(q,(f-De)/(ie+1))}}T>fr?D>fr?(O=fb(ee,K,A,R,f,D,g),j=fb(L,Z,B,P,f,D,g),a.moveTo(O.cx+O.x01,O.cy+O.y01),D<q?a.arc(O.cx,O.cy,D,Math.atan2(O.y01,O.x01),Math.atan2(j.y01,j.x01),!g):(a.arc(O.cx,O.cy,D,Math.atan2(O.y01,O.x01),Math.atan2(O.y11,O.x11),!g),a.arc(0,0,f,Math.atan2(O.cy+O.y11,O.cx+O.x11),Math.atan2(j.cy+j.y11,j.cx+j.x11),!g),a.arc(j.cx,j.cy,D,Math.atan2(j.y11,j.x11),Math.atan2(j.y01,j.x01),!g))):(a.moveTo(A,R),a.arc(0,0,f,x,C,!g)):a.moveTo(A,R),!(d>fr)||!(I>fr)?a.lineTo(B,P):$>fr?(O=fb(B,P,L,Z,d,-$,g),j=fb(A,R,ee,K,d,-$,g),a.lineTo(O.cx+O.x01,O.cy+O.y01),$<q?a.arc(O.cx,O.cy,$,Math.atan2(O.y01,O.x01),Math.atan2(j.y01,j.x01),!g):(a.arc(O.cx,O.cy,$,Math.atan2(O.y01,O.x01),Math.atan2(O.y11,O.x11),!g),a.arc(0,0,d,Math.atan2(O.cy+O.y11,O.cx+O.x11),Math.atan2(j.cy+j.y11,j.cx+j.x11),g),a.arc(j.cx,j.cy,$,Math.atan2(j.y11,j.x11),Math.atan2(j.y01,j.x01),!g))):a.arc(0,0,d,b,w,g)}if(a.closePath(),c)return a=null,c+""||null}return l.centroid=function(){var c=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,u=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-pa/2;return[Math.cos(u)*c,Math.sin(u)*c]},l.innerRadius=function(c){return arguments.length?(e=typeof c=="function"?c:dr(+c),l):e},l.outerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:dr(+c),l):t},l.cornerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:dr(+c),l):r},l.padRadius=function(c){return arguments.length?(n=c==null?null:typeof c=="function"?c:dr(+c),l):n},l.startAngle=function(c){return arguments.length?(i=typeof c=="function"?c:dr(+c),l):i},l.endAngle=function(c){return arguments.length?(o=typeof c=="function"?c:dr(+c),l):o},l.padAngle=function(c){return arguments.length?(s=typeof c=="function"?c:dr(+c),l):s},l.context=function(c){return arguments.length?(a=c??null,l):a},l}function zH(e){this._context=e}zH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Tl(e){return new zH(e)}function OM(e){return e[0]}function PM(e){return e[1]}function wg(){var e=OM,t=PM,r=dr(!0),n=null,i=Tl,o=null;function s(a){var l,c=a.length,u,d=!1,f;for(n==null&&(o=i(f=xg())),l=0;l<=c;++l)!(l<c&&r(u=a[l],l,a))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(u,l,a),+t(u,l,a));if(f)return o=null,f+""||null}return s.x=function(a){return arguments.length?(e=typeof a=="function"?a:dr(+a),s):e},s.y=function(a){return arguments.length?(t=typeof a=="function"?a:dr(+a),s):t},s.defined=function(a){return arguments.length?(r=typeof a=="function"?a:dr(!!a),s):r},s.curve=function(a){return arguments.length?(i=a,n!=null&&(o=i(n)),s):i},s.context=function(a){return arguments.length?(a==null?n=o=null:o=i(n=a),s):n},s}var $H=hb(Tl);function BH(e){this._curve=e}BH.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};function hb(e){function t(r){return new BH(e(r))}return t._curve=e,t}var w0e=Math.sqrt(.3333333333333333),Hit=w0e*2;var UH=Math.sin(pa/10)/Math.sin(7*pa/10),Git=Math.sin(iu/10)*UH,Yit=-Math.cos(iu/10)*UH;var Xit=Math.sqrt(3);var Jit=Math.sqrt(3)/2,_0e=1/Math.sqrt(12),eot=(_0e/2+1)*3;function Ji(){}function Yf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function pb(e){this._context=e}pb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function I0e(e){this._context=e}I0e.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A0e(e){this._context=e}A0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HH(e,t){this._basis=new pb(e),this._beta=t}HH.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var n=e[0],i=t[0],o=e[r]-n,s=t[r]-i,a=-1,l;++a<=r;)l=a/r,this._basis.point(this._beta*e[a]+(1-this._beta)*(n+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var O0e=function e(t){function r(n){return t===1?new pb(n):new HH(n,t)}return r.beta=function(n){return e(+n)},r}(.85);function Zf(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function mb(e,t){this._context=e,this._k=(1-t)/6}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Zf(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var P0e=function e(t){function r(n){return new mb(n,t)}return r.tension=function(n){return e(+n)},r}(0);function gb(e,t){this._context=e,this._k=(1-t)/6}gb.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var N0e=function e(t){function r(n){return new gb(n,t)}return r.tension=function(n){return e(+n)},r}(0);function yb(e,t){this._context=e,this._k=(1-t)/6}yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Zf(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var R0e=function e(t){function r(n){return new yb(n,t)}return r.tension=function(n){return e(+n)},r}(0);function _g(e,t,r){var n=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>fr){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>fr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(n,i,o,s,e._x2,e._y2)}function qH(e,t){this._context=e,this._alpha=t}qH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:_g(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var NM=function e(t){function r(n){return t?new qH(n,t):new mb(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function WH(e,t){this._context=e,this._alpha=t}WH.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:_g(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var F0e=function e(t){function r(n){return t?new WH(n,t):new gb(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function GH(e,t){this._context=e,this._alpha=t}GH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,n=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_g(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var L0e=function e(t){function r(n){return t?new GH(n,t):new yb(n,0)}return r.alpha=function(n){return e(+n)},r}(.5);function V0e(e){this._context=e}V0e.prototype={areaStart:Ji,areaEnd:Ji,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function YH(e){return e<0?-1:1}function ZH(e,t,r){var n=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(YH(o)+YH(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function QH(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function RM(e,t,r){var n=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-n)/3;e._context.bezierCurveTo(n+a,i+a*t,o-a,s-a*r,o,s)}function FM(e){this._context=e}FM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RM(this,this._t0,QH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,RM(this,QH(this,r=ZH(this,e,t)),r);break;default:RM(this,this._t0,r=ZH(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function j0e(e){this._context=new XH(e)}(j0e.prototype=Object.create(FM.prototype)).point=function(e,t){FM.prototype.point.call(this,t,e)};function XH(e){this._context=e}XH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,o){this._context.bezierCurveTo(t,e,n,r,o,i)}};function z0e(e){this._context=e}z0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=KH(e),i=KH(t),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KH(e){var t,r=e.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function $0e(e,t){this._context=e,this._t=t}$0e.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};var B0e=Array.prototype.slice;var H0e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Xf=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),yi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma=function e(t,r,n){t===null&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(i===void 0){var o=Object.getPrototypeOf(t);return o===null?void 0:e(o,r,n)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(n)}},LM=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},VM=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},q0e=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}else return Array.from(e)},W0e=function(){function e(t){var r=t.x,n=r===void 0?0:r,i=t.y,o=i===void 0?0:i,s=t.nx,a=t.ny,l=t.dy,c=l===void 0?0:l,u=t.dx,d=u===void 0?0:u,f=t.color,h=f===void 0?"grey":f,m=t.data,y=t.type,g=t.subject,x=t.connector,C=t.note,w=t.disable,b=t.id,I=t.className;Qf(this,e),this._dx=s!==void 0?s-n:d,this._dy=a!==void 0?a-o:c,this._x=n,this._y=o,this._color=h,this.id=b,this._className=I||"",this._type=y||"",this.data=m,this.note=C||{},this.connector=x||{},this.subject=g||{},this.disable=w||[]}return Xf(e,[{key:"updatePosition",value:function(){this.type.setPosition&&(this.type.setPosition(),this.type.subject&&this.type.subject.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawSubject())}},{key:"clearComponents",value:function(){this.type.clearComponents&&this.type.clearComponents()}},{key:"updateOffset",value:function(){this.type.setOffset&&(this.type.setOffset(),this.type.connector.selectAll(":not(.handle)").nodes().length!==0&&this.type.redrawConnector(),this.type.redrawNote())}},{key:"className",get:function(){return this._className},set:function(r){this._className=r,this.type.setClassName&&this.type.setClassName()}},{key:"type",get:function(){return this._type},set:function(r){this._type=r,this.clearComponents()}},{key:"x",get:function(){return this._x},set:function(r){this._x=r,this.updatePosition()}},{key:"y",get:function(){return this._y},set:function(r){this._y=r,this.updatePosition()}},{key:"color",get:function(){return this._color},set:function(r){this._color=r,this.updatePosition()}},{key:"dx",get:function(){return this._dx},set:function(r){this._dx=r,this.updateOffset()}},{key:"dy",get:function(){return this._dy},set:function(r){this._dy=r,this.updateOffset()}},{key:"nx",set:function(r){this._dx=r-this._x,this.updateOffset()}},{key:"ny",set:function(r){this._dy=r-this._y,this.updateOffset()}},{key:"offset",get:function(){return{x:this._dx,y:this._dy}},set:function(r){var n=r.x,i=r.y;this._dx=n,this._dy=i,this.updateOffset()}},{key:"position",get:function(){return{x:this._x,y:this._y}},set:function(r){var n=r.x,i=r.y;this._x=n,this._y=i,this.updatePosition()}},{key:"translation",get:function(){return{x:this._x+this._dx,y:this._y+this._dy}}},{key:"json",get:function(){var r={x:this._x,y:this._y,dx:this._dx,dy:this._dy};return this.data&&Object.keys(this.data).length>0&&(r.data=this.data),this.type&&(r.type=this.type),this._className&&(r.className=this._className),Object.keys(this.connector).length>0&&(r.connector=this.connector),Object.keys(this.subject).length>0&&(r.subject=this.subject),Object.keys(this.note).length>0&&(r.note=this.note),r}}]),e}(),G0e=function(){function e(t){var r=t.annotations,n=t.accessors,i=t.accessorsInverse;Qf(this,e),this.accessors=n,this.accessorsInverse=i,this.annotations=r}return Xf(e,[{key:"clearTypes",value:function(r){this.annotations.forEach(function(n){n.type=void 0,n.subject=r&&r.subject||n.subject,n.connector=r&&r.connector||n.connector,n.note=r&&r.note||n.note})}},{key:"setPositionWithAccessors",value:function(){var r=this;this.annotations.forEach(function(n){n.type.setPositionWithAccessors(r.accessors)})}},{key:"editMode",value:function(r){this.annotations.forEach(function(n){n.type&&(n.type.editMode=r,n.type.updateEditMode())})}},{key:"updateDisable",value:function(r){this.annotations.forEach(function(n){n.disable=r,n.type&&r.forEach(function(i){n.type[i]&&(n.type[i].remove&&n.type[i].remove(),n.type[i]=void 0)})})}},{key:"updateTextWrap",value:function(r){this.annotations.forEach(function(n){n.type&&n.type.updateTextWrap&&n.type.updateTextWrap(r)})}},{key:"updateText",value:function(){this.annotations.forEach(function(r){r.type&&r.type.drawText&&r.type.drawText()})}},{key:"updateNotePadding",value:function(r){this.annotations.forEach(function(n){n.type&&(n.type.notePadding=r)})}},{key:"json",get:function(){var r=this;return this.annotations.map(function(n){var i=n.json;return r.accessorsInverse&&n.data&&(i.data={},Object.keys(r.accessorsInverse).forEach(function(o){i.data[o]=r.accessorsInverse[o]({x:n.x,y:n.y})})),i})}},{key:"noteNodes",get:function(){return this.annotations.map(function(r){return yi({},r.type.getNoteBBoxOffset(),{positionX:r.x,positionY:r.y})})}}]),e}(),Y0e=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,o=i===void 0?0:i;return{move:{x:n,y:o}}},Z0e=function(t){var r=t.cx,n=r===void 0?0:r,i=t.cy,o=i===void 0?0:i,s=t.r1,a=t.r2,l=t.padding,c={move:{x:n,y:o}};return s!==void 0&&(c.r1={x:n+s/Math.sqrt(2),y:o+s/Math.sqrt(2)}),a!==void 0&&(c.r2={x:n+a/Math.sqrt(2),y:o+a/Math.sqrt(2)}),l!==void 0&&(c.padding={x:n+s+l,y:o}),c},Q0e=function(t){var r=t.group,n=t.handles,i=t.r,o=i===void 0?10:i,s=r.selectAll("circle.handle").data(n);s.enter().append("circle").attr("class","handle").attr("fill","grey").attr("fill-opacity",.1).attr("cursor","move").attr("stroke-dasharray",5).attr("stroke","grey").call(db().container(Ii("g.annotations").node()).on("start",function(a){return a.start&&a.start(a)}).on("drag",function(a){return a.drag&&a.drag(a)}).on("end",function(a){return a.end&&a.end(a)})),r.selectAll("circle.handle").attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).attr("r",function(a){return a.r||o}).attr("class",function(a){return"handle "+(a.className||"")}),s.exit().remove()},tq=function(t,r){return(t==="dynamic"||t==="left"||t==="right")&&(r<0?t="top":t="bottom"),t},nq=function(t,r){return(t==="dynamic"||t==="top"||t==="bottom")&&(r<0?t="right":t="left"),t},X0e=["topBottom","top","bottom"],K0e=["leftRight","left","right"],J0e=function(e){var t=e.padding,r=t===void 0?0:t,n=e.bbox,i=n===void 0?{x:0,y:0,width:0,height:0}:n,o=e.align,s=e.orientation,a=e.offset,l=a===void 0?{x:0,y:0}:a,c=-i.x,u=0;return X0e.indexOf(s)!==-1?(o=nq(o,l.x),l.y<0&&s==="topBottom"||s==="top"?u-=i.height+r:u+=r,o==="middle"?c-=i.width/2:o==="right"&&(c-=i.width)):K0e.indexOf(s)!==-1&&(o=tq(o,l.y),l.x<0&&s==="leftRight"||s==="left"?c-=i.width+r:c+=r,o==="middle"?u-=i.height/2:o==="top"&&(u-=i.height)),{x:c,y:u}},_s=function(t){var r=t.data,n=t.curve,i=n===void 0?Tl:n,o=t.canvasContext,s=t.className,a=t.classID,l=wg().curve(i),c={type:"path",className:s,classID:a,data:r};return o?(l.context(o),c.pathMethods=l):c.attrs={d:l(r)},c},bb=function(t){var r=t.data,n=t.canvasContext,i=t.className,o=t.classID,s={type:"path",className:i,classID:o,data:r},a=AM().innerRadius(r.innerRadius||0).outerRadius(r.outerRadius||r.radius||2).startAngle(r.startAngle||0).endAngle(r.endAngle||2*Math.PI);return n?(a.context(n),s.pathMethods=lineGen):s.attrs={d:a()},s},e1e=function(e){var t=e.align,r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.bbox,a=e.offset;t=tq(t,a.y),t==="top"?o-=s.height:t==="middle"&&(o-=s.height/2);var l=[[n,o],[n,o+s.height]];return{components:[_s({data:l,className:"note-line"})]}},t1e=function(e){var t=e.align,r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.offset,a=e.bbox;t=nq(t,s.x),t==="right"?n-=a.width:t==="middle"&&(n-=a.width/2);var l=[[n,o],[n+a.width,o]];return{components:[_s({data:l,className:"note-line"})]}},rq=function(t){var r=t.type,n=t.subjectType,i=r.annotation,o=i.position,s=i.x-o.x,a=s+i.dx,l=i.y-o.y,c=l+i.dy,u=i.subject;if(n==="circle"&&(u.outerRadius||u.radius)){var d=Math.sqrt((s-a)*(s-a)+(l-c)*(l-c)),f=Math.asin(-c/d),h=u.outerRadius||u.radius+(u.radiusPadding||0);s=Math.abs(Math.cos(f)*h)*(a<0?-1:1),l=Math.abs(Math.sin(f)*h)*(c<0?-1:1)}if(n==="rect"){var m=u.width,y=u.height;(m>0&&i.dx>0||m<0&&i.dx<0)&&(Math.abs(m)>Math.abs(i.dx)?s=m/2:s=m),(y>0&&i.dy>0||y<0&&i.dy<0)&&(Math.abs(y)>Math.abs(i.dy)?l=y/2:l=y),s===m/2&&l===y/2&&(s=a,l=c)}return[[s,l],[a,c]]},n1e=function(e){var t=rq(e);return{components:[_s({data:t,className:"connector"})]}},r1e=function(e){var t=e.type,r=e.subjectType,n=t.annotation,i=n.position,o=n.x-i.x,s=o+n.dx,a=n.y-i.y,l=a+n.dy,c=n.subject;if(r==="rect"){var u=c.width,d=c.height;(u>0&&n.dx>0||u<0&&n.dx<0)&&(Math.abs(u)>Math.abs(n.dx)?o=u/2:o=u),(d>0&&n.dy>0||d<0&&n.dy<0)&&(Math.abs(d)>Math.abs(n.dy)?a=d/2:a=d),o===u/2&&a===d/2&&(o=s,a=l)}var f=[[o,a],[s,l]],h=l-a,m=s-o,y=s,g=l,x=l<a&&s>o||s<o&&l>a?-1:1;if(Math.abs(m)<Math.abs(h)?(y=s,g=a+m*x):(g=l,y=o+h*x),r==="circle"&&(c.outerRadius||c.radius)){var C=(c.outerRadius||c.radius)+(c.radiusPadding||0),w=C/Math.sqrt(2);if(Math.abs(m)>w&&Math.abs(h)>w)o=w*(s<0?-1:1),a=w*(l<0?-1:1),f=[[o,a],[y,g],[s,l]];else if(Math.abs(m)>Math.abs(h)){var b=Math.asin(-l/C);o=Math.abs(Math.cos(b)*C)*(s<0?-1:1),f=[[o,l],[s,l]]}else{var I=Math.acos(s/C);a=Math.abs(Math.sin(I)*C)*(l<0?-1:1),f=[[s,a],[s,l]]}}else f=[[o,a],[y,g],[s,l]];return{components:[_s({data:f,className:"connector"})]}},i1e=function(e){var t=e.type,r=e.connectorData,n=e.subjectType;r||(r={}),(!r.points||typeof r.points=="number")&&(r.points=o1e(t.annotation.offset,r.points)),r.curve||(r.curve=NM);var i=[];if(t.editMode){var o=r.points.map(function(c,u){return yi({},Y0e({cx:c[0],cy:c[1]}),{index:u})}),s=function(u){r.points[u][0]+=st.dx,r.points[u][1]+=st.dy,t.redrawConnector()};i=t.mapHandles(o.map(function(c){return yi({},c.move,{drag:s.bind(t,c.index)})}))}var a=rq({type:t,subjectType:n});a=[a[0]].concat(q0e(r.points),[a[1]]);var l=[_s({data:a,curve:r.curve,className:"connector"})];return{components:l,handles:i}},o1e=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n={x:t.x/(r+1),y:t.y/(r+1)},i=[],o=1;o<=r;o++)i.push([n.x*o+o%2*20,n.y*o-o%2*20]);return i},s1e=function(e){var t=e.annotation,r=e.start,n=e.end,i=e.scale,o=i===void 0?1:i,s=t.position;r?r=[-n[0]+r[0],-n[1]+r[1]]:r=[t.dx,t.dy],n||(n=[t.x-s.x,t.y-s.y]);var a=n[0],l=n[1],c=r[0],u=r[1],d=10*o,f=16/180*Math.PI,h=Math.atan(u/c);c<0&&(h+=Math.PI);var m=[[a,l],[Math.cos(h+f)*d+a,Math.sin(h+f)*d+l],[Math.cos(h-f)*d+a,Math.sin(h-f)*d+l],[a,l]];return{components:[_s({data:m,className:"connector-end connector-arrow",classID:"connector-end"})]}},a1e=function(e){var t=e.line,r=e.scale,n=r===void 0?1:r,i=bb({className:"connector-end connector-dot",classID:"connector-end",data:{radius:3*Math.sqrt(n)}});return i.attrs.transform="translate("+t.data[0][0]+", "+t.data[0][1]+")",{components:[i]}},l1e=function(e){var t=e.subjectData,r=e.type;!t.radius&&!t.outerRadius&&(t.radius=20);var n=[],i=bb({data:t,className:"subject"});if(r.editMode){var o=Z0e({r1:i.data.outerRadius||i.data.radius,r2:i.data.innerRadius,padding:t.radiusPadding}),s=function(c){var u=t[c]+st.dx*Math.sqrt(2);t[c]=u,r.redrawSubject(),r.redrawConnector()},a=[yi({},o.r1,{drag:s.bind(r,t.outerRadius!==void 0?"outerRadius":"radius")})];t.innerRadius&&a.push(yi({},o.r2,{drag:s.bind(r,"innerRadius")})),n=r.mapHandles(a)}return i.attrs["fill-opacity"]=0,{components:[i],handles:n}},c1e=function(e){var t=e.subjectData,r=e.type;t.width||(t.width=100),t.height||(t.height=100);var n=[],i=t.width,o=t.height,s=[[0,0],[i,0],[i,o],[0,o],[0,0]],a=_s({data:s,className:"subject"});if(r.editMode){var l=function(){t.width=st.x,r.redrawSubject(),r.redrawConnector()},c=function(){t.height=st.y,r.redrawSubject(),r.redrawConnector()},u=[{x:i,y:o/2,drag:l.bind(r)},{x:i/2,y:o,drag:c.bind(r)}];n=r.mapHandles(u)}return a.attrs["fill-opacity"]=.1,{components:[a],handles:n}},u1e=function(e){var t=e.subjectData,r=e.type,n=r.annotation.position,i=(t.x1!==void 0?t.x1:n.x)-n.x,o=(t.x2!==void 0?t.x2:n.x)-n.x,s=(t.y1!==void 0?t.y1:n.y)-n.y,a=(t.y2!==void 0?t.y2:n.y)-n.y,l=[[i,s],[o,a]];return{components:[_s({data:l,className:"subject"})]}},d1e=function(e){var t=e.subjectData,r=t===void 0?{}:t,n=e.type,i=n===void 0?{}:n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.typeSettings&&i.typeSettings.subject;r.radius||(s&&s.radius?r.radius=s.radius:r.radius=14),r.x||s&&s.x&&(r.x=s.x),r.y||s&&s.y&&(r.y=s.y);var a=[],l=[],c=r.radius,u=c*.7,d=0,f=0,h=Math.sqrt(2)*c,m={xleftcorner:-c,xrightcorner:c,ytopcorner:-c,ybottomcorner:c,xleft:-h,xright:h,ytop:-h,ybottom:h};r.x&&!r.y?d=m["x"+r.x]:r.y&&!r.x?f=m["y"+r.y]:r.x&&r.y&&(d=m["x"+r.x+"corner"],f=m["y"+r.y+"corner"]);var y="translate("+d+", "+f+")",g=bb({className:"subject",data:{radius:c}});g.attrs.transform=y,g.attrs.fill=o.color,g.attrs["stroke-linecap"]="round",g.attrs["stroke-width"]="3px";var x=bb({className:"subject-ring",data:{outerRadius:c,innerRadius:u}});x.attrs.transform=y,x.attrs["stroke-width"]="3px",x.attrs.fill="white";var C=void 0;if(d&&f||!d&&!f)C=_s({className:"subject-pointer",data:[[0,0],[d||0,0],[0,f||0],[0,0]]});else if(d||f){var w=function(H){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return H&&H/Math.sqrt(2)/Math.sqrt(2)||q*c/Math.sqrt(2)};C=_s({className:"subject-pointer",data:[[0,0],[w(d),w(f)],[w(d,-1),w(f,-1)],[0,0]]})}if(C&&(C.attrs.fill=o.color,C.attrs["stroke-linecap"]="round",C.attrs["stroke-width"]="3px",l.push(C)),i.editMode){var b=function(){r.x=st.x<-c*2?"left":st.x>c*2?"right":void 0,r.y=st.y<-c*2?"top":st.y>c*2?"bottom":void 0,i.redrawSubject()},I={x:d*2,y:f*2,drag:b.bind(i)};!I.x&&!I.y&&(I.y=-c),a=i.mapHandles([I])}var T=void 0;return r.text&&(T={type:"text",className:"badge-text",attrs:{fill:"white",stroke:"none","font-size":".7em",text:r.text,"text-anchor":"middle",dy:".25em",x:d,y:f}}),l.push(g),l.push(x),l.push(T),{components:l,handles:a}},iq=function(){function e(t){var r=t.a,n=t.annotation,i=t.editMode,o=t.dispatcher,s=t.notePadding,a=t.accessors;if(Qf(this,e),this.a=r,this.note=n.disable.indexOf("note")===-1&&r.select("g.annotation-note"),this.noteContent=this.note&&r.select("g.annotation-note-content"),this.connector=n.disable.indexOf("connector")===-1&&r.select("g.annotation-connector"),this.subject=n.disable.indexOf("subject")===-1&&r.select("g.annotation-subject"),this.dispatcher=o,o){var l=h1e.bind(null,o,n);l({component:this.note,name:"note"}),l({component:this.connector,name:"connector"}),l({component:this.subject,name:"subject"})}this.annotation=n,this.editMode=n.editMode||i,this.notePadding=s!==void 0?s:3,this.offsetCornerX=0,this.offsetCornerY=0,a&&n.data&&this.init(a)}return Xf(e,[{key:"init",value:function(r){this.annotation.x||this.mapX(r),this.annotation.y||this.mapY(r)}},{key:"mapY",value:function(r){r.y&&(this.annotation.y=r.y(this.annotation.data))}},{key:"mapX",value:function(r){r.x&&(this.annotation.x=r.x(this.annotation.data))}},{key:"updateEditMode",value:function(){this.a.selectAll("circle.handle").remove()}},{key:"drawOnSVG",value:function(r,n){var i=this;Array.isArray(n)||(n=[n]),n.filter(function(o){return o}).forEach(function(o){var s=o.type,a=o.className,l=o.attrs,c=o.handles,u=o.classID;if(s==="handle")Q0e({group:r,r:l&&l.r,handles:c});else{ws(r,[i.annotation],s,a,u);for(var d=r.select(s+"."+(u||a)),f=Object.keys(l),h=[],m=d.node().attributes,y=m.length-1;y>=0;y--){var g=m[y].name;f.indexOf(g)===-1&&g!=="class"&&h.push(g)}f.forEach(function(x){x==="text"?d.text(l[x]):d.attr(x,l[x])}),h.forEach(function(x){return d.attr(x,null)})}})}},{key:"getNoteBBox",value:function(){return eq(this.note,".annotation-note-content text")}},{key:"getNoteBBoxOffset",value:function(){var r=eq(this.note,".annotation-note-content"),n=this.noteContent.attr("transform").split(/\(|\,|\)/g);return r.offsetCornerX=parseFloat(n[1])+this.annotation.dx,r.offsetCornerY=parseFloat(n[2])+this.annotation.dy,r.offsetX=this.annotation.dx,r.offsetY=this.annotation.dy,r}},{key:"drawSubject",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.subject,o=n.type,s={type:this,subjectData:i},a={};o==="circle"?a=l1e(s):o==="rect"?a=c1e(s):o==="threshold"?a=u1e(s):o==="badge"&&(a=d1e(s,this.annotation));var l=a,c=l.components,u=c===void 0?[]:c,d=l.handles,f=d===void 0?[]:d;return u.forEach(function(h){h&&h.attrs&&!h.attrs.stroke&&(h.attrs.stroke=r.annotation.color)}),this.editMode&&(f=f.concat(this.mapHandles([{drag:this.dragSubject.bind(this)}])),u.push({type:"handle",handles:f})),u}},{key:"drawConnector",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.connector,o=i.type||n.type,s={type:this,connectorData:i};s.subjectType=this.typeSettings&&this.typeSettings.subject&&this.typeSettings.subject.type;var a={};o==="curve"?a=i1e(s):o==="elbow"?a=r1e(s):a=n1e(s);var l=a,c=l.components,u=c===void 0?[]:c,d=l.handles,f=d===void 0?[]:d,h=u[0];h&&(h.attrs.stroke=this.annotation.color,h.attrs.fill="none");var m=i.end||n.end,y={};if(m==="arrow"){var g=h.data[1],x=h.data[0],C=Math.sqrt(Math.pow(g[0]-x[0],2)+Math.pow(g[1]-x[1],2));C<5&&h.data[2]&&(g=h.data[2]),y=s1e({annotation:this.annotation,start:g,end:x,scale:i.endScale})}else m==="dot"?y=a1e({line:h,scale:i.endScale}):(!m||m==="none")&&this.connector&&this.connector.select(".connector-end").remove();return y.components&&(y.components.forEach(function(w){w.attrs.fill=r.annotation.color,w.attrs.stroke=r.annotation.color}),u=u.concat(y.components)),this.editMode&&f.length!==0&&u.push({type:"handle",handles:f}),u}},{key:"drawNote",value:function(){var r=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.annotation.note,o=i.align||n.align||"dynamic",s={bbox:n.bbox,align:o,offset:this.annotation.offset},a=i.lineType||n.lineType,l={};a==="vertical"?l=e1e(s):a==="horizontal"&&(l=t1e(s));var c=l,u=c.components,d=u===void 0?[]:u,f=c.handles,h=f===void 0?[]:f;if(d.forEach(function(x){x.attrs.stroke=r.annotation.color}),this.editMode){h=this.mapHandles([{x:0,y:0,drag:this.dragNote.bind(this)}]),d.push({type:"handle",handles:h});var m=this.dragNote.bind(this),y=this.dragstarted.bind(this),g=this.dragended.bind(this);this.note.call(db().container(Ii("g.annotations").node()).on("start",function(x){return y(x)}).on("drag",function(x){return m(x)}).on("end",function(x){return g(x)}))}else this.note.on("mousedown.drag",null);return d}},{key:"drawNoteContent",value:function(r){var n=this.annotation.note,i=n.padding!==void 0?n.padding:this.notePadding,o=n.orientation||r.orientation||"topBottom",s=n.lineType||r.lineType,a=n.align||r.align||"dynamic";s==="vertical"?o="leftRight":s==="horizontal"&&(o="topBottom");var l={padding:i,bbox:r.bbox,offset:this.annotation.offset,orientation:o,align:a},c=J0e(l),u=c.x,d=c.y;return this.offsetCornerX=u+this.annotation.dx,this.offsetCornerY=d+this.annotation.dy,this.note&&this.noteContent.attr("transform","translate("+u+", "+d+")"),[]}},{key:"drawOnScreen",value:function(r,n){return this.drawOnSVG(r,n)}},{key:"redrawSubject",value:function(){this.subject&&this.drawOnScreen(this.subject,this.drawSubject())}},{key:"redrawConnector",value:function(){this.connector&&this.drawOnScreen(this.connector,this.drawConnector())}},{key:"redrawNote",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getNoteBBox();this.noteContent&&this.drawOnScreen(this.noteContent,this.drawNoteContent({bbox:r})),this.note&&this.drawOnScreen(this.note,this.drawNote({bbox:r}))}},{key:"setPosition",value:function(){var r=this.annotation.position;this.a.attr("transform","translate("+r.x+", "+r.y+")")}},{key:"clearComponents",value:function(){this.subject&&this.subject.select("*").remove(),this.connector&&this.connector.select("*").remove()}},{key:"setOffset",value:function(){if(this.note){var r=this.annotation.offset;this.note.attr("transform","translate("+r.x+", "+r.y+")")}}},{key:"setPositionWithAccessors",value:function(r){r&&this.annotation.data&&(this.mapX(r),this.mapY(r)),this.setPosition()}},{key:"setClassName",value:function(){this.a.attr("class","annotation "+(this.className&&this.className())+" "+(this.editMode?"editable":"")+" "+(this.annotation.className||""))}},{key:"draw",value:function(){this.setClassName(),this.setPosition(),this.setOffset(),this.redrawSubject(),this.redrawConnector(),this.redrawNote()}},{key:"dragstarted",value:function(){st.sourceEvent.stopPropagation(),this.dispatcher&&this.dispatcher.call("dragstart",this.a,this.annotation),this.a.classed("dragging",!0),this.a.selectAll("circle.handle").style("pointer-events","none")}},{key:"dragended",value:function(){this.dispatcher&&this.dispatcher.call("dragend",this.a,this.annotation),this.a.classed("dragging",!1),this.a.selectAll("circle.handle").style("pointer-events","all")}},{key:"dragSubject",value:function(){var r=this.annotation.position;r.x+=st.dx,r.y+=st.dy,this.annotation.position=r}},{key:"dragNote",value:function(){var r=this.annotation.offset;r.x+=st.dx,r.y+=st.dy,this.annotation.offset=r}},{key:"mapHandles",value:function(r){var n=this;return r.map(function(i){return yi({},i,{start:n.dragstarted.bind(n),end:n.dragended.bind(n)})})}}]),e}(),kl=function(t,r,n){return function(i){LM(o,i);function o(s){Qf(this,o);var a=VM(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,s));return a.typeSettings=r,r.disable&&r.disable.forEach(function(l){a[l]&&a[l].remove(),a[l]=void 0,l==="note"&&(a.noteContent=void 0)}),a}return Xf(o,[{key:"className",value:function(){return""+(r.className||ma(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"className",this)&&ma(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"className",this).call(this)||"")}},{key:"drawSubject",value:function(a){return this.typeSettings.subject=yi({},r.subject,this.typeSettings.subject),ma(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawSubject",this).call(this,yi({},a,this.typeSettings.subject))}},{key:"drawConnector",value:function(a){return this.typeSettings.connector=yi({},r.connector,this.typeSettings.connector),ma(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawConnector",this).call(this,yi({},a,r.connector,this.typeSettings.connector))}},{key:"drawNote",value:function(a){return this.typeSettings.note=yi({},r.note,this.typeSettings.note),ma(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawNote",this).call(this,yi({},a,r.note,this.typeSettings.note))}},{key:"drawNoteContent",value:function(a){return ma(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"drawNoteContent",this).call(this,yi({},a,r.note,this.typeSettings.note))}}],[{key:"init",value:function(a,l){return ma(o.__proto__||Object.getPrototypeOf(o),"init",this).call(this,a,l),n&&(a=n(a,l)),a}}]),o}(t)},wb=function(e){LM(t,e);function t(r){Qf(this,t);var n=VM(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return n.textWrap=r.textWrap||120,n.drawText(),n}return Xf(t,[{key:"updateTextWrap",value:function(n){this.textWrap=n,this.drawText()}},{key:"drawText",value:function(){if(this.note){ws(this.note,[this.annotation],"g","annotation-note-content");var n=this.note.select("g.annotation-note-content");ws(n,[this.annotation],"rect","annotation-note-bg"),ws(n,[this.annotation],"text","annotation-note-label"),ws(n,[this.annotation],"text","annotation-note-title");var i={height:0},o=this.a.select("text.annotation-note-label"),s=this.annotation.note&&this.annotation.note.wrap||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrap||this.textWrap,a=this.annotation.note&&this.annotation.note.wrapSplitter||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.wrapSplitter,l=this.annotation.note&&this.annotation.note.bgPadding||this.typeSettings&&this.typeSettings.note&&this.typeSettings.note.bgPadding,c={top:0,bottom:0,left:0,right:0};if(typeof l=="number"?c={top:l,bottom:l,left:l,right:l}:l&&(typeof l>"u"?"undefined":H0e(l))==="object"&&(c=yi(c,l)),this.annotation.note.title){var u=this.a.select("text.annotation-note-title");u.text(this.annotation.note.title),u.attr("fill",this.annotation.color),u.attr("font-weight","bold"),u.call(JH,s,a),i=u.node().getBBox()}o.text(this.annotation.note.label).attr("dx","0"),o.call(JH,s,a),o.attr("y",i.height*1.1||0),o.attr("fill",this.annotation.color);var d=this.getNoteBBox();this.a.select("rect.annotation-note-bg").attr("width",d.width+c.left+c.right).attr("height",d.height+c.top+c.bottom).attr("x",d.x-c.left).attr("y",-c.top).attr("fill","white").attr("fill-opacity",0)}}}]),t}(iq),oq=kl(wb,{className:"label",note:{align:"middle"}}),Kf=kl(wb,{className:"callout",note:{lineType:"horizontal"}}),Cat=kl(Kf,{className:"callout elbow",connector:{type:"elbow"}}),sq=kl(Kf,{className:"callout curve",connector:{type:"curve"}}),Dat=kl(iq,{className:"badge",subject:{type:"badge"},disable:["connector","note"]}),aq=kl(wb,{className:"callout circle",subject:{type:"circle"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),Sat=kl(wb,{className:"callout rect",subject:{type:"rect"},note:{lineType:"horizontal"},connector:{type:"elbow"}}),f1e=function(e){LM(t,e);function t(){return Qf(this,t),VM(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Xf(t,[{key:"mapY",value:function(n){ma(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapY",this).call(this,n);var i=this.annotation;(i.subject.x1||i.subject.x2)&&i.data&&n.y&&(i.y=n.y(i.data)),(i.subject.x1||i.subject.x2)&&!i.x&&(i.x=i.subject.x1||i.subject.x2)}},{key:"mapX",value:function(n){ma(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"mapX",this).call(this,n);var i=this.annotation;(i.subject.y1||i.subject.y2)&&i.data&&n.x&&(i.x=n.x(i.data)),(i.subject.y1||i.subject.y2)&&!i.y&&(i.y=i.subject.y1||i.subject.y2)}}]),t}(Kf),Mat=kl(f1e,{className:"callout xythreshold",subject:{type:"threshold"}}),ws=function(t,r,n,i,o){var s=t.selectAll(n+"."+(o||i)).data(r);return s.enter().append(n).merge(s).attr("class",i),s.exit().remove(),t},h1e=function(t,r,n){var i=n.component,o=n.name;i&&i.on("mouseover.annotations",function(){t.call(o+"over",i,r)}).on("mouseout.annotations",function(){return t.call(o+"out",i,r)}).on("click.annotations",function(){return t.call(o+"click",i,r)})},JH=function(t,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1.2;t.each(function(){for(var o=Ii(this),s=o.text().split(n||/[ \t\r\n]+/).reverse().filter(function(u){return u!==""}),a=void 0,l=[],c=o.text(null).append("tspan").attr("x",0).attr("dy",.8+"em");a=s.pop();)l.push(a),c.text(l.join(" ")),c.node().getComputedTextLength()>r&&l.length>1&&(l.pop(),c.text(l.join(" ")),l=[a],c=o.append("tspan").attr("x",0).attr("dy",i+"em").text(a))})},eq=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:":not(.handle)";return t?t.selectAll(r).nodes().reduce(function(n,i){var o=i.getBBox();n.x=Math.min(n.x,o.x),n.y=Math.min(n.y,o.y),n.width=Math.max(n.width,o.width);var s=i&&i.attributes&&i.attributes.y;return n.height=Math.max(n.height,(s&&parseFloat(s.value)||0)+o.height),n},{x:0,y:0,width:0,height:0}):{x:0,y:0,width:0,height:0}};function lq(){var e=[],t=void 0,r=void 0,n=[],i={},o={},s=!1,a=void 0,l=Kf,c=void 0,u=void 0,d=gg("subjectover","subjectout","subjectclick","connectorover","connectorout","connectorclick","noteover","noteout","noteclick","dragend","dragstart"),f=void 0,h=function(y){f=y,s||y.selectAll("circle.handle").remove();var g=e.map(function(b){return b.type||(b.type=l),b.disable||(b.disable=n),new W0e(b)});t=t||new G0e({annotations:g,accessors:i,accessorsInverse:o,ids:a});var x=y.selectAll("g").data([t]);x.enter().append("g").attr("class","annotations");var C=y.select("g.annotations");ws(C,t.annotations,"g","annotation");var w=C.selectAll("g.annotation");w.each(function(b){var I=Ii(this);I.attr("class","annotation"),ws(I,[b],"g","annotation-connector"),ws(I,[b],"g","annotation-subject"),ws(I,[b],"g","annotation-note"),ws(I.select("g.annotation-note"),[b],"g","annotation-note-content"),b.type=b.type.toString()==="[object Object]"?b.type:new b.type({a:I,annotation:b,textWrap:c,notePadding:u,editMode:s,dispatcher:d,accessors:i}),b.type.draw(),b.type.drawText&&b.type.drawText()})};return h.json=function(){return console.log("Annotations JSON was copied to your clipboard. Please note the annotation type is not JSON compatible. It appears in the objects array in the console, but not in the copied JSON.",t.json),window.copy(JSON.stringify(t.json.map(function(m){return delete m.type,m}))),h},h.update=function(){return e&&t&&(e=t.annotations.map(function(m){return m.type.draw(),m})),h},h.updateText=function(){return t&&(t.updateText(c),e=t.annotations),h},h.updatedAccessors=function(){return t.setPositionWithAccessors(),e=t.annotations,h},h.disable=function(m){return arguments.length?(n=m,t&&(t.updateDisable(n),e=t.annotations),h):n},h.textWrap=function(m){return arguments.length?(c=m,t&&(t.updateTextWrap(c),e=t.annotations),h):c},h.notePadding=function(m){return arguments.length?(u=m,t&&(t.updateNotePadding(u),e=t.annotations),h):u},h.type=function(m,y){return arguments.length?(l=m,t&&(t.annotations.map(function(g){g.type.note&&g.type.note.selectAll("*:not(.annotation-note-content)").remove(),g.type.noteContent&&g.type.noteContent.selectAll("*").remove(),g.type.subject&&g.type.subject.selectAll("*").remove(),g.type.connector&&g.type.connector.selectAll("*").remove(),g.type.typeSettings={},g.type=l,g.subject=y&&y.subject||g.subject,g.connector=y&&y.connector||g.connector,g.note=y&&y.note||g.note}),e=t.annotations),h):l},h.annotations=function(m){if(!arguments.length)return t&&t.annotations||e;if(e=m,t&&t.annotations){var y=e.some(function(g){return!g.type||g.type.toString()!=="[object Object]"});y?(t=null,h(f)):t.annotations=e}return h},h.context=function(m){return arguments.length?(r=m,h):r},h.accessors=function(m){return arguments.length?(i=m,h):i},h.accessorsInverse=function(m){return arguments.length?(o=m,h):o},h.ids=function(m){return arguments.length?(a=m,h):a},h.editMode=function(m){return arguments.length?(s=m,f&&f.selectAll("g.annotation").classed("editable",s),t&&(t.editMode(s),e=t.annotations),h):s},h.collection=function(m){return arguments.length?(t=m,h):t},h.on=function(){var m=d.on.apply(d,arguments);return m===d?h:m},h}var cq=(()=>{let t=class t{constructor(){this.showAnnotations=!1,this.showDownload=!1,this.isLoading=!0,this.parseTime=X3,this.formatTime=Q3}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.createChart()}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}createChart(){ml("assets/datasets/bitcoin.csv",ta).then(n=>{let i=null,o={top:20,right:30,bottom:50,left:40},s=1200,a=600;this.destroyChart(W("#line-chart")),i=W("#line-chart").append("svg").attr("width",s).attr("height",a).append("g").attr("transform",`translate(${o.left},${o.top})`);let l=hi().domain(Mt(n,y=>y.date)).range([o.left,s-o.right]),c=be().domain([0,Ue(n,y=>y.value)]).nice().range([a-o.bottom,o.top]),u=y=>y.attr("transform",`translate(0,${a-o.bottom})`).attr("class","x-axis").call(it(l).ticks(s/80).tickSizeOuter(0)),d=y=>y.attr("transform",`translate(${o.left},0)`).attr("class","y-axis").call(Je(c)).call(g=>g.select(".tick:last-of-type text").clone().attr("x",3).attr("text-anchor","start").attr("font-weight","bold").text(n[1].y)),f=Yn().defined(y=>!isNaN(y.value)).x(y=>l(y.date)).y(y=>c(y.value));i.append("g").call(u),i.append("g").call(d),i.append("path").datum(n).attr("fill","none").attr("stroke","#3172bc").attr("stroke-width",1.5).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",f);let h=[{id:"bitcoin-cash-fork",note:{label:"Bitcoin splits into Bitcoins and Bitcoin Cash",title:"08-01-2017"},data:this.getDateData("1991-12-31T23:00Z",n),dx:-15,dy:-57},{id:"china-shutdown-exchanges",note:{label:"China shuts down all crypto exchanges",title:"09-15-2017"},data:this.getDateData("1995-12-31T23:00Z",n),dx:-18,dy:-50},{id:"segwit-2x-delayed",type:Kf,note:{label:"Segwit2X delayed",title:"11-08-2017"},data:this.getDateData("1985-12-31T23:00Z",n),dx:-2,dy:104},{id:"cross-ten-thousand",type:sq,note:{label:"First time over $10k",title:"2000-12-31T23:00Z"},connector:{points:[[-9,-24],[-30,-44.6]]},data:this.getDateData("2005-12-31T23:00Z",n),dx:-53,dy:-47},{id:"all-time-high",note:{label:"First time over $20k",title:"12-16-2017"},data:this.getDateData("2010-12-31T23:00Z",n),dx:-102,dy:2},{id:"segwit-2x-hard-fork",note:{label:"Segwit2X hard fork",title:"12-29-2017"},data:this.getDateData("2015-12-31T23:00Z",n),dx:-4,dy:89},{id:"valley-of-uncertainty",note:{label:"What caused this rapid drop + rebound?",title:"Jan - Feb '18"},color:"#ef4837",x:803,y:336,dx:-5,dy:115,subject:{radius:52,radiusPadding:5},type:aq}],m=this.getAnnotations(h,l,c,this.parseTime,this.formatTime);this.applyAnnotations(m,i)}).catch(n=>console.log(n))}toggleAnnotations(){this.showAnnotations=!this.showAnnotations,this.createChart()}setDownload(){this.showDownload=!this.showDownload}getDateData(n,i){let o=i.filter(s=>this.daysAreEqual(s.date,this.parseTime(n)));return{date:n,close:o[0].value}}daysAreEqual(n,i){return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()&&n.getFullYear()==i.getFullYear()}applyAnnotations(n,i){W(i.node()).append("g").attr("class","annotation-group").call(n)}getAnnotations(n,i,o,s,a){return console.log(this.showAnnotations),lq().editMode(this.showAnnotations).type(oq).accessors({x:c=>i(s(c.date)),y:c=>o(c.close)}).accessorsInverse({date:c=>a(i.invert(c.x)),close:c=>o.invert(c.y)}).annotations(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["app-d3-line-chart"]],decls:17,vars:1,consts:[[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["title","Click to download png image","id","map2Jpg",1,"button","button3",3,"click"],["routerLink","/funnel",1,"button","button2"],[3,"loading"],[1,"panel-body"],["type","checkbox",3,"change"],["id","line-chart"]],template:function(i,o){i&1&&(k(0,"header")(1,"div",0)(2,"h1"),V(3,"Bitcoin Performance"),M(),k(4,"div",1)(5,"button",2),V(6,"\xAB Home"),M(),k(7,"button",3),te("click",function(){return o.setDownload()}),V(8,"Download Image JPG"),M(),k(9,"button",4),V(10,"Next \xBB"),M()()()(),k(11,"single-card",5)(12,"div",6)(13,"label")(14,"input",7),te("change",function(){return o.toggleAnnotations()}),M(),V(15," Show Annotations "),M(),Q(16,"div",8),M()()),i&2&&(U(11),G("loading",o.isLoading))},dependencies:[gt,kt],styles:["#line-chart[_ngcontent-%COMP%]{margin:20}"]});let e=t;return e})();var p1e=["svgRef"];function m1e(e,t){if(e&1){let r=bt();k(0,"button",5),te("click",function(){let o=lt(r).$implicit,s=_e();return ct(s.toggleLegendItem(o.label))}),V(1),M()}if(e&2){let r=t.$implicit,n=_e();C1(n.getButtonClass(r.label)),U(1),ut(" ",r.label," ")}}var uq=(()=>{let t=class t{constructor(){this.width=800,this.height=600,this.margin={top:60,right:40,bottom:140,left:60},this.legendState={"Initial level":!0,"Additional up to April 2":!0,"Additional after April 2":!0},this.legendItems=[{label:"Initial level",color:"#b22222"},{label:"Additional up to April 2",color:"#e74c3c"},{label:"Additional after April 2",color:"#f8a1a1"}],this.historicalData=[{year:1820,rate:40},{year:1825,rate:45},{year:1828,rate:57},{year:1832,rate:45},{year:1835,rate:40},{year:1840,rate:32},{year:1845,rate:28},{year:1850,rate:20},{year:1855,rate:18},{year:1860,rate:15},{year:1862,rate:37},{year:1865,rate:45},{year:1870,rate:42},{year:1875,rate:30},{year:1880,rate:28},{year:1885,rate:30},{year:1890,rate:27},{year:1895,rate:30},{year:1900,rate:28},{year:1905,rate:25},{year:1910,rate:27},{year:1915,rate:25},{year:1920,rate:26},{year:1925,rate:24},{year:1930,rate:18},{year:1932,rate:25},{year:1935,rate:20},{year:1940,rate:15},{year:1945,rate:13},{year:1947,rate:15},{year:1950,rate:13},{year:1955,rate:11},{year:1960,rate:8},{year:1965,rate:7},{year:1970,rate:6.5},{year:1975,rate:6},{year:1980,rate:5.5},{year:1985,rate:5},{year:1990,rate:4},{year:1995,rate:3.5},{year:2e3,rate:2.5},{year:2005,rate:2},{year:2010,rate:1.8},{year:2015,rate:1.7},{year:2020,rate:2.5},{year:2023,rate:3.5},{year:2024,rate:5},{year:2025,rate:10}],this.tariffEvents=[{year:1828,name:"Tariff of Abominations",y:60},{year:1861,name:"Morrill tariffs",y:55},{year:1930,name:"Smoot-Hawley",y:28},{year:1947,name:"GATT",y:16},{year:2025,name:"April 1, 2025",y:10}],this.barData=[{category:"On imports to the US",initial:2,additional1:20,additional2:3},{category:"On US exports",initial:5,additional1:0,additional2:8},{category:"World average",initial:4,additional1:0,additional2:3}]}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.createVisualization()},100)}getButtonClass(n){return`legend-button ${this.legendState[n]?"legend-button-active":"legend-button-inactive"}`}toggleLegendItem(n){this.legendState[n]=!this.legendState[n],this.updateVisualization()}createVisualization(){this.clearSvg(),this.drawChart(),this.addInitialAnimations()}addInitialAnimations(){let n=W(this.svgRef.nativeElement);n.selectAll(".initial-level, .additional1, .additional2").attr("height",0).attr("y",this.height/2-this.margin.bottom).transition().duration(800).delay((s,a)=>a*100).ease(rv.overshoot(1.2)).attr("height",function(){return W(this).attr("data-height")}).attr("y",function(){return W(this).attr("data-y")});let i=n.select("path"),o=i.node()?.getTotalLength()||0;o>0&&i.attr("stroke-dasharray",o+" "+o).attr("stroke-dashoffset",o).transition().duration(2e3).ease(ci).attr("stroke-dashoffset",0)}updateVisualization(){this.updateBarsWithAnimation()}clearSvg(){W(this.svgRef.nativeElement).selectAll("*").remove()}drawChart(){let n=W(this.svgRef.nativeElement).attr("viewBox",`0 0 ${this.width} ${this.height}`).attr("width","100%").attr("height","100%"),i=be().domain([1820,2025]).range([this.margin.left,this.width-this.margin.right]),o=be().domain([0,65]).range([this.height/2-this.margin.bottom,this.margin.top]),s=Yn().x(a=>i(a.year)).y(a=>o(a.rate)).curve(ig.tension(.5));this.drawUpperChart(n,i,o,s),this.drawLowerChart(n),this.drawTitle(n)}drawUpperChart(n,i,o,s){let a=n.append("g"),l=it(i).tickValues([1850,1900,1950,2e3]).tickFormat(We("d"));a.append("g").attr("transform",`translate(0, ${this.height/2-this.margin.bottom})`).call(l).selectAll("text").attr("font-size","12px"),a.append("g").attr("class","grid").selectAll("line").data([0,20,40,60]).enter().append("line").attr("x1",this.margin.left).attr("y1",c=>o(c)).attr("x2",this.width-this.margin.right).attr("y2",c=>o(c)).attr("stroke","#e0e0e0").attr("stroke-width",.5),a.append("g").selectAll(".y-label").data([0,20,40,60]).enter().append("text").attr("class","y-label").attr("x",this.margin.left-10).attr("y",c=>o(c)).attr("text-anchor","end").attr("alignment-baseline","middle").attr("font-size","12px").text(c=>c+"%"),a.append("path").datum(this.historicalData).attr("fill","none").attr("stroke","#e63946").attr("stroke-width",2.5).attr("d",s),a.append("path").datum(this.historicalData.filter(c=>c.year>=2020)).attr("fill","none").attr("stroke","#e63946").attr("stroke-width",4).attr("d",s),this.drawEventMarkers(a,i,o),this.drawRecentAnnotations(a),a.append("text").attr("x",this.width/2).attr("y",this.margin.top-35).attr("text-anchor","middle").attr("font-size","16px").attr("font-weight","bold").text("Effective average tariff rate, United States")}drawEventMarkers(n,i,o){let s=n.selectAll(".event").data(this.tariffEvents).enter().append("g").attr("class","event");s.append("line").attr("x1",a=>i(a.year)).attr("y1",o(0)).attr("x2",a=>i(a.year)).attr("y2",a=>o(a.y)-10).attr("stroke","#333").attr("stroke-width",1).attr("stroke-dasharray","4,4"),s.append("circle").attr("cx",a=>i(a.year)).attr("cy",a=>o(a.y)-10).attr("r",5).attr("fill","white").attr("stroke","#333").attr("stroke-width",1.5),s.append("text").attr("x",a=>i(a.year)).attr("y",a=>o(a.y)-25).attr("text-anchor","middle").attr("font-size","10px").attr("font-weight","500").text(a=>a.name)}drawRecentAnnotations(n){let i=[{x:this.width-this.margin.right-100,y:80,label:"April 9",details:"(90 day pause + more China tariffs)"},{x:this.width-this.margin.right-100,y:95,label:"April 2"}],o=n.append("g").attr("class","recent-events");o.selectAll(".recent-event").data(i).enter().append("text").attr("x",s=>s.x).attr("y",s=>s.y).attr("text-anchor","start").attr("font-size","10px").attr("font-weight","500").text(s=>s.label),o.append("text").attr("x",i[0].x).attr("y",i[0].y+12).attr("text-anchor","start").attr("font-size","9px").attr("fill","#666").text(i[0].details)}drawLowerChart(n){let i=n.append("g").attr("transform",`translate(0, ${this.height/2})`),o=ot().domain(this.barData.map(a=>a.category)).range([this.margin.left+50,this.width-this.margin.right-50]).padding(.3),s=be().domain([0,30]).range([this.height/2-this.margin.bottom,this.margin.top]);i.append("g").selectAll("line").data([0,10,20,30]).enter().append("line").attr("x1",this.margin.left).attr("y1",a=>s(a)).attr("x2",this.width-this.margin.right).attr("y2",a=>s(a)).attr("stroke","#e0e0e0").attr("stroke-width",.5),i.append("g").selectAll(".y-label").data([0,10,20,30]).enter().append("text").attr("x",this.margin.left-10).attr("y",a=>s(a)).attr("text-anchor","end").attr("alignment-baseline","middle").attr("font-size","12px").text(a=>a+"%"),this.drawBars(i,o,s),this.drawLegend(i)}drawBars(n,i,o){let s=n.selectAll(".bar-group").data(this.barData).enter().append("g").attr("class","bar-group").attr("transform",a=>`translate(${i(a.category)}, 0)`);s.append("rect").attr("class","initial-level bar-rect").attr("x",0).attr("y",a=>o(a.initial)).attr("width",i.bandwidth()).attr("height",a=>o(0)-o(a.initial)).attr("data-y",a=>o(a.initial)).attr("data-height",a=>o(0)-o(a.initial)).attr("fill",this.legendState["Initial level"]?"#b22222":"transparent").attr("opacity",this.legendState["Initial level"]?1:.2),s.append("rect").attr("class","additional1 bar-rect").attr("x",0).attr("y",a=>this.legendState["Initial level"]?o(a.initial+a.additional1):o(a.additional1)).attr("width",i.bandwidth()).attr("height",a=>this.legendState["Initial level"]?o(a.initial)-o(a.initial+a.additional1):o(0)-o(a.additional1)).attr("data-y",a=>this.legendState["Initial level"]?o(a.initial+a.additional1):o(a.additional1)).attr("data-height",a=>this.legendState["Initial level"]?o(a.initial)-o(a.initial+a.additional1):o(0)-o(a.additional1)).attr("fill",this.legendState["Additional up to April 2"]?"#e74c3c":"transparent").attr("opacity",this.legendState["Additional up to April 2"]?1:.2),s.append("rect").attr("class","additional2 bar-rect").attr("x",0).attr("y",a=>this.legendState["Initial level"]&&this.legendState["Additional up to April 2"]?o(a.initial+a.additional1+a.additional2):this.legendState["Initial level"]?o(a.initial+a.additional2):this.legendState["Additional up to April 2"]?o(a.additional1+a.additional2):o(a.additional2)).attr("width",i.bandwidth()).attr("height",a=>this.legendState["Initial level"]&&this.legendState["Additional up to April 2"]?o(a.initial+a.additional1)-o(a.initial+a.additional1+a.additional2):this.legendState["Initial level"]?o(a.initial)-o(a.initial+a.additional2):this.legendState["Additional up to April 2"]?o(a.additional1)-o(a.additional1+a.additional2):o(0)-o(a.additional2)).attr("data-y",a=>this.legendState["Initial level"]&&this.legendState["Additional up to April 2"]?o(a.initial+a.additional1+a.additional2):this.legendState["Initial level"]?o(a.initial+a.additional2):this.legendState["Additional up to April 2"]?o(a.additional1+a.additional2):o(a.additional2)).attr("data-height",a=>this.legendState["Initial level"]&&this.legendState["Additional up to April 2"]?o(a.initial+a.additional1)-o(a.initial+a.additional1+a.additional2):this.legendState["Initial level"]?o(a.initial)-o(a.initial+a.additional2):this.legendState["Additional up to April 2"]?o(a.additional1)-o(a.additional1+a.additional2):o(0)-o(a.additional2)).attr("fill",this.legendState["Additional after April 2"]?"#f8a1a1":"transparent").attr("opacity",this.legendState["Additional after April 2"]?1:.2),s.append("text").attr("x",i.bandwidth()/2).attr("y",this.height/2-this.margin.bottom+20).attr("text-anchor","middle").attr("font-size","12px").text(a=>a.category)}updateBarsWithAnimation(){let n=W(this.svgRef.nativeElement),i=n.select("g").select("g"),o=ot().domain(this.barData.map(a=>a.category)).range([this.margin.left+50,this.width-this.margin.right-50]).padding(.3),s=be().domain([0,30]).range([this.height/2-this.margin.bottom,this.margin.top]);n.selectAll(".initial-level").transition().duration(500).ease(Cc).attr("y",a=>s(a.initial)).attr("height",a=>s(0)-s(a.initial)).attr("fill",this.legendState["Initial level"]?"#b22222":"transparent").attr("opacity",this.legendState["Initial level"]?1:.2),n.selectAll(".additional1").transition().duration(500).ease(Cc).attr("y",a=>this.legendState["Initial level"]?s(a.initial+a.additional1):s(a.additional1)).attr("height",a=>this.legendState["Initial level"]?s(a.initial)-s(a.initial+a.additional1):s(0)-s(a.additional1)).attr("fill",this.legendState["Additional up to April 2"]?"#e74c3c":"transparent").attr("opacity",this.legendState["Additional up to April 2"]?1:.2),n.selectAll(".additional2").transition().duration(500).ease(Cc).attr("y",a=>this.legendState["Initial level"]&&this.legendState["Additional up to April 2"]?s(a.initial+a.additional1+a.additional2):this.legendState["Initial level"]?s(a.initial+a.additional2):this.legendState["Additional up to April 2"]?s(a.additional1+a.additional2):s(a.additional2)).attr("height",a=>this.legendState["Initial level"]&&this.legendState["Additional up to April 2"]?s(a.initial+a.additional1)-s(a.initial+a.additional1+a.additional2):this.legendState["Initial level"]?s(a.initial)-s(a.initial+a.additional2):this.legendState["Additional up to April 2"]?s(a.additional1)-s(a.additional1+a.additional2):s(0)-s(a.additional2)).attr("fill",this.legendState["Additional after April 2"]?"#f8a1a1":"transparent").attr("opacity",this.legendState["Additional after April 2"]?1:.2),n.selectAll(".legend-item rect:first-child").transition().duration(300).attr("fill",a=>this.legendState[a.label]?a.color:"#e0e0e0")}drawLegend(n){let o=n.append("g").attr("transform",`translate(${this.margin.left+50}, ${this.height/2-this.margin.top-20})`).selectAll(".legend-item").data(this.legendItems).enter().append("g").attr("class","legend-item").attr("transform",(s,a)=>`translate(0, ${a*20})`).style("cursor","pointer");o.append("rect").attr("width",12).attr("height",12).attr("fill",s=>this.legendState[s.label]?s.color:"#e0e0e0").attr("stroke","#333").attr("stroke-width",1),o.append("text").attr("x",20).attr("y",10).attr("font-size","12px").text(s=>s.label),o.append("rect").attr("width",180).attr("height",20).attr("transform","translate(0, -10)").attr("fill","transparent").on("click",(s,a)=>{this.toggleLegendItem(a.label)})}drawTitle(n){n.append("text").attr("x",this.width/2).attr("y",25).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","bold").text("US tariffs are highest in a century, global tariffs are also rising sharply")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["tariff-visualization"]],viewQuery:function(i,o){if(i&1&&Be(p1e,7),i&2){let s;Le(s=Ve())&&(o.svgRef=s.first)}},decls:5,vars:1,consts:[[1,"tariff-visualization-container"],[1,"svg-chart"],["svgRef",""],[1,"legend-controls"],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(i,o){i&1&&(k(0,"div",0),Ft(),Q(1,"svg",1,2),zn(),k(3,"div",3),ge(4,m1e,2,3,"button",4),M()()),i&2&&(U(4),G("ngForOf",o.legendItems))},dependencies:[Yt],styles:[".tariff-visualization-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center}.svg-chart[_ngcontent-%COMP%]{width:100%;max-width:800px;height:600px}.legend-controls[_ngcontent-%COMP%]{margin-top:16px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}.legend-button[_ngcontent-%COMP%]{padding:8px 12px;font-size:14px;border-radius:4px;border:1px solid #ccc;cursor:pointer;transition:all .2s ease}.legend-button-active[_ngcontent-%COMP%]{background-color:#3b82f6;color:#fff;border-color:#3b82f6}.legend-button-inactive[_ngcontent-%COMP%]{background-color:#e5e7eb;color:#374151;border-color:#d1d5db}.legend-button[_ngcontent-%COMP%]:hover{opacity:.8;transform:translateY(-1px)}.bar-rect[_ngcontent-%COMP%]{transition:all .5s cubic-bezier(.4,0,.2,1)}.legend-item[_ngcontent-%COMP%]:hover{opacity:.8}"]});let e=t;return e})();var dq=(()=>{let t=class t{constructor(n){this.route=n,this.activatedRoute="",this.route.url.subscribe(i=>{this.activatedRoute=i[0].path})}};t.\u0275fac=function(i){return new(i||t)(X($n))},t.\u0275cmp=le({type:t,selectors:[["finance-dashboard"]],decls:32,vars:1,consts:[["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[3,"loading"],[1,"panel-body"],[1,"grid"],[1,"column"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"Financial Derivatives"),M(),k(5,"div",2)(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),V(9,"Next \xBB"),M()()()()(),k(10,"single-card",5)(11,"div",6),Q(12,"tariff-visualization"),M()(),k(13,"div",7)(14,"div",8),Q(15,"funnel-chart"),M(),k(16,"div",8),Q(17,"funnel-chart"),M(),k(18,"div",8),Q(19,"funnel-chart"),M(),k(20,"div",8),Q(21,"funnel-chart"),M(),k(22,"div",8),Q(23,"funnel-chart"),M(),k(24,"div",8),Q(25,"funnel-chart"),M(),k(26,"div",8),Q(27,"funnel-chart"),M(),k(28,"div",8),Q(29,"funnel-chart"),M(),k(30,"div",8),Q(31,"funnel-chart"),M()()),i&2&&(U(10),G("loading",!1))},dependencies:[gt,uq,rb,kt],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.column[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var y1e=["chartContainer"],fq=(()=>{let t=class t{constructor(n){this.http=n,this.data=[],this.width=928,this.height=928,this.innerRadius=180,this.outerRadius=Math.min(this.width,this.height)/2,this.margin={top:20,right:20,bottom:20,left:20},this.radius=Math.min(this.width,this.height)/2,this.isLoading=!0}ngOnInit(){setTimeout(()=>this.isLoading=!1,3e3),this.loadData()}loadData(){return Sn(this,null,function*(){try{let n=yield ml("assets/datasets/age_csv_data.csv");this.data=n.columns.slice(1).flatMap(i=>n.map(o=>({state:o.State,age:i,population:o[i]}))),this.createChart()}catch(n){console.error("Error loading data:",n)}})}createChart(){this.svg=W(this.chartContainer.nativeElement).append("svg").attr("width",this.width).attr("height",this.height).attr("viewBox",[-this.width/1.2,-this.height/2,this.width*2,this.height*2]).attr("style","width: 100%; height: auto; font: 10px sans-serif;");let n=ys().keys(Td(this.data.map(l=>l.age))).value((l,c)=>l[1].get(c).population)(Fp(this.data,l=>l.state,l=>l.age)),i=ot().domain(this.data.map(l=>l.state)).range([0,2*Math.PI]).align(0),o=gf().domain([0,Ue(n,l=>Ue(l,c=>c[1]))]).range([this.innerRadius,this.outerRadius]),s=Xe().domain(n.map(l=>l.key)).range(Jm[n.length]).unknown("#ccc"),a=sn().innerRadius(l=>o(l[0])).outerRadius(l=>o(l[1])).startAngle(l=>i(l.data[0])).endAngle(l=>i(l.data[0])+i.bandwidth()).padAngle(1.5/this.innerRadius).padRadius(this.innerRadius);this.svg.append("g").selectAll("g").data(n).join("g").attr("fill",l=>s(l.key)).selectAll("path").data(l=>l.map(c=>(c.key=l.key,c))).join("path").attr("d",a).append("title").text(l=>`${l.data[0]} ${l.key}
${this.formatValue(l.data[1].get(l.key).population)}`),this.drawXAxis(i),this.drawYAxis(o),this.drawLegend(s)}drawXAxis(n){this.svg.append("g").attr("text-anchor","middle").selectAll("g").data(n.domain()).join("g").attr("transform",i=>`
          rotate(${(n(i)+n.bandwidth()/2)*180/Math.PI-90})
          translate(${this.innerRadius},0)
        `).call(i=>i.append("line").attr("x2",-5).attr("stroke","#000")).call(i=>i.append("text").attr("transform",o=>(n(o)+n.bandwidth()/2+Math.PI/2)%(2*Math.PI)<Math.PI?"rotate(90)translate(0,16)":"rotate(-90)translate(0,-9)").text(o=>o))}drawYAxis(n){this.svg.append("g").attr("text-anchor","middle").call(i=>i.append("text").attr("y",o=>-n(n.ticks(5).pop())).attr("dy","-1em").text("Population")).call(i=>i.selectAll("g").data(n.ticks(5).slice(1)).join("g").attr("fill","none").call(o=>o.append("circle").attr("stroke","#000").attr("stroke-opacity",.5).attr("r",n)).call(o=>o.append("text").attr("y",s=>-n(s)).attr("dy","0.35em").attr("stroke","#fff").attr("stroke-width",5).text(n.tickFormat(5,"s")).clone(!0).attr("fill","#000").attr("stroke","none")))}drawLegend(n){this.svg.append("g").selectAll("g").data(n.domain()).join("g").attr("transform",(i,o,s)=>`translate(-40,${(s.length/2-o-1)*20})`).call(i=>i.append("rect").attr("width",18).attr("height",18).attr("fill",n)).call(i=>i.append("text").attr("x",24).attr("y",9).attr("dy","0.35em").text(o=>o))}formatValue(n){return isNaN(n)?"N/A":n.toLocaleString("en")}};t.\u0275fac=function(i){return new(i||t)(X(Wt))},t.\u0275cmp=le({type:t,selectors:[["app-radial-stacked-bar-chart"]],viewQuery:function(i,o){if(i&1&&Be(y1e,5),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first)}},decls:5,vars:2,consts:[[3,"action","loading"],[1,"panel-body"],[1,"card"],[1,"chart-container"],["chartContainer",""]],template:function(i,o){i&1&&(k(0,"overlay",0)(1,"div",1)(2,"div",2),Q(3,"div",3,4),M()()()),i&2&&G("action","close")("loading",o.isLoading)},dependencies:[qf],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0003;border-top-left-radius:4px;border-top-right-radius:4px;text-align:center;background-color:#f1f1f1;height:50rem;width:60%;margin:10rem 25rem}"]});let e=t;return e})();var _b=(()=>{let t=class t{constructor(n){this.element=n,this.trades=[],this.productIds=["BTC-USD","ETH-USD","XRP-USD","XLM-USD","LTC-USD","BCH-USD","ZRX-USD","ALGO-USD","EOS-USD"],this.offset=0,this.margin={top:40,right:1,bottom:50,left:65},this.width=960,this.height=this.productIds.length*40,this.isLoading=!0,this.tooltip=W("body").append("div").attr("id","tooltip").style("opacity",0),this.parentElement=this.element.nativeElement}getChartWidth(){return this.parentElement.getBoundingClientRect().width}ngOnInit(){}ngOnChanges(n){if(setTimeout(()=>this.isLoading=!1,2e3),n.trades.currentValue&&this.trades.length>0&&this.offset===0){let i=new Date;this.offset=this.trades[0].dateObj.getTime()-i.getTime(),this.trades=n.trades.currentValue,this.updateInterval=nm(()=>this.updateChart(),20)}}ngAfterViewInit(){this.initializeChart()}ngOnDestroy(){this.updateInterval&&this.updateInterval.stop()}initializeChart(){this.svg&&!this.svg.empty()&&(this.svg.attr("width","0"),this.svg.selectAll("*").remove());let n=W(this.parentElement);this.svg=this.svg=n.select("svg").attr("viewBox","-55, -20, 680, 600").attr("preserveAspectRatio","xMidYMid meet").attr("width",this.getChartWidth()/1.2).attr("height",this.height),this.tooltip=W("body").append("div").attr("id","tooltip").style("opacity",0),this.x=hi().range([0,this.width]).domain(this.getTimeExtent()),this.y=ot().range([0,this.height]).domain(this.productIds).paddingOuter(.1),this.r=Hi().domain([0,1]).range([0,this.height]).exponent(.4),this.xAxisBottom=it(this.x).tickSizeOuter(0),this.xAxisTop=Jo(this.x).tickSizeOuter(0),this.yAxisLeft=Je(this.y).tickSizeOuter(0),this.yAxisRight=x2(this.y).tickValues([]),this.svg.append("g").attr("id","grid-lines").selectAll(".grid-line").data(this.productIds).enter().append("line").attr("x1",0).attr("x2",this.width).attr("y1",i=>this.y(i)+this.y.bandwidth()/2).attr("y2",i=>this.y(i)+this.y.bandwidth()/2).attr("stroke","#f1efef").attr("stroke-width","1px"),this.parentElement=this.svg.append("svg").attr("width",this.width).attr("height",this.height),this.svg.append("g").attr("transform",`translate(0,${this.height})`).attr("id","xAxisBottom").attr("class","axis").call(this.xAxisBottom),this.svg.append("g").attr("id","xAxisTop").attr("class","x axis").call(this.xAxisTop),this.svg.append("g").attr("class","axis").call(this.yAxisLeft),this.svg.append("g").attr("class","axis").attr("transform",`translate(${this.width}, 0)`).call(this.yAxisRight)}getTimeExtent(){let n=new Date,i=new Date(n.getTime()+this.offset);return[new Date(i.getTime()-60*1e3),i]}updateChart(){let n=this.getTimeExtent();this.x.domain(n),this.trades=this.trades.filter(s=>s.dateObj>new Date(n[0].getTime()-5e3));let i=s=>`<div>
                    <p>Product Id: ${s.product_id} |
                    <p>Time: ${s.dateObj.toLocaleTimeString().replace(" ",".ms ")} |
                    <p>Last Size: ${s.last_size} |
                    <p>Best Bid Size: ${s.best_bid_size}</p> |
                    <p>Volume: <strong>(${We(" ,")(s.volume_24h)})</strong>
                    </p>
                </div>`,o=this.parentElement.selectAll("circle").data(this.trades,s=>s.trade_id);o.exit().remove(),o.enter().append("circle").on("mousemove",(s,a)=>{this.tooltip.html(i(a)).style("left",s.pageX-35+"px").style("top",s.pageY-30+"px").style("border-radius","10px").style("pointer-events","none").attr("transform",`translate(${s.pageX-35}, ${s.pageY-30})`),this.tooltip.transition().duration(100).style("opacity",1)}).on("mouseout",s=>{this.tooltip.transition().duration(100).style("opacity",0).style("display","").style("text-decoration","none")}).attr("class",s=>s.side).attr("stroke","1px").style("fill",s=>s.side==="buy"?"green":"#ff5959").attr("r",s=>this.r(s.last_size/s.volume_24h)).attr("cy",s=>this.y(s.product_id)+this.y.bandwidth()/2).merge(o).attr("cx",s=>this.x(s.dateObj)),vn("#xAxisBottom").call(this.xAxisBottom),vn("#xAxisTop").call(this.xAxisTop)}};t.\u0275fac=function(i){return new(i||t)(X(Ye))},t.\u0275cmp=le({type:t,selectors:[["animated-bubble"]],inputs:{trades:"trades",productIds:"productIds"},features:[wn],decls:5,vars:1,consts:[[3,"loading"],[1,"panel-body"],[1,"chart-wrapper"],["id","img","width","1","height","1"],["width","1","height","1"]],template:function(i,o){i&1&&(k(0,"single-card",0)(1,"div",1)(2,"div",2),Q(3,"img",3),Ft(),Q(4,"svg",4),M()()()),i&2&&G("loading",o.isLoading)},dependencies:[kt],styles:[`a:not(:hover){text-decoration:none}#tooltip{position:absolute;padding:1px 3px;background:white;border:1px solid grey;border-radius:1px;pointer-events:none;text-align:center;white-space:nowrap}#tooltip p{margin:0;padding:0;font-size:10px}circle{fill:#c5d7ea;stroke:#000;stroke-width:.5px}.buy{fill:green}.sell{fill:#ff5959}.grid-line{stroke:#f1efef;stroke-width:1px}
`],encapsulation:2,changeDetection:0});let e=t;return e})();var hq=(()=>{let t=class t{constructor(){this.tradesSubject=new qt([]),this.trades$=this.tradesSubject.asObservable()}connect(n){let i="wss://ws-feed-public.sandbox.exchange.coinbase.com";this.webSocket=new WebSocket(i);let o={type:"subscribe",channels:[{name:"ticker",product_ids:n}]};this.webSocket.onopen=()=>{this.webSocket.send(JSON.stringify(o))},this.webSocket.onmessage=s=>{let a=JSON.parse(s.data);if(a.type==="ticker"){a.dateObj=new Date(a.time);let l=this.tradesSubject.value;this.tradesSubject.next([...l,a])}},this.webSocket.onerror=s=>{console.error("WebSocket error:",s)},this.webSocket.onclose=()=>{console.log("WebSocket connection closed")}}disconnect(){this.webSocket&&this.webSocket.close()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function b1e(e,t){if(e&1&&(k(0,"div",7),Q(1,"animated-bubble",8),M()),e&2){let r=_e();U(1),G("trades",r.trades)}}var pq=(()=>{let t=class t{constructor(n){this.webSocketService=n,this.trades=[],this.productIds=["BTC-USD","ETH-USD","XRP-USD","XLM-USD","LTC-USD","BCH-USD","ZRX-USD","ALGO-USD","EOS-USD"]}ngOnInit(){this.webSocketService.connect(this.productIds),this.subscription=this.webSocketService.trades$.subscribe(n=>{this.trades=n})}ngOnDestroy(){this.webSocketService.disconnect(),this.subscription&&this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(X(hq))},t.\u0275cmp=le({type:t,selectors:[["app-bubble-realtime-dashboard"]],decls:12,vars:1,consts:[["id","funnel",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[1,"grid"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[3,"trades"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"Crypto Trade Monitor"),M(),k(5,"div",2)(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),V(9,"Next \xBB"),M()()()()(),k(10,"div",5),ge(11,b1e,2,1,"div",6),M()),i&2&&(U(11),G("ngForOf",o.productIds))},dependencies:[Yt,gt,_b],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.column[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var mq=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["app-donut-realtime-dashboard"]],decls:29,vars:0,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/voronoi",1,"button","button2"],[1,"grid"],[1,"column"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"Browser Realtime Monitor"),M(),k(5,"div",2)(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),V(9,"Next \xBB"),M()()()()(),k(10,"div",5)(11,"div",6),Q(12,"donut-race"),M(),k(13,"div",6),Q(14,"donut-race"),M(),k(15,"div",6),Q(16,"donut-race"),M(),k(17,"div",6),Q(18,"donut-race"),M(),k(19,"div",6),Q(20,"donut-race"),M(),k(21,"div",6),Q(22,"donut-race"),M(),k(23,"div",6),Q(24,"donut-race"),M(),k(25,"div",6),Q(26,"donut-race"),M(),k(27,"div",6),Q(28,"donut-race"),M()())},dependencies:[gt,tb],styles:[".grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.column[_ngcontent-%COMP%]{width:100%}"]});let e=t;return e})();var w1e=["treeContainer"];function _1e(e,t){e&1&&(k(0,"div",14),V(1,"Loading MITRE ATT&CK data..."),M())}function C1e(e,t){if(e&1&&(k(0,"div",15),V(1),M()),e&2){let r=_e();U(1),Ze(r.error)}}var gq=(()=>{let t=class t{constructor(n){this.http=n,this.dataUrl="https://raw.githubusercontent.com/mitre-attack/attack-stix-data/master/enterprise-attack/enterprise-attack-13.1.json",this.loading=!1,this.error=null,this.width=928,this.marginTop=10,this.marginRight=10,this.marginBottom=10,this.marginLeft=40,this.dx=10,this.techniques=[],this.subtechniques=[],this.tactics=[],this.matrix=[],this.subtechniqueOf=[],this.searchFilter="",this.filteredTechniques=[],this.filteredSubtechniques=[],this.areTechniquesCollapsed=!1,this.dy=(this.width-this.marginRight-this.marginLeft)/2}ngOnInit(){this.loadData()}ngOnDestroy(){this.svg&&this.svg.remove()}loadData(){return Sn(this,null,function*(){this.loading=!0,this.error=null;try{let n=yield uw(this.http.get(this.dataUrl));this.processData(n),this.initializeChart()}catch(n){this.error="Failed to load MITRE ATT&CK data",console.error("Error loading data:",n)}finally{this.loading=!1}})}processData(n){let i=n.objects;this.techniques=i.filter(o=>o.type==="attack-pattern"&&o.x_mitre_is_subtechnique===!1),this.subtechniques=i.filter(o=>o.type==="attack-pattern"&&o.x_mitre_is_subtechnique===!0),this.tactics=i.filter(o=>o.type==="x-mitre-tactic"),this.matrix=i.filter(o=>o.type==="x-mitre-matrix"),this.subtechniqueOf=i.filter(o=>o.type==="relationship"&&o.relationship_type==="subtechnique-of"),this.filteredTechniques=[...this.techniques],this.filteredSubtechniques=[...this.subtechniques]}destroyChart(n){n&&!n.empty()&&(n.attr("width","0"),n.selectAll("*").remove())}initializeChart(){let n=this.buildAttackTree();this.root=En(n[0],i=>i.nodes),this.dy=(this.width-this.marginRight-this.marginLeft)/(1+this.root.height),this.tree=Fm().nodeSize([this.dx,this.dy]),this.diagonal=tg().x(i=>i.y).y(i=>i.x),this.destroyChart(this.svg),this.svg=W("#tree-container").append("svg").attr("width",this.width*1.5).attr("height",this.dx).attr("viewBox",[-this.marginLeft,-this.marginTop,this.width,this.dx]).style("max-width","100%").style("height","auto").style("font","10px sans-serif").style("user-select","none"),this.gLink=this.svg.append("g").attr("fill","none").attr("stroke","#555").attr("stroke-opacity",.4).attr("stroke-width",1.5),this.gNode=this.svg.append("g").attr("cursor","pointer").attr("pointer-events","all"),this.root.x0=this.dy/2,this.root.y0=0,this.root.descendants().forEach((i,o)=>{i.id=o,i._children=i.children,(i.data.type==="techniques"||i.data.type==="subtechnique")&&(i.children=null)}),this.update(null,this.root)}buildAttackTree(){return[this.getMatrix(this.matrix[0])]}getMatrix(n){return{type:"matrix",stix:n,nodes:this.getTactics()}}getTactics(){let n=[];for(let i of this.tactics){let o={type:"tactics",stix:i,nodes:this.getTechniques(i.x_mitre_shortname||"")};n.push(o)}return n}getTechniques(n){let i=[];for(let o of this.filteredTechniques)if((o.kill_chain_phases||[]).map(l=>l.phase_name).includes(n)){let l={type:"techniques",stix:o,nodes:this.getSubTechniques(o.id)};i.push(l)}return i.sort((o,s)=>o.stix.id.localeCompare(s.stix.id))}getSubTechniques(n){let i=[],o=this.subtechniqueOf.filter(s=>s.target_ref===n);for(let s of o){let a=s.source_ref,l=this.filteredSubtechniques.find(c=>c.id===a);if(l){let c={type:"subtechnique",stix:l,nodes:[]};i.push(c)}}return i.sort((s,a)=>s.stix.id.localeCompare(a.stix.id))}getNodeName(n){let i=n.data.stix,o=n.data.type,s="",a="";switch(o){case"tactics":case"techniques":case"subtechnique":s=i.name,a=i.external_references?.[0]?.external_id||"";break;case"matrix":s=i.name,a="";break;case"technique_detail":s="details",a="test";break;default:s=String(n)}return a?`${a}: ${s}`:s}highlightText(n,i){if(!i||!n)return n;let o=new RegExp(`(${i})`,"gi");return n.replace(o,'<span class="highlight">$1</span>')}update(n,i){let o=n?.altKey?2500:250,s=this.root.descendants().reverse(),a=this.root.links();this.tree(this.root);let l=this.root,c=this.root;this.root.eachBefore(x=>{x.x<l.x&&(l=x),x.x>c.x&&(c=x)});let u=c.x-l.x+this.marginTop+this.marginBottom,d=this.svg.transition().duration(o).attr("height",u).attr("viewBox",[-this.marginLeft-150,l.x-this.marginTop,this.width,u]),f=this.gNode.selectAll("g").data(s,x=>x.id),h=f.enter().append("g").attr("transform",`translate(${i.y0},${i.x0})`).attr("fill-opacity",0).attr("stroke-opacity",0).on("click",(x,C)=>{let w=(I,T)=>{I._children&&(I.children=T?null:I._children,I._children.forEach(z=>w(z,T)))},b=C.children!==null;w(C,b),this.update(x,C)});h.append("circle").attr("r",2.5).attr("fill",x=>x._children?"#555":"#999").attr("stroke-width",10),h.append("foreignObject").attr("x",x=>x._children?-150:15).attr("text-anchor",x=>x._children?"end":"start").attr("y",-5).attr("width",550).attr("height",15).append("xhtml:div").attr("class","node-text").style("font-size","10px").style("font-family","sans-serif").html(x=>{let C=this.getNodeName(x);return this.highlightText(C,this.searchFilter)}),f.merge(h).transition(d).attr("transform",x=>`translate(${x.y},${x.x})`).attr("fill-opacity",1).attr("stroke-opacity",1),f.select("foreignObject div").html(x=>{let C=this.getNodeName(x);return this.highlightText(C,this.searchFilter)}),f.exit().transition(d).remove().attr("transform",`translate(${i.y},${i.x})`).attr("fill-opacity",0).attr("stroke-opacity",0);let y=this.gLink.selectAll("path").data(a,x=>x.target.id),g=y.enter().append("path").attr("d",()=>{let x={x:i.x0,y:i.y0};return this.diagonal({source:x,target:x})});y.merge(g).transition(d).attr("d",this.diagonal),y.exit().transition(d).remove().attr("d",()=>{let x={x:i.x,y:i.y};return this.diagonal({source:x,target:x})}),this.root.eachBefore(x=>{x.x0=x.x,x.y0=x.y})}onSearchChange(){if(!this.searchFilter.trim())this.filteredTechniques=[...this.techniques],this.filteredSubtechniques=[...this.subtechniques];else{let n=this.searchFilter.toLowerCase(),i=this.techniques.filter(a=>a.name.toLowerCase().includes(n)||a.external_references?.[0]?.external_id.toLowerCase().includes(n)),o=this.subtechniques.filter(a=>a.name.toLowerCase().includes(n)||a.external_references?.[0]?.external_id.toLowerCase().includes(n)),s=new Set(this.subtechniqueOf.filter(a=>o.some(l=>l.id===a.source_ref)).map(a=>a.target_ref));this.filteredTechniques=this.techniques.filter(a=>i.includes(a)||s.has(a.id)),this.filteredSubtechniques=this.subtechniques.filter(a=>{let l=this.subtechniqueOf.find(c=>c.source_ref===a.id);return o.includes(a)||l&&this.filteredTechniques.some(c=>c.id===l.target_ref)})}this.initializeChart()}toggleAllTechniques(){this.areTechniquesCollapsed=!this.areTechniquesCollapsed;let n=i=>{i._children&&(i.children=this.areTechniquesCollapsed?null:i._children,i._children.forEach(n))};n(this.root),this.update(null,this.root)}};t.\u0275fac=function(i){return new(i||t)(X(Wt))},t.\u0275cmp=le({type:t,selectors:[["app-attack-tree"]],viewQuery:function(i,o){if(i&1&&Be(w1e,7),i&2){let s;Le(s=Ve())&&(o.treeContainer=s.first)}},inputs:{dataUrl:"dataUrl"},decls:20,vars:5,consts:[[1,"attack-tree-container"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/earth",1,"button","button2"],[3,"loading"],[1,"panel-body"],[1,"controls-container"],[1,"search-container"],["type","text","placeholder","Search techniques and subtechniques...",1,"search-input",3,"ngModel","ngModelChange"],[1,"toggle-button",3,"click"],["id","tree-container",1,"tree-container"],["class","loading",4,"ngIf"],["class","error",4,"ngIf"],[1,"loading"],[1,"error"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"MITRE ATT&CK Summary"),M(),k(5,"div",2)(6,"button",3),V(7,"\xAB Home"),M(),k(8,"button",4),V(9,"Next \xBB"),M()()()(),k(10,"single-card",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"input",9),te("ngModelChange",function(a){return o.searchFilter=a})("ngModelChange",function(){return o.onSearchChange()}),M()(),k(15,"button",10),te("click",function(){return o.toggleAllTechniques()}),V(16),M()(),Q(17,"div",11),M()(),ge(18,_1e,2,0,"div",12)(19,C1e,2,1,"div",13),M()),i&2&&(U(10),G("loading",!1),U(4),G("ngModel",o.searchFilter),U(2),ut(" ",o.areTechniquesCollapsed?"Expand All":"Collapse All"," "),U(2),G("ngIf",o.loading),U(1),G("ngIf",o.error))},dependencies:[mt,si,ai,Ci,gt,kt],styles:[".attack-tree-container[_ngcontent-%COMP%]{width:100%;height:600px;border:1px solid #ccc;position:relative}.tree-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 50px);overflow:auto}.controls-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px;background:#f5f5f5;border-bottom:1px solid #ccc}.search-container[_ngcontent-%COMP%]{flex:1}.search-input[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;font-size:14px}.toggle-button[_ngcontent-%COMP%]{padding:8px 16px;background:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;white-space:nowrap}.toggle-button[_ngcontent-%COMP%]:hover{background:#0056b3}.loading[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;background:rgba(255,255,255,.9);border-radius:4px}.error[_ngcontent-%COMP%]{color:red;border:1px solid red}.loading[_ngcontent-%COMP%]{color:#666;border:1px solid #ccc}.highlight[_ngcontent-%COMP%]{background-color:#ff0;padding:0 2px;border-radius:2px}.node-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]});let e=t;return e})();var yq=(()=>{let t=class t{constructor(n){this.el=n,this.matrixLoading=!0,this.rawdata=`Candidate,Company,Z,Network Security,Incident Response,Penetration Testing,Cloud Security,Application Security,Compliance,Threat Intelligence,Key Skill
`+this.generateCyberSecurityData()}ngAfterViewInit(){setTimeout(()=>{this.matrixLoading=!1,this.createMatrixChart()})}generateCyberSecurityData(){let n=["CyberGuard","NetDefend","SecureWave","FireWallX","CryptoSafe","ThreatLock","InfoSec Solutions","RedShield","BlueVector","DarkTrace"],i=["Finance","Healthcare","Retail","Energy","Telecom","Education","Government","Technology","Manufacturing","Logistics"],o=(l,c)=>(Math.random()*(c-l)+l).toFixed(2),s=(l,c)=>Math.floor(Math.random()*(c-l+1))+l,a="";for(let l=0;l<n.length;l++){let c=n[l],u=i[l],d=o(7.5,9.5),f=s(3,5),h=s(3,5),m=s(3,5),y=s(3,5),g=s(3,5),x=s(3,5),C=s(3,5),w=(f+h+m+y+g+x+C)/7;a+=`${c},${u},${d},${f},${h},${m},${y},${g},${x},${C},${w.toFixed(2)}
`}return a}createMatrixChart(){W(this.el.nativeElement).select("#matrixChart").selectAll("svg").remove();let d=W(this.el.nativeElement).select("#matrixChart").append("svg").attr("width",130+80+40+600+20+30).attr("height",150+600),f=pl(this.rawdata),h=f.columns.filter(L=>!(L in{Z:0,"Key Skill":0,Company:0,Candidate:0})),m=f.map(L=>L.Candidate),y=[];for(let L of f)for(let Z of h)y.push({name:L.Candidate,prop:Z,value:+L[Z]});let g=(600-20-50)/(h.length+1),x=(600-20*2-20)/(m.length+1),C=h.map((L,Z)=>130+80+40+50+(1+g)*Z),w=m.map((L,Z)=>150+20+(1+x)*Z),b=Xe(h,C),I=Xe(m,w),T=5,z=be().domain([0,T]).range([0,16]),H=L=>L?L.replace(/\s+/gi,""):"",q=L=>L in{"Managed Money":0,Location:0}?"0.5":L in{Municipal:0}?"0.3":"1.0",$=L=>{let Z=H(L.name),ee=H(L.prop);ee&&d.selectAll(`text.label.${ee}`).attr("display","block"),Z&&d.selectAll(`text.label.${Z}`).attr("display","block")},D=L=>{(!L.name||!L.prop)&&console.warn("onMouseOut: missing name or prop",L);let Z=H(L.name),ee=H(L.prop);ee&&d.selectAll(`text.label.${ee}`).attr("display","none"),Z&&d.selectAll(`text.label.${Z}`).attr("display","none")},O=d.selectAll("g.cgroup").data(y,(L,Z)=>`cgroup${Z}`).enter().append("g").attr("class","cgroup").attr("opacity",L=>q(L.prop)).on("mouseleave",function(L,Z){D(Z)}).on("mouseenter",function(L,Z){$(Z)}),j=O.append("circle").attr("class",L=>"circle "+H(L.prop)+" "+H(L.name)).attr("cx",L=>b(L.prop)).attr("cy",L=>I(L.name));O.append("text").attr("class",L=>"label "+H(L.prop)+" "+H(L.name)).attr("display","none").attr("text-anchor","middle").attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("x",L=>b(L.prop)).attr("y",L=>I(L.name)).text(L=>L.value);let N=130+80/2,E=d.selectAll("g.zcgroup").data(f,(L,Z)=>`zcgroup${Z}`).enter().append("g").attr("class","zcgroup").on("mouseleave",function(L,Z){Z.name=Z.Candidate,Z.prop="Z-Score",D(Z)}).on("mouseenter",function(L,Z){Z.name=Z.Candidate,Z.prop="Z-Score",$(Z)}),A=E.append("circle").attr("class",L=>"zcircle "+H("Z-Score")+" "+H(L.Candidate)).attr("cx",L=>N).attr("cy",L=>I(L.Candidate));E.append("text").attr("class",L=>"label "+H("Z-Score")+" "+H(L.Candidate)).attr("display","none").attr("text-anchor","middle").attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("x",L=>N).attr("y",L=>I(L.Candidate)).text(L=>L.Z);let R=130+80+40/2,B=d.selectAll("g.kcgroup").data(f,(L,Z)=>`kcgroup${Z}`).enter().append("g").attr("class","kcgroup").on("mouseleave",function(L,Z){Z.name=Z.Candidate,Z.prop="Key Skill",D(Z)}).on("mouseenter",function(L,Z){Z.name=Z.Candidate,Z.prop="Key Skill",$(Z)}),P=B.append("circle").attr("class",L=>"kcircle "+H("Key Skill")+" "+H(L.Candidate)).attr("cx",L=>R).attr("cy",L=>I(L.Candidate));B.append("text").attr("class",L=>"label "+H("Key Skill")+" "+H(L.Candidate)).attr("display","none").attr("text-anchor","middle").attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("x",L=>R).attr("y",L=>I(L.Candidate)).text(L=>L["Key Skill"]),d.selectAll("text.trait").data(h).enter().append("text").attr("class",L=>"trait "+H(L)).attr("x",L=>b(L)).attr("y",150-10).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("opacity",L=>q(L)).attr("transform",L=>`rotate(-40 ${b(L)},${150-10})`).text(L=>L),d.append("text").attr("class","trait "+H("Z-Score")).attr("x",N).attr("y",150-10).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("opacity",L=>q(L)).attr("transform",`rotate(-40 ${N},${150-10})`).text("Z-Score"),d.append("text").attr("class","trait "+H("Key Skill")).attr("x",R).attr("y",150-10).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").attr("opacity",L=>q(L)).attr("transform",`rotate(-40 ${R},${150-10})`).text("Key Skill"),d.selectAll("text.candidate").data(m).enter().append("text").attr("class","candidate").attr("x",10).attr("y",L=>I(L)).attr("font-size","14px").attr("stroke","black").attr("fill","black").attr("stroke-width","1px").text(L=>L),j.transition().duration(800).attr("r",L=>z(L.value)).attr("fill",L=>Km(L.value/7)),P.transition().duration(1600).attr("r",L=>z(L["Key Skill"])).attr("fill",L=>Km(L["Key Skill"]/7)),A.transition().duration(2400).attr("r",L=>z(L.Z)/2).attr("fill",L=>ux(L.Z/12))}};t.\u0275fac=function(i){return new(i||t)(X(Ye))},t.\u0275cmp=le({type:t,selectors:[["app-matrix"]],decls:3,vars:1,consts:[[3,"loading"],[1,"panel-body"],["id","matrixChart"]],template:function(i,o){i&1&&(k(0,"single-card",0)(1,"div",1),Q(2,"div",2),M()()),i&2&&G("loading",o.matrixLoading)},dependencies:[kt]});let e=t;return e})();var D1e=["chartContainer"],vq=(()=>{let t=class t{constructor(){this.areaLoading=!0,this.width=400,this.height=250,this.margin=25,this.tickInterval=500,this.timeWindow=6e4,this.animation=!0,this.n=120,this.colorScale=Tn(Ar).domain([0,4]),this.fill=this.colorScale(0),this.fill2=this.colorScale(1),this.fill3=this.colorScale(2),this.fill4=this.colorScale(3),this.fill5=this.colorScale(4),this.data=[],this.data2=[],this.data3=[],this.data4=[],this.data5=[]}generateData(n,i,o,s,a){let l=o,c=Date.now(),u=this.timeWindow;return $t(n).map((d,f)=>{let h=(Math.random()-.5)*.2;return l=l+h<s||l+h>a?l-h:l+h,{date:c-u+f*(u/(n-1)),value:l}})}refreshDataArray(n,i,o,s,a){let l=Date.now(),c=this.timeWindow,u=n.filter(m=>m.date>=l-c);u.length===0&&u.push({date:l,value:(s+a)/2});let d=u.length>0?u[u.length-1].value:(s+a)/2,f=(Math.random()-.5)*.2,h=d+f;return h=Math.max(s,Math.min(a,h)),u.push({date:l,value:h}),u.length>i&&(u=u.slice(u.length-i)),u}animateSelect(n){W(n).style("font-size","0px").interrupt().transition().ease(_c).duration(200).style("width","20px").transition().ease(dl).duration(300).style("font-size","12px").style("width","100px")}t(n,i){n.interrupt().transition().ease(ci).duration(this.tickInterval).call(i)}getYDomain(){let n=[...this.data.map(a=>a.value),...this.data2.map(a=>a.value),...this.data3.map(a=>a.value),...this.data4.map(a=>a.value),...this.data5.map(a=>a.value)],i=Math.min(...n),o=Math.max(...n),s=.1*(o-i||1);return[i-s,o+s]}ngAfterViewInit(){this.data=this.generateData(this.n,this.tickInterval,1,.4,1.6),this.data2=this.generateData(this.n,this.tickInterval,.8,.4,1.6),this.data3=this.generateData(this.n,this.tickInterval,1.2,.4,1.6),this.data4=this.generateData(this.n,this.tickInterval,.6,.4,1.6),this.data5=this.generateData(this.n,this.tickInterval,1.4,.4,1.6),this.createChart(),this.dataSub=fw(this.tickInterval).subscribe(()=>{this.areaLoading=!1,this.data=this.refreshDataArray(this.data,this.n,this.tickInterval,.4,1.6),this.data2=this.refreshDataArray(this.data2,this.n,this.tickInterval,.4,1.6),this.data3=this.refreshDataArray(this.data3,this.n,this.tickInterval,.4,1.6),this.data4=this.refreshDataArray(this.data4,this.n,this.tickInterval,.4,1.6),this.data5=this.refreshDataArray(this.data5,this.n,this.tickInterval,.4,1.6),this.updateChart()})}ngOnDestroy(){this.dataSub?.unsubscribe()}createChart(){let n=this.chartContainer.nativeElement;this.width=n.offsetWidth||400;let i="area-gradient",o="area-gradient2",s="area-gradient3",a="area-gradient4",l="area-gradient5";W(n).selectAll("*").remove(),this.svg=W(n).append("svg").attr("viewBox",[0,0,this.width,this.height].join(" ")).attr("width",this.width).attr("height",this.height);let c=this.svg.append("defs");c.append("linearGradient").attr("id",i).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(Sr(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Xt("white",this.fill)),c.append("linearGradient").attr("id",o).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(Sr(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Xt("white",this.fill2)),c.append("linearGradient").attr("id",s).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(Sr(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Xt("white",this.fill3)),c.append("linearGradient").attr("id",a).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(Sr(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Xt("white",this.fill4)),c.append("linearGradient").attr("id",l).attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("y1","100%").attr("x2",0).attr("y2","40%").selectAll("stop").data(Sr(0,1,10)).join("stop").attr("offset",g=>g).attr("stop-opacity",g=>g).attr("stop-color",Xt("white",this.fill5));let y=Date.now();this.x=hi().domain([y-this.timeWindow,y]).range([this.margin*2,this.width+this.margin]),this.y=be().domain([0,2]).range([this.height-this.margin,this.margin*.5]),this.area=gs().curve(pi).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area2=gs().curve(pi).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area3=gs().curve(pi).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area4=gs().curve(pi).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.area5=gs().curve(pi).x(g=>this.x(g.date)).y0(this.y(0)).y1(g=>this.y(g.value)),this.xAxis=g=>g.attr("transform",`translate(0, ${this.y.range()[0]})`).call(it(this.x).tickSizeOuter(0)),this.yAxis=g=>g.attr("transform",`translate(${this.x.range()[0]})`).call(Je(this.y).ticks(3).tickSizeOuter(this.margin)).call(x=>x.style("fill","white")).call(x=>x.select(".domain").style("stroke","white")).call(x=>x.selectAll(".tick > text").attr("dx",-this.margin*.2)).call(x=>x.selectAll(".tick > line").attr("x1",-this.margin*.2).attr("x2",-this.margin*.4)),this.xG=this.svg.append("g").attr("transform",`translate(0, ${this.height-this.margin})`),this.yG=this.svg.append("g"),this.path5=this.svg.append("path").datum(this.data5).attr("stroke",this.fill5).attr("fill",`url(#${l})`).attr("d",this.area5).attr("opacity",.7),this.path4=this.svg.append("path").datum(this.data4).attr("stroke",this.fill4).attr("fill",`url(#${a})`).attr("d",this.area4).attr("opacity",.7),this.path3=this.svg.append("path").datum(this.data3).attr("stroke",this.fill3).attr("fill",`url(#${s})`).attr("d",this.area3).attr("opacity",.7),this.path2=this.svg.append("path").datum(this.data2).attr("stroke",this.fill2).attr("fill",`url(#${o})`).attr("d",this.area2).attr("opacity",.8),this.path=this.svg.append("path").datum(this.data).attr("stroke",this.fill).attr("fill",`url(#${i})`).attr("d",this.area).attr("opacity",.9),this.xG.call(this.xAxis),this.yG.call(this.yAxis)}updateChart(){let n=Date.now();this.x.domain([n-this.timeWindow,n]),this.y.domain([0,2]),this.path.datum(this.data),this.path2.datum(this.data2),this.path3.datum(this.data3),this.path4.datum(this.data4),this.path5.datum(this.data5),this.t(this.path,i=>i.attr("d",this.area)),this.t(this.path2,i=>i.attr("d",this.area2)),this.t(this.path3,i=>i.attr("d",this.area3)),this.t(this.path4,i=>i.attr("d",this.area4)),this.t(this.path5,i=>i.attr("d",this.area5)),this.t(this.xG,i=>this.xAxis(i)),this.yG.call(this.yAxis)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["animated-area"]],viewQuery:function(i,o){if(i&1&&Be(D1e,7),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first)}},decls:12,vars:1,consts:[[3,"change"],["demoSelect",""],["value","1"],["value","2"],["value","3"],[3,"loading"],[1,"panel-body"],[2,"width","100%","height","100%"],["chartContainer",""]],template:function(i,o){if(i&1){let s=bt();k(0,"select",0,1),te("change",function(){lt(s);let l=rc(1);return ct(o.animateSelect(l))}),k(2,"option",2),V(3,"Option 1"),M(),k(4,"option",3),V(5,"Option 2"),M(),k(6,"option",4),V(7,"Option 3"),M()(),k(8,"single-card",5)(9,"div",6),Q(10,"div",7,8),M()()}i&2&&(U(8),G("loading",o.areaLoading))},dependencies:[Cr,Dr,kt]});let e=t;return e})();var S1e=["chartContainer"],M1e=["legendContainer"];function E1e(e,t){e&1&&(k(0,"div",26)(1,"header")(2,"div",27)(3,"h1"),V(4,"Incident Tracking Chart"),M(),k(5,"div",28)(6,"button",29),V(7,"\xAB Home"),M(),k(8,"button",30),V(9,"Next \xBB"),M()()()()())}function T1e(e,t){e&1&&(k(0,"div",31),V(1,"Loading..."),M())}var xq=(()=>{let t=class t{constructor(n,i){this.http=n,this.route=i,this.data=[],this.activatedRoute="",this.chartLoading=!0,this.order="Incident",this.isLoading=!0,this.width=900,this.height=Math.min(this.width,1e3),this.margin={top:20,right:20,bottom:130,left:20},this.chartScale=1,this.circleScale=1,this.enableZoom=!0,this.showLegend=!0,this.selectedSectors=new Set}ngAfterViewInit(){this.route.url.subscribe(n=>{this.activatedRoute=n[0].path}),this.loadData()}onOrderChange(n){this.order=n,this.sortData(),this.renderChart()}onScaleChange(n){this.chartScale=n,this.renderChart()}onCircleScaleChange(n){this.circleScale=n,this.renderChart()}onZoomToggle(n){this.enableZoom=n,this.renderChart()}onLegendToggle(n){this.showLegend=n,this.renderChart()}onLegendItemClick(n){this.selectedSectors.has(n)?this.selectedSectors.delete(n):this.selectedSectors.add(n),this.selectedSectors.size===this.data.length&&this.selectedSectors.clear(),this.renderChart()}resetLegendSelection(){this.selectedSectors.clear(),this.renderChart()}loadData(){this.http.get("assets/datasets/unemployment.csv",{responseType:"text"}).subscribe(n=>{let i=pl(n,ta);this.data=i,this.chartLoading=!1,this.sortData(),this.renderChart(),this.isLoading=!1})}sortData(){this.data.sort((n,i)=>at(n[this.order],i[this.order]))}renderChart(){W(this.chartContainer.nativeElement).selectAll("*").remove(),this.legendContainer.nativeElement.innerHTML="";let n=this.width*this.chartScale,i=this.height*this.chartScale,o=this.margin,s=this.data,a=W(this.chartContainer.nativeElement).append("svg").attr("viewBox",[-n/2,-i/2,n,i].join(" ")).style("padding-top",`${o.top}px`),l=a.append("g").attr("class","main-group"),c=be().domain([0,20]).range([0,-Math.PI]),u=be().domain([0,s.length+1]).range([80*this.circleScale,i/2*this.circleScale]),d=be().domain([0,s.length+1]).range([20,i-o.bottom-60]),f=sn().startAngle(0),h=(C,w,b,I)=>f({innerRadius:u(w)-20,outerRadius:u(w+1)-20,startAngle:30,endAngle:b*c(C[I])}),m=l.append("g").attr("class","temp").selectAll("path").data(s).join("path").attr("opacity",1).attr("data-state",C=>`${C.sector}`).attr("fill","#7f8c8d").attr("stroke","#fff").attr("stroke-width",2).attr("d",(C,w)=>h(C,w,1,"sept2019")),y=l.append("g").selectAll("path").data(s).join("path").attr("opacity",1).attr("data-state",C=>`${C.sector}`).attr("fill","#d35400").attr("stroke","#fff").attr("stroke-width",2).attr("d",(C,w)=>h(C,w,-1,"sept2020"));this.selectedSectors.size===0?(m.on("mousemove",(C,w)=>this.mousemove(C,w,a)).on("mouseleave",()=>this.mouseleave(a)),y.on("mousemove",(C,w)=>this.mousemove(C,w,a)).on("mouseleave",()=>this.mouseleave(a))):(m.on("mousemove",null).on("mouseleave",null),y.on("mousemove",null).on("mouseleave",null));let g=C=>{l.attr("transform",C.transform)};if(this.enableZoom&&a.call(mi().on("zoom",g)),this.showLegend){let C='<div style="font-size: 10px; margin-bottom: 8px; cursor:pointer; color:#1976d2; font-weight:bold;" id="reset-legend-selection">Reset Selection</div>';C+=this.data.map(b=>`<div class="legend-item${this.selectedSectors.size>0&&!this.selectedSectors.has(b.sector)?" legend-blur":""}" data-sector="${b.sector}" style="font-size: 10px; margin-bottom: 4px; cursor:pointer;${this.selectedSectors.size>0&&!this.selectedSectors.has(b.sector)?"opacity:0.2;":""}">
          <span style='font-weight:bold;'>${b.sector}</span> <span style='color:#888;'>+${b.change} pts</span>
        </div>`).join(""),this.legendContainer.nativeElement.innerHTML=C,Array.from(this.legendContainer.nativeElement.querySelectorAll(".legend-item")).forEach(b=>{b.onclick=()=>this.onLegendItemClick(b.getAttribute("data-sector"))});let w=this.legendContainer.nativeElement.querySelector("#reset-legend-selection");w&&(w.onclick=()=>this.resetLegendSelection())}else this.legendContainer.nativeElement.innerHTML="";this.selectedSectors.size>0&&this.selectedSectors.size<this.data.length?W(this.chartContainer.nativeElement).selectAll("[data-state]").attr("opacity",C=>this.selectedSectors.has(C.sector)?1:.2):W(this.chartContainer.nativeElement).selectAll("[data-state]").attr("opacity",1);let x=a.append("g").attr("font-size",25).attr("font-weight","bold").attr("transform",`translate(-${n/2} -${i/2-o.top})`);x.append("text").attr("fill","#7f8c8d").attr("x",n/2-60).text("2019"),x.append("text").attr("fill","#d35400").attr("x",n/2+5).text("2020"),this.yAxis(l,c,u,s,o,i)}yAxis(n,i,o,s,a,l){n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("g").data($t(0,21,5)).join("g").each((c,u,d)=>{W(d[u]).append("path").attr("stroke","#000").attr("stroke-opacity",.2).attr("d",()=>{let f=Or(i(c),o(0)-40),h=Or(i(c),o(s.length/2));return`M${f[0]},${f[1]}L${h[0]},${h[1]}`}),W(d[u]).append("text").attr("x",Or(i(c),60)[0]).attr("y",Or(i(c),60)[1]).text(`${$t(0,21,5)[u]}%`)}),n.append("g").attr("font-family","sans-serif").attr("font-size",10).attr("text-anchor","middle").selectAll("g").data($t(0,21,5)).join("g").each((c,u,d)=>{W(d[u]).append("path").attr("stroke","#000").attr("stroke-opacity",.2).attr("d",()=>{let f=Or(-i(c),o(0)-40),h=Or(-i(c),o(s.length/2));return`M${f[0]},${f[1]}L${h[0]},${h[1]}`}),W(d[u]).append("text").attr("x",Or(-i(c),60)[0]).attr("y",Or(-i(c),60)[1]).text(`${$t(0,21,5)[u]}%`)})}mousemove(n,i,o){vn("[data-state]").attr("opacity",.2),vn(`[data-state="${i.sector}"]`).attr("opacity",1),vn(`[data-state="${i.sector}"]`).style("display","block"),vn(`.sector[data-state="${i.sector}"]`).attr("font-size",18)}mouseleave(n){vn("[data-state]").attr("opacity",1),vn(".title").style("display","none"),vn(".sector").attr("font-size",10)}};t.\u0275fac=function(i){return new(i||t)(X(Wt),X($n))},t.\u0275cmp=le({type:t,selectors:[["app-diverging-radial-bar"]],viewQuery:function(i,o){if(i&1&&(Be(S1e,7),Be(M1e,7)),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first),Le(s=Ve())&&(o.legendContainer=s.first)}},decls:40,vars:24,consts:[["class","button-group","id","incident",4,"ngIf"],[3,"loading"],[1,"panel-body",2,"position","relative"],[1,"slider-wrapper",2,"margin-bottom","1rem","text-align","center"],["for","legendCheckbox",2,"margin-right","1rem"],["id","legendCheckbox","type","checkbox",3,"checked","change"],["legendCheckbox",""],["for","zoomCheckbox",2,"margin-right","1rem"],["id","zoomCheckbox","type","checkbox",3,"checked","change"],["zoomCheckbox",""],["for","scaleSlider"],["id","scaleSlider","type","range","min","0.5","max","2","step","0.05",3,"ngModel","ngModelChange","input"],["for","circleScaleSlider"],["id","circleScaleSlider","type","range","min","0.5","max","2","step","0.05",3,"ngModel","ngModelChange","input"],[1,"btn-wrapper"],["id","employees",1,"btn"],["value","employees","name","order","type","radio",3,"checked","change"],["id","incidents2020",1,"btn"],["value","incidents2020","name","order","type","radio",3,"checked","change"],["id","change",1,"btn"],["value","change","name","order","type","radio",3,"checked","change"],[1,"legend-container"],["legendContainer",""],[1,"chart-container"],["chartContainer",""],["class","loading",4,"ngIf"],["id","incident",1,"button-group"],[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/browser",1,"button","button2"],[1,"loading"]],template:function(i,o){if(i&1){let s=bt();ge(0,E1e,10,0,"div",0),k(1,"single-card",1)(2,"div",2)(3,"div",3)(4,"label",4)(5,"input",5,6),te("change",function(){lt(s);let l=rc(6);return ct(o.onLegendToggle(l.checked))}),M(),V(7," Show Legend "),M(),k(8,"label",7)(9,"input",8,9),te("change",function(){lt(s);let l=rc(10);return ct(o.onZoomToggle(l.checked))}),M(),V(11," Enable Zoom "),M(),k(12,"label",10),V(13,"Chart Size: "),M(),k(14,"input",11),te("ngModelChange",function(l){return o.chartScale=l})("input",function(){return o.onScaleChange(o.chartScale)}),M(),k(15,"span"),V(16),Vh(17,"number"),M()(),k(18,"div",3)(19,"label",12),V(20,"Circle Size: "),M(),k(21,"input",13),te("ngModelChange",function(l){return o.circleScale=l})("input",function(){return o.onCircleScaleChange(o.circleScale)}),M(),k(22,"span"),V(23),Vh(24,"number"),M()(),k(25,"div",14)(26,"label",15)(27,"input",16),te("change",function(){return o.onOrderChange("employees")}),M(),V(28," Companies "),M(),k(29,"label",17)(30,"input",18),te("change",function(){return o.onOrderChange("incidents2020")}),M(),V(31," 2020 Incidents "),M(),k(32,"label",19)(33,"input",20),te("change",function(){return o.onOrderChange("change")}),M(),V(34," Change "),M()(),Q(35,"div",21,22)(37,"div",23,24),ge(39,T1e,2,0,"div",25),M()()}i&2&&(G("ngIf",o.activatedRoute==="labour"),U(1),G("loading",o.chartLoading),U(4),G("checked",o.showLegend),U(4),G("checked",o.enableZoom),U(5),G("ngModel",o.chartScale),U(2),ut("",O4(17,18,o.chartScale,"1.2-2"),"x"),U(5),G("ngModel",o.circleScale),U(2),ut("",O4(24,21,o.circleScale,"1.2-2"),"x"),U(3),rn("active",o.order==="employees"),U(1),G("checked",o.order==="employees"),U(2),rn("active",o.order==="incidents2020"),U(1),G("checked",o.order==="incidents2020"),U(2),rn("active",o.order==="change"),U(1),G("checked",o.order==="change"),U(6),G("ngIf",o.isLoading))},dependencies:[mt,si,O5,ai,Ci,gt,kt,iI],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.btn-wrapper[_ngcontent-%COMP%]{display:block;text-align:center;margin-bottom:20px}.btn[_ngcontent-%COMP%]{border:1px solid #7d7d7d;color:#7d7d7d;margin-top:20px;padding:10px 15px 10px 10px;text-align:center;cursor:pointer;background-color:#fff}.btn.active[_ngcontent-%COMP%]{background-color:#7d7d7d;border:1px solid #7d7d7d;color:#fff}.loading[_ngcontent-%COMP%]{text-align:center;font-size:1.5rem;color:#7d7d7d;margin-top:2rem}.legend-container[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;width:220px;position:absolute;left:0;top:20rem;background:rgba(255,255,255,.85);z-index:2;padding:8px 0 8px 8px}@media only screen and (max-width: 500px){.btn-wrapper[_ngcontent-%COMP%]{display:grid}}"]});let e=t;return e})();var bq=(()=>{let t=class t{constructor(){this.largeMatchMedia=window.matchMedia("(min-width: 53.8rem)"),this.extendedMatchMedia=window.matchMedia("(min-width: 100rem)"),this.windowSize$=new qt(this.getWindowSize()),this.windowSize=this.windowSize$.pipe(so()),Ps(window,"resize").pipe(Ns(100)).subscribe(n=>this.onResize())}isLargePresentation(){return this.largeMatchMedia.matches}isExtendedPresentation(){return this.extendedMatchMedia.matches}triggerResize(){this.onResize()}onResize(){this.windowSize$.next(this.getWindowSize())}getWindowSize(){return{height:window.innerHeight,width:window.innerWidth}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=ue({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function I1e(e,t){e&1&&(Ft(),zn(),k(0,"div",5),V(1," Loading heatmap data... "),M())}var wq=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.heatmapData=[],this.channels=[],this.priceRanges=[],this.isLoading=!0,this.margins={top:80,right:100,bottom:80,left:120},this.height=500,this.width=700,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&(this.processHeatmapData(),this.renderChart())})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(",");this.data=i.slice(1).map(s=>{let a=s.split(","),l={};return o.forEach((c,u)=>{l[c]=a[u]||""}),l}).filter(s=>s.Price_From_1&&s.Price_To_1&&s.Percent_1),this.channels=[...new Set(this.data.map(s=>s.Channel))]}processHeatmapData(){let n=this.data.map(c=>+c.Price_From_1).filter(c=>!isNaN(c)),i=this.data.map(c=>+c.Price_To_1).filter(c=>!isNaN(c)),o=Math.min(...n),s=Math.max(...i),a=10,l=(s-o)/a;this.priceRanges=[];for(let c=0;c<a;c++){let u=o+c*l,d=o+(c+1)*l;this.priceRanges.push(`$${u.toFixed(2)}-$${d.toFixed(2)}`)}this.heatmapData=[],this.channels.forEach(c=>{this.priceRanges.forEach((u,d)=>{let f=o+d*l,h=o+(d+1)*l,m=this.data.filter(g=>g.Channel===c&&+g.Price_From_1>=f&&+g.Price_From_1<h),y=m.length>0?m.reduce((g,x)=>g+ +x.Percent_1,0)/m.length:0;this.heatmapData.push({channel:c,priceRange:u,value:y,count:m.length})})})}renderChart(){this.destroyChart(),this.createHeatmap()}createHeatmap(){let n=this.margins,i=this.width-n.left-n.right,o=this.height-n.top-n.bottom;this.svg=W(this.parentElement).select("svg").attr("width",this.width).attr("height",this.height);let s=this.svg.append("g").attr("transform",`translate(${n.left},${n.top})`),a=ot().domain(this.priceRanges).range([0,i]).padding(.05),l=ot().domain(this.channels).range([0,o]).padding(.05),c=Ue(this.heatmapData,d=>d.value)||100,u=Tn(dx).domain([0,c]);s.selectAll(".heatmap-cell").data(this.heatmapData).enter().append("rect").attr("class","heatmap-cell").attr("x",d=>a(d.priceRange)).attr("y",d=>l(d.channel)).attr("width",a.bandwidth()).attr("height",l.bandwidth()).attr("fill",d=>d.value>0?u(d.value):"#f0f0f0").attr("stroke","#white").attr("stroke-width",1).on("mouseover",function(d,f){let h=W("body").append("div").attr("class","tooltip").style("opacity",0);h.transition().duration(200).style("opacity",.9),h.html(`
          <strong>Channel:</strong> ${f.channel}<br/>
          <strong>Price Range:</strong> ${f.priceRange}<br/>
          <strong>Avg Percentage:</strong> ${f.value.toFixed(1)}%<br/>
          <strong>Data Points:</strong> ${f.count}
        `).style("left",d.pageX+10+"px").style("top",d.pageY-28+"px")}).on("mouseout",function(){vn(".tooltip").remove()}),s.selectAll(".cell-label").data(this.heatmapData.filter(d=>d.value>0)).enter().append("text").attr("class","cell-label").attr("x",d=>a(d.priceRange)+a.bandwidth()/2).attr("y",d=>l(d.channel)+l.bandwidth()/2).attr("text-anchor","middle").attr("dy","0.35em").style("font-size","10px").style("fill",d=>d.value>c*.6?"white":"black").style("font-weight","bold").text(d=>d.value.toFixed(0)),s.append("g").attr("class","x-axis").attr("transform",`translate(0,${o})`).call(it(a)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),s.append("g").attr("class","y-axis").call(Je(l)),s.append("text").attr("transform","rotate(-90)").attr("y",0-n.left).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Channel"),s.append("text").attr("transform",`translate(${i/2}, ${o+n.bottom-10})`).style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Price Range"),this.svg.append("text").attr("x",this.width/2).attr("y",30).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").text("Price Range vs Channel Heatmap"),this.createColorLegend(s,i,o,u,c)}createColorLegend(n,i,o,s,a){let u=i-200,d=-50,f=n.append("g").attr("class","legend").attr("transform",`translate(${u}, ${d})`),m=this.svg.append("defs").append("linearGradient").attr("id","heatmap-gradient").attr("x1","0%").attr("x2","100%").attr("y1","0%").attr("y2","0%"),y=10;for(let g=0;g<=y;g++)m.append("stop").attr("offset",`${g/y*100}%`).attr("style",`stop-color:${s(a*(g/y))};stop-opacity:1`);f.append("rect").attr("width",200).attr("height",10).style("fill","url(#heatmap-gradient)").style("stroke","#333").style("stroke-width",1),f.append("text").attr("x",0).attr("y",10+15).style("font-size","12px").text("0%"),f.append("text").attr("x",200).attr("y",10+15).attr("text-anchor","end").style("font-size","12px").text(`${a.toFixed(0)}%`),f.append("text").attr("x",200/2).attr("y",-5).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").text("Average Percentage")}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Wt))},t.\u0275cmp=le({type:t,selectors:[["price-heatmap"]],decls:8,vars:1,consts:[[1,"chart-container"],[1,"chart-header"],[1,"chart-description"],["width","1","height","1"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"h3"),V(3,"Price Range vs Channel Heatmap"),M(),k(4,"p",2),V(5,"Intensity represents average percentage values across price ranges and channels"),M()(),Ft(),Q(6,"svg",3),ge(7,I1e,2,0,"div",4),M()),i&2&&(U(7),G("ngIf",o.isLoading))},dependencies:[mt],styles:[`.chart-container{padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:20px 0}.chart-container .chart-header{text-align:center;margin-bottom:30px}.chart-container .chart-header h3{margin:0 0 8px;color:#333;font-size:24px}.chart-container .chart-header .chart-description{margin:0;color:#666;font-style:italic}.chart-container .chart-content svg{display:block;margin:0 auto;border:1px solid #eee}.chart-container .loading{text-align:center;padding:50px;color:#666;font-style:italic}.tooltip{position:absolute;text-align:left;padding:10px;font-size:12px;background:rgba(0,0,0,.9);color:#fff;border-radius:4px;pointer-events:none;box-shadow:0 2px 8px #0000004d}.heatmap-cell{cursor:pointer}.heatmap-cell:hover{stroke:#333!important;stroke-width:2!important}.x-axis .domain,.y-axis .domain{stroke:#333}.x-axis .tick line,.y-axis .tick line{stroke:#333}.x-axis .tick text,.y-axis .tick text{fill:#333;font-size:12px}.cell-label{pointer-events:none}.legend .tick text{font-size:10px}
`],encapsulation:2});let e=t;return e})();function O1e(e,t){if(e&1&&(k(0,"option",7),V(1),M()),e&2){let r=t.$implicit;G("value",r),U(1),Ze(r)}}function P1e(e,t){if(e&1&&(k(0,"option",7),V(1),M()),e&2){let r=t.$implicit;G("value",r),U(1),Ze(r)}}function N1e(e,t){e&1&&(Ft(),zn(),k(0,"div",8),V(1," Loading scatter plot data... "),M())}var _q=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.filteredData=[],this.regions=[],this.channels=[],this.selectedRegion="All",this.selectedChannel="All",this.isLoading=!0,this.margins={top:60,right:150,bottom:80,left:80},this.height=500,this.width=800,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&(this.filteredData=[...this.data],this.renderChart())})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(","),s=i.slice(1).map(a=>{let l=a.split(","),c={};return o.forEach((u,d)=>{c[u]=l[d]||""}),c}).filter(a=>a.Percent_1&&a.Price_From_1);this.data=s.map(a=>({Region:a.Region,Channel:a.Channel,Price:+a.Price_From_1||0,TransactionPercent:+a.Percent_1||0,Price2:+a.Price_From_2||0,TransactionPercent2:+a.Percent_2||0,PriceRange:(+a.Price_To_1||0)-(+a.Price_From_1||0)})).filter(a=>a.Price>0&&a.TransactionPercent>0),this.regions=["All",...new Set(this.data.map(a=>a.Region))],this.channels=["All",...new Set(this.data.map(a=>a.Channel))]}onRegionChange(n){this.selectedRegion=n.target.value,this.filterData(),this.renderChart()}onChannelChange(n){this.selectedChannel=n.target.value,this.filterData(),this.renderChart()}filterData(){this.filteredData=this.data.filter(n=>{let i=this.selectedRegion==="All"||n.Region===this.selectedRegion,o=this.selectedChannel==="All"||n.Channel===this.selectedChannel;return i&&o})}renderChart(){this.destroyChart(),this.createScatterPlot()}createScatterPlot(){let n=this.margins,i=this.width-n.left-n.right,o=this.height-n.top-n.bottom;this.svg=W(this.parentElement).select("svg").attr("width",this.width).attr("height",this.height);let s=this.svg.append("g").attr("transform",`translate(${n.left},${n.top})`);if(this.filteredData.length===0){s.append("text").attr("x",i/2).attr("y",o/2).attr("text-anchor","middle").style("font-size","16px").style("fill","#666").text("No data available for selected filters");return}let a=Mt(this.filteredData,w=>w.Price),l=Mt(this.filteredData,w=>w.TransactionPercent),c=Mt(this.filteredData,w=>w.PriceRange),u=be().domain(a).range([0,i]).nice(),d=be().domain(l).range([o,0]).nice(),f=Hi().domain(c).range([3,15]),h=[...new Set(this.filteredData.map(w=>w.Channel))],m=[...new Set(this.filteredData.map(w=>w.Region))],y=Xe(kn).domain(h),g=Xe(["circle","square","triangle"]).domain(m);s.append("g").attr("class","grid").attr("transform",`translate(0,${o})`).call(it(u).tickSize(-o).tickFormat("")),s.append("g").attr("class","grid").call(Je(d).tickSize(-i).tickFormat(""));let x=mi().scaleExtent([.5,10]).on("zoom",w=>{let{transform:b}=w,I=b.rescaleX(u),T=b.rescaleY(d);s.select(".x-axis").call(it(I)),s.select(".y-axis").call(Je(T)),s.selectAll(".data-point").attr("cx",z=>I(z.Price)).attr("cy",z=>T(z.TransactionPercent)),s.select(".grid").selectAll("line").attr("x1",z=>I(z)).attr("x2",z=>I(z))});this.svg.call(x);let C=s.selectAll(".data-point").data(this.filteredData).enter().append("circle").attr("class","data-point").attr("cx",w=>u(w.Price)).attr("cy",w=>d(w.TransactionPercent)).attr("r",w=>f(w.PriceRange)).attr("fill",w=>y(w.Channel)).attr("stroke","#333").attr("stroke-width",.5).style("opacity",.7).style("cursor","pointer").on("mouseover",(w,b)=>{W(this).attr("stroke-width",2).style("opacity",1);let I=W("body").append("div").attr("class","tooltip").style("opacity",0);I.transition().duration(200).style("opacity",.9),I.html(`
          <strong>Region:</strong> ${b.Region}<br/>
          <strong>Channel:</strong> ${b.Channel}<br/>
          <strong>Price:</strong> $${b.Price.toFixed(2)}<br/>
          <strong>Transaction %:</strong> ${b.TransactionPercent}%<br/>
          <strong>Price Range:</strong> $${b.PriceRange.toFixed(2)}
        `).style("left",w.pageX+10+"px").style("top",w.pageY-28+"px")}).on("mouseout",()=>{W(this).attr("stroke-width",.5).style("opacity",.7),vn(".tooltip").remove()}).on("click",function(w,b){let I=s.selectAll(".data-point").filter(T=>T.Channel===b.Channel);I.transition().duration(300).attr("stroke-width",3).style("opacity",1),setTimeout(()=>{I.transition().duration(300).attr("stroke-width",.5).style("opacity",.7)},1500)});s.append("g").attr("class","x-axis").attr("transform",`translate(0,${o})`).call(it(u)),s.append("g").attr("class","y-axis").call(Je(d)),s.append("text").attr("transform","rotate(-90)").attr("y",0-n.left).attr("x",0-o/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Transaction Percentage (%)"),s.append("text").attr("transform",`translate(${i/2}, ${o+n.bottom-10})`).style("text-anchor","middle").style("font-size","14px").style("font-weight","bold").text("Price ($)"),this.svg.append("text").attr("x",this.width/2).attr("y",30).attr("text-anchor","middle").style("font-size","18px").style("font-weight","bold").text("Interactive Scatter Plot: Price vs Transaction %"),this.createColorLegend(s,i,o,y,h),this.createSizeLegend(s,i,o,f,c),this.addBrushing(s,i,o,u,d,C)}createColorLegend(n,i,o,s,a){let l=n.append("g").attr("class","color-legend").attr("transform",`translate(${i+20}, 20)`);l.append("text").attr("x",0).attr("y",-5).style("font-weight","bold").style("font-size","12px").text("Channels");let c=l.selectAll(".legend-item").data(a).enter().append("g").attr("class","legend-item").attr("transform",(u,d)=>`translate(0, ${d*20+10})`);c.append("circle").attr("cx",6).attr("cy",0).attr("r",6).attr("fill",u=>s(u)),c.append("text").attr("x",16).attr("y",0).attr("dy","0.35em").style("font-size","11px").text(u=>u)}createSizeLegend(n,i,o,s,a){let l=n.append("g").attr("class","size-legend").attr("transform",`translate(${i+20}, ${o-80})`);l.append("text").attr("x",0).attr("y",-5).style("font-weight","bold").style("font-size","12px").text("Price Range");let c=[{value:a[0],size:s(a[0])},{value:(a[0]+a[1])/2,size:s((a[0]+a[1])/2)},{value:a[1],size:s(a[1])}],u=l.selectAll(".size-legend-item").data(c).enter().append("g").attr("class","size-legend-item").attr("transform",(d,f)=>`translate(0, ${f*25+15})`);u.append("circle").attr("cx",15).attr("cy",0).attr("r",d=>d.size).attr("fill","none").attr("stroke","#333").attr("stroke-width",1),u.append("text").attr("x",35).attr("y",0).attr("dy","0.35em").style("font-size","10px").text(d=>`$${d.value.toFixed(1)}`)}addBrushing(n,i,o,s,a,l){let c=lv().extent([[0,0],[i,o]]).on("start brush",function(u){if(u.selection){let[[d,f],[h,m]]=u.selection;l.classed("selected",y=>{let g=s(y.Price),x=a(y.TransactionPercent);return g>=d&&g<=h&&x>=f&&x<=m}),l.style("opacity",y=>{let g=s(y.Price),x=a(y.TransactionPercent);return g>=d&&g<=h&&x>=f&&x<=m?1:.3})}else l.classed("selected",!1),l.style("opacity",.7)});n.append("g").attr("class","brush").call(c)}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Wt))},t.\u0275cmp=le({type:t,selectors:[["interactive-scatter"]],decls:17,vars:5,consts:[[1,"chart-container"],[1,"chart-header"],[1,"controls"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-description"],["class","loading",4,"ngIf"],[3,"value"],[1,"loading"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"h3"),V(3,"Interactive Scatter Plot: Price vs Transaction %"),M(),k(4,"div",2)(5,"label"),V(6," Region: "),k(7,"select",3),te("change",function(a){return o.onRegionChange(a)}),ge(8,O1e,2,2,"option",4),M()(),k(9,"label"),V(10," Channel: "),k(11,"select",3),te("change",function(a){return o.onChannelChange(a)}),ge(12,P1e,2,2,"option",4),M()()(),k(13,"p",5),V(14," Circle size represents price range. Zoom and pan with mouse wheel and drag. Click points to highlight related data. Brush to select multiple points. "),M()(),Ft(),Q(15,"svg"),ge(16,N1e,2,0,"div",6),M()),i&2&&(U(7),G("value",o.selectedRegion),U(1),G("ngForOf",o.regions),U(3),G("value",o.selectedChannel),U(1),G("ngForOf",o.channels),U(4),G("ngIf",o.isLoading))},dependencies:[Yt,mt,Cr,Dr],styles:[`.chart-container{padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:20px 0}.chart-container .chart-header{text-align:center;margin-bottom:30px}.chart-container .chart-header h3{margin:0 0 15px;color:#333;font-size:24px}.chart-container .chart-header .controls{display:flex;justify-content:center;gap:20px;margin-bottom:10px}.chart-container .chart-header .controls label{font-weight:500;color:#555}.chart-container .chart-header .controls label select{margin-left:8px;padding:5px 10px;border:1px solid #ccc;border-radius:4px;background:white}.chart-container .chart-header .chart-description{color:#666;font-style:italic;font-size:14px;max-width:600px;margin:0 auto}.chart-container .chart-content svg{display:block;margin:0 auto;border:1px solid #eee;cursor:move}.chart-container .loading{text-align:center;padding:50px;color:#666;font-style:italic}.tooltip{position:absolute;text-align:left;padding:10px;font-size:12px;background:rgba(0,0,0,.9);color:#fff;border-radius:4px;pointer-events:none;box-shadow:0 2px 8px #0000004d}.grid .tick line{stroke:#e0e0e0;stroke-width:1;opacity:.7}.grid .domain{display:none}.x-axis .domain,.y-axis .domain{stroke:#333;stroke-width:1}.x-axis .tick line,.y-axis .tick line{stroke:#333;stroke-width:1}.x-axis .tick text,.y-axis .tick text{fill:#333;font-size:11px}.data-point{transition:all .2s ease}.data-point:hover{stroke-width:2!important;opacity:1!important}.data-point.selected{stroke:#ff6b6b;stroke-width:2}.brush .selection{fill:#0064c84d;stroke:#0064c8cc;stroke-width:1}.color-legend .legend-item,.size-legend .legend-item,.color-legend .size-legend-item,.size-legend .size-legend-item{cursor:pointer}.color-legend .legend-item:hover,.size-legend .legend-item:hover,.color-legend .size-legend-item:hover,.size-legend .size-legend-item:hover{opacity:.7}.color-legend text,.size-legend text{font-size:11px}
`],encapsulation:2});let e=t;return e})();function F1e(e,t){e&1&&(Ft(),zn(),k(0,"div",5),V(1," Loading chart data... "),M())}var Cq=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.regions=[],this.channels=[],this.isLoading=!0,this.margins={top:20,right:30,bottom:60,left:80},this.height=500,this.width=800,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&this.renderChart()})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(",");this.data=i.slice(1).map(s=>{let a=s.split(","),l={};return o.forEach((c,u)=>{l[c]=a[u]||""}),l}).filter(s=>s.Price_From_1&&s.Percent_1),this.regions=[...new Set(this.data.map(s=>s.Region))],this.channels=[...new Set(this.data.map(s=>s.Channel))]}renderChart(){this.destroyChart();let n=this.processDataForLines();this.createFacetedLineChart(n)}processDataForLines(){let n=Rn(this.data,o=>o.Region,o=>o.Channel),i=[];return n.forEach((o,s)=>{o.forEach((a,l)=>{let c=a.filter(u=>u.Price_From_1&&u.Percent_1).map(u=>({x:+u.Price_From_1,y:+u.Percent_1,region:s,channel:l})).sort((u,d)=>u.x-d.x);c.length>0&&i.push({region:s,channel:l,values:c})})}),i}createFacetedLineChart(n){let i=this.margins,o=300,s=200,a=2,l=a*o+(a+1)*i.left,u=Math.ceil(n.length/a)*(s+i.top+i.bottom);this.svg=W(this.parentElement).select("svg").attr("width",l).attr("height",u);let d=n.flatMap(C=>C.values),f=Mt(d,C=>C.x),h=Mt(d,C=>C.y),m=be().domain(f).range([0,o-i.left-i.right]),y=be().domain(h).range([s-i.top-i.bottom,0]),g=Xe(kn).domain(this.channels),x=Yn().x(C=>m(C.x)).y(C=>y(C.y)).curve(Ax);n.forEach((C,w)=>{let b=Math.floor(w/a),T=w%a*(o+i.left)+i.left,z=b*(s+i.top+i.bottom)+i.top,H=this.svg.append("g").attr("transform",`translate(${T}, ${z})`);H.append("text").attr("x",(o-i.left-i.right)/2).attr("y",-5).attr("text-anchor","middle").style("font-weight","bold").style("font-size","14px").text(`${C.region} - ${C.channel}`),H.append("g").attr("class","x-axis").attr("transform",`translate(0, ${s-i.top-i.bottom})`).call(it(m).ticks(5)),H.append("g").attr("class","y-axis").call(Je(y).ticks(5)),H.append("path").datum(C.values).attr("fill","none").attr("stroke",g(C.channel)).attr("stroke-width",2).attr("d",x),H.selectAll(".dot").data(C.values).enter().append("circle").attr("class","dot").attr("cx",q=>m(q.x)).attr("cy",q=>y(q.y)).attr("r",3).attr("fill",g(C.channel)).on("mouseover",function(q,$){let D=W("body").append("div").attr("class","tooltip").style("opacity",0);D.transition().duration(200).style("opacity",.9),D.html(`Price: $${$.x}<br/>Percent: ${$.y}%`).style("left",q.pageX+10+"px").style("top",q.pageY-28+"px")}).on("mouseout",function(){vn(".tooltip").remove()})}),this.svg.append("text").attr("transform","rotate(-90)").attr("y",15).attr("x",0-u/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").text("Percentage (%)"),this.svg.append("text").attr("transform",`translate(${l/2}, ${u-10})`).style("text-anchor","middle").style("font-size","14px").text("Price From ($)")}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Wt))},t.\u0275cmp=le({type:t,selectors:[["faceted-line-chart"]],decls:8,vars:1,consts:[[1,"chart-container"],[1,"chart-header"],[1,"chart-description"],["width","1","height","1"],["class","loading",4,"ngIf"],[1,"loading"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"h3"),V(3,"Faceted Line Charts by Region & Channel"),M(),k(4,"p",2),V(5,"Price range trends across different regions and channels"),M()(),Ft(),Q(6,"svg",3),ge(7,F1e,2,0,"div",4),M()),i&2&&(U(7),G("ngIf",o.isLoading))},dependencies:[mt],styles:[`.chart-container{width:100%;height:100%}.chart-container .loading{display:flex;justify-content:center;align-items:center;height:200px;font-size:16px;color:#666}.chart-container svg{display:block;margin:0 auto}.tooltip{position:absolute;text-align:center;padding:8px;font-size:12px;background:rgba(0,0,0,.8);color:#fff;border-radius:4px;pointer-events:none;z-index:1000}.x-axis,.y-axis{font-size:12px}.x-axis .domain,.y-axis .domain{stroke:#333}.x-axis .tick line,.y-axis .tick line{stroke:#333}.x-axis .tick text,.y-axis .tick text{fill:#333}
`],encapsulation:2});let e=t;return e})();function V1e(e,t){if(e&1&&(k(0,"option",6),V(1),M()),e&2){let r=t.$implicit;G("value",r),U(1),Ze(r)}}function j1e(e,t){e&1&&(Ft(),zn(),k(0,"div",7),V(1," Loading chart data... "),M())}var Dq=(()=>{let t=class t{constructor(n,i){this.element=n,this.http=i,this.data=[],this.regions=[],this.channels=[],this.selectedRegion="Latin America",this.isLoading=!0,this.margins={top:20,right:30,bottom:60,left:80},this.height=400,this.width=600,this.parentElement=n.nativeElement}ngOnInit(){this.loadData()}loadData(){this.http.get("assets/datasets/Region,Channel,Percent_1,Price_From.txt",{responseType:"text"}).subscribe(n=>{this.parseCSVData(n),this.isLoading=!1,this.data.length>0&&(this.selectedRegion=this.regions[0],this.renderChart())})}parseCSVData(n){let i=n.trim().split(`
`),o=i[0].split(",");this.data=i.slice(1).map(s=>{let a=s.split(","),l={};return o.forEach((c,u)=>{l[c]=a[u]||""}),l}),this.regions=[...new Set(this.data.map(s=>s.Region))],this.channels=[...new Set(this.data.map(s=>s.Channel))]}onRegionChange(n){this.selectedRegion=n.target.value,this.renderChart()}renderChart(){this.destroyChart();let n=this.data.filter(s=>s.Region===this.selectedRegion);if(!n.length)return;let i=Rn(n,s=>s.Channel),o=[];i.forEach((s,a)=>{let l={Channel:a};s.forEach((c,u)=>{l[`Range_${u+1}`]=+c.Percent_1||0,l[`Range_${u+1}_2`]=+c.Percent_2||0}),o.push(l)}),this.createStackedBarChart(o)}createStackedBarChart(n){let i=this.margins,o=this.width-i.left-i.right,s=this.height-i.top-i.bottom;this.svg=W(this.parentElement).select("svg").attr("width",this.width).attr("height",this.height);let a=this.svg.append("g").attr("transform",`translate(${i.left},${i.top})`),l=Object.keys(n[0]).filter(m=>m!=="Channel"),c=ot().domain(n.map(m=>m.Channel)).range([0,o]).padding(.1),u=be().domain([0,100]).range([s,0]),d=Xe().domain(l).range(kn),h=ys().keys(l)(n);a.selectAll(".layer").data(h).enter().append("g").attr("class","layer").attr("fill",m=>d(m.key)).selectAll("rect").data(m=>m).enter().append("rect").attr("x",m=>c(m.data.Channel)).attr("y",m=>u(m[1])).attr("height",m=>u(m[0])-u(m[1])).attr("width",c.bandwidth()).on("mouseover",function(m,y){let g=W("body").append("div").attr("class","tooltip").style("opacity",0);g.transition().duration(200).style("opacity",.9),g.html(`Channel: ${y.data.Channel}<br/>Value: ${y[1]-y[0]}%`).style("left",m.pageX+10+"px").style("top",m.pageY-28+"px")}).on("mouseout",function(){vn(".tooltip").remove()}),a.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`).call(it(c)),a.append("g").attr("class","y-axis").call(Je(u)),a.append("text").attr("transform","rotate(-90)").attr("y",0-i.left).attr("x",0-s/2).attr("dy","1em").style("text-anchor","middle").text("Percentage (%)"),a.append("text").attr("transform",`translate(${o/2}, ${s+i.bottom})`).style("text-anchor","middle").text("Channel")}destroyChart(){this.svg&&this.svg.selectAll("*").remove()}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Wt))},t.\u0275cmp=le({type:t,selectors:[["region-stacked-bar"]],decls:11,vars:3,consts:[[1,"chart-container"],[1,"chart-header"],[1,"controls"],[3,"value","change"],[3,"value",4,"ngFor","ngForOf"],["class","loading",4,"ngIf"],[3,"value"],[1,"loading"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"h3"),V(3,"Regional Channel Performance - Stacked Bar Chart"),M(),k(4,"div",2)(5,"label"),V(6," Region: "),k(7,"select",3),te("change",function(a){return o.onRegionChange(a)}),ge(8,V1e,2,2,"option",4),M()()()(),Ft(),Q(9,"svg"),ge(10,j1e,2,0,"div",5),M()),i&2&&(U(7),G("value",o.selectedRegion),U(1),G("ngForOf",o.regions),U(2),G("ngIf",o.isLoading))},dependencies:[Yt,mt,Cr,Dr],styles:[`.chart-container{padding:20px;background:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin:20px 0}.chart-container .chart-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.chart-container .chart-header h3{margin:0;color:#333}.chart-container .chart-header .controls{display:flex;gap:15px;align-items:center}.chart-container .chart-header .controls label{font-weight:500;color:#555}.chart-container .chart-header .controls label select{margin-left:8px;padding:5px 10px;border:1px solid #ccc;border-radius:4px;background:white}.chart-container .chart-content svg{display:block;margin:0 auto}.chart-container .loading{text-align:center;padding:50px;color:#666;font-style:italic}.tooltip{position:absolute;text-align:center;padding:8px;font-size:12px;background:rgba(0,0,0,.8);color:#fff;border-radius:4px;pointer-events:none}.x-axis .domain,.y-axis .domain{stroke:#333}.x-axis .tick line,.y-axis .tick line{stroke:#333}.x-axis .tick text,.y-axis .tick text{fill:#333;font-size:12px}
`],encapsulation:2});let e=t;return e})();var $1e=["chartContainer"];function B1e(e,t){if(e&1){let r=bt();k(0,"button",27),te("click",function(){lt(r);let i=_e();return ct(i.goHome())}),k(1,"span",28),V(2,"\u{1F3E0}"),M(),V(3," Home "),M()}}function U1e(e,t){if(e&1&&(k(0,"option",29),V(1),M()),e&2){let r=t.$implicit;G("value",r.name),U(1),ut(" ",r.name," ")}}function H1e(e,t){if(e&1&&(k(0,"div",30)(1,"h3"),V(2,"Summary Statistics"),M(),k(3,"div",31)(4,"div",32)(5,"span",33),V(6,"Average:"),M(),k(7,"span",34),V(8),M()(),k(9,"div",32)(10,"span",33),V(11,"Highest:"),M(),k(12,"span",34),V(13),M()(),k(14,"div",32)(15,"span",33),V(16,"Lowest:"),M(),k(17,"span",34),V(18),M()(),k(19,"div",32)(20,"span",33),V(21,"Total Sources:"),M(),k(22,"span",34),V(23),M()()()()),e&2){let r=_e();U(8),ut("",r.summaryStats.average,"%"),U(5),D1("",r.summaryStats.max,"% (",r.summaryStats.maxSource,")"),U(5),D1("",r.summaryStats.min,"% (",r.summaryStats.minSource,")"),U(5),Ze(r.summaryStats.count)}}var Sq=(()=>{let t=class t{constructor(n,i){this.router=n,this.route=i,this.width=1e3,this.currentRoute="advertiser-dashboard",this.routeUrl="",this.selectedMetric="total",this.selectedAdvertiser="all",this.sortOrder="desc",this.chartType="diverging",this.summaryStats=null,this.advertisers=[{name:"ADVERTISER 1",data:[{UTM_SOURCE:"direct traffic",total:"87%","valid-clicked:1":"809,944","mousemove-exists:1":"65%","valid-scrolling:1":"59%","touch-exists:1":"23%","mobile:1":"73%",bots:"32%",humans:"19%",unknown:"67%"},{UTM_SOURCE:"google search",total:"7%","valid-clicked:1":"64,082","mousemove-exists:1":"50%","valid-scrolling:1":"51%","touch-exists:1":"56%","mobile:1":"73%",bots:"79%",humans:"8%",unknown:"85%"},{UTM_SOURCE:"google display",total:"3%","valid-clicked:1":"25,006","mousemove-exists:1":"29%","valid-scrolling:1":"36%","touch-exists:1":"43%","mobile:1":"65%",bots:"70%",humans:"16%",unknown:"63%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"15,313","mousemove-exists:1":"45%","valid-scrolling:1":"61%","touch-exists:1":"36%","mobile:1":"63%",bots:"8%",humans:"16%",unknown:"64%"},{UTM_SOURCE:"facebook",total:"2%","valid-clicked:1":"15,146","mousemove-exists:1":"10%","valid-scrolling:1":"14%","touch-exists:1":"83%","mobile:1":"87%",bots:"90%",humans:"2%",unknown:"96%"}]},{name:"ADVERTISER 2",data:[{UTM_SOURCE:"direct traffic",total:"51%","valid-clicked:1":"482,878","mousemove-exists:1":"54%","valid-scrolling:1":"52%","touch-exists:1":"50%","mobile:1":"76%",bots:"48%",humans:"21%",unknown:"76%"},{UTM_SOURCE:"google search",total:"23%","valid-clicked:1":"216,594","mousemove-exists:1":"41%","valid-scrolling:1":"43%","touch-exists:1":"72%","mobile:1":"82%",bots:"80%",humans:"6%",unknown:"86%"},{UTM_SOURCE:"instagram",total:"17%","valid-clicked:1":"161,523","mousemove-exists:1":"34%","valid-scrolling:1":"36%","touch-exists:1":"68%","mobile:1":"78%",bots:"84%",humans:"2%",unknown:"91%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"15,363","mousemove-exists:1":"37%","valid-scrolling:1":"55%","touch-exists:1":"63%","mobile:1":"67%",bots:"45%",humans:"17%",unknown:"73%"},{UTM_SOURCE:"facebook",total:"0%","valid-clicked:1":"4,161","mousemove-exists:1":"80%","valid-scrolling:1":"81%","touch-exists:1":"88%","mobile:1":"95%",bots:"89%",humans:"3%",unknown:"94%"},{UTM_SOURCE:"tiktok",total:"0%","valid-clicked:1":"2,296","mousemove-exists:1":"40%","valid-scrolling:1":"41%","touch-exists:1":"64%","mobile:1":"70%",bots:"91%",humans:"4%",unknown:"85%"}]},{name:"ADVERTISER 3",data:[{UTM_SOURCE:"direct traffic",total:"98%","valid-clicked:1":"599,734","mousemove-exists:1":"59%","valid-scrolling:1":"66%","touch-exists:1":"34%","mobile:1":"75%",bots:"4%",humans:"14%",unknown:"63%"},{UTM_SOURCE:"google search",total:"1%","valid-clicked:1":"7,776","mousemove-exists:1":"63%","valid-scrolling:1":"70%","touch-exists:1":"51%","mobile:1":"84%",bots:"36%",humans:"14%",unknown:"81%"},{UTM_SOURCE:"bing search",total:"0%","valid-clicked:1":"2,535","mousemove-exists:1":"49%","valid-scrolling:1":"61%","touch-exists:1":"40%","mobile:1":"60%",bots:"6%",humans:"22%",unknown:"63%"},{UTM_SOURCE:"google display",total:"0%","valid-clicked:1":"254","mousemove-exists:1":"54%","valid-scrolling:1":"53%","touch-exists:1":"14%","mobile:1":"43%",bots:"3%",humans:"34%",unknown:"53%"}]},{name:"ADVERTISER 4",data:[{UTM_SOURCE:"direct traffic",total:"71%","valid-clicked:1":"293,903","mousemove-exists:1":"56%","valid-scrolling:1":"51%","touch-exists:1":"56%","mobile:1":"78%",bots:"47%",humans:"20%",unknown:"68%"},{UTM_SOURCE:"google search",total:"8%","valid-clicked:1":"34,440","mousemove-exists:1":"51%","valid-scrolling:1":"50%","touch-exists:1":"74%","mobile:1":"87%",bots:"78%",humans:"7%",unknown:"91%"},{UTM_SOURCE:"facebook",total:"7%","valid-clicked:1":"29,623","mousemove-exists:1":"31%","valid-scrolling:1":"32%","touch-exists:1":"46%","mobile:1":"77%",bots:"74%",humans:"1%",unknown:"95%"},{UTM_SOURCE:"(v)360 display",total:"4%","valid-clicked:1":"18,500","mousemove-exists:1":"17%","valid-scrolling:1":"17%","touch-exists:1":"14%","mobile:1":"36%",bots:"83%",humans:"14%",unknown:"51%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"6,649","mousemove-exists:1":"61%","valid-scrolling:1":"76%","touch-exists:1":"66%","mobile:1":"79%",bots:"7%",humans:"14%",unknown:"81%"},{UTM_SOURCE:"email",total:"1%","valid-clicked:1":"4,650","mousemove-exists:1":"59%","valid-scrolling:1":"55%","touch-exists:1":"68%","mobile:1":"86%",bots:"64%",humans:"16%",unknown:"80%"},{UTM_SOURCE:"pardot",total:"0%","valid-clicked:1":"1,086","mousemove-exists:1":"62%","valid-scrolling:1":"60%","touch-exists:1":"57%","mobile:1":"87%",bots:"63%",humans:"14%",unknown:"80%"}]},{name:"ADVERTISER 5",data:[{UTM_SOURCE:"direct traffic",total:"89%","valid-clicked:1":"425,039","mousemove-exists:1":"45%","valid-scrolling:1":"45%","touch-exists:1":"27%","mobile:1":"68%",bots:"24%",humans:"30%",unknown:"54%"},{UTM_SOURCE:"google search",total:"7%","valid-clicked:1":"32,472","mousemove-exists:1":"22%","valid-scrolling:1":"28%","touch-exists:1":"38%","mobile:1":"54%",bots:"71%",humans:"19%",unknown:"65%"},{UTM_SOURCE:"bing search",total:"2%","valid-clicked:1":"7,596","mousemove-exists:1":"27%","valid-scrolling:1":"60%","touch-exists:1":"36%","mobile:1":"43%",bots:"3%",humans:"22%",unknown:"62%"},{UTM_SOURCE:"facebook",total:"1%","valid-clicked:1":"3,723","mousemove-exists:1":"27%","valid-scrolling:1":"28%","touch-exists:1":"50%","mobile:1":"67%",bots:"75%",humans:"4%",unknown:"88%"},{UTM_SOURCE:"PMAX",total:"1%","valid-clicked:1":"2,905","mousemove-exists:1":"13%","valid-scrolling:1":"21%","touch-exists:1":"28%","mobile:1":"39%",bots:"61%",humans:"17%",unknown:"62%"},{UTM_SOURCE:"linkedin",total:"0%","valid-clicked:1":"1,821","mousemove-exists:1":"16%","valid-scrolling:1":"24%","touch-exists:1":"26%","mobile:1":"35%",bots:"60%",humans:"14%",unknown:"68%"},{UTM_SOURCE:"demandbase",total:"0%","valid-clicked:1":"393","mousemove-exists:1":"3%","valid-scrolling:1":"3%","touch-exists:1":"5%","mobile:1":"9%",bots:"37%",humans:"82%",unknown:"10%"}]}],i.url.pipe().subscribe(o=>{console.log(o),this.routeUrl=o})}ngOnInit(){this.createChart()}goHome(){this.router.navigate(["/"])}updateChart(){W(this.chartContainer.nativeElement).selectAll("*").remove(),this.createChart()}parseValue(n){return parseFloat(n.replace("%","").replace(",",""))}prepareData(){let n=[];if(this.selectedAdvertiser==="all")this.advertisers.forEach(i=>{i.data.forEach(o=>{this.selectedMetric!=="valid-clicked:1"&&n.push({source:`${o.UTM_SOURCE} (${i.name})`,advertiser:i.name,value:this.parseValue(o[this.selectedMetric]),rawValue:o[this.selectedMetric]})})});else{let i=this.advertisers.find(o=>o.name===this.selectedAdvertiser);i&&i.data.forEach(o=>{n.push({source:o.UTM_SOURCE,advertiser:i.name,value:this.parseValue(o[this.selectedMetric]),rawValue:o[this.selectedMetric]})})}return this.sortOrder==="desc"?n.sort((i,o)=>o.value-i.value):this.sortOrder==="asc"?n.sort((i,o)=>i.value-o.value):n.sort((i,o)=>i.source.localeCompare(o.source)),n}calculateSummaryStats(n){if(n.length===0)return;let i=n.map(d=>d.value),s=i.reduce((d,f)=>d+f,0)/i.length,a=Math.max(...i),l=Math.min(...i),c=n.find(d=>d.value===a),u=n.find(d=>d.value===l);this.summaryStats={average:s.toFixed(1),max:a.toFixed(1),min:l.toFixed(1),maxSource:c?.source||"",minSource:u?.source||"",count:n.length}}createChart(){let n=this.prepareData();if(this.calculateSummaryStats(n),n.length===0)return;let i=25,o=30,s=80,a=10,l=200,c=Math.ceil((n.length+.1)*i)+o+a,u=be().domain([0,Ue(n,m=>m.value)||100]).rangeRound([l,this.width-s]),d=ot().domain(n.map(m=>m.source)).rangeRound([o,c-a]).padding(.1),f=Xe(kn).domain(this.advertisers.map(m=>m.name)),h=W(this.chartContainer.nativeElement).append("svg").attr("viewBox",[0,0,this.width,c]).attr("style","max-width: 100%; height: auto; font: 12px sans-serif;");h.append("g").selectAll("rect").data(n).join("rect").attr("fill",m=>f(m.advertiser)).attr("x",l).attr("y",m=>d(m.source)).attr("width",m=>u(m.value)-l).attr("height",d.bandwidth()).attr("opacity",.8),h.append("g").attr("font-family","sans-serif").attr("font-size",11).selectAll("text").data(n).join("text").attr("text-anchor","start").attr("x",m=>u(m.value)+5).attr("y",m=>d(m.source)+d.bandwidth()/2).attr("dy","0.35em").text(m=>`${m.value}%`).attr("fill","#333"),h.append("g").attr("transform",`translate(0,${o})`).call(Jo(u).ticks(this.width/100).tickFormat(m=>`${m}%`)).call(m=>m.selectAll(".tick line").clone().attr("y2",c-o-a).attr("stroke-opacity",.1)).call(m=>m.select(".domain").remove()),h.append("g").attr("transform",`translate(${l},0)`).call(Je(d).tickSize(0).tickPadding(6)).call(m=>m.select(".domain").remove()),h.append("text").attr("x",this.width/2).attr("y",15).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","bold").attr("fill","#333").attr("transform","translate(0,-5)").text(`${this.getMetricDisplayName()} - ${this.selectedAdvertiser==="all"?"All Advertisers":this.selectedAdvertiser}`)}getMetricDisplayName(){return{total:"Total Traffic","mousemove-exists:1":"Mouse Movement","valid-scrolling:1":"Valid Scrolling","touch-exists:1":"Touch Interaction","mobile:1":"Mobile Traffic",bots:"Bot Traffic",humans:"Human Traffic",unknown:"Unknown Traffic"}[this.selectedMetric]||this.selectedMetric}};t.\u0275fac=function(i){return new(i||t)(X(Nn),X($n))},t.\u0275cmp=le({type:t,selectors:[["advertiser-dashboard"]],viewQuery:function(i,o){if(i&1&&Be($1e,7),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first)}},inputs:{width:"width"},decls:54,vars:7,consts:[[1,"dashboard-container"],[1,"header-section"],["class","home-button","title","Go to Home",3,"click",4,"ngIf"],[1,"controls"],[1,"metric-selector"],[3,"ngModel","ngModelChange","change"],["value","total"],["value","mousemove-exists:1"],["value","valid-scrolling:1"],["value","touch-exists:1"],["value","mobile:1"],["value","bots"],["value","humans"],["value","unknown"],[1,"advertiser-selector"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"sort-selector"],["value","desc"],["value","asc"],["value","alphabetical"],[1,"chart-type-selector"],["value","diverging"],["value","horizontal"],[1,"chart"],["chartContainer",""],["class","summary-stats",4,"ngIf"],["title","Go to Home",1,"home-button",3,"click"],[1,"home-icon"],[3,"value"],[1,"summary-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1),ge(2,B1e,4,0,"button",2),k(3,"h2"),V(4,"Advertiser Traffic Source Analysis"),M()(),k(5,"div",3)(6,"div",4)(7,"label"),V(8,"Metric:"),M(),k(9,"select",5),te("ngModelChange",function(a){return o.selectedMetric=a})("change",function(){return o.updateChart()}),k(10,"option",6),V(11,"Total Traffic %"),M(),k(12,"option",7),V(13,"Mouse Movement %"),M(),k(14,"option",8),V(15,"Valid Scrolling %"),M(),k(16,"option",9),V(17,"Touch Interaction %"),M(),k(18,"option",10),V(19,"Mobile Traffic %"),M(),k(20,"option",11),V(21,"Bot Traffic %"),M(),k(22,"option",12),V(23,"Human Traffic %"),M(),k(24,"option",13),V(25,"Unknown Traffic %"),M()()(),k(26,"div",14)(27,"label"),V(28,"Advertiser:"),M(),k(29,"select",5),te("ngModelChange",function(a){return o.selectedAdvertiser=a})("change",function(){return o.updateChart()}),k(30,"option",15),V(31,"All Advertisers"),M(),ge(32,U1e,2,2,"option",16),M()(),k(33,"div",17)(34,"label"),V(35,"Sort by:"),M(),k(36,"select",5),te("ngModelChange",function(a){return o.sortOrder=a})("change",function(){return o.updateChart()}),k(37,"option",18),V(38,"Highest to Lowest"),M(),k(39,"option",19),V(40,"Lowest to Highest"),M(),k(41,"option",20),V(42,"Alphabetical"),M()()(),k(43,"div",21)(44,"label"),V(45,"View as:"),M(),k(46,"select",5),te("ngModelChange",function(a){return o.chartType=a})("change",function(){return o.updateChart()}),k(47,"option",22),V(48,"Diverging Bar"),M(),k(49,"option",23),V(50,"Horizontal Bar"),M()()()(),Q(51,"div",24,25),ge(53,H1e,24,6,"div",26),M()),i&2&&(U(2),G("ngIf",o.currentRoute===o.routeUrl),U(7),G("ngModel",o.selectedMetric),U(20),G("ngModel",o.selectedAdvertiser),U(3),G("ngForOf",o.advertisers),U(4),G("ngModel",o.sortOrder),U(10),G("ngModel",o.chartType),U(7),G("ngIf",o.summaryStats))},dependencies:[Yt,mt,Cr,Dr,id,ai,Ci],styles:[".dashboard-container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:0 auto;padding:20px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif}.header-section[_ngcontent-%COMP%]{position:relative;margin-bottom:30px}.home-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;align-items:center;gap:8px;padding:10px 16px;background:#007bff;color:#fff;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease;text-decoration:none;box-shadow:0 2px 4px #007bff33}.home-button[_ngcontent-%COMP%]:hover{background:#0056b3;transform:translateY(-1px);box-shadow:0 4px 8px #007bff4d}.home-button[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 4px #007bff33}.home-icon[_ngcontent-%COMP%]{font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin:0}.controls[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:30px;flex-wrap:wrap;align-items:center;background:#f8f9fa;padding:20px;border-radius:8px}.metric-selector[_ngcontent-%COMP%], .advertiser-selector[_ngcontent-%COMP%], .sort-selector[_ngcontent-%COMP%], .chart-type-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#555;font-size:14px}.controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;background:white;min-width:150px}.chart[_ngcontent-%COMP%]{width:100%;overflow-x:auto;border:1px solid #eee;border-radius:8px;background:white}.summary-stats[_ngcontent-%COMP%]{margin-top:30px;background:#f8f9fa;padding:20px;border-radius:8px}.summary-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#333}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px;background:white;border-radius:4px;border-left:4px solid #007bff}.stat-label[_ngcontent-%COMP%]{font-weight:600;color:#666}.stat-value[_ngcontent-%COMP%]{font-weight:700;color:#333}[_nghost-%COMP%]{display:block}"]});let e=t;return e})();function W1e(e,t){if(e&1&&(k(0,"option",24),V(1),M()),e&2){let r=t.$implicit,n=_e();G("value",r.name)("selected",r===n.selectedAdvertiser),U(1),ut(" ",r.name," ")}}function G1e(e,t){if(e&1&&(k(0,"option",24),V(1),M()),e&2){let r=t.$implicit,n=_e();G("value",r)("selected",r===n.selectedField),U(1),Ze(r)}}var Y1e=e=>({disabled:e});function Z1e(e,t){if(e&1){let r=bt();k(0,"li",28),te("click",function(){let o=lt(r).$implicit,s=_e(2);return ct(s.toggleLegendItem(o))}),Q(1,"div"),k(2,"label",29),V(3),M()()}if(e&2){let r=t.$implicit,n=_e(2);U(1),Ra("bullet ",n.legend[r]&&n.legend[r].className,""),ii("background-color",n.legend[r]&&n.legend[r].color),U(1),G("ngClass",jr(7,Y1e,n.legend[r]&&!n.legend[r].visible)),U(1),Ze(r)}}function Q1e(e,t){if(e&1){let r=bt();Ft(),zn(),k(0,"div",25)(1,"span",26),te("click",function(){lt(r);let i=_e();return ct(i.toggleAllLegendItems())}),V(2," Legend "),M(),k(3,"ul"),ge(4,Z1e,4,9,"li",27),M()()}if(e&2){let r=_e();U(4),G("ngForOf",r.keys)}}var Mq=(()=>{let t=class t{constructor(n,i,o){this.element=n,this.http=i,this.presentationService=o,this.advertisers=[],this.donutData=[],this.selectedAdvertiser=null,this.legend={},this.keys=[],this.selectedField="",this.showStacked=!0,this.isLoading=!0,this.stackMode="percent",this.margins={top:10,right:15,bottom:80,left:75},this.height=360,this.animationDuration=750,this.parentElement=n.nativeElement}ngOnInit(){this.http.get("assets/datasets/advertiser_data_table.json").subscribe(n=>{this.advertisers=n.advertisers,this.donutData=n.advertisers,this.isLoading=!1,this.advertisers.length>0&&(this.selectedAdvertiser=this.advertisers[0],this.initializeOptions(),this.selectedField=this.keys[0],this.renderChart())})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}onAdvertiserChange(n){this.selectedAdvertiser=this.advertisers.find(i=>i.name===n.target.value),this.initializeOptions(),this.renderChart()}onFieldChange(n){this.selectedField=n.target.value,this.renderChart()}onStackedChange(n){if(this.showStacked)for(let i of this.keys)this.legend[i].visible=!0,this.stackMode="percent",this.initializeOptions();else this.stackMode="count";this.renderChart()}onStackModeChange(n){this.showStacked=n.target.value!=="count",this.stackMode=n.target.value,this.initializeOptions(),this.renderChart()}initializeOptions(){if(this.legend={},!this.selectedAdvertiser||!this.selectedAdvertiser.data.length)return;this.stackMode==="count"?this.keys=Object.keys(this.selectedAdvertiser.data[0]).filter(i=>i==="valid-clicked:1"):this.keys=Object.keys(this.selectedAdvertiser.data[0]).filter(i=>i!=="UTM_SOURCE"&&i!=="valid-clicked:1");for(let i of this.keys)this.legend[i]={visible:!0,className:this.getKeyClassName(i)};let n=Ar;this.colorScale=Tn(n).domain([0,this.keys.length]);for(let i of this.keys.reverse()){let o=this.getKeyClassName(i),s=this.keys;for(let a of this.keys)this.legend[a].color=this.colorScale(this.keys.indexOf(a))}!this.selectedField&&this.keys.length>0&&(this.selectedField=this.keys[0]),this.selectedField&&!this.keys.includes(this.selectedField)&&this.keys.length>0&&(this.selectedField=this.keys[0])}legendVisibleCount(){let n=0;for(let i of this.keys)this.legend[i]&&this.legend[i].visible&&n++;return n}setAllLegendItems(n){for(let i of this.keys)this.legend[i].visible=n}toggleLegendItem(n){this.keys.length===this.legendVisibleCount()&&this.setAllLegendItems(!1),this.legend[n].visible=!this.legend[n].visible,this.legendVisibleCount()===0&&this.setAllLegendItems(!0),this.renderFilteredChart()}toggleAllLegendItems(){let n=[],i=[];for(let o of this.keys)o!=="Period"&&this.legend[o]&&(this.legend[o].visible?i.push(o):(this.legend[o].visible=!this.legend[o].visible,n.push(o)));n.length||i.forEach(o=>{this.legend[o].visible=!this.legend[o].visible}),this.renderFilteredChart()}renderFilteredChart(){let n=JSON.parse(JSON.stringify(this.advertisers)),i=[];for(let o of this.keys)this.legend[o]&&!this.legend[o].visible&&i.push(o);i.length&&(n=n.map(o=>(i.forEach(s=>{delete o[s]}),o))),this.renderChart(n)}destroyChart(){this.svg&&!this.svg.empty()&&this.svg.selectAll("*").transition().duration(this.animationDuration/2).style("opacity",0).remove()}parseValue(n){if(typeof n!="string"&&typeof n!="number")return 0;let i=String(n).replace(/%/g,"").replace(/,/g,""),o=parseFloat(i);return isNaN(o)?0:o}renderChart(n){if(!this.selectedAdvertiser||!this.selectedAdvertiser.data.length)return;let i=this.margins,o=W(this.parentElement),s=this.svg=o.select("svg");s.selectAll("*").transition().duration(this.animationDuration/3).style("opacity",0).remove(),s.attr("width",this.getChartWidth()),s.attr("height",this.height);let a=+s.attr("width")-i.left-i.right,l=+s.attr("height")-i.top-i.bottom,c=s.append("g").attr("transform","translate("+i.left+","+i.top+")"),u=JSON.parse(JSON.stringify(this.selectedAdvertiser.data)),d=document.getElementById("bar-tooltip"),f=this;if(this.showStacked){let h=this.keys.filter(b=>this.legend[b].visible);h.length||(h=this.keys);let m=ot().domain(u.map(b=>b.UTM_SOURCE)).rangeRound([0,a]).padding(.2),y;this.stackMode==="percent"?(u.forEach(b=>{for(let I of h)b[I]=this.parseValue(b[I])}),y=be().domain([0,100]).nice().rangeRound([l,0])):y=be().domain([0,Ue(u,b=>h.reduce((I,T)=>I+this.parseValue(b[T]),0))]).nice().rangeRound([l,0]),c.append("g").attr("class","x-axis").attr("transform","translate(0,"+l+")").style("opacity",0).transition().duration(this.animationDuration).delay(this.animationDuration/4).style("opacity",1).call(it(m)),c.append("g").attr("class","y-axis").style("opacity",0).transition().duration(this.animationDuration).delay(this.animationDuration/4).style("opacity",1).call(Je(y).ticks(8));let C=ys().keys(h)(u),w=c.append("g").selectAll("g").data(C).enter().append("g").attr("data-key",b=>b.key).attr("class",b=>"stack "+this.getKeyClassName(b.key)).attr("fill",b=>this.legend[b.key].color);w.selectAll("rect").data(b=>b).enter().append("rect").attr("x",b=>m(b.data.UTM_SOURCE)).attr("y",l).attr("height",0).attr("width",m.bandwidth()).attr("class",function(b){let I=this.parentNode,T=W(I).datum();return"bar "+f.getKeyClassName(T.key)}).attr("fill",function(b){let I=this.parentNode,T=W(I).datum(),z=f.getKeyClassName(T.key);return f.keys.includes(z)?null:f.legend[T.key].color}).style("opacity",0).transition().duration(this.animationDuration).delay((b,I)=>I*50).ease(om).attr("y",b=>y(b[1])).attr("height",b=>{let I=y(b[0])-y(b[1]);return isNaN(I)?0:I}).style("opacity",1),setTimeout(()=>{w.selectAll("rect").on("mousemove",function(b,I){W(this).transition().duration(150).style("filter","brightness(1.1)");let T=this.parentNode,H=W(T).datum().key,q=I[1]-I[0],$=I.data.UTM_SOURCE;d&&(d.style.display="block",d.style.left=b.pageX+16+"px",d.style.top=b.pageY-24+"px",d.innerHTML=`<b>${H}</b><br>UTM_SOURCE: <b>${$}</b><br>Value: <b>${q}</b>`)}).on("mouseout",function(){W(this).transition().duration(150).style("filter","brightness(1)"),d&&(d.style.display="none")})},this.animationDuration+100)}else{if(!this.selectedField)return;let h=ot().domain(u.map(w=>w.UTM_SOURCE)).rangeRound([0,a]).padding(.2),m=be().domain([0,Ue(u,w=>this.parseValue(w[this.selectedField]))]).nice().rangeRound([l,0]);c.append("g").attr("class","x-axis").attr("transform","translate(0,"+l+")").style("opacity",0).transition().duration(this.animationDuration).delay(this.animationDuration/4).style("opacity",1).call(it(h)),c.append("g").attr("class","y-axis").style("opacity",0).transition().duration(this.animationDuration).delay(this.animationDuration/4).style("opacity",1).call(Je(m).ticks(8));let x=this.selectedField,C=c.selectAll(".bar").data(u).enter().append("rect").attr("class","bar").attr("x",w=>h(w.UTM_SOURCE)).attr("y",l).attr("height",0).attr("width",h.bandwidth()).attr("fill",()=>this.legend[x]?.color||"#0072B2").style("opacity",0);C.transition().duration(this.animationDuration).delay((w,b)=>b*100).ease(om).attr("y",w=>m(this.parseValue(w[x]))).attr("height",w=>{let b=l-m(this.parseValue(w[x]));return isNaN(b)?0:b}).style("opacity",1),setTimeout(()=>{C.on("mousemove",function(w,b){W(this).transition().duration(150).style("filter","brightness(1.1)"),d&&(d.style.display="block",d.style.left=w.pageX+16+"px",d.style.top=w.pageY-24+"px",d.innerHTML=`<b>${b.UTM_SOURCE}</b><br>Field: <b>${x}</b><br>Value: <b>${b[x]}</b>`)}).on("mouseout",function(){W(this).transition().duration(150).style("filter","brightness(1)"),d&&(d.style.display="none")})},this.animationDuration+100)}}getChartWidth(){let n=this.parentElement.getBoundingClientRect().width;return this.keys.length>0&&this.presentationService.isLargePresentation()?n-=this.presentationService.isExtendedPresentation()?210:180:n-=5,n>0?n:0}getKeyClassName(n){return n.toLowerCase().split(" ").join("-")}};t.\u0275fac=function(i){return new(i||t)(X(Ye),X(Wt),X(bq))},t.\u0275cmp=le({type:t,selectors:[["stacked-bar"]],decls:55,vars:15,consts:[[1,"button-group"],[1,"header"],["routerLink","",1,"button"],["routerLink","/analytics",1,"button","button2"],[3,"loading"],[1,"panel-body"],["id","svg_container",1,"chart-wrapper"],["for","advertiser-select"],["id","advertiser-select",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["for","field-select"],["id","field-select",3,"disabled","change"],[2,"margin-left","1rem"],["type","checkbox",3,"ngModel","ngModelChange","change"],[2,"margin-top","1rem"],["type","radio","name","stackMode","value","count",3,"ngModel","ngModelChange","change"],["type","radio","name","stackMode","value","percent",3,"ngModel","ngModelChange","change"],["shape-rendering","crispEdges","width","1","height","1"],["class","legend",4,"ngIf"],["id","bar-tooltip",1,"bar-tooltip",2,"display","none"],[1,"row"],[1,"column"],[3,"data"],[3,"chartData"],[3,"value","selected"],[1,"legend"],["title","Click here to turn all filters on/off at once",1,"title",3,"click"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"ngClass"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1"),V(4,"Advertising Campaign"),M(),k(5,"div",0)(6,"button",2),V(7,"\xAB Home"),M(),k(8,"button",3),V(9,"Next \xBB"),M()()()()(),k(10,"div")(11,"single-card",4)(12,"div",5)(13,"div",6)(14,"label",7),V(15,"Select Advertiser:"),M(),k(16,"select",8),te("change",function(a){return o.onAdvertiserChange(a)}),ge(17,W1e,2,3,"option",9),M(),k(18,"label",10),V(19,"Select Field:"),M(),k(20,"select",11),te("change",function(a){return o.onFieldChange(a)}),ge(21,G1e,2,3,"option",9),M(),k(22,"label",12)(23,"input",13),te("ngModelChange",function(a){return o.showStacked=a})("change",function(a){return o.onStackedChange(a)}),M(),V(24," Show all fields stacked "),M(),k(25,"div",14)(26,"label")(27,"input",15),te("ngModelChange",function(a){return o.stackMode=a})("change",function(a){return o.onStackModeChange(a)}),M(),V(28," Count"),M(),k(29,"label",12)(30,"input",16),te("ngModelChange",function(a){return o.stackMode=a})("change",function(a){return o.onStackModeChange(a)}),M(),V(31," Percent"),M()(),Ft(),Q(32,"svg",17),ge(33,Q1e,5,1,"div",18),M()()(),zn(),Q(34,"div",19),M(),k(35,"div",20)(36,"div",21)(37,"single-card",4)(38,"div",5),Q(39,"radial-chart",22),M()()(),k(40,"div",21)(41,"single-card",4)(42,"div",5),Q(43,"donut",23),M()()(),k(44,"div",21)(45,"single-card",4)(46,"div",5),Q(47,"donut",23),M()()()(),k(48,"single-card",4)(49,"div",5),Q(50,"advertiser-dashboard"),M()(),Q(51,"region-stacked-bar")(52,"faceted-line-chart")(53,"price-heatmap")(54,"interactive-scatter")),i&2&&(U(11),G("loading",o.isLoading),U(6),G("ngForOf",o.advertisers),U(3),G("disabled",o.showStacked),U(1),G("ngForOf",o.keys),U(2),G("ngModel",o.showStacked),U(4),G("ngModel",o.stackMode),U(3),G("ngModel",o.stackMode),U(3),G("ngIf",o.showStacked),U(4),G("loading",o.isLoading),U(2),G("data",o.donutData),U(2),G("loading",o.isLoading),U(2),G("chartData",o.donutData),U(2),G("loading",o.isLoading),U(2),G("chartData",o.donutData),U(1),G("loading",o.isLoading))},dependencies:[oi,Yt,mt,Cr,Dr,si,I5,oc,ai,Ci,gt,wq,_q,Vf,Cq,Dq,Sq,kt,bs],styles:[`.panel-body .date-label{text-align:center;font-weight:400;padding:0;margin:0}.panel-body-container{min-width:5rem}.row{display:flex;flex-direction:row;flex-wrap:wrap;align-content:flex-start;width:100%}.column{display:flex;flex-direction:column;flex-basis:100%;flex:1}@media (min-width: 100rem){.chart-wrapper svg g text{font-size:1.2rem}.chart-wrapper svg>text{font-size:1.6rem}}stacked-bar .chart-wrapper{overflow:hidden}stacked-bar .checkmark-icon{margin-right:10px}stacked-bar .legend{font-weight:700;font-size:1.2rem;-webkit-user-select:none;user-select:none}stacked-bar .legend .title{cursor:pointer}stacked-bar .legend ul{font-weight:400;list-style-type:none;overflow-y:auto;padding:0}stacked-bar .legend li{cursor:pointer;min-width:12rem;margin:.8rem 0;white-space:nowrap}stacked-bar .legend label{display:inline-block;pointer-events:none;line-height:1.2rem;vertical-align:middle;padding-left:.8rem;white-space:normal}stacked-bar .legend .apply-filter{cursor:pointer;text-decoration:underline;color:#0072b2;font-size:1.4rem;font-weight:400}stacked-bar .bullet{display:inline-block;background-color:#000;height:1.6rem;width:1.6rem;vertical-align:middle;border-radius:50%}stacked-bar .disabled{opacity:.5}stacked-bar .tick line{stroke-opacity:.2}.bar-tooltip{position:absolute;pointer-events:none;background:#fff;color:#222;border:1px solid #888;border-radius:4px;padding:8px 12px;font-size:1.1rem;font-weight:500;box-shadow:0 2px 8px #00000026;z-index:1000;min-width:120px;max-width:320px;white-space:pre-line}.bar-highlight{stroke:#222;stroke-width:3px;opacity:1!important}@media (min-width: 10rem){stacked-bar .legend{float:right;margin:1rem -15px}stacked-bar .legend ul{max-height:31rem;width:15.2rem;margin:1rem 0}stacked-bar .legend li{width:11.8rem}stacked-bar .legend label{max-width:9.8rem}}
`],encapsulation:2});let e=t;return e})();var X1e=["chartContainer"],Eq=(()=>{let t=class t{constructor(n){this.router=n,this.width=800,this.metric="absolute",this.states=[{State:"Illinois",2010:12830632,2019:12671821},{State:"Virginia",2010:8001024,2019:8535519},{State:"Indiana",2010:6483802,2019:6732219},{State:"Missouri",2010:5988927,2019:6137428},{State:"Maryland",2010:5773552,2019:6045680},{State:"Wisconsin",2010:5686986,2019:5822434},{State:"Colorado",2010:5029196,2019:5758736},{State:"Minnesota",2010:5303925,2019:5639632},{State:"South Carolina",2010:4625364,2019:5148714},{State:"Alabama",2010:4779736,2019:4903185},{State:"Louisiana",2010:4533372,2019:4648794},{State:"Kentucky",2010:4339367,2019:4467673},{State:"Oregon",2010:3831074,2019:4217737},{State:"Oklahoma",2010:3751351,2019:3956971},{State:"Connecticut",2010:3574097,2019:3565287},{State:"Utah",2010:2763885,2019:3205958},{State:"Puerto Rico",2010:3725789,2019:3193694}]}ngOnInit(){this.createChart()}goHome(){this.router.navigate(["/"])}updateChart(){W(this.chartContainer.nativeElement).selectAll("*").remove(),this.createChart()}createChart(){let n=qs(this.states,y=>y[2019]-y[2010]).map(y=>Se(ne({},y),{value:this.metric==="absolute"?y[2019]-y[2010]:(y[2019]-y[2010])/y[2010]})),i=25,o=30,s=60,a=10,l=60,c=Math.ceil((n.length+.1)*i)+o+a,u=be().domain(Mt(n,y=>y.value)).rangeRound([l,this.width-s]),d=ot().domain(n.map(y=>y.State)).rangeRound([o,c-a]).padding(.1),f=We(this.metric==="absolute"?"+,d":"+.1%"),h=this.metric==="absolute"?Oc("+.1",1e6):We("+.0%"),m=W(this.chartContainer.nativeElement).append("svg").attr("viewBox",[0,0,this.width,c]).attr("style","max-width: 100%; height: auto; font: 10px sans-serif;");m.append("g").selectAll("rect").data(n).join("rect").attr("fill",y=>Xm[3][y.value>0?2:0]).attr("x",y=>u(Math.min(y.value,0))).attr("y",y=>d(y.State)).attr("width",y=>Math.abs(u(y.value)-u(0))).attr("height",d.bandwidth()),m.append("g").attr("font-family","sans-serif").attr("font-size",10).selectAll("text").data(n).join("text").attr("text-anchor",y=>y.value<0?"end":"start").attr("x",y=>u(y.value)+Math.sign(y.value-0)*4).attr("y",y=>d(y.State)+d.bandwidth()/2).attr("dy","0.35em").text(y=>f(y.value)),m.append("g").attr("transform",`translate(0,${o})`).call(Jo(u).ticks(this.width/80).tickFormat(h)).call(y=>y.selectAll(".tick line").clone().attr("y2",c-o-a).attr("stroke-opacity",.1)).call(y=>y.select(".domain").remove()),m.append("g").attr("transform",`translate(${u(0)},0)`).call(Je(d).tickSize(0).tickPadding(6)).call(y=>y.selectAll(".tick text").filter((g,x)=>n[x].value<0).attr("text-anchor","start").attr("x",6))}};t.\u0275fac=function(i){return new(i||t)(X(Nn))},t.\u0275cmp=le({type:t,selectors:[["horizontal-diverging-bar"]],viewQuery:function(i,o){if(i&1&&Be(X1e,7),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first)}},inputs:{width:"width"},decls:17,vars:2,consts:[[1,"chart-container"],[1,"controls"],["type","radio","name","metric","value","absolute",3,"ngModel","ngModelChange","change"],["type","radio","name","metric","value","relative",3,"ngModel","ngModelChange","change"],[1,"header-section"],["title","Go to Home",1,"home-button",3,"click"],[1,"home-icon"],[1,"chart"],["chartContainer",""]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"label")(3,"input",2),te("ngModelChange",function(a){return o.metric=a})("change",function(){return o.updateChart()}),M(),V(4," Absolute Change "),M(),k(5,"label")(6,"input",3),te("ngModelChange",function(a){return o.metric=a})("change",function(){return o.updateChart()}),M(),V(7," Relative Change (%) "),M()(),k(8,"div",4)(9,"button",5),te("click",function(){return o.goHome()}),k(10,"span",6),V(11,"\u{1F3E0}"),M(),V(12," Home "),M(),k(13,"h2"),V(14,"US States Population"),M()(),Q(15,"div",7,8),M()),i&2&&(U(3),G("ngModel",o.metric),U(3),G("ngModel",o.metric))},dependencies:[si,oc,ai,Ci],styles:[".chart-container[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto}.controls[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;gap:20px}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;cursor:pointer}.chart[_ngcontent-%COMP%]{width:100%;overflow-x:auto}[_nghost-%COMP%]{display:block;padding:20px}"]});let e=t;return e})();function K1e(e,t){if(e&1&&(k(0,"div",5),V(1),M()),e&2){let r=_e();U(1),ut("",r.currentDataset.name," Companies by Market Cap")}}function J1e(e,t){e&1&&(k(0,"div",6),Q(1,"div",7),k(2,"p"),V(3,"Loading data..."),M()())}function eye(e,t){if(e&1&&(k(0,"option",33),V(1),M()),e&2){let r=t.$implicit;G("value",r.name),U(1),ut(" ",r.name," ")}}function tye(e,t){if(e&1){let r=bt();k(0,"div",8)(1,"div",12)(2,"label",23),V(3,"Company Group:"),M(),k(4,"select",24),te("change",function(i){lt(r);let o=_e(2);return ct(o.onDatasetChange(i))}),ge(5,eye,2,2,"option",25),M(),k(6,"label",26),V(7,"Tiling Algorithm:"),M(),k(8,"select",27),te("change",function(i){lt(r);let o=_e(2);return ct(o.onTileTypeChange(i))}),k(9,"option",28),V(10,"Squarify (Default)"),M(),k(11,"option",29),V(12,"Binary"),M(),k(13,"option",30),V(14,"Dice"),M(),k(15,"option",31),V(16,"Slice"),M(),k(17,"option",32),V(18,"Slice & Dice"),M()()()()}if(e&2){let r=_e(2);U(5),G("ngForOf",r.datasets)}}function nye(e,t){e&1&&(k(0,"div",34)(1,"p"),V(2,"No company data available"),M()())}function rye(e,t){if(e&1){let r=bt();k(0,"div",41),te("mouseenter",function(){let o=lt(r).$implicit,s=_e(3);return ct(s.highlightCompany(o.name))})("mouseleave",function(){lt(r);let i=_e(3);return ct(i.resetHighlight())}),Q(1,"div",42),k(2,"span",43),V(3),M(),k(4,"span",44),V(5),M()()}if(e&2){let r=t.$implicit,n=_e(3);rn("highlighted",n.highlightedCompany===r.name),U(1),ii("background-color",r.color),U(2),Ze(r.name),U(2),ut("$",n.format(r.value),"")}}function iye(e,t){if(e&1){let r=bt();k(0,"div",35)(1,"div",36)(2,"h3"),V(3),M(),k(4,"button",37),te("click",function(){lt(r);let i=_e(2);return ct(i.toggleLegendLayout())}),k(5,"span",38),V(6),M(),V(7),M()(),k(8,"div",39),ge(9,rye,6,6,"div",40),M()()}if(e&2){let r=_e(2);U(3),ut("",r.currentDataset.name," Companies"),U(3),Ze(r.showVerticalLegend?"grid_on":"view_list"),U(1),ut(" ",r.showVerticalLegend?"Grid View":"List View"," "),U(1),rn("vertical",r.showVerticalLegend),U(1),G("ngForOf",r.currentDataset.data)}}function oye(e,t){if(e&1){let r=bt();k(0,"div",8),ge(1,tye,19,1,"div",9)(2,nye,3,0,"ng-template",null,10,Pk),Q(4,"div",11),k(5,"div",12)(6,"label"),V(7,"Sort by:"),M(),k(8,"select",13),te("change",function(i){lt(r);let o=_e();return ct(o.sortLegend(i))}),k(9,"option",14),V(10,"Name (A-Z)"),M(),k(11,"option",15),V(12,"Name (Z-A)"),M(),k(13,"option",16),V(14,"Market Cap (Low-High)"),M(),k(15,"option",17),V(16,"Market Cap (High-Low)"),M()()(),ge(17,iye,10,6,"div",18),k(18,"div",19)(19,"div",20)(20,"div",21),V(21),M(),k(22,"div",22),V(23,"Total Companies"),M()(),k(24,"div",20)(25,"div",21),V(26),M(),k(27,"div",22),V(28,"Combined Market Cap"),M()(),k(29,"div",20)(30,"div",21),V(31),M(),k(32,"div",22),V(33,"Largest Company"),M()()()()}if(e&2){let r=rc(3),n=_e();U(1),G("ngIf",n.datasets.length>0)("ngIfElse",r),U(16),G("ngIf",n.currentDataset==null||n.currentDataset.data==null?null:n.currentDataset.data.length),U(4),Ze(n.totalCompanies),U(5),Ze(n.totalValue),U(5),Ze(n.largestCompany)}}var Tq=(()=>{let t=class t{toggleLegendLayout(){this.showVerticalLegend=!this.showVerticalLegend,localStorage.setItem(this.LEGEND_LAYOUT_KEY,this.showVerticalLegend?"vertical":"grid")}sortLegend(n){if(!this.currentDataset)return;let[i,o]=n.target.value.split("-");this.currentDataset.data.sort((s,a)=>{let l=i==="name"?s.name:s.value,c=i==="name"?a.name:a.value;return l<c?o==="asc"?-1:1:l>c?o==="asc"?1:-1:0}),this.createChart()}highlightCompany(n){this.highlightedCompany=n,vn(".treemap-rect").attr("fill-opacity",i=>i.data.name===n?1:.6)}resetHighlight(){this.highlightedCompany=null,vn(".treemap-rect").attr("fill-opacity",.85)}constructor(n){this.http=n,this.datasets=[],this.currentDataset={name:"",data:[]},this.isLoading=!0,this.viewInitialized=!1,this.treemapData={name:"Market Cap",children:[]},this.width=800,this.height=400,this.format=We(".2s"),this.uidCounter=0,this.currentTileType="squarify",this.totalCompanies=0,this.totalValue="$0",this.largestCompany="-",this.LEGEND_LAYOUT_KEY="legendLayoutPreference",this.showVerticalLegend=!1,this.highlightedCompany=null}loadCsv(n){return this.http.get(n,{responseType:"text"}).pipe(ve(i=>this.parseCsv(i)))}parseCsv(n){return n.split(`
`).filter(i=>i.trim()!=="").map(i=>i.split(",").map(o=>o.trim()))}loadAllDatasets(){return Sn(this,null,function*(){try{let n=yield Promise.all([this.loadDataset("Zoom","/assets/datasets/treemap/zoom.csv"),this.loadDataset("Amazon","/assets/datasets/treemap/amazon.csv"),this.loadDataset("Apple","/assets/datasets/treemap/apple.csv"),this.loadDataset("Tesla","/assets/datasets/treemap/tesla.csv"),this.loadDataset("Financials","/assets/datasets/treemap/financials.csv"),this.loadDataset("Airlines","/assets/datasets/treemap/airlines.csv"),this.loadDataset("Healthcare","/assets/datasets/treemap/healthcare.csv"),this.loadDataset("Energies","/assets/datasets/treemap/energies.csv"),this.loadDataset("Retail","/assets/datasets/treemap/retail.csv"),this.loadDataset("Tech Companies","/assets/datasets/treemap/tech_companies.csv"),this.loadDataset("Semi-Conductors","/assets/datasets/treemap/semiconductor.csv"),this.loadDataset("E-Commerce","/assets/datasets/treemap/ecommerce.csv"),this.loadDataset("Telecoms & Network","/assets/datasets/treemap/telecoms.csv"),this.loadDataset("Biotechnology","/assets/datasets/treemap/biotech.csv"),this.loadDataset("Renewable Energy","/assets/datasets/treemap/renewable.csv"),this.loadDataset("Entertainment & Streaming","/assets/datasets/treemap/entertainment.csv"),this.loadDataset("Cybersecurity","/assets/datasets/treemap/cybersecurity.csv"),this.loadDataset("Space","/assets/datasets/treemap/space.csv"),this.loadDataset("Fintech","/assets/datasets/treemap/fintech.csv"),this.loadDataset("Food","/assets/datasets/treemap/food.csv"),this.loadDataset("Automotive","/assets/datasets/treemap/automotive.csv")]);this.datasets=n.filter(i=>i!==null),this.datasets.length>0&&(this.currentDataset=this.datasets[0],this.treemapData.children=this.currentDataset.data)}catch(n){console.error("Error loading datasets:",n)}})}loadDataset(n,i){return Sn(this,null,function*(){try{let o=yield this.csvToCompanyDataWithLogos(i);return{name:n,data:o}}catch(o){return console.error(`Error loading ${n} dataset:`,o),null}})}ngOnInit(){return Sn(this,null,function*(){yield this.loadAllDatasets(),this.isLoading=!1,this.updateStats(),this.initializeChart();let n=localStorage.getItem(this.LEGEND_LAYOUT_KEY);this.showVerticalLegend=n==="vertical"})}ngAfterViewInit(){this.viewInitialized=!0,this.initializeChart(),setTimeout(()=>{W("#chart svg").node()||(console.log("Backup chart initialization triggered"),this.initializeChart())},200)}initializeChart(){this.viewInitialized&&!this.isLoading&&this.currentDataset?.data?.length>0&&setTimeout(()=>{console.log("Initializing chart with timing delay"),this.createChart()},100)}createUID(n){let i=`${n}-${++this.uidCounter}`;return{id:i,href:`#${i}`}}getTileFunction(n){switch(n){case"binary":return T3;case"dice":return Bi;case"slice":return fs;case"sliceDice":return k3;case"squarify":default:return hf}}createTreemap(n,i="squarify"){return Cl().tile(this.getTileFunction(i)).size([this.width,this.height]).padding(4).round(!1)(En(n).sum(o=>o.value||0).sort((o,s)=>s.value-o.value))}createChart(n="squarify"){if(!this.currentDataset?.data?.length||!this.viewInitialized)return;this.currentTileType=n,W("#chart").selectAll("*").remove();let i=this.createTreemap(this.treemapData,n),s=W("#chart").append("svg").attr("viewBox",[0,0,this.width,this.height]).style("font","14px sans-serif").selectAll("g").data(i.leaves()).join("g").attr("transform",a=>`translate(${a.x0},${a.y0})`);s.append("title").text(a=>`${a.data.name}
Market Cap: ${this.format(a.value)}`),s.append("rect").attr("class","treemap-rect").attr("id",a=>(a.leafUid=this.createUID("leaf"),a.leafUid.id)).attr("fill",a=>a.data.color).attr("fill-opacity",.85).attr("stroke","#fff").attr("stroke-width",2).attr("width",a=>Math.max(0,a.x1-a.x0)).attr("height",a=>Math.max(0,a.y1-a.y0)).attr("rx",4).attr("ry",4),s.append("clipPath").attr("id",a=>(a.clipUid=this.createUID("clip"),a.clipUid.id)).append("use").attr("href",a=>a.leafUid.href),s.append("image").attr("x",a=>Math.max(0,a.x1-a.x0-35)).attr("y",8).attr("width",24).attr("height",24).attr("href",a=>a.data.logo).attr("opacity",.8).style("pointer-events","none"),s.append("text").attr("class","treemap-text").attr("clip-path",a=>`url(${a.clipUid.href})`).style("fill","#2c3e50").style("font-weight","600").selectAll("tspan").data(a=>{let l=a.x1-a.x0,c=a.y1-a.y0;if(l<120||c<60){let u=a.data.name.split(" ")[0],d="$"+this.format(a.value);return[u,d]}else{let u=a.data.name.split(/\s+/),d="$"+this.format(a.value);return[...u,d]}}).join("tspan").attr("x",6).attr("y",(a,l,c)=>`${1.1+l*1.2}em`).attr("fill-opacity",(a,l,c)=>l===c.length-1?.7:1).style("font-size",(a,l,c)=>l===c.length-1?"10px":"12px").style("font-weight",(a,l,c)=>l===c.length-1?"normal":"600").text(a=>a),this.updateStats()}updateStats(){if(!this.currentDataset?.data?.length){this.totalValue="$0",this.largestCompany="-",this.totalCompanies=0;return}let n=this.currentDataset.data.reduce((o,s)=>o+s.value,0),i=this.currentDataset.data.reduce((o,s)=>s.value>o.value?s:o,this.currentDataset.data[0]);this.totalValue="$"+this.format(n),this.largestCompany=i.name,this.totalCompanies=this.currentDataset.data.length}onTileTypeChange(n){let i=n.target;this.createChart(i.value)}onDatasetChange(n){let i=n.target,o=this.datasets.find(s=>s.name===i.value);o&&(this.currentDataset=o,this.treemapData.children=o.data,this.totalCompanies=o.data.length,this.createChart())}csvToCompanyDataWithLogos(n){return Sn(this,null,function*(){let i=yield this.loadCsv(n).toPromise();if(!i||i.length===0)return[];let o=i[0],s=i.slice(1),a=[];for(let l of s){let c={};o.forEach((u,d)=>{let f=l[d]?.trim(),h=u.toLowerCase();h==="name"&&(c.name=f),h==="value"&&(c.value=parseFloat(f)),h==="color"&&(c.color=f.startsWith("#")?f:`#${f}`)}),!(!c.name||isNaN(c.value))&&(c.color=c.color||"#bbbbbb",c.logo=yield this.getCompanyLogo(c.name),a.push(c))}return a})}getDefaultLogo(n){let o=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
      <rect width="100" height="100" fill="#bbbbbb" rx="10"/>
      <text x="50" y="60" font-family="Arial" font-size="40" 
            fill="white" text-anchor="middle">${n.split(" ").map(s=>s[0]).join("").toUpperCase().substring(0,2)}</text>
    </svg>`;return`data:image/svg+xml;base64,${btoa(o)}`}getCompanyLogo(n){return Sn(this,null,function*(){let i=n.toLowerCase().replace(/[^a-z0-9]+/g,"").replace(/\s+/g,""),s={agriculturalbankofchina:"abchina.com",elililly:"lilly.com",chinasouthernairlines:"csair.com",internationalconsolidatedairlines:"iairgroup.com",chinaeasternairlines:"ceair.com",royalbankofcanada:"rbcroyalbank.com",johnsonjohnson:"jnj.com",unitedairlinesholdings:"united.com",chinaconstructionbankgroup:"ccb.com",thechinaconstructionbank:"ccb.com",jpmorganchase:"jpmorganchase.com",thebankofamerica:"bankofamerica.com",wellsfargo:"wellsfargo.com","rsted.com":"orsted.com",novonordisk:"novonordisk.com",bristolmyerssquibb:"bms.com",astrazeneca:"astrazeneca.com"}[i];if(s){let l=`https://logo.clearbit.com/${s}`;if(yield this.checkLogoExists(l,s))return l}let a=[`${i}.com`,`${i}group.com`,`${i}holdings.com`,`the${i}.com`];for(let l of a){let c=`https://logo.clearbit.com/${l}`;return(yield this.checkLogoExists(c,l))||(c=`https://img.logo.dev/${l}`),c}return this.getDefaultLogo(n)})}checkLogoExists(n,i){return Sn(this,null,function*(){try{return(yield fetch(n,{method:"HEAD"})).ok}catch{return console.log(i,n),!1}})}};t.\u0275fac=function(i){return new(i||t)(X(Wt))},t.\u0275cmp=le({type:t,selectors:[["app-market-cap-treemap"]],decls:7,vars:3,consts:[[1,"container"],[1,"header"],["class","subtitle",4,"ngIf"],["class","loading",4,"ngIf"],["class","content",4,"ngIf"],[1,"subtitle"],[1,"loading"],[1,"spinner"],[1,"content"],["class","content",4,"ngIf","ngIfElse"],["noData",""],["id","chart",1,"chart-container"],[1,"controls"],[3,"change"],["value","name-asc"],["value","name-desc"],["value","value-asc"],["value","value-desc"],["class","legend-container",4,"ngIf"],[1,"stats"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],["for","dataset-selector"],["id","dataset-selector",3,"change"],[3,"value",4,"ngFor","ngForOf"],["for","tile-selector"],["id","tile-selector",3,"change"],["value","squarify"],["value","binary"],["value","dice"],["value","slice"],["value","sliceDice"],[3,"value"],[1,"no-data"],[1,"legend-container"],[1,"legend-header"],[1,"legend-toggle",3,"click"],[1,"material-icons"],[1,"legend-items"],["class","legend-item",3,"highlighted","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"legend-item",3,"mouseenter","mouseleave"],[1,"legend-color"],[1,"legend-label"],[1,"legend-value"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"h1"),V(3,"Market Capitalization Treemap"),M(),ge(4,K1e,2,1,"div",2),M(),ge(5,J1e,4,0,"div",3)(6,oye,34,6,"div",4),M()),i&2&&(U(4),G("ngIf",o.currentDataset==null?null:o.currentDataset.name),U(1),G("ngIf",o.isLoading),U(1),G("ngIf",!o.isLoading))},dependencies:[Yt,mt,Cr,Dr],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;background:white;border-radius:12px;box-shadow:0 4px 20px #0000001a;padding:30px}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px;font-size:2.2em;font-weight:300}.subtitle[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1em;margin-bottom:20px}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:15px;margin-bottom:25px;padding:15px;background:#f8f9fa;border-radius:8px}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;color:#495057}.controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:8px 12px;border:2px solid #e9ecef;border-radius:6px;background:white;font-size:14px;cursor:pointer;transition:border-color .3s ease}.controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#17becf}.controls[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#17becf;box-shadow:0 0 0 3px #17becf1a}.chart-container[_ngcontent-%COMP%]{width:100%;overflow:hidden;border-radius:8px;box-shadow:0 2px 10px #0000001a}.chart-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;width:100%;height:auto;background:#fff}.treemap-rect[_ngcontent-%COMP%]{cursor:pointer;transition:fill-opacity .2s ease}.treemap-rect[_ngcontent-%COMP%]:hover{fill-opacity:1!important;stroke:#2c3e50;stroke-width:2px}.treemap-text[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}.stats[_ngcontent-%COMP%]{margin-top:25px;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px}.stat-card[_ngcontent-%COMP%]{background:#f8f9fa;padding:15px;border-radius:8px;text-align:center}.stat-value[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700;color:#17becf}.stat-label[_ngcontent-%COMP%]{color:#6c757d;font-size:.9em;margin-top:5px}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px}.loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(0,0,0,.1);border-radius:50%;border-top:4px solid #17becf;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.legend-container[_ngcontent-%COMP%]{margin-top:30px;padding:20px;background:#f8f9fa;border-radius:8px;box-shadow:0 2px 10px #0000001a}.legend-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px;border-bottom:1px solid #e9ecef;padding-bottom:10px}.legend-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin:0;font-weight:600}.legend-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid #e9ecef;border-radius:4px;padding:6px 12px;cursor:pointer;transition:all .2s ease}.legend-toggle[_ngcontent-%COMP%]:hover{background:#f1f1f1}.legend-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;height:18px;width:18px}.legend-items[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:12px}.legend-items.vertical[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:8px 12px;background:white;border-radius:4px;box-shadow:0 1px 3px #0000001a;transition:all .2s ease}.legend-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 3px 6px #00000026}.legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:16px;height:16px;border-radius:3px;margin-right:10px;border:1px solid rgba(0,0,0,.1);flex-shrink:0}.legend-item[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{flex:1;font-size:13px;color:#495057;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.legend-item[_ngcontent-%COMP%]   .legend-value[_ngcontent-%COMP%]{font-size:12px;color:#6c757d;font-family:monospace;margin-left:8px;flex-shrink:0}.legend-item[_ngcontent-%COMP%]{transition:all .2s ease;cursor:pointer}.legend-item.highlighted[_ngcontent-%COMP%]{transform:translateY(-2px);box-shadow:0 3px 6px #00000026;background-color:#f0f8ff}.legend-items.vertical[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{padding:6px 10px}.legend-items.vertical[_ngcontent-%COMP%]   .legend-label[_ngcontent-%COMP%]{white-space:normal}@media (max-width: 768px){.legend-items[_ngcontent-%COMP%]:not(.vertical){grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.legend-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:10px}}@media (max-width: 480px){.legend-items[_ngcontent-%COMP%]:not(.vertical){grid-template-columns:1fr}}"]});let e=t;return e})();var sye=["botFlagsChart"],aye=["geoAsnChart"],lye=["tooltip"],kq=(()=>{let t=class t{constructor(){this.margin={top:20,right:20,bottom:120,left:100},this.width=500-this.margin.left-this.margin.right,this.height=400-this.margin.bottom-this.margin.top,this.botFlagsData=[{label:"80.7%",value:80.7,color:"#ff9999"},{label:"56.5%",value:56.5,color:"#99ccff"},{label:"16.4%",value:16.4,color:"#cccccc"},{label:"16.4%",value:16.4,color:"#ff6666"},{label:"embed.ctv.wireless1 (15.4%)",value:15.4,color:"#66cc66"},{label:"8%",value:8,color:"#ffcccc"},{label:"6.9%",value:6.9,color:"#ccddff"},{label:"6.9%",value:6.9,color:"#ffddcc"},{label:"3.8%",value:3.8,color:"#ddccff"},{label:"2%",value:2,color:"#ccffcc"}],this.geoAsnData=[{label:"T-MOBILE-AS21928",value:49.5,asn:"AS21928"},{label:"CELLCO-PART",value:40.3,asn:"AS6167"},{label:"SPACEX-STARLINK",value:4.7,asn:"AS14593"},{label:"ATT-MOBILITY-LLC-AS20057",value:3.3,asn:"AS20057"},{label:"BOOST-MOBILE",value:.9,asn:"AS398378"},{label:"C-SPIRE-WIRELESS",value:.3,asn:"AS15212"},{label:"Advance Wireless Network",value:.2,asn:"AS131445"},{label:"SURFAIRWIRELESS-IN-02",value:.2,asn:"AS13428"},{label:"EVERYWHERE-WIRELESS-LLC",value:.2,asn:"AS17210"},{label:"GETWIRELESS",value:.1,asn:"AS32278"}]}ngAfterViewInit(){this.tooltip=W(this.tooltipRef.nativeElement),this.createBotFlagsChart(),this.createGeoAsnChart()}ngOnDestroy(){this.botFlagsSvg&&this.botFlagsSvg.remove(),this.geoAsnSvg&&this.geoAsnSvg.remove()}showTooltip(n,i){this.tooltip.style("opacity",1).html(`<strong>${i.label}</strong><br/>Value: ${i.value}%`).style("left",n.pageX+10+"px").style("top",n.pageY-10+"px")}showGeoTooltip(n,i){this.tooltip.style("opacity",1).html(`<strong>${i.label}</strong><br/>ASN: ${i.asn}<br/>Percentage: ${i.value}%`).style("left",n.pageX+10+"px").style("top",n.pageY-10+"px")}hideTooltip(){this.tooltip.style("opacity",0)}createBotFlagsChart(){let n=W(this.botFlagsChartRef.nativeElement);this.botFlagsSvg=n.append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);let i=this.botFlagsSvg.append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),o=ot().domain(this.botFlagsData.map((a,l)=>l.toString())).range([0,this.width]).padding(.1),s=be().domain([0,Ue(this.botFlagsData,a=>a.value)||0]).range([this.height,0]);i.selectAll(".bar").data(this.botFlagsData).enter().append("rect").attr("class","bar").attr("x",(a,l)=>o(l.toString())||0).attr("y",a=>s(a.value)).attr("width",o.bandwidth()).attr("height",a=>this.height-s(a.value)).attr("fill",a=>a.color).on("mouseover",(a,l)=>this.showTooltip(a,l)).on("mouseout",()=>this.hideTooltip()),i.append("g").attr("class","axis").attr("transform",`translate(0,${this.height})`).call(it(o).tickFormat((a,l)=>`${l+1}`)),i.append("g").attr("class","axis").call(Je(s).tickFormat(a=>a+"%")),i.append("text").attr("transform","rotate(-90)").attr("y",0-this.margin.left).attr("x",0-this.height/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("fill","#333").text("Percentage"),i.append("text").attr("transform",`translate(${this.width/2}, ${this.height+this.margin.bottom-10})`).style("text-anchor","middle").style("font-size","14px").style("fill","#333").text("Bot Flags Categories")}createGeoAsnChart(){let n=W(this.geoAsnChartRef.nativeElement);this.geoAsnSvg=n.append("svg").attr("viewBox",[-100,0,this.width*1.6,this.height*1.6].join(" ")).attr("width",this.width+this.margin.left+this.margin.right+100).attr("height",this.height+this.margin.top+this.margin.bottom);let i=this.geoAsnSvg.append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),o=be().domain([0,Ue(this.geoAsnData,l=>l.value)||0]).range([0,this.width]),s=ot().domain(this.geoAsnData.map(l=>l.label)).range([0,this.height]).padding(.1),a=Tn(fx).domain([0,Ue(this.geoAsnData,l=>l.value)||0]);i.selectAll(".bar").data(this.geoAsnData).enter().append("rect").attr("class","bar").attr("x",0).attr("y",l=>s(l.label)||0).attr("width",l=>o(l.value)).attr("height",s.bandwidth()).attr("fill",l=>a(l.value)).on("mouseover",(l,c)=>this.showGeoTooltip(l,c)).on("mouseout",()=>this.hideTooltip()),i.selectAll(".bar-label").data(this.geoAsnData).enter().append("text").attr("class","bar-label").attr("x",l=>o(l.value)+5).attr("y",l=>(s(l.label)||0)+s.bandwidth()/2).attr("dy","0.35em").style("font-size","11px").style("fill","#333").text(l=>l.value+"%"),i.append("g").attr("class","axis").attr("transform",`translate(0,${this.height})`).call(it(o).tickFormat(l=>l+"%")),i.append("g").attr("class","axis").call(Je(s)).selectAll("text").style("font-size","10px"),i.append("text").attr("transform",`translate(${this.width/2}, ${this.height+this.margin.bottom-60})`).style("text-anchor","middle").style("font-size","14px").style("fill","#333").text("Percentage"),i.append("text").attr("transform","rotate(-90)").attr("y",0-this.margin.left-100).attr("x",0-this.height/2).attr("dy","1em").style("text-anchor","middle").style("font-size","14px").style("fill","#333").text("Network Providers (ASN)")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["network-data-viz"]],viewQuery:function(i,o){if(i&1&&(Be(sye,7),Be(aye,7),Be(lye,7)),i&2){let s;Le(s=Ve())&&(o.botFlagsChartRef=s.first),Le(s=Ve())&&(o.geoAsnChartRef=s.first),Le(s=Ve())&&(o.tooltipRef=s.first)}},decls:14,vars:0,consts:[[1,"network-dashboard"],[1,"container"],[1,"chart-container"],[1,"chart-title"],[1,"chart-content"],["botFlagsChart",""],["geoAsnChart",""],[1,"tooltip"],["tooltip",""]],template:function(i,o){i&1&&(k(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),V(4,"Bot Flags Distribution"),M(),Q(5,"div",4,5),M(),k(7,"div",2)(8,"div",3),V(9,"Geographic ASN Distribution"),M(),Q(10,"div",4,6),M()(),Q(12,"div",7,8),M())},styles:[`.network-dashboard{font-family:Arial,sans-serif;margin:20px;background-color:#f5f5f5}h1{color:#333;margin-bottom:30px}.container{display:flex;gap:40px;flex-wrap:wrap}.chart-container{background:white;border-radius:8px;padding:20px;box-shadow:0 2px 10px #0000001a;min-width:650px}.chart-title{font-size:18px;font-weight:700;margin-bottom:20px;text-align:center;color:#333}.chart-content{width:100%;height:400px}:host ::ng-deep .bar{transition:opacity .2s;cursor:pointer}:host ::ng-deep .bar:hover{opacity:.8}:host ::ng-deep .axis{font-size:12px}:host ::ng-deep .axis text{fill:#333}:host ::ng-deep .axis line,:host ::ng-deep .axis path{fill:none;stroke:#333;shape-rendering:crispEdges}.tooltip{position:absolute;padding:10px;background:rgba(0,0,0,.8);color:#fff;border-radius:4px;font-size:12px;pointer-events:none;opacity:0;transition:opacity .2s;z-index:1000}
`],encapsulation:2});let e=t;return e})();var uye=["appsChart"],dye=["devicePieChart"],fye=["positionChart"],hye=["browserChart"],pye=["bidfloorChart"],mye=["publisherChart"],gye=["tooltip"],Iq=(()=>{let t=class t{constructor(){this.svgElements=[],this.margin={top:20,right:20,bottom:60,left:80},this.width=400-this.margin.left-this.margin.right,this.height=300-this.margin.top-this.margin.bottom,this.colorScheme=Xe(cx),this.colorScheme2=Xe(kn),this.metrics={totalRequests:"81.8B",avgBidFloor:"$10.9"},this.data={apps:[{name:"Pluto TV",requests:11.9},{name:"Samsung TV Plus",requests:7.6},{name:"Not Available",requests:7.1},{name:"Philo",requests:4.4},{name:"Atmosphere",requests:3.8},{name:"plutotv",requests:3},{name:"WatchFree",requests:1.6},{name:"LG Channels",requests:1.5},{name:"SAMSUNG TV PLUS",requests:1.1},{name:"Pluto TV - It's Free TV",requests:1}],devices:[{type:"Set Top Box[NR1]",requests:53},{type:"Connected TV",requests:28.8}],positions:[{position:"Not Available",requests:81.8},{position:"Above the Fold",requests:.001},{position:"Fullscreen",requests:.001},{position:"Header",requests:0},{position:"Footer",requests:0},{position:"Below the Fold",requests:0}],browsers:[{name:"Not Available",requests:36.59},{name:"Tizen Browser",requests:14.34},{name:"Chrome",requests:9.99},{name:"Amazon Silk",requests:8.47},{name:"Safari",requests:3.49},{name:"Android Browser",requests:3.4},{name:"MIUI Browser",requests:2.7},{name:"LG webOS Browser",requests:2.35},{name:"Opera",requests:.17}],bidFloors:[{range:"0.00-0.05",requests:13.3},{range:"20.00-25.00",requests:9.5},{range:"6.50-7.00",requests:5.6},{range:"15.00-16.00",requests:4.7},{range:"18.00-19.00",requests:4.5},{range:"8.00-8.50",requests:4.1},{range:"10.00-11.00",requests:3.8},{range:"12.00-13.00",requests:3.6},{range:"16.00-17.00",requests:3.2},{range:"13.00-14.00",requests:3.2}],publishers:[{name:"Not Available",requests:37.8},{name:"LG Ads Solutions",requests:4},{name:"Vizio",requests:3.3},{name:"Paramount Global",requests:2.9},{name:"LG Ads AE",requests:2.5},{name:"Rarefied Atmosphere, Inc.",requests:2.4},{name:"Glewed.tv",requests:2.1},{name:"Wurl",requests:2},{name:"Origin Media, Inc",requests:1.8},{name:"Krush Media",requests:1.3}]},this.browserData=this.data.browsers.map(n=>{let i=0;return i=i+n.requests,{category:n.name,count:n.requests,percent:100*(n.requests/i)}}),this.colorScheme3=Tn(n=>Ar(n*1+.1)).domain([0,this.data.bidFloors.length])}ngAfterViewInit(){this.tooltip=W(this.tooltipRef.nativeElement),this.initializeCharts()}ngOnDestroy(){this.svgElements.forEach(n=>{n&&n.remove()})}initializeCharts(){this.createAppsChart(),this.createDevicePieChart(),this.createPositionChart(),this.createBidFloorChart(),this.createPublisherChart()}showTooltip(n,i,o=null){let s=o!==null?`<strong>${i}</strong><br/>Value: ${o}%`:`<strong>${i.name||i.position||i.type||i.range}</strong><br/>Requests: ${i.requests}%`;this.tooltip.style("opacity",1).html(s).style("left",n.pageX+10+"px").style("top",n.pageY-10+"px")}hideTooltip(){this.tooltip.style("opacity",0)}createAppsChart(){let n=W(this.appsChartRef.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);this.svgElements.push(n);let i=n.append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),o=be().domain([0,Ue(this.data.apps,a=>a.requests)||0]).range([0,this.width]),s=ot().domain(this.data.apps.map(a=>a.name)).range([0,this.height]).padding(.1);i.selectAll(".bar").data(this.data.apps).enter().append("rect").attr("class","bar").attr("x",0).attr("y",a=>s(a.name)||0).attr("width",a=>o(a.requests)).attr("height",s.bandwidth()).attr("fill",(a,l)=>this.colorScheme3(l)).on("mouseover",(a,l)=>this.showTooltip(a,l)).on("mouseout",()=>this.hideTooltip()),i.append("g").attr("class","axis").attr("transform",`translate(0,${this.height})`).call(it(o)),i.append("g").attr("class","axis").call(Je(s)).selectAll("text").style("font-size","10px")}createDevicePieChart(){let n=Math.min(this.width,this.height)/2,i=W(this.devicePieChartRef.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);this.svgElements.push(i);let o=i.append("g").attr("transform",`translate(${(this.width+this.margin.left+this.margin.right)/2},${(this.height+this.margin.top+this.margin.bottom)/2})`),s=Yr().value(c=>c.requests).sort(null),a=sn().innerRadius(0).outerRadius(n-10),l=o.selectAll(".arc").data(s(this.data.devices)).enter().append("g").attr("class","arc");l.append("path").attr("class","pie-slice").attr("d",a).attr("fill",(c,u)=>this.colorScheme(u.toString())).on("mouseover",(c,u)=>this.showTooltip(c,u.data.type,u.data.requests)).on("mouseout",()=>this.hideTooltip()),l.append("text").attr("transform",c=>`translate(${a.centroid(c)})`).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").text(c=>`${c.data.requests}%`)}createPositionChart(){let n=W(this.positionChartRef.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);this.svgElements.push(n);let i=n.append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),o=this.data.positions.filter(l=>l.requests>0),s=ot().domain(o.map(l=>l.position)).range([0,this.width]).padding(.1),a=be().domain(Mt(o,l=>l.requests)).range([this.height,0]);i.selectAll(".bar").data(o).enter().append("rect").attr("class","bar").attr("x",l=>s(l.position)||0).attr("y",l=>a(l.requests)).attr("width",s.bandwidth()).attr("height",l=>this.height-a(l.requests)).attr("fill",(l,c)=>this.colorScheme(c.toString())).on("mouseover",(l,c)=>this.showTooltip(l,c)).on("mouseout",()=>this.hideTooltip()),i.append("g").attr("class","axis").attr("transform",`translate(0,${this.height})`).call(it(s)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),i.append("g").attr("class","axis").call(Je(a).tickFormat(We(".3s")))}createBrowserChart(){let n=Math.min(this.width,this.height)/2,i=W(this.browserChartRef.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);this.svgElements.push(i);let o=i.append("g").attr("transform",`translate(${(this.width+this.margin.left+this.margin.right)/2},${(this.height+this.margin.top+this.margin.bottom)/2})`),s=Yr().value(f=>f.requests).sort(null),a=sn().innerRadius(n*.4).outerRadius(n-10),l=this.data.browsers.slice(0,8);o.selectAll(".arc").data(s(l)).enter().append("g").attr("class","arc").append("path").attr("class","pie-slice").attr("d",a).attr("fill",(f,h)=>this.colorScheme2(h.toString())).on("mouseover",(f,h)=>this.showTooltip(f,h.data.name,h.data.requests)).on("mouseout",()=>this.hideTooltip());let d=i.append("g").attr("class","legend").attr("transform","translate(20, 20)").selectAll(".legend-item").data(this.data.browsers.slice(0,6)).enter().append("g").attr("class","legend-item").attr("transform",(f,h)=>`translate(0, ${h*20})`);d.append("rect").attr("width",15).attr("height",15).attr("fill",(f,h)=>this.colorScheme2(h.toString())),d.append("text").attr("x",20).attr("y",12).style("font-size","11px").text(f=>`${f.name.substring(0,15)}...`)}createBidFloorChart(){let n=W(this.bidfloorChartRef.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);this.svgElements.push(n);let i=n.append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),o=ot().domain(this.data.bidFloors.map(l=>l.range)).range([0,this.width]).padding(.1),s=be().domain([0,Ue(this.data.bidFloors,l=>l.requests)||0]).range([this.height,0]),a=Hi().domain([0,Ue(this.data.bidFloors,l=>l.requests)||0]).range([0,30]);i.selectAll(".bubble").data(this.data.bidFloors).enter().append("circle").attr("class","bubble").attr("cx",l=>(o(l.range)||0)+o.bandwidth()/2).attr("cy",l=>s(l.requests)).attr("r",l=>a(l.requests)).attr("fill",(l,c)=>this.colorScheme3(c*2)).attr("opacity",.7).on("mouseover",(l,c)=>this.showTooltip(l,c)).on("mouseout",()=>this.hideTooltip()),i.append("g").attr("class","axis").attr("transform",`translate(0,${this.height})`).call(it(o)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)"),i.append("g").attr("class","axis").call(Je(s))}createPublisherChart(){let n=W(this.publisherChartRef.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom);this.svgElements.push(n);let i=En({children:this.data.publishers}).sum(s=>s.requests).sort((s,a)=>(a.value||0)-(s.value||0));Cl().size([this.width+this.margin.left+this.margin.right,this.height+this.margin.top+this.margin.bottom]).padding(2)(i);let o=n.selectAll("g").data(i.leaves()).enter().append("g").attr("transform",s=>`translate(${s.x0},${s.y0})`);o.append("rect").attr("fill",(s,a)=>this.colorScheme3(a)).attr("width",s=>s.x1-s.x0).attr("height",s=>s.y1-s.y0).attr("opacity",.8).on("mouseover",(s,a)=>this.showTooltip(s,a.data)).on("mouseout",()=>this.hideTooltip()),o.append("text").attr("x",4).attr("y",16).style("font-size","10px").style("font-weight","bold").text(s=>{let a=s.data.name;return a.length>15?a.substring(0,15)+"...":a}),o.append("text").attr("x",4).attr("y",30).style("font-size","9px").style("fill","#666").text(s=>`${s.data.requests}%`)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["advertising-analytics"]],viewQuery:function(i,o){if(i&1&&(Be(uye,7),Be(dye,7),Be(fye,7),Be(hye,7),Be(pye,7),Be(mye,7),Be(gye,7)),i&2){let s;Le(s=Ve())&&(o.appsChartRef=s.first),Le(s=Ve())&&(o.devicePieChartRef=s.first),Le(s=Ve())&&(o.positionChartRef=s.first),Le(s=Ve())&&(o.browserChartRef=s.first),Le(s=Ve())&&(o.bidfloorChartRef=s.first),Le(s=Ve())&&(o.publisherChartRef=s.first),Le(s=Ve())&&(o.tooltipRef=s.first)}},decls:53,vars:3,consts:[[1,"metric-box"],["routerLink","",1,"button"],["routerLink","/analytics",1,"button","button2"],[1,"dashboard-container"],[1,"metric-header"],[1,"metric-value"],[1,"metric-label"],[1,"dashboard"],[1,"card"],[1,"card-title"],[1,"chart-content"],["appsChart",""],["devicePieChart",""],["positionChart",""],[3,"chartData"],["bidfloorChart",""],["publisherChart",""],[1,"tooltip"],["tooltip",""]],template:function(i,o){i&1&&(k(0,"div")(1,"div",0)(2,"h1"),V(3,"Network Analysis Dashboard"),M(),k(4,"span",1),V(5,"\xAB Home"),M()(),k(6,"div",0)(7,"span",2),V(8,"Next \xBB"),M()()(),k(9,"div",3)(10,"div",4)(11,"div",0)(12,"span",5),V(13),M(),k(14,"span",6),V(15,"Total Requests"),M()(),k(16,"div",0)(17,"span",5),V(18),M(),k(19,"span",6),V(20,"Avg. Bid Floor"),M()()(),k(21,"div",7)(22,"div",8)(23,"div",9),V(24,"Top Apps/Sites by Requests"),M(),Q(25,"div",10,11),M(),k(27,"div",8)(28,"div",9),V(29,"Device Type Distribution"),M(),Q(30,"div",10,12),M(),k(32,"div",8)(33,"div",9),V(34,"Ad Position Performance"),M(),Q(35,"div",10,13),M(),k(37,"div",8)(38,"div",9),V(39,"Browser Distribution"),M(),Q(40,"donut",14),M(),k(41,"div",8)(42,"div",9),V(43,"Bid Floor Analysis"),M(),Q(44,"div",10,15),M(),k(46,"div",8)(47,"div",9),V(48,"Publisher Performance"),M(),Q(49,"div",10,16),M()(),Q(51,"div",17,18),M()),i&2&&(U(13),Ze(o.metrics.totalRequests),U(5),Ze(o.metrics.avgBidFloor),U(22),G("chartData",o.browserData))},dependencies:[gt,bs],styles:[".dashboard-container[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin:0;padding:20px;background:linear-gradient(135deg,#f3f4f6 0%,#f5f3f7 100%);min-height:100vh}.metric-header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background:linear-gradient(45deg,#0a0e8d,#0a0e8d);padding:20px;border-radius:10px;color:#fff;max-width:1600px;margin:0 auto 30px}.metric-box[_ngcontent-%COMP%]{text-align:center}.metric-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700;display:block}.metric-label[_ngcontent-%COMP%]{font-size:14px;opacity:.9}.dashboard[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:25px;max-width:1600px;margin:0 auto}.card[_ngcontent-%COMP%]{background:rgba(255,255,255,.95);border-radius:15px;padding:25px;box-shadow:0 10px 30px #0003;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);transition:transform .3s ease,box-shadow .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 15px 40px #0000004d}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;margin-bottom:20px;color:#2c3e50;text-align:center;border-bottom:3px solid #3498db;padding-bottom:10px}.chart-content[_ngcontent-%COMP%]{width:100%;height:300px;display:flex;justify-content:center;align-items:center}.tooltip[_ngcontent-%COMP%]{position:absolute;padding:12px;background:rgba(0,0,0,.9);color:#fff;border-radius:8px;font-size:12px;pointer-events:none;opacity:0;transition:opacity .3s;border:1px solid #3498db;z-index:1000}[_nghost-%COMP%]     .axis text{font-size:11px;fill:#34495e}[_nghost-%COMP%]     .axis path, [_nghost-%COMP%]     .axis line{fill:none;stroke:#bdc3c7;shape-rendering:crispEdges}[_nghost-%COMP%]     .bar{transition:all .3s ease;cursor:pointer}[_nghost-%COMP%]     .bar:hover{opacity:.8;stroke:#2c3e50;stroke-width:2}[_nghost-%COMP%]     .pie-slice{cursor:pointer;transition:all .3s ease}[_nghost-%COMP%]     .pie-slice:hover{opacity:.8;stroke:#fff;stroke-width:3}[_nghost-%COMP%]     .legend{font-size:12px}[_nghost-%COMP%]     .legend-item{cursor:pointer;transition:opacity .3s ease}[_nghost-%COMP%]     .legend-item:hover{opacity:.7}[_nghost-%COMP%]     .bubble{cursor:pointer;transition:all .3s ease}[_nghost-%COMP%]     .bubble:hover{stroke:#2c3e50;stroke-width:2}"]});let e=t;return e})();var vye=["chartContainer"],Aq=(()=>{let t=class t{constructor(){this.data=[{name:"OKK",value:-3.9,upper:-1.8,lower:-3.9},{name:"A lugr",value:-2.4,upper:-2.4,lower:-2.4},{name:"Heleana",value:-1.8,upper:.8,lower:-2.5},{name:"Saltudas",value:-1.8,upper:-1.8,lower:-2.5},{name:"Agnianto",value:-1.7,upper:-1.7,lower:-1.7},{name:"Astura",value:-1.5,upper:-1.5,lower:-3.5},{name:"Concordia",value:-1.3,upper:-1.3,lower:-2.8},{name:"Xyrao Sympany",value:-.8,upper:-.8,lower:-.8},{name:"CSS",value:.7,upper:.7,lower:-1.8},{name:"KPT",value:1.9,upper:1.9,lower:-1.2},{name:"Swica",value:2.6,upper:2.6,lower:2.6},{name:"Mutual",value:3.9,upper:3.9,lower:3.9},{name:"Visana",value:6.2,upper:6.2,lower:6.2}],this.title="Performance Metrics Chart",this.dimensions={width:900,height:500,margin:{top:40,right:40,bottom:80,left:60}}}ngOnInit(){this.createChart()}ngOnChanges(n){n.data&&!n.data.firstChange&&this.updateChart()}ngOnDestroy(){this.svg&&this.svg.remove(),this.tooltip&&this.tooltip.remove()}createChart(){let n=this.chartContainer.nativeElement;W(n).selectAll("*").remove(),this.svg=W(n).append("svg").attr("width",this.dimensions.width).attr("height",this.dimensions.height),this.tooltip=W("body").append("div").attr("class","chart-tooltip").style("position","absolute").style("visibility","hidden").style("background","rgba(0,0,0,0.8)").style("color","white").style("padding","8px").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("z-index","1000"),this.updateChart()}updateChart(){if(!this.data||this.data.length===0)return;let{width:n,height:i,margin:o}=this.dimensions,s=n-o.left-o.right,a=i-o.top-o.bottom;this.svg.selectAll(".chart-content").remove();let l=this.svg.append("g").attr("class","chart-content").attr("transform",`translate(${o.left},${o.top})`),c=ot().domain(this.data.map(d=>d.name)).range([0,s]).padding(.2),u=be().domain(Mt(this.data.flatMap(d=>[d.value,d.upper,d.lower]))).nice().range([a,0]);this.addGridLines(l,u,s),this.addZeroLine(l,u,s),this.createBars(l,c,u),this.addConfidenceIntervals(l,c,u),this.addValueLabels(l,c,u),this.addAxes(l,c,u,a)}addGridLines(n,i,o){n.selectAll(".grid-line").data(i.ticks()).enter().append("line").attr("class","grid-line").attr("x1",0).attr("x2",o).attr("y1",s=>i(s)).attr("y2",s=>i(s)).style("stroke","#e0e0e0").style("stroke-width",1)}addZeroLine(n,i,o){n.append("line").attr("class","zero-line").attr("x1",0).attr("x2",o).attr("y1",i(0)).attr("y2",i(0)).style("stroke","#666").style("stroke-width",2)}createBars(n,i,o){n.selectAll(".bar").data(this.data).enter().append("rect").attr("class","bar").attr("x",s=>i(s.name)).attr("width",i.bandwidth()).attr("y",s=>s.value>=0?o(s.value):o(0)).attr("height",s=>Math.abs(o(s.value)-o(0))).attr("fill","#8e7cc3").attr("opacity",.8).style("cursor","pointer").on("mouseover",(s,a)=>this.showTooltip(s,a)).on("mouseout",()=>this.hideTooltip()).on("mousemove",s=>this.moveTooltip(s))}addConfidenceIntervals(n,i,o){let s=this.data.filter(a=>a.upper!==a.lower);n.selectAll(".confidence-interval").data(s).enter().append("line").attr("class","confidence-interval").attr("x1",a=>i(a.name)+i.bandwidth()/2).attr("x2",a=>i(a.name)+i.bandwidth()/2).attr("y1",a=>o(a.upper)).attr("y2",a=>o(a.lower)).style("stroke","#8e44ad").style("stroke-width",2),this.addArrowsAndDots(n,s,i,o)}addArrowsAndDots(n,i,o,s){n.selectAll(".arrow-up").data(i).enter().append("polygon").attr("class","arrow-up").attr("points",a=>{let l=o(a.name)+o.bandwidth()/2,c=s(a.upper);return`${l-4},${c+8} ${l},${c} ${l+4},${c+8}`}).style("fill","#8e44ad").style("stroke","#8e44ad").style("stroke-width",2),n.selectAll(".arrow-down").data(i).enter().append("polygon").attr("class","arrow-down").attr("points",a=>{let l=o(a.name)+o.bandwidth()/2,c=s(a.lower);return`${l-4},${c-8} ${l},${c} ${l+4},${c-8}`}).style("fill","#8e44ad").style("stroke","#8e44ad").style("stroke-width",2),n.selectAll(".dot-upper").data(i).enter().append("circle").attr("cx",a=>o(a.name)+o.bandwidth()/2).attr("cy",a=>s(a.upper)).attr("r",4).attr("fill","#8e44ad"),n.selectAll(".dot-lower").data(i).enter().append("circle").attr("cx",a=>o(a.name)+o.bandwidth()/2).attr("cy",a=>s(a.lower)).attr("r",4).attr("fill","#8e44ad")}addValueLabels(n,i,o){n.selectAll(".value-label").data(this.data).enter().append("text").attr("class","value-label").attr("x",s=>i(s.name)+i.bandwidth()/2).attr("y",s=>s.value>=0?o(s.value)-5:o(s.value)+15).attr("text-anchor","middle").style("font-size","11px").style("font-weight","bold").style("fill","#333").text(s=>s.value)}addAxes(n,i,o,s){n.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`).call(it(i)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-45)").style("font-size","12px"),n.append("g").attr("class","y-axis").call(Je(o)).style("font-size","12px")}showTooltip(n,i){let o=`
      <strong>${i.name}</strong><br/>
      Value: ${i.value}<br/>
      ${i.upper!==i.lower?`Range: ${i.lower} to ${i.upper}`:""}
    `;this.tooltip.style("visibility","visible").html(o),this.moveTooltip(n)}hideTooltip(){this.tooltip.style("visibility","hidden")}moveTooltip(n){this.tooltip.style("left",n.pageX+10+"px").style("top",n.pageY-10+"px")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["performance-metrics"]],viewQuery:function(i,o){if(i&1&&Be(vye,7),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first)}},features:[wn],decls:7,vars:1,consts:[[1,"chart-container"],[1,"chart-title"],[1,"chart-wrapper"],["chartContainer",""]],template:function(i,o){i&1&&(Q(0,"advertising-analytics")(1,"network-data-viz"),k(2,"div",0)(3,"h2",1),V(4),M(),Q(5,"div",2,3),M()),i&2&&(U(4),Ze(o.title))},dependencies:[kq,Iq],styles:[".chart-container[_ngcontent-%COMP%]{background-color:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000001a;margin:20px 0}.chart-title[_ngcontent-%COMP%]{margin:0 0 20px;font-size:1.5rem;font-weight:600;color:#333;text-align:center}.chart-wrapper[_ngcontent-%COMP%]{width:100%;overflow:hidden}[_nghost-%COMP%]     .bar{transition:opacity .3s ease}[_nghost-%COMP%]     .bar:hover{opacity:1!important}[_nghost-%COMP%]     .axis text{font-size:12px;fill:#666}[_nghost-%COMP%]     .axis path, [_nghost-%COMP%]     .axis line{fill:none;stroke:#666;shape-rendering:crispEdges}"]});let e=t;return e})();function xye(e,t){if(e&1&&(k(0,"div",5)(1,"div",6),V(2),M(),Q(3,"div",7),M()),e&2){let r=t.$implicit;U(1),C1(r.className),U(1),Ze(r.date),U(1),G("innerHTML",r.sentence,Rh)}}var Cb=(()=>{let t=class t{constructor(){this.title="CVE-2022-28810 / CVE-2022-47966 Timeline",this.events=[],this.parsedEvents=[],this.defaultEvents=[{date:"April 8, 2022",sentence:"The vulnerability was assigned the identifier CVE-2022-28810 by <mark>MITRE Corporation</mark>.<br/><br/>"},{date:"April 9, 2022",sentence:'<mark>ManageEngine</mark> released build 6122 of ADSelfService Plus to fix the vulnerability. The update removed the "custom script" feature that was being exploited.<br/><br/>'},{date:"April 14, 2022",sentence:"<mark>Rapid7</mark>, a cybersecurity company, published a blog post detailing the vulnerability.<br/><br/>"},{date:"April 18, 2022",sentence:"The vulnerability was published on the <mark>National Vulnerability Database (NVD)</mark>.<br/><br/>"},{date:"April 19, 2022",sentence:"A video was posted on <mark>YouTube</mark> demonstrating how to exploit the vulnerability using Metasploit, a penetration testing software.<br/><br/>"},{date:"April 21, 2022",sentence:'<mark>Packet Storm</mark>, a network security community, published a Metasploit module that exploits the "custom script" feature of ADSelfService Plus.<br/><br/>'},{date:"October 2022",sentence:"CVE-2022-47966 was discovered by <mark>Khoadha</mark> of Viettel Cyber Security and patched for the affected products.<br /><br />"},{date:"January 10, 2023",sentence:"<mark>ManageEngine</mark> released a security advisory for this issue.<br /><br />"},{date:"January 18, 2023",sentence:"The vulnerability was published on <mark>NVD</mark>.<br/>Researchers at <mark>Horizon3ai</mark> released a technical deep dive and a proof of concept (PoC) for this issue.<br /><br />"},{date:"January 19, 2023",sentence:"<mark>Horizon.ai</mark> released an in-depth technical overview of the CVE-2022-47966 alongside the PoC exploit for it. Simultaneously, <mark>Rapid7</mark> researchers reported several related compromises observed since at least January 17.<br /><br />"},{date:"January 2023",sentence:"Multiple nation-state advanced persistent threat <mark>(APT) actors</mark> exploited CVE-2022-47966 to access an organization's web server hosting the public-facing application, Zoho ManageEngine ServiceDesk Plus.<br/><br/>"},{date:"February 1, 2023",sentence:"<mark>Rapid7</mark> provided a detailed description of the vulnerability.<br/><br/>"},{date:"March 8, 2023",sentence:"<mark>CISA</mark> added CVE-2022-28810 to KEV.<br/><br/>"},{date:"March 15, 2023",sentence:"<mark>GreyNoise</mark> publishes tags for both CVEs.<br/><br/>"},{date:"September 7, 2023",sentence:"<mark>CISA</mark>, the Federal Bureau of Investigation (<mark>FBI</mark>), and the Cyber National Mission Force (<mark>CNMF</mark>) identified the presence of indicators of compromise (IOCs) at an Aeronautical Sector organization.<br/><br/>"}]}ngOnInit(){this.processEvents()}processEvents(){let i=(this.events.length>0?this.events:this.defaultEvents).filter(s=>s.date&&s.date.trim()!=="").map(s=>Se(ne({},s),{unixTime:Math.floor(new Date(s.date).getTime()/1e3)})),o="";this.parsedEvents=i.map(s=>{let a="",l=new Date(s.date);if(isNaN(l.getFullYear()))a="big";else{let u=l.getFullYear().toString().substring(0,2);o!==u&&(o=u,a="big")}return Se(ne({},s),{className:a})})}updateEvents(n){this.events=n,this.processEvents()}addEvent(n){this.events.push(n),this.processEvents()}clearEvents(){this.events=[],this.processEvents()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=le({type:t,selectors:[["cve-timeline"]],inputs:{title:"title",events:"events"},decls:6,vars:2,consts:[["id","timeline-container"],[1,"article-name"],[1,"timeline"],[1,"entries"],["class","entry",4,"ngFor","ngForOf"],[1,"entry"],[1,"title"],[1,"body",3,"innerHTML"]],template:function(i,o){i&1&&(k(0,"div",0)(1,"h1",1),V(2),M(),k(3,"div",2)(4,"div",3),ge(5,xye,4,4,"div",4),M()()()),i&2&&(U(2),Ze(o.title),U(3),G("ngForOf",o.parsedEvents))},dependencies:[Yt],styles:['[_nghost-%COMP%]{display:block;margin:0;padding:0;background-color:#000;min-height:100vh}code[_ngcontent-%COMP%]{color:#1cc172}#timeline-container[_ngcontent-%COMP%]{background-color:#9c8f8f;padding-top:20px;min-height:100vh}.article-name[_ngcontent-%COMP%]{text-align:center;color:#3fb7ff;background-color:#595151;margin:0 auto;display:block;font-family:sans-serif}  mark{padding:2px;font-family:Inconsolata;font-weight:700;background-color:#fea100}.timeline[_ngcontent-%COMP%]{max-height:185vh;margin:0 0 100px;overflow:hidden;position:relative}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;top:110px;left:50%;bottom:0;transform:translate(-50%);width:4px;background-color:#3fb7ff}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]{width:calc(100% - 80px);max-width:800px;margin:auto;position:relative;left:-5px}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]{width:calc(50% - 44px);float:left;padding:20px;clear:both;text-align:right;color:#fff;font-family:Inconsolata}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:not(:first-child){margin-top:-60px}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;margin-bottom:4px;position:relative;color:#fff;font-weight:700;font-family:sans-serif}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .title.big[_ngcontent-%COMP%]{font-size:24px}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]:before{content:"";position:absolute;width:8px;height:8px;border:4px solid #3fb7ff;background-color:#000;border-radius:100%;top:50%;transform:translateY(-50%);right:-37px;z-index:1000}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .title.big[_ngcontent-%COMP%]:before{width:24px;height:24px;transform:translate(8px,-50%)}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{color:#fff;line-height:1.4em}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:nth-child(2n){text-align:left;float:right}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:nth-child(2n)   .title[_ngcontent-%COMP%]:before{left:-30px;right:auto}.timeline[_ngcontent-%COMP%]   .entries[_ngcontent-%COMP%]   .entry[_ngcontent-%COMP%]:nth-child(2n)   .title.big[_ngcontent-%COMP%]:before{transform:translate(-7px,-50%)}']});let e=t;return e})();var wye=["ganttChart"],_ye=["heatmap"],Cye=["networkGraph"],Dye=["sankeyDiagram"],Sye=["bubbleChart"],Mye=["circularTimeline"],Eye=["eventDistribution"],Tye=["timelineProgress"],kye=["entityActivity"];function Iye(e,t){if(e&1){let r=bt();k(0,"button",9),te("click",function(){let o=lt(r).index,s=_e();return ct(s.setActiveViz(o))}),V(1),M()}if(e&2){let r=t.$implicit,n=t.index,i=_e();rn("active",i.activeViz===n),U(1),ut(" ",r.name," ")}}function Aye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Gantt Chart - Project Timeline"),M(),Q(3,"div",11,12),M())}function Oye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Activity Heatmap - Vulnerability Activity"),M(),Q(3,"div",11,13),M())}function Pye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Network Graph - Entity Relationships"),M(),Q(3,"div",11,14),M())}function Nye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Sankey Diagram - Vulnerability Lifecycle Flow"),M(),Q(3,"div",11,15),M())}function Rye(e,t){if(e&1&&(k(0,"div",22)(1,"div",23),V(2),M(),Q(3,"div",24),M()),e&2){let r=t.$implicit,n=t.index,i=_e(2);rn("active",i.currentStoryIndex>=n)("highlight",i.currentStoryIndex===n),U(2),Ze(r.date),U(1),G("innerHTML",r.sentence,Rh)}}function Fye(e,t){if(e&1){let r=bt();k(0,"div",10)(1,"h2"),V(2,"Animated Story Map"),M(),k(3,"div",16)(4,"button",17),te("click",function(){lt(r);let i=_e();return ct(i.playStory())}),V(5,"Play Story"),M(),k(6,"button",17),te("click",function(){lt(r);let i=_e();return ct(i.pauseStory())}),V(7,"Pause"),M(),k(8,"button",18),te("click",function(){lt(r);let i=_e();return ct(i.resetStory())}),V(9,"Reset"),M()(),k(10,"div",19,20),ge(12,Rye,4,6,"div",21),M()()}if(e&2){let r=_e();U(4),G("disabled",r.storyPlaying),U(2),G("disabled",!r.storyPlaying),U(6),G("ngForOf",r.processedEvents)}}function Lye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Bubble Chart - Event Impact & Type"),M(),Q(3,"div",11,25),M())}function Vye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Metro Map - Vulnerability Journey"),M(),k(3,"div",26,27),Ft(),k(5,"svg",28)(6,"defs")(7,"marker",29),Q(8,"path",30),M()()()()())}function jye(e,t){if(e&1&&(k(0,"div",36)(1,"div",37),V(2),M(),Q(3,"div",38),k(4,"div",39),V(5),M()()),e&2){let r=t.$implicit;U(2),Ze(r.date),U(1),G("innerHTML",r.sentence,Rh),U(2),Ze(r.type)}}function zye(e,t){if(e&1&&(k(0,"div",33)(1,"h3"),V(2),M(),k(3,"div",34),ge(4,jye,6,3,"div",35),M()()),e&2){let r=t.$implicit;U(2),Ze(r.name),U(2),G("ngForOf",r.events)}}function $ye(e,t){if(e&1&&(k(0,"div",10)(1,"h2"),V(2,"Kanban Board - Vulnerability Management Workflow"),M(),k(3,"div",31),ge(4,zye,5,2,"div",32),M()()),e&2){let r=_e();U(4),G("ngForOf",r.kanbanStages)}}function Bye(e,t){e&1&&(k(0,"div",10)(1,"h2"),V(2,"Circular Timeline - Vulnerability Lifecycle"),M(),Q(3,"div",11,40),M())}function Uye(e,t){if(e&1&&(k(0,"div",10)(1,"h2"),V(2,"Analytics Dashboard"),M(),k(3,"div",41)(4,"div",42)(5,"h3"),V(6,"Event Distribution"),M(),Q(7,"div",43,44),M(),k(9,"div",42)(10,"h3"),V(11,"Timeline Progress"),M(),Q(12,"div",43,45),M(),k(14,"div",42)(15,"h3"),V(16,"Entity Activity"),M(),Q(17,"div",43,46),M(),k(19,"div",42)(20,"h3"),V(21,"Key Metrics"),M(),k(22,"div",47)(23,"div",48)(24,"span",49),V(25),M(),k(26,"span",50),V(27,"Total Events"),M()(),k(28,"div",48)(29,"span",49),V(30),M(),k(31,"span",50),V(32,"Entities Involved"),M()(),k(33,"div",48)(34,"span",49),V(35),M(),k(36,"span",50),V(37,"Days Span"),M()()()()(),Q(38,"cve-timeline"),M()),e&2){let r=_e();U(25),Ze(r.totalEvents),U(5),Ze(r.uniqueEntities),U(5),Ze(r.timespan)}}var Oq=(()=>{let t=class t{ngOnInit(){this.processEvents(),this.setupKanbanBoard(),this.calculateMetrics()}ngAfterViewInit(){setTimeout(()=>{this.renderVisualization()},100)}processEvents(){this.processedEvents=this.defaultEvents.map(n=>{let i=new Date(n.date),o=this.extractEntity(n.sentence),s=this.determineStage(n.sentence),a=this.calculateImpact(n.sentence),l=this.determineType(n.sentence);return Se(ne({},n),{parsedDate:i,entity:o,stage:s,impact:a,type:l})}).sort((n,i)=>n.parsedDate.getTime()-i.parsedDate.getTime())}extractEntity(n){let i=n.match(/<mark>(.*?)<\/mark>/);return i?i[1]:"Unknown"}determineStage(n){return n.includes("discovered")||n.includes("assigned")?"Discovery":n.includes("released")||n.includes("patched")?"Mitigation":n.includes("exploit")||n.includes("PoC")?"Exploitation":n.includes("advisory")||n.includes("published")?"Disclosure":n.includes("attack")||n.includes("compromise")?"Attack":"Other"}calculateImpact(n){let i=1;return(n.includes("nation-state")||n.includes("APT"))&&(i+=3),(n.includes("exploit")||n.includes("attack"))&&(i+=2),(n.includes("PoC")||n.includes("Metasploit"))&&(i+=2),(n.includes("CISA")||n.includes("FBI"))&&(i+=1),Math.min(i,5)}determineType(n){return n.includes("discovered")||n.includes("assigned")?"discovery":n.includes("released")||n.includes("patched")?"patch":n.includes("exploit")||n.includes("PoC")?"exploit":n.includes("advisory")||n.includes("published")?"advisory":n.includes("attack")||n.includes("compromise")?"attack":"advisory"}setupKanbanBoard(){let n=["Discovery","Disclosure","Mitigation","Exploitation","Attack"];this.kanbanStages=n.map(i=>({name:i,events:this.processedEvents.filter(o=>o.stage===i)}))}calculateMetrics(){this.totalEvents=this.processedEvents.length,this.uniqueEntities=new Set(this.processedEvents.map(s=>s.entity)).size;let n=this.processedEvents.map(s=>s.parsedDate),i=new Date(Math.min(...n.map(s=>s.getTime()))),o=new Date(Math.max(...n.map(s=>s.getTime())));this.timespan=Math.ceil((o.getTime()-i.getTime())/(1e3*60*60*24))}setActiveViz(n){this.activeViz=n,setTimeout(()=>{this.renderVisualization()},100)}renderVisualization(){switch(this.activeViz){case 0:this.renderGanttChart();break;case 1:this.renderHeatmap();break;case 2:this.renderNetworkGraph();break;case 3:this.renderSankeyDiagram();break;case 5:this.renderBubbleChart();break;case 8:this.renderCircularTimeline();break;case 9:this.renderDashboard();break}}constructor(n){this.router=n,this.activeViz=0,this.storyPlaying=!1,this.currentStoryIndex=-1,this.visualizations=[{name:"Gantt Chart"},{name:"Activity Heatmap"},{name:"Network Graph"},{name:"Sankey Diagram"},{name:"Story Map"},{name:"Bubble Chart"},{name:"Metro Map"},{name:"Kanban Board"},{name:"Circular Timeline"},{name:"Dashboard"}],this.defaultEvents=[{date:"April 8, 2022",sentence:"The vulnerability was assigned the identifier CVE-2022-28810 by <mark>MITRE Corporation</mark>.<br/><br/>"},{date:"April 9, 2022",sentence:'<mark>ManageEngine</mark> released build 6122 of ADSelfService Plus to fix the vulnerability. The update removed the "custom script" feature that was being exploited.<br/><br/>'},{date:"April 14, 2022",sentence:"<mark>Rapid7</mark>, a cybersecurity company, published a blog post detailing the vulnerability.<br/><br/>"},{date:"April 18, 2022",sentence:"The vulnerability was published on the <mark>National Vulnerability Database (NVD)</mark>.<br/><br/>"},{date:"April 19, 2022",sentence:"A video was posted on <mark>YouTube</mark> demonstrating how to exploit the vulnerability using Metasploit, a penetration testing software.<br/><br/>"},{date:"April 21, 2022",sentence:'<mark>Packet Storm</mark>, a network security community, published a Metasploit module that exploits the "custom script" feature of ADSelfService Plus.<br/><br/>'},{date:"October 2022",sentence:"CVE-2022-47966 was discovered by <mark>Khoadha</mark> of Viettel Cyber Security and patched for the affected products.<br /><br />"},{date:"January 10, 2023",sentence:"<mark>ManageEngine</mark> released a security advisory for this issue.<br /><br />"},{date:"January 18, 2023",sentence:"The vulnerability was published on <mark>NVD</mark>.<br/>Researchers at <mark>Horizon3ai</mark> released a technical deep dive and a proof of concept (PoC) for this issue.<br /><br />"},{date:"January 19, 2023",sentence:"<mark>Horizon.ai</mark> released an in-depth technical overview of the CVE-2022-47966 alongside the PoC exploit for it. Simultaneously, <mark>Rapid7</mark> researchers reported several related compromises observed since at least January 17.<br /><br />"},{date:"January 2023",sentence:"Multiple nation-state advanced persistent threat <mark>(APT) actors</mark> exploited CVE-2022-47966 to access an organization's web server hosting the public-facing application, Zoho ManageEngine ServiceDesk Plus.<br/><br/>"},{date:"February 1, 2023",sentence:"<mark>Rapid7</mark> provided a detailed description of the vulnerability.<br/><br/>"},{date:"March 8, 2023",sentence:"<mark>CISA</mark> added CVE-2022-28810 to KEV.<br/><br/>"},{date:"March 15, 2023",sentence:"<mark>GreyNoise</mark> publishes tags for both CVEs.<br/><br/>"},{date:"September 7, 2023",sentence:"<mark>CISA</mark>, the Federal Bureau of Investigation (<mark>FBI</mark>), and the Cyber National Mission Force (<mark>CNMF</mark>) identified the presence of indicators of compromise (IOCs) at an Aeronautical Sector organization.<br/><br/>"}],this.processedEvents=[],this.kanbanStages=[],this.totalEvents=0,this.uniqueEntities=0,this.timespan=0}goHome(){this.router.navigate(["/"])}renderGanttChart(){if(!this.ganttChart)return;let n=W(this.ganttChart.nativeElement);n.selectAll("*").remove();let i={top:20,right:30,bottom:40,left:120},o=800-i.left-i.right,s=400-i.bottom-i.top,l=n.append("svg").attr("width",o+i.left+i.right).attr("height",s+i.top+i.bottom).append("g").attr("transform",`translate(${i.left},${i.top-20})`),c=hi().domain(Mt(this.processedEvents,h=>h.parsedDate)).range([0,o]),u=ot().domain(this.processedEvents.map((h,m)=>h.entity)).range([0,s]).padding(.1),d=Xe().domain(["discovery","patch","exploit","advisory","attack"]).range(["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336"]),f=W(this.ganttChart.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");l.selectAll(".bar").data(this.processedEvents).enter().append("rect").attr("class","bar").attr("x",h=>c(h.parsedDate)).attr("y",h=>u(h.entity)).attr("width",20).attr("height",u.bandwidth()).attr("fill",h=>d(h.type)).attr("opacity",.8).on("mouseover",(h,m)=>{f.transition().duration(200).style("opacity",1),f.html(`
        <strong>${m.entity}</strong><br/>
        Date: ${m.date}<br/>
        Type: ${m.type}<br/>
        Impact: ${m.impact}/5<br/>
        ${m.sentence.replace(/<br\/>/g,"")}
      `).style("left",h.pageX+10+"px").style("top",h.pageY-28+"px"),W(h.currentTarget).attr("opacity",1).attr("stroke","#333").attr("stroke-width",2)}).on("mouseout",(h,m)=>{f.transition().duration(500).style("opacity",0),W(h.currentTarget).attr("opacity",.8).attr("stroke","none")}),l.append("g").attr("transform",`translate(0,${s})`).call(it(c)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),l.append("g").call(Je(u))}renderHeatmap(){if(!this.heatmap)return;let n=W(this.heatmap.nativeElement);n.selectAll("*").remove();let i=15,o=new Date(2022,0,1),s=new Date(2023,11,31),l=n.append("svg").attr("width",800).attr("height",200).append("g").attr("transform","translate(40,20)"),c=U3(o,s).map(f=>{let h=this.processedEvents.filter(m=>m.parsedDate.toDateString()===f.toDateString());return{date:f,count:h.length,events:h}}),u=Tn().domain([0,Ue(c,f=>f.count)||1]).interpolator(Mf),d=W(this.heatmap.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");l.selectAll(".day").data(c).enter().append("rect").attr("class","day").attr("width",i).attr("height",i).attr("x",f=>Wi.count(o,f.date)*i).attr("y",f=>f.date.getDay()*i).attr("fill",f=>f.count>0?u(f.count):"#eee").attr("stroke","#fff").attr("stroke-width",1).on("mouseover",(f,h)=>{h.count>0&&(d.transition().duration(200).style("opacity",1),d.html(`
          <strong>${To("%B %d, %Y")(h.date)}</strong><br/>
          Events: ${h.count}<br/>
          ${h.events.map(m=>`\u2022 ${m.entity}: ${m.type}`).join("<br/>")}
        `).style("left",f.pageX+10+"px").style("top",f.pageY-28+"px"),W(f.currentTarget).attr("stroke","#333").attr("stroke-width",2))}).on("mouseout",(f,h)=>{d.transition().duration(500).style("opacity",0),W(f.currentTarget).attr("stroke","#fff").attr("stroke-width",1)})}renderNetworkGraph(){if(!this.networkGraph)return;let n=W(this.networkGraph.nativeElement);n.selectAll("*").remove();let i=800,o=500,a=Array.from(new Set(this.processedEvents.map(g=>g.entity))).map(g=>({id:g,group:this.processedEvents.find(x=>x.entity===g)?.type||"unknown"})),l=[];this.processedEvents.forEach((g,x)=>{x<this.processedEvents.length-1&&l.push({source:g.entity,target:this.processedEvents[x+1].entity,value:1})});let c=n.append("svg").attr("width",i).attr("height",o),u=W(this.networkGraph.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none"),d=Qd(a).force("link",bv(l).id(g=>g.id)).force("charge",Xd().strength(-300)).force("center",vv(i/2,o/2)),f=Xe().domain(["discovery","patch","exploit","advisory","attack"]).range(["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336"]),h=c.append("g").selectAll("line").data(l).enter().append("line").attr("stroke","#999").attr("stroke-opacity",.6).attr("stroke-width",2),m=c.append("g").selectAll("circle").data(a).enter().append("circle").attr("r",8).attr("fill",g=>f(g.group)).on("mouseover",(g,x)=>{u.transition().duration(200).style("opacity",1),u.html(`
        <strong>${x.id}</strong><br/>
        Type: ${x.group}<br/>
        Events: ${this.processedEvents.filter(C=>C.entity===x.id).length}
      `).style("left",g.pageX+10+"px").style("top",g.pageY-28+"px"),W(g.currentTarget).attr("r",12).attr("stroke","#333").attr("stroke-width",2)}).on("mouseout",(g,x)=>{u.transition().duration(500).style("opacity",0),W(g.currentTarget).attr("r",8).attr("stroke","none")}).call(Gs().on("start",(g,x)=>{g.active||d.alphaTarget(.3).restart(),x.fx=x.x,x.fy=x.y}).on("drag",(g,x)=>{x.fx=g.x,x.fy=g.y}).on("end",(g,x)=>{g.active||d.alphaTarget(0),x.fx=null,x.fy=null})),y=c.append("g").selectAll("text").data(a).enter().append("text").text(g=>g.id).attr("font-size",10).attr("dx",12).attr("dy",4);d.on("tick",()=>{h.attr("x1",g=>g.source.x).attr("y1",g=>g.source.y).attr("x2",g=>g.target.x).attr("y2",g=>g.target.y),m.attr("cx",g=>g.x).attr("cy",g=>g.y),y.attr("x",g=>g.x).attr("y",g=>g.y)})}renderSankeyDiagram(){if(!this.sankeyDiagram)return;let n=W(this.sankeyDiagram.nativeElement);n.selectAll("*").remove();let i=800,o=500,s={top:20,right:20,bottom:20,left:20},a=n.append("svg").attr("width",i).attr("height",o),l=["Discovery","Disclosure","Mitigation","Exploitation","Attack"],c=l.map((h,m)=>({name:h,x:m*(i/(l.length-1)),y:o/2})),u=[];for(let h=0;h<l.length-1;h++)u.push({source:h,target:h+1,value:this.processedEvents.filter(m=>m.stage===l[h]).length});let d=Xe().domain(l).range(["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336"]),f=W(this.sankeyDiagram.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");a.selectAll(".link").data(u).enter().append("path").attr("class","link").attr("d",xx().source(h=>({x:c[h.source].x,y:c[h.source].y})).target(h=>({x:c[h.target].x,y:c[h.target].y}))).attr("stroke",h=>d(l[h.source])).attr("stroke-width",h=>Math.sqrt(h.value)*5).attr("fill","none").on("mouseover",(h,m)=>{f.transition().duration(200).style("opacity",1),f.html(`
        <strong>${l[m.source]} \u2192 ${l[m.target]}</strong><br/>
        Events: ${m.value}
      `).style("left",h.pageX+10+"px").style("top",h.pageY-28+"px"),W(h.currentTarget).attr("stroke-width",y=>Math.sqrt(y.value)*8)}).on("mouseout",(h,m)=>{f.transition().duration(500).style("opacity",0),W(h.currentTarget).attr("stroke-width",y=>Math.sqrt(y.value)*5)}),a.selectAll(".node").data(c).enter().append("circle").attr("class","node").attr("cx",h=>h.x).attr("cy",h=>h.y).attr("r",10).attr("fill",h=>d(h.name)).on("mouseover",(h,m)=>{f.transition().duration(200).style("opacity",1),f.html(`
        <strong>${m.name}</strong><br/>
        Events: ${this.processedEvents.filter(y=>y.stage===m.name).length}
      `).style("left",h.pageX+10+"px").style("top",h.pageY-28+"px"),W(h.currentTarget).attr("r",15)}).on("mouseout",(h,m)=>{f.transition().duration(500).style("opacity",0),W(h.currentTarget).attr("r",10)}),a.selectAll(".label").data(c).enter().append("text").attr("class","label").attr("x",h=>h.x).attr("y",h=>h.y+25).attr("text-anchor","middle").text(h=>h.name).attr("fill","#333")}renderBubbleChart(){if(!this.bubbleChart)return;let n=W(this.bubbleChart.nativeElement);n.selectAll("*").remove();let i=800,o=500,s={top:20,right:20,bottom:50,left:50},a=n.append("svg").attr("width",i).attr("height",o),l=a.append("g").attr("transform",`translate(${s.left},${s.top})`),c=hi().domain(Mt(this.processedEvents,m=>m.parsedDate)).range([0,i-s.left-s.right]),u=be().domain([0,5]).range([o-s.top-s.bottom,0]),d=be().domain([0,5]).range([5,30]),f=Xe().domain(["discovery","patch","exploit","advisory","attack"]).range(["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336"]),h=W(this.bubbleChart.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");l.selectAll(".bubble").data(this.processedEvents).enter().append("circle").attr("class","bubble").attr("cx",m=>c(m.parsedDate)).attr("cy",m=>u(m.impact)).attr("r",m=>d(m.impact)).attr("fill",m=>f(m.type)).attr("opacity",.7).attr("stroke","#fff").attr("stroke-width",1).on("mouseover",(m,y)=>{h.transition().duration(200).style("opacity",1),h.html(`
        <strong>${y.entity}</strong><br/>
        Date: ${y.date}<br/>
        Type: ${y.type}<br/>
        Impact: ${y.impact}/5<br/>
        ${y.sentence.replace(/<br\/>/g,"")}
      `).style("left",m.pageX+10+"px").style("top",m.pageY-28+"px"),W(m.currentTarget).attr("opacity",1).attr("stroke","#333").attr("stroke-width",2)}).on("mouseout",(m,y)=>{h.transition().duration(500).style("opacity",0),W(m.currentTarget).attr("opacity",.7).attr("stroke","#fff").attr("stroke-width",1)}),l.append("g").attr("transform",`translate(0,${o-s.top-s.bottom})`).call(it(c)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),l.append("g").call(Je(u)),a.append("text").attr("x",i/2).attr("y",o-5).attr("text-anchor","middle").text("Date"),a.append("text").attr("transform","rotate(-90)").attr("x",-o/2).attr("y",15).attr("text-anchor","middle").text("Impact")}renderCircularTimeline(){if(!this.circularTimeline)return;let n=W(this.circularTimeline.nativeElement);n.selectAll("*").remove();let i=800,o=600,s=Math.min(i,o)/2-40,a=n.append("svg").attr("width",i).attr("height",o).append("g").attr("transform",`translate(${i/2},${o/2})`),l=Mt(this.processedEvents,w=>w.parsedDate),c=hi().domain(l).range([0,2*Math.PI]),u=be().domain([0,5]).range([s*.5,s]),d=Xe().domain(["discovery","patch","exploit","advisory","attack"]).range(["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336"]),f=W(this.circularTimeline.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");a.append("circle").attr("r",s).attr("fill","none").attr("stroke","#ddd").attr("stroke-width",1);let h=[],m=(w,b,I=8)=>h.some(T=>Math.sqrt((w-T.x)**2+(b-T.y)**2)<I+T.radius+4),y=(w,b,I=8)=>{let T=0,z=50,H=15,q=0;for(;T<z;){let $=w+H*Math.cos(q),D=b+H*Math.sin(q),O=Math.sqrt($**2+D**2);if(O>s-20){let j=(s-20)/O;$*=j,D*=j}if(!m($,D,I))return{x:$,y:D};q+=.5,q>2*Math.PI&&(q=0,H+=8),T++}return{x:w,y:b}};this.processedEvents.forEach((w,b)=>{let I=c(w.parsedDate),T=u(w.impact),z=T*Math.sin(I),H=-T*Math.cos(I),q=y(z,H,8),{x:$,y:D}=q;h.push({x:$,y:D,radius:8});let O=a.append("circle").attr("cx",$).attr("cy",D).attr("r",8).attr("fill",d(w.type)).attr("stroke","#fff").attr("stroke-width",2).style("cursor","pointer").style("transition","all 0.2s ease").on("mouseover",R=>{f.transition().duration(200).style("opacity",1),f.html(`
            <strong>${w.entity}</strong><br/>
            Date: ${w.date}<br/>
            Type: ${w.type}<br/>
            Impact: ${w.impact}/5<br/>
            ${w.sentence?w.sentence.replace(/<br\/>/g,""):""}
          `).style("left",`${R.pageX+10}px`).style("top",`${R.pageY-28}px`),W(R.currentTarget).transition().duration(200).attr("r",12).attr("stroke","#333").attr("stroke-width",3)}).on("mouseout",R=>{f.transition().duration(500).style("opacity",0),W(R.currentTarget).transition().duration(200).attr("r",8).attr("stroke","#fff").attr("stroke-width",2)});Math.sqrt(($-z)**2+(D-H)**2)>10&&a.append("line").attr("x1",z).attr("y1",H).attr("x2",$).attr("y2",D).attr("stroke",d(w.type)).attr("stroke-width",1).attr("stroke-dasharray","2,2").attr("opacity",.5);let E=$+15*Math.sign($||1),A=D+5;a.append("text").attr("x",E).attr("y",A).text(w.entity).attr("font-size",10).attr("fill","#333").attr("text-anchor",$>0?"start":"end").style("pointer-events","none").style("user-select","none")}),H3(l[0],l[1]).forEach(w=>{let b=c(w),I=(s+10)*Math.sin(b),T=-(s+10)*Math.cos(b),z=(s+20)*Math.sin(b),H=-(s+20)*Math.cos(b);a.append("line").attr("x1",I).attr("y1",T).attr("x2",z).attr("y2",H).attr("stroke","#999").attr("stroke-width",1),a.append("text").attr("x",z+15*Math.sign(z||1)).attr("y",H+5).text(To("%b %Y")(w)).attr("font-size",10).attr("fill","#666").attr("text-anchor",z>0?"start":"end")});let x=a.append("g").attr("transform",`translate(${-s+20}, ${-s+20})`);[{type:"discovery",label:"Discovery"},{type:"patch",label:"Patch"},{type:"exploit",label:"Exploit"},{type:"advisory",label:"Advisory"},{type:"attack",label:"Attack"}].forEach((w,b)=>{let I=x.append("g").attr("transform",`translate(0, ${b*20})`);I.append("circle").attr("r",6).attr("fill",d(w.type)).attr("stroke","#fff").attr("stroke-width",1),I.append("text").attr("x",12).attr("y",5).text(w.label).attr("font-size",12).attr("fill","#333")})}renderDashboard(){if(!this.eventDistribution||!this.timelineProgress||!this.entityActivity)return;let n=W(this.eventDistribution.nativeElement);n.selectAll("*").remove();let i=bd(this.processedEvents,P=>P.length,P=>P.type),o=200,s=200,a=Math.min(o,s)/2,l=n.append("svg").attr("width",o).attr("height",s).append("g").attr("transform",`translate(${o/2},${s/2})`),c=Xe().domain(["discovery","patch","exploit","advisory","attack"]).range(["#4CAF50","#2196F3","#FF9800","#9C27B0","#F44336"]),u=Yr().value(P=>P[1]),d=sn().innerRadius(0).outerRadius(a),f=W(this.eventDistribution.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none"),h=l.selectAll("path").data(u(i)).enter().append("path").attr("d",d).attr("fill",P=>c(P.data[0])).attr("stroke","#fff").attr("stroke-width",1).on("mouseover",(P,L)=>{f.transition().duration(200).style("opacity",1),f.html(`
        <strong>${L.data[0]}</strong><br/>
        Count: ${L.data[1]}<br/>
        ${(L.data[1]/this.processedEvents.length*100).toFixed(1)}% of total
      `).style("left",P.pageX+10+"px").style("top",P.pageY-28+"px"),W(P.currentTarget).attr("stroke","#333").attr("stroke-width",2)}).on("mouseout",(P,L)=>{f.transition().duration(500).style("opacity",0),W(P.currentTarget).attr("stroke","#fff").attr("stroke-width",1)}),m=W(this.timelineProgress.nativeElement);m.selectAll("*").remove();let y=300,g=250,x={top:20,right:20,bottom:30,left:40},w=m.append("svg").attr("width",y).attr("height",g).append("g").attr("transform",`translate(${x.left},${x.top-20})`),b=hi().domain(Mt(this.processedEvents,P=>P.parsedDate)).range([0,y-x.left-x.right]),I=be().range([g-x.top-x.bottom,0]),T=this.processedEvents.sort((P,L)=>P.parsedDate.getTime()-L.parsedDate.getTime()).map((P,L)=>({date:P.parsedDate,count:L+1}));I.domain([0,this.processedEvents.length]);let z=Yn().x(P=>b(P.date)).y(P=>I(P.count)),H=W(this.timelineProgress.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");w.selectAll(".hover-rect").data(T).enter().append("rect").attr("class","hover-rect").attr("x",P=>b(P.date)-5).attr("y",0).attr("width",10).attr("height",g-x.top-x.bottom).attr("opacity",0).on("mouseover",(P,L)=>{H.transition().duration(200).style("opacity",1),H.html(`
        <strong>${To("%B %d, %Y")(L.date)}</strong><br/>
        Cumulative events: ${L.count}
      `).style("left",P.pageX+10+"px").style("top",P.pageY-28+"px")}).on("mouseout",(P,L)=>{H.transition().duration(500).style("opacity",0)}),w.append("path").datum(T).attr("fill","none").attr("stroke","#007acc").attr("stroke-width",2).attr("d",z),w.append("g").attr("transform",`translate(0,${g-x.top-x.bottom})`).call(it(b).ticks(3)),w.append("g").call(Je(I).ticks(5));let q=W(this.entityActivity.nativeElement);q.selectAll("*").remove();let $=240,D=240,O={top:20,right:20,bottom:40,left:40},N=q.append("svg").attr("width",$).attr("height",D).append("g").attr("transform",`translate(${O.left},${O.top-25})`),E=bd(this.processedEvents,P=>P.length,P=>P.entity).sort((P,L)=>L[1]-P[1]),A=ot().domain(E.map(P=>P[0])).range([0,$-O.left-O.right]).padding(.2),R=be().domain([0,Ue(E,P=>P[1])||1]).range([D-O.top-O.bottom,0]),B=W(this.entityActivity.nativeElement).append("div").attr("class","tooltip").style("opacity",0).style("position","absolute").style("background","white").style("padding","8px").style("border","1px solid #ddd").style("border-radius","4px").style("pointer-events","none");N.selectAll("rect").data(E).enter().append("rect").attr("x",P=>A(P[0])||0).attr("y",P=>R(P[1])).attr("width",A.bandwidth()).attr("height",P=>D-O.top-O.bottom-R(P[1])).attr("fill","#007acc").on("mouseover",(P,L)=>{B.transition().duration(200).style("opacity",1),B.html(`
        <strong>${L[0]}</strong><br/>
        Events: ${L[1]}<br/>
        ${(L[1]/this.processedEvents.length*100).toFixed(1)}% of total
      `).style("left",(Z,ee)=>Z.pageX+10+"px").style("top",P.pageY-28+"px"),W(P.currentTarget).attr("fill","#005a9c")}).on("mousemove",P=>{B.style("left",P.pageX+10+"px").style("top",P.pageY-28+"px")}).on("mouseout",(P,L)=>{B.transition().duration(500).style("opacity",0),W(P.currentTarget).attr("fill","#007acc")}),N.append("g").attr("transform",`translate(0,${D-O.top-O.bottom})`).call(it(A)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),N.append("g").call(Je(R))}playStory(){this.storyPlaying=!0,this.currentStoryIndex=-1,this.storyInterval=setInterval(()=>{this.currentStoryIndex++,this.currentStoryIndex>=this.processedEvents.length&&this.pauseStory()},2e3)}pauseStory(){this.storyPlaying=!1,clearInterval(this.storyInterval)}resetStory(){this.pauseStory(),this.currentStoryIndex=-1}};t.\u0275fac=function(i){return new(i||t)(X(Nn))},t.\u0275cmp=le({type:t,selectors:[["cve-timeline-dashboard"]],viewQuery:function(i,o){if(i&1&&(Be(wye,5),Be(_ye,5),Be(Cye,5),Be(Dye,5),Be(Sye,5),Be(Mye,5),Be(Eye,5),Be(Tye,5),Be(kye,5)),i&2){let s;Le(s=Ve())&&(o.ganttChart=s.first),Le(s=Ve())&&(o.heatmap=s.first),Le(s=Ve())&&(o.networkGraph=s.first),Le(s=Ve())&&(o.sankeyDiagram=s.first),Le(s=Ve())&&(o.bubbleChart=s.first),Le(s=Ve())&&(o.circularTimeline=s.first),Le(s=Ve())&&(o.eventDistribution=s.first),Le(s=Ve())&&(o.timelineProgress=s.first),Le(s=Ve())&&(o.entityActivity=s.first)}},decls:23,vars:11,consts:[[1,"header"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/analytics",1,"button","button2"],[1,"viz-container"],[1,"viz-nav"],["class","nav-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"viz-content"],["class","visualization",4,"ngIf"],[1,"nav-btn",3,"click"],[1,"visualization"],[1,"chart-container"],["ganttChart",""],["heatmap",""],["networkGraph",""],["sankeyDiagram",""],[1,"story-controls"],[3,"disabled","click"],[3,"click"],[1,"chart-container","story-container"],["storyMap",""],["class","story-event",3,"active","highlight",4,"ngFor","ngForOf"],[1,"story-event"],[1,"story-date"],[1,"story-content",3,"innerHTML"],["bubbleChart",""],[1,"chart-container","metro-container"],["metroMap",""],[1,"metro-svg"],["id","arrow","markerWidth","10","markerHeight","10","refX","9","refY","3","orient","auto","markerUnits","strokeWidth"],["d","M0,0 L0,6 L9,3 z","fill","#666"],[1,"kanban-board"],["class","kanban-column",4,"ngFor","ngForOf"],[1,"kanban-column"],[1,"kanban-cards"],["class","kanban-card",4,"ngFor","ngForOf"],[1,"kanban-card"],[1,"card-date"],[1,"card-content",3,"innerHTML"],[1,"card-type"],["circularTimeline",""],[1,"dashboard-grid"],[1,"dashboard-widget"],[1,"widget-chart"],["eventDistribution",""],["timelineProgress",""],["entityActivity",""],[1,"metrics"],[1,"metric"],[1,"metric-value"],[1,"metric-label"]],template:function(i,o){i&1&&(k(0,"header")(1,"div",0)(2,"h1"),V(3,"Common Vulnerabilities Dashboard"),M(),k(4,"div",1)(5,"button",2),V(6,"\xAB Home"),M(),k(7,"button",3),V(8,"Next \xBB"),M()()()(),k(9,"div",4)(10,"nav",5),ge(11,Iye,2,3,"button",6),M(),k(12,"div",7),ge(13,Aye,5,0,"div",8)(14,Oye,5,0,"div",8)(15,Pye,5,0,"div",8)(16,Nye,5,0,"div",8)(17,Fye,13,3,"div",8)(18,Lye,5,0,"div",8)(19,Vye,9,0,"div",8)(20,$ye,5,1,"div",8)(21,Bye,5,0,"div",8)(22,Uye,39,3,"div",8),M()()),i&2&&(U(11),G("ngForOf",o.visualizations),U(2),G("ngIf",o.activeViz===0),U(1),G("ngIf",o.activeViz===1),U(1),G("ngIf",o.activeViz===2),U(1),G("ngIf",o.activeViz===3),U(1),G("ngIf",o.activeViz===4),U(1),G("ngIf",o.activeViz===5),U(1),G("ngIf",o.activeViz===6),U(1),G("ngIf",o.activeViz===7),U(1),G("ngIf",o.activeViz===8),U(1),G("ngIf",o.activeViz===9))},dependencies:[Yt,mt,gt,Cb],styles:[".viz-container[_ngcontent-%COMP%]{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;max-width:1400px;margin:0 auto;padding:20px}.viz-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:30px;border-bottom:2px solid #e0e0e0;padding-bottom:20px}.nav-btn[_ngcontent-%COMP%]{padding:10px 16px;border:2px solid #007acc;background:white;color:#007acc;border-radius:25px;cursor:pointer;transition:all .3s ease;font-weight:500}.nav-btn[_ngcontent-%COMP%]:hover{background:#f0f8ff;transform:translateY(-2px)}.nav-btn.active[_ngcontent-%COMP%]{background:#007acc;color:#fff;box-shadow:0 4px 12px #007acc4d}.visualization[_ngcontent-%COMP%]{min-height:600px}.chart-container[_ngcontent-%COMP%]{width:100%;height:500px;border:1px solid #ddd;border-radius:8px;padding:20px;background:white;box-shadow:0 2px 8px #0000001a}.story-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding:20px}.story-controls[_ngcontent-%COMP%]{margin-bottom:20px}.story-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;padding:8px 16px;border:none;background:#007acc;color:#fff;border-radius:4px;cursor:pointer}.story-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.story-event[_ngcontent-%COMP%]{padding:15px;margin-bottom:10px;border-left:4px solid #ccc;background:#f9f9f9;opacity:.3;transition:all .5s ease}.story-event.active[_ngcontent-%COMP%]{opacity:1;border-left-color:#007acc}.story-event.highlight[_ngcontent-%COMP%]{background:#e3f2fd;transform:scale(1.02);box-shadow:0 4px 12px #0000001a}.story-date[_ngcontent-%COMP%]{font-weight:700;color:#007acc;margin-bottom:5px}.kanban-board[_ngcontent-%COMP%]{display:flex;gap:20px;overflow-x:auto;padding:20px 0}.kanban-column[_ngcontent-%COMP%]{min-width:300px;background:#f5f5f5;border-radius:8px;padding:20px}.kanban-column[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007acc;padding-bottom:10px}.kanban-card[_ngcontent-%COMP%]{background:white;padding:15px;margin-bottom:10px;border-radius:6px;box-shadow:0 2px 4px #0000001a;border-left:4px solid #007acc}.card-date[_ngcontent-%COMP%]{font-weight:700;color:#007acc;font-size:.9em}.card-type[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;background:#e3f2fd;color:#007acc;border-radius:12px;font-size:.8em;margin-top:8px}.metro-container[_ngcontent-%COMP%]{position:relative}.metro-svg[_ngcontent-%COMP%]{width:100%;height:100%}.dashboard-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}.dashboard-widget[_ngcontent-%COMP%]{background:white;border-radius:8px;padding:20px;box-shadow:0 2px 8px #0000001a}.dashboard-widget[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#333;border-bottom:2px solid #007acc;padding-bottom:10px}.widget-chart[_ngcontent-%COMP%]{height:200px}.metrics[_ngcontent-%COMP%]{display:flex;justify-content:space-around;height:200px;align-items:center}.metric[_ngcontent-%COMP%]{text-align:center}.metric-value[_ngcontent-%COMP%]{display:block;font-size:2em;font-weight:700;color:#007acc}.metric-label[_ngcontent-%COMP%]{color:#666;font-size:.9em}mark[_ngcontent-%COMP%]{background:#fff3cd;padding:2px 4px;border-radius:3px}"]});let e=t;return e})();var Hye=["chartContainer"],qye=["legend"],Pq=["tooltip"],Wye=["heatmap"],Gye=["forceLayout"],Yye=["jitteredScatter"],Zye=["sunburst"],Qye=["violinPlot"],Xye=["treemapContainer"],Kye=["legendContainer"];function Jye(e,t){e&1&&(k(0,"div",17)(1,"div",18),V(2,"1. Heatmap Visualization"),M(),k(3,"div",19),V(4," Shows density/count of incidents in each security posture vs impact level combination. Color intensity represents the number of incidents. "),M(),Q(5,"div",20,21),M())}function e2e(e,t){e&1&&(k(0,"div",22)(1,"div",18),V(2,"2. Force-Directed Layout"),M(),k(3,"div",19),V(4," Uses physics simulation to separate overlapping points while maintaining relative positioning. Similar points cluster together naturally. "),M(),Q(5,"div",23,24),M())}function t2e(e,t){e&1&&(k(0,"div",25)(1,"div",18),V(2,"3. Enhanced Jittered Scatter Plot"),M(),k(3,"div",19),V(4," Strategic jittering with collision detection to ensure all points are visible while maintaining data integrity. "),M(),Q(5,"div",26,27),M())}function n2e(e,t){e&1&&(k(0,"div",28)(1,"div",18),V(2,"4. Sunburst Chart"),M(),k(3,"div",19),V(4," Hierarchical view showing Security Posture \u2192 Impact Level \u2192 Breach Type relationships. "),M(),Q(5,"div",29,30),M())}function r2e(e,t){e&1&&(k(0,"div",31)(1,"div",18),V(2,"5. Violin Plot Distribution"),M(),k(3,"div",19),V(4," Shows distribution of records affected across different security postures and impact levels. "),M(),Q(5,"div",32,33),M())}function i2e(e,t){e&1&&(k(0,"div",34)(1,"div",18),V(2,"5. Treemap Distribution"),M(),k(3,"div",19),V(4," Shows distribution of records affected across different security postures and impact levels. "),M(),Q(5,"div",35,36)(7,"div",null,37),M())}var Nq=(()=>{let t=class t{ngOnInit(){}constructor(n){this.cdr=n,this.margin={top:40,right:40,bottom:80,left:80},this.width=700-this.margin.left-this.margin.right,this.height=500-this.margin.top-this.margin.bottom,this.breachData=[{company:"Zumpano Patricios Law",industry:"Legal Services",breachType:"Data Breach",securityPosture:"weak",impactLevel:"major",recordsAffected:25e3},{company:"Mount Vernon Property",industry:"Property Management",breachType:"Akira Ransomware",securityPosture:"weak",impactLevel:"major",recordsAffected:15e3},{company:"JPS Engineers",industry:"Engineering",breachType:"Beast Ransomware",securityPosture:"moderate",impactLevel:"major",recordsAffected:8e3},{company:"Chevalier Group",industry:"Conglomerate",breachType:"Beast Ransomware Gang",securityPosture:"weak",impactLevel:"major",recordsAffected:5e4},{company:"TechStart Inc",industry:"Technology",breachType:"Data Breach",securityPosture:"strong",impactLevel:"minor",recordsAffected:1200},{company:"MedCare Solutions",industry:"Healthcare",breachType:"Phishing Attack",securityPosture:"moderate",impactLevel:"moderate",recordsAffected:5500},{company:"Financial Advisors LLC",industry:"Finance",breachType:"Insider Threat",securityPosture:"strong",impactLevel:"moderate",recordsAffected:3200},{company:"Retail Chain Corp",industry:"Retail",breachType:"POS Malware",securityPosture:"weak",impactLevel:"moderate",recordsAffected:12e3},{company:"University System",industry:"Education",breachType:"Database Breach",securityPosture:"moderate",impactLevel:"minor",recordsAffected:2800},{company:"Manufacturing Co",industry:"Manufacturing",breachType:"Ransomware",securityPosture:"strong",impactLevel:"major",recordsAffected:18e3}],this.isInitialized=!1,this.activeViz="heatmap",this.securityLevels=["weak","moderate","strong"],this.impactLevels=["minor","moderate","major"],this.breachData999=[{company:"Zumpano Patricios Law",industry:"Legal Services",breachType:"Data Breach",securityPosture:"weak",impactLevel:"major",recordsAffected:25e3},{company:"Mount Vernon Property",industry:"Property Management",breachType:"Akira Ransomware",securityPosture:"weak",impactLevel:"major",recordsAffected:15e3},{company:"JPS Engineers",industry:"Engineering",breachType:"Beast Ransomware",securityPosture:"moderate",impactLevel:"major",recordsAffected:8e3},{company:"Chevalier Group",industry:"Conglomerate",breachType:"Beast Ransomware Gang",securityPosture:"weak",impactLevel:"major",recordsAffected:5e4},{company:"TechStart Inc",industry:"Technology",breachType:"Data Breach",securityPosture:"strong",impactLevel:"minor",recordsAffected:1200},{company:"MedCare Solutions",industry:"Healthcare",breachType:"Phishing Attack",securityPosture:"moderate",impactLevel:"moderate",recordsAffected:5500},{company:"Financial Advisors LLC",industry:"Finance",breachType:"Insider Threat",securityPosture:"strong",impactLevel:"moderate",recordsAffected:3200},{company:"Retail Chain Corp",industry:"Retail",breachType:"POS Malware",securityPosture:"weak",impactLevel:"moderate",recordsAffected:12e3},{company:"University System",industry:"Education",breachType:"Database Breach",securityPosture:"moderate",impactLevel:"minor",recordsAffected:2800},{company:"Manufacturing Co",industry:"Manufacturing",breachType:"Ransomware",securityPosture:"strong",impactLevel:"major",recordsAffected:18e3},{company:"Legal Firm B",industry:"Legal Services",breachType:"Data Breach",securityPosture:"weak",impactLevel:"major",recordsAffected:22e3},{company:"Property Co B",industry:"Property Management",breachType:"Ransomware",securityPosture:"weak",impactLevel:"major",recordsAffected:16e3},{company:"Tech Startup B",industry:"Technology",breachType:"Phishing Attack",securityPosture:"strong",impactLevel:"minor",recordsAffected:800},{company:"Healthcare B",industry:"Healthcare",breachType:"Data Breach",securityPosture:"moderate",impactLevel:"moderate",recordsAffected:6200}],this.securityScale={weak:0,moderate:1,strong:2},this.impactScale={minor:0,moderate:1,major:2}}ngAfterViewInit(){setTimeout(()=>{this.isInitialized=!0,this.initializeCharts()},100)}initializeCharts(){if(this.isInitialized)switch(this.activeViz){case"heatmap":this.heatmap?.nativeElement&&this.createHeatmap();break;case"force":this.forceLayout?.nativeElement&&this.createForceLayout();break;case"jitter":this.jitteredScatter?.nativeElement&&this.createJitteredScatter();break;case"sunburst":this.sunburst?.nativeElement&&this.createSunburst();break;case"violin":this.violinPlot?.nativeElement&&this.createViolinPlot();break;case"treemap":this.treemapContainer?.nativeElement&&this.createTreemap();break}}showVisualization(n){this.activeViz!==n&&(this.cdr.detectChanges(),this.activeViz=n,this.clearVisualizations(),setTimeout(()=>{this.initializeCharts()},100))}clearVisualizations(){[this.heatmap,this.forceLayout,this.jitteredScatter,this.sunburst,this.treemapContainer,this.violinPlot].forEach(i=>{i?.nativeElement&&(i.nativeElement.innerHTML="")})}ngOnDestroy(){this.svg&&this.svg.remove(),this.clearVisualizations()}createChart(){this.svg=W(this.chartContainer.nativeElement).append("svg").attr("width",this.width+this.margin.left+this.margin.right).attr("height",this.height+this.margin.top+this.margin.bottom).append("g").attr("transform",`translate(${this.margin.left},${this.margin.top})`),this.setupScales(),this.createAxes(),this.createGridLines(),this.createBubbles(),this.createLegend()}setupScales(){this.xScale=be().domain([-.2,2.2]).range([0,this.width]),this.yScale=be().domain([-.2,2.2]).range([this.height,0]),this.sizeScale=Hi().domain(Mt(this.breachData,n=>n.recordsAffected)).range([8,35]),this.colorScale=Xe().domain(["Data Breach","Akira Ransomware","Beast Ransomware","Beast Ransomware Gang","Phishing Attack","Insider Threat","POS Malware","Database Breach","Ransomware"]).range(["#e74c3c","#3498db","#f39c12","#9b59b6","#1abc9c","#34495e","#e67e22","#2ecc71","#e91e63"])}createAxes(){this.svg.append("g").attr("class","axis x-axis").attr("transform",`translate(0,${this.height})`).call(it(this.xScale).tickValues([0,1,2]).tickFormat(o=>["Weak","Moderate","Strong"][o])).append("text").attr("class","axis-label").attr("x",this.width/2).attr("y",50).style("text-anchor","middle").style("fill","#2c3e50").style("font-size","14px").style("font-weight","bold").text("Security Posture \u2192"),this.svg.append("g").attr("class","axis y-axis").call(Je(this.yScale).tickValues([0,1,2]).tickFormat(o=>["Minor","Moderate","Major"][o])).append("text").attr("class","axis-label").attr("transform","rotate(-90)").attr("y",-50).attr("x",-this.height/2).style("text-anchor","middle").style("fill","#2c3e50").style("font-size","14px").style("font-weight","bold").text("\u2190 Impact Level")}createGridLines(){this.svg.append("g").attr("class","grid").selectAll("line").data([0,1,2]).enter().append("line").attr("x1",n=>this.xScale(n)).attr("x2",n=>this.xScale(n)).attr("y1",0).attr("y2",this.height).attr("stroke","#f0f0f0").attr("stroke-width",1),this.svg.append("g").attr("class","grid").selectAll("line").data([0,1,2]).enter().append("line").attr("x1",0).attr("x2",this.width).attr("y1",n=>this.yScale(n)).attr("y2",n=>this.yScale(n)).attr("stroke","#f0f0f0").attr("stroke-width",1)}createBubbles(){let n=W(this.tooltip.nativeElement);this.svg.selectAll(".bubble").data(this.breachData).enter().append("circle").attr("class","bubble").attr("cx",i=>this.xScale(this.securityScale[i.securityPosture])+(Math.random()-.5)*20).attr("cy",i=>this.yScale(this.impactScale[i.impactLevel])+(Math.random()-.5)*20).attr("r",i=>this.sizeScale(i.recordsAffected)).attr("fill",i=>this.colorScale(i.breachType)).style("stroke","#fff").style("stroke-width","2px").style("opacity",.8).style("cursor","pointer").on("mouseover",(i,o)=>{W(i.currentTarget).style("stroke","#333").style("opacity",1).style("stroke-width","3px"),n.style("visibility","visible").html(`
            <strong>${o.company}</strong><br>
            <strong>Industry:</strong> ${o.industry}<br>
            <strong>Breach Type:</strong> ${o.breachType}<br>
            <strong>Security Posture:</strong> ${o.securityPosture}<br>
            <strong>Impact Level:</strong> ${o.impactLevel}<br>
            <strong>Records Affected:</strong> ${o.recordsAffected.toLocaleString()}
          `).style("left",`${i.pageX+10}px`).style("top",`${i.pageY-10}px`)}).on("mouseout",i=>{W(i.currentTarget).style("stroke","#fff").style("opacity",.8).style("stroke-width","2px"),n.style("visibility","hidden")})}createLegend(){let n=W(this.legend.nativeElement);n.selectAll("*").remove();let i=n.append("div").style("text-align","center").style("margin-bottom","20px");i.append("div").style("font-weight","bold").style("margin-bottom","10px").style("color","#2c3e50").text("Breach Types");let o=i.append("div").style("display","flex").style("flex-wrap","wrap").style("justify-content","center").style("gap","15px");[...new Set(this.breachData.map(a=>a.breachType))].forEach(a=>{let l=o.append("div").style("display","flex").style("align-items","center").style("gap","5px");l.append("div").style("width","12px").style("height","12px").style("border-radius","50%").style("background-color",this.colorScale(a)),l.append("span").style("font-size","12px").style("color","#666").text(a)}),n.append("div").style("text-align","center").style("font-weight","bold").style("color","#2c3e50").text("Bubble Size = Records Affected")}updateData(n){this.breachData=n,this.svg.remove(),this.createChart()}createHeatmap(){let n={top:40,right:100,bottom:60,left:80},i=800-n.left-n.right,o=600-n.top-n.bottom,s=W(this.heatmap.nativeElement).append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform",`translate(${n.left},${n.top})`),a=[];this.securityLevels.forEach((y,g)=>{this.impactLevels.forEach((x,C)=>{let w=this.breachData.filter(I=>I.securityPosture===y&&I.impactLevel===x).length,b=Qa(this.breachData.filter(I=>I.securityPosture===y&&I.impactLevel===x),I=>I.recordsAffected)||0;a.push({security:y,impact:x,count:w,avgRecords:b,x:g,y:C})})});let l=ot().domain(this.securityLevels).range([0,i]).padding(.1),c=ot().domain(this.impactLevels).range([0,o]).padding(.1),u=Tn(Ef).domain([0,Ue(a,y=>y.count)]);s.selectAll(".heatmap-cell").data(a).enter().append("rect").attr("class","heatmap-cell").attr("x",y=>l(y.security)).attr("y",y=>c(y.impact)).attr("width",l.bandwidth()).attr("height",c.bandwidth()).attr("fill",y=>u(y.count)).attr("stroke","#fff").on("mouseover",(y,g)=>{this.showTooltip(y,`
          <strong>${g.security} security, ${g.impact} impact</strong><br>
          Incidents: ${g.count}<br>
          Avg Records: ${Math.round(g.avgRecords).toLocaleString()}
        `)}).on("mouseout",()=>this.hideTooltip()),s.selectAll(".cell-text").data(a).enter().append("text").attr("class","cell-text").attr("x",y=>l(y.security)+l.bandwidth()/2).attr("y",y=>c(y.impact)+c.bandwidth()/2).attr("text-anchor","middle").attr("dy",".35em").attr("fill",y=>y.count>2?"white":"black").text(y=>y.count),s.append("g").attr("transform",`translate(0,${o})`).call(it(l)),s.append("g").call(Je(c)),s.append("text").attr("x",i/2).attr("y",o+50).attr("text-anchor","middle").style("font-weight","bold").text("Security Posture"),s.append("text").attr("transform","rotate(-90)").attr("y",-50).attr("x",-o/2).attr("text-anchor","middle").style("font-weight","bold").text("Impact Level");let d=100,f=20,h=s.append("g").attr("class","legend").attr("transform",`translate(${i+20}, 0)`),m=be().domain([0,Ue(a,y=>y.count)]).range([0,d]);h.append("g").selectAll("rect").data($t(0,1,.1)).enter().append("rect").attr("x",y=>m(y*Ue(a,g=>g.count))).attr("y",0).attr("width",d/10).attr("height",f).attr("fill",y=>u(y*Ue(a,g=>g.count))),h.append("text").attr("x",d/5.5).attr("y",f+20).attr("text-anchor","middle").text("Incident Count")}createForceLayout(){let o={top:60,right:40,bottom:60,left:80};this.forceLayout.nativeElement.innerHTML="";let a=W(this.forceLayout.nativeElement).append("svg").attr("width",600+o.left+o.right).attr("height",400+o.top+o.bottom).append("g").attr("transform",`translate(${o.left},${o.top})`).attr("class","force-simulation"),l=Xe(kn),c=Qd(this.breachData).force("x",wv(h=>({weak:120,moderate:300,strong:480})[h.securityPosture]).strength(.8)).force("y",_v(h=>({minor:320,moderate:200,major:80})[h.impactLevel]).strength(.8)).force("collision",xv(h=>Math.sqrt(h.recordsAffected/1e3)+5)).force("charge",Xd().strength(-50)),u=[600*.2,600*.5,600*.8],d=[400*.2,400*.5,400*.8];a.selectAll(".grid-line-vertical").data(u).enter().append("line").attr("class","grid-line-vertical").attr("x1",h=>h).attr("x2",h=>h).attr("y1",0).attr("y2",400).attr("stroke","#e0e0e0").attr("stroke-dasharray","2,2"),a.selectAll(".grid-line-horizontal").data(d).enter().append("line").attr("class","grid-line-horizontal").attr("x1",0).attr("x2",600).attr("y1",h=>h).attr("y2",h=>h).attr("stroke","#e0e0e0").attr("stroke-dasharray","2,2");let f=a.selectAll(".bubble").data(this.breachData).enter().append("circle").attr("class","bubble").attr("r",h=>Math.sqrt(h.recordsAffected/1e3)+3).attr("fill",h=>l(h.breachType)).attr("stroke","#fff").attr("stroke-width",1).style("opacity",.8).on("mouseover",(h,m)=>{this.showTooltip(h,`
          <strong>${m.company}</strong><br>
          Security: ${m.securityPosture}<br>
          Impact: ${m.impactLevel}<br>
          Records: ${m.recordsAffected.toLocaleString()}
        `)}).on("mouseout",()=>this.hideTooltip());c.on("tick",()=>{f.attr("cx",h=>h.x).attr("cy",h=>h.y)}),a.append("text").attr("x",600*.2).attr("y",-20).attr("text-anchor","middle").style("font-weight","bold").style("font-size","14px").style("fill","#333").text("Weak"),a.append("text").attr("x",600*.5).attr("y",-20).attr("text-anchor","middle").style("font-weight","bold").style("font-size","14px").style("fill","#333").text("Moderate"),a.append("text").attr("x",600*.8).attr("y",-20).attr("text-anchor","middle").style("font-weight","bold").style("font-size","14px").style("fill","#333").text("Strong"),a.append("text").attr("x",-20).attr("y",400*.2).attr("text-anchor","middle").attr("dy","0.35em").style("font-weight","bold").style("font-size","14px").style("fill","#333").text("Major"),a.append("text").attr("x",-20).attr("y",400*.5).attr("text-anchor","middle").attr("dy","0.35em").style("font-weight","bold").style("font-size","14px").style("fill","#333").text("Moderate"),a.append("text").attr("x",-20).attr("y",400*.8).attr("text-anchor","middle").attr("dy","0.35em").style("font-weight","bold").style("font-size","14px").style("fill","#333").text("Minor"),a.append("text").attr("x",600/2).attr("y",-40).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").style("fill","#333").text("Security Posture"),a.append("text").attr("transform","rotate(-90)").attr("x",-400/2).attr("y",-60).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").style("fill","#333").text("Impact Level"),a.append("rect").attr("x",0).attr("y",0).attr("width",600).attr("height",400).attr("fill","none").attr("stroke","#ccc").attr("stroke-width",1)}createJitteredScatter(){let n={top:40,right:40,bottom:80,left:80},i=600-n.left-n.right,o=400-n.top-n.bottom,s=W(this.jitteredScatter.nativeElement).append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform",`translate(${n.left},${n.top})`),a={weak:0,moderate:1,strong:2},l={minor:0,moderate:1,major:2},c=be().domain([-.5,2.5]).range([0,i]),u=be().domain([-.5,2.5]).range([o,0]),d=Xe(kn),f=[],h=this.breachData.map(m=>{let y,g,x=0,C=a[m.securityPosture],w=l[m.impactLevel],b=Math.sqrt(m.recordsAffected/2e3)+5;do{let I=(Math.random()-.5)*.6,T=(Math.random()-.5)*.6;y=C+I,g=w+T,x++}while(x<50&&f.some(I=>Math.sqrt((I.x-y)**2+(I.y-g)**2)<(I.radius+b)/50));return f.push({x:y,y:g,radius:b}),Se(ne({},m),{jitterX:y,jitterY:g,radius:b})});s.selectAll(".bubble").data(h).enter().append("circle").attr("class","bubble").attr("cx",m=>c(m.jitterX)).attr("cy",m=>u(m.jitterY)).attr("r",m=>m.radius).attr("fill",m=>d(m.breachType)).on("mouseover",(m,y)=>{this.showTooltip(m,`
          <strong>${y.company}</strong><br>
          Security: ${y.securityPosture}<br>
          Impact: ${y.impactLevel}<br>
          Records: ${y.recordsAffected.toLocaleString()}
        `)}).on("mouseout",()=>this.hideTooltip()),s.append("g").attr("transform",`translate(0,${o})`).call(it(c).tickValues([0,1,2]).tickFormat(m=>["Weak","Moderate","Strong"][m])),s.append("g").call(Je(u).tickValues([0,1,2]).tickFormat(m=>["Minor","Moderate","Major"][m]))}createSunburst(){let o=Math.min(600,400)/2-10,s=W(this.sunburst.nativeElement).append("svg").attr("width",600).attr("height",400).append("g").attr("transform",`translate(${600/2},${400/2})`).attr("class","sunburst"),a={name:"root",children:this.securityLevels.map(f=>({name:f,children:this.impactLevels.map(h=>({name:h,children:this.breachData.filter(m=>m.securityPosture===f&&m.impactLevel===h).map(m=>({name:m.breachType,value:m.recordsAffected,data:m}))})).filter(h=>h.children.length>0)})).filter(f=>f.children.length>0)},l=En(a).sum(f=>f.value||0);M3().size([2*Math.PI,o])(l);let u=sn().startAngle(f=>f.x0).endAngle(f=>f.x1).innerRadius(f=>f.y0).outerRadius(f=>f.y1),d=Xe(kn);s.selectAll("path").data(l.descendants()).enter().append("path").attr("d",f=>u(f)).attr("fill",f=>d(f.data.name)).attr("stroke","#fff").attr("stroke-width",2).on("mouseover",(f,h)=>{h.data.data&&this.showTooltip(f,`
            <strong>${h.data.data.company}</strong><br>
            Security: ${h.data.data.securityPosture}<br>
            Impact: ${h.data.data.impactLevel}<br>
            Breach: ${h.data.data.breachType}<br>
            Records: ${h.data.data.recordsAffected.toLocaleString()}
          `)}).on("mouseout",()=>this.hideTooltip())}createViolinPlot(){let n={top:40,right:40,bottom:80,left:80},i=600-n.left-n.right,o=400-n.top-n.bottom,s=W(this.violinPlot.nativeElement).append("svg").attr("width",i+n.left+n.right).attr("height",o+n.top+n.bottom).append("g").attr("transform",`translate(${n.left},${n.top})`),a=ot().domain(this.securityLevels).range([0,i]).padding(.2),l=be().domain(Mt(this.breachData,c=>c.recordsAffected)).range([o,0]);this.securityLevels.forEach(c=>{let u=this.breachData.filter(y=>y.securityPosture===c),d=a(c),f=a.bandwidth(),h=Cd().domain(l.domain()).thresholds(8)(u.map(y=>y.recordsAffected)),m=Ue(h,y=>y.length)||0;h.forEach(y=>{let g=l(y.x0)-l(y.x1),x=y.length/m*f/2;s.append("rect").attr("x",d+f/2-x).attr("y",l(y.x1)).attr("width",x).attr("height",g).attr("fill","#3498db").attr("opacity",.7),s.append("rect").attr("x",d+f/2).attr("y",l(y.x1)).attr("width",x).attr("height",g).attr("fill","#3498db").attr("opacity",.7)}),u.forEach((y,g)=>{s.append("circle").attr("cx",d+f/2+(Math.random()-.5)*f*.3).attr("cy",l(y.recordsAffected)).attr("r",3).attr("fill","#e74c3c").attr("opacity",.8).on("mouseover",x=>{this.showTooltip(x,`
              <strong>${y.company}</strong><br>
              Security: ${y.securityPosture}<br>
              Records: ${y.recordsAffected.toLocaleString()}
            `)}).on("mouseout",()=>this.hideTooltip())})}),s.append("g").attr("transform",`translate(0,${o})`).call(it(a)),s.append("g").call(Je(l)),s.append("text").attr("x",i/2).attr("y",o+50).attr("text-anchor","middle").style("font-weight","bold").text("Security Posture"),s.append("text").attr("transform","rotate(-90)").attr("y",-50).attr("x",-o/2).attr("text-anchor","middle").style("font-weight","bold").text("Records Affected")}createTreemap(){let n={major:5,moderate:3,minor:1},i=Tn(d=>Ar(d*1+.1)).domain([0,this.breachData.length]),o=En({name:"root",children:this.breachData.map(d=>({name:d.industry,children:[{name:d.company,breachType:d.breachType,value:n[d.impactLevel]||1}]}))}).sum(d=>d.value||0).sort((d,f)=>f.value-d.value);Cl().size([800,600]).padding(1)(o);let l=W(this.treemapContainer?.nativeElement).append("svg").attr("width",800).attr("height",600).selectAll("g").data(o.leaves()).enter().append("g").attr("transform",d=>`translate(${d.x0},${d.y0})`).attr("class","treemap");l.append("rect").attr("class","tile").attr("width",d=>d.x1-d.x0).attr("height",d=>d.y1-d.y0).attr("fill",(d,f)=>i(f)).append("title").text(d=>`${d.data.name}
Breach: ${d.data.breachType}
Impact: Major`),l.append("text").attr("class","label").attr("x",d=>(d.x1-d.x0)/2).attr("y",d=>(d.y1-d.y0)/2).text(d=>d.data.name.split(" ")[0]).style("display",d=>d.x1-d.x0>50&&d.y1-d.y0>30?"block":"none").style("fill","white").style("font-size",d=>`${Math.min(16,d.x1-d.x0)}px`).style("display",d=>d.x1-d.x0>50&&d.y1-d.y0>30?"block":"none");let c=W(this.treemapContainer.nativeElement);Array.from(new Set(this.breachData.map(d=>d.breachType))).forEach((d,f)=>{c.append("div").attr("class","treemap-legend-item").html(`<div class="legend-color" style="background-color:${i(f)}"></div>${d}`)})}showTooltip(n,i){W(this.tooltip.nativeElement).style("visibility","visible").html(i).style("left",`${n.pageX+10}px`).style("top",`${n.pageY-10}px`)}hideTooltip(){W(this.tooltip.nativeElement).style("visibility","hidden")}};t.\u0275fac=function(i){return new(i||t)(X(Na))},t.\u0275cmp=le({type:t,selectors:[["data-breach-impact"]],viewQuery:function(i,o){if(i&1&&(Be(Hye,7),Be(qye,7),Be(Pq,7),Be(Wye,5),Be(Gye,5),Be(Yye,5),Be(Zye,5),Be(Qye,5),Be(Xye,5),Be(Kye,5),Be(Pq,5)),i&2){let s;Le(s=Ve())&&(o.chartContainer=s.first),Le(s=Ve())&&(o.legend=s.first),Le(s=Ve())&&(o.tooltip=s.first),Le(s=Ve())&&(o.heatmap=s.first),Le(s=Ve())&&(o.forceLayout=s.first),Le(s=Ve())&&(o.jitteredScatter=s.first),Le(s=Ve())&&(o.sunburst=s.first),Le(s=Ve())&&(o.violinPlot=s.first),Le(s=Ve())&&(o.treemapContainer=s.first),Le(s=Ve())&&(o.legendContainer=s.first),Le(s=Ve())&&(o.tooltip999=s.first)}},decls:32,vars:18,consts:[["id","voronoi",1,"button-group"],[1,"header"],[1,"title"],[1,"button-group"],["routerLink","",1,"button"],["routerLink","/voronoi-gdp",1,"button","button2"],[1,"chart-container"],[1,"buttons"],[3,"click"],["id","heatmap-viz","class","viz-container",4,"ngIf"],["id","force-viz","class","viz-container",4,"ngIf"],["id","jitter-viz","class","viz-container",4,"ngIf"],["id","sunburst-viz","class","viz-container",4,"ngIf"],["id","violin-viz","class","viz-container",4,"ngIf"],["id","treemap-viz","class","viz-container",4,"ngIf"],["id","tooltip",1,"tooltip"],["tooltip",""],["id","heatmap-viz",1,"viz-container"],[1,"viz-title"],[1,"viz-description"],["id","heatmap"],["heatmap",""],["id","force-viz",1,"viz-container"],["id","force-layout"],["forceLayout",""],["id","jitter-viz",1,"viz-container"],["id","jittered-scatter"],["jitteredScatter",""],["id","sunburst-viz",1,"viz-container"],["id","sunburst"],["sunburst",""],["id","violin-viz",1,"viz-container"],["id","violin-plot"],["violinPlot",""],["id","treemap-viz",1,"viz-container"],["id","treemap"],["treemapContainer",""],["legendContainer",""]],template:function(i,o){i&1&&(k(0,"div",0)(1,"header")(2,"div",1)(3,"h1",2),V(4,"Visualizing Security Data Breach"),M(),k(5,"div",3)(6,"button",4),V(7,"\xAB Home"),M(),k(8,"button",5),V(9,"Next \xBB"),M()()()()(),k(10,"div",6)(11,"div",7)(12,"button",8),te("click",function(){return o.showVisualization("heatmap")}),V(13,"Heatmap"),M(),k(14,"button",8),te("click",function(){return o.showVisualization("force")}),V(15,"Force Layout"),M(),k(16,"button",8),te("click",function(){return o.showVisualization("jitter")}),V(17,"Jittered Scatter"),M(),k(18,"button",8),te("click",function(){return o.showVisualization("sunburst")}),V(19,"Sunburst"),M(),k(20,"button",8),te("click",function(){return o.showVisualization("violin")}),V(21,"Violin Plot"),M(),k(22,"button",8),te("click",function(){return o.showVisualization("treemap")}),V(23,"Treemap"),M()(),ge(24,Jye,7,0,"div",9)(25,e2e,7,0,"div",10)(26,t2e,7,0,"div",11)(27,n2e,7,0,"div",12)(28,r2e,7,0,"div",13)(29,i2e,9,0,"div",14),M(),Q(30,"div",15,16)),i&2&&(U(12),rn("active",o.activeViz==="heatmap"),U(2),rn("active",o.activeViz==="force"),U(2),rn("active",o.activeViz==="jitter"),U(2),rn("active",o.activeViz==="sunburst"),U(2),rn("active",o.activeViz==="violin"),U(2),rn("active",o.activeViz==="treemap"),U(2),G("ngIf",o.activeViz==="heatmap"),U(1),G("ngIf",o.activeViz==="force"),U(1),G("ngIf",o.activeViz==="jitter"),U(1),G("ngIf",o.activeViz==="sunburst"),U(1),G("ngIf",o.activeViz==="violin"),U(1),G("ngIf",o.activeViz==="treemap"))},dependencies:[mt,gt],styles:[`.chart-container{font-family:Arial,sans-serif;margin:20px;background:#f8f9fa;padding:20px;border-radius:8px}.chart-container h1{color:#2c3e50;text-align:center;margin-bottom:30px;font-size:24px}.chart-wrapper{width:700px;height:500px;margin:0 auto;background:white;border-radius:8px;box-shadow:0 2px 10px #0000001a}.chart-wrapper ::ng-deep .axis text{font-size:12px;fill:#666}.chart-wrapper ::ng-deep .axis path,.chart-wrapper ::ng-deep .axis line{fill:none;stroke:#ddd;shape-rendering:crispEdges}.chart-wrapper ::ng-deep .bubble{transition:all .2s ease}.legend-container{margin-top:20px;text-align:center}.tooltip{position:absolute;padding:12px;background:rgba(0,0,0,.9);color:#fff;border-radius:8px;pointer-events:none;font-size:13px;visibility:hidden;box-shadow:0 4px 12px #0000004d;max-width:250px;z-index:1000}.viz-container{background:white;margin:20px 0;padding:20px;border-radius:8px;box-shadow:0 2px 10px #0000001a}.viz-container{transition:opacity .3s ease}.viz-container[hidden]{display:block!important;opacity:0;height:0;overflow:hidden;margin:0;padding:0}.viz-container:not([hidden]){opacity:1;height:auto}.viz-title{font-size:18px;font-weight:700;margin-bottom:15px;color:#2c3e50}.viz-description{font-size:14px;color:#666;margin-bottom:20px;line-height:1.4}.chart{margin:0 auto}.bubble{stroke:#fff;stroke-width:1.5px;opacity:.8;cursor:pointer}.bubble:hover{stroke:#333;opacity:1;stroke-width:2px}.heatmap-cell{cursor:pointer}.heatmap-cell:hover{stroke:#333;stroke-width:2px}.axis text{font-size:12px;fill:#666}.axis path,.axis line{fill:none;stroke:#ddd}.tooltip{position:absolute;padding:10px;background:rgba(0,0,0,.9);color:#fff;border-radius:5px;pointer-events:none;font-size:12px;visibility:hidden;z-index:1000}.force-simulation{border:1px solid #ddd}.sunburst path{cursor:pointer}.sunburst path:hover{opacity:.8}.sunburst text{font-size:11px;fill:#333}.buttons{text-align:center;margin:20px 0}.buttons button{margin:0 10px;padding:10px 20px;background:#3498db;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:14px}.buttons button:hover{background:#2980b9}.buttons button.active{background:#e74c3c}.force-simulation{border:1px solid #ddd;margin:20px auto;display:block}.force-simulation text{font-size:12px;fill:#333}.legend{font-size:12px}.legend text{fill:#333}.legend .legend-item{cursor:default}.legend .legend-item:hover text{font-weight:700}#treemap-viz text{color:#fff}#treemap-viz .tile{stroke:#fff;stroke-width:1px}#treemap-viz .tile:hover{opacity:.8}#treemap-viz .label{font-size:10px;text-anchor:middle;dominant-baseline:middle;fill:#333;pointer-events:none}#treemap-viz .treemap-legend-item{display:inline-block;margin-right:15px}#treemap-viz .legend-color{display:inline-block;width:12px;height:12px;margin-right:5px}
`],encapsulation:2});let e=t;return e})();var o2e=[{path:"",component:rU,pathMatch:"full"},{path:"voronoi",data:{animate:!1},component:aM},{path:"voronoi-gdp",data:{animate:!1},component:gM},{path:"earth",component:eb},{path:"metrics",component:qU},{path:"industry",component:UU},{path:"compvaluation",component:OU},{path:"browser",component:tb},{path:"sankey",component:mM},{path:"analytics",component:nU},{path:"radial",component:PU},{path:"funnel",component:rb},{path:"attack-tree",component:gq},{path:"stacked",component:fq},{path:"diverging",component:GU},{path:"linechart",component:cq},{path:"finance",component:dq},{path:"market",component:Tq},{path:"founalytics",component:Aq},{path:"cvet",component:Cb},{path:"cved",component:Oq},{path:"breach",component:Nq},{path:"crypto",component:_b},{path:"bubble-monitor",component:pq},{path:"donut-monitor",component:mq},{path:"area",component:vq},{path:"matrix",component:yq},{path:"advertiser",component:Mq},{path:"incidents",component:xq},{path:"states",component:Eq},{path:"**",redirectTo:"/"}],Rq=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t}),t.\u0275inj=tn({imports:[GC.forRoot(o2e),GC]});let e=t;return e})();var s2e={companyData:[],filteredCompanyData:[],currentQuery:"Country",error:""};function Fq(e=s2e,t){switch(t.type){case gi.SetCurrentQuery:return Se(ne({},e),{currentQuery:t.currentQuery});case gi.CompanyLoadFailed:return Se(ne({},e),{error:t.error});case gi.CompanyLoadSuccess:let r=t.companyData.data.length<=0?[]:t.companyData;return Se(ne({},e),{companyData:r});case gi.FilterByCompany:return e;case gi.FilterByCountry:return e;case gi.GetAllData:return e}}var Lq={companyData:Fq},Vq=K1("companyData"),Blt=yo(Vq,e=>e&&e.currentQuery!==void 0?e.currentQuery:"Country"),Ult=yo(Vq,e=>e.companyData);var jq=(()=>{let t=class t{constructor(n,i){this.actions$=n,this.voronoService=i,this.filterByCompanyData$=Kh(()=>this.actions$.pipe(Jh(gi.GetAllData),Gt(o=>this.voronoService.getNestedCompanyData(o.currentQuery).pipe(ve(s=>new qx(s)),On(s=>Pe(new Wx(s)))))))}};t.\u0275fac=function(i){return new(i||t)(re(ny),re(Uf))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();var zq=(()=>{let t=class t{constructor(n,i){this.actions$=n,this.http=i,this.csvData$=this.http.get("assets/datasets/companies_capitalization.csv",{responseType:"text"}).pipe(bw(1)),this.loadCountries$=Kh(()=>this.actions$.pipe(Jh($f),Gt(()=>this.csvData$.pipe(ve(o=>{let s=[],a=o.split(`
`),l=a[0].split(",");for(let c=1;c<a.length-1;c++){let u=a[c].split(","),d={};for(let f in l)u[f].includes(", ")?d[l[f]]=u[f].split(", ").map(h=>h.trim()):d[l[f]]=u[f];s.push(d)}return Gx({countries:s})}),On(o=>Pe(Yx({error:o.message}))))))),this.loadCompanies$=Kh(()=>this.actions$.pipe(Jh(Bf),Gt(()=>this.csvData$.pipe(ve(o=>{let s=[],a=o.split(`
`);for(let c=1;c<a.length-1;c++){let u=a[c].split(",");s.push({Rank:u[0],Company:u[1],Symbol:u[2].trim(),Capital:Number(u[3]).toLocaleString(),SharePrice:Number(u[4]),Country:u[5].replace(/(\r\n|\n|\r)/gm,"")})}let l=s.filter(c=>["Germany","Belgium","Spain","Turkey","Russia","Argentina","Brazil","Ireland","Poland","Italy","Greece","Czech Republic"].includes(c.Country));return Zx({companies:l})}),On(o=>Pe(Qx({error:o.message})))))))}};t.\u0275fac=function(i){return new(i||t)(re(ny),re(Wt))},t.\u0275prov=ue({token:t,factory:t.\u0275fac});let e=t;return e})();var $q={countries:[],companies:[],countrySelected:null,loading:!1,error:null};var Bq=eA($q,ja($f,e=>Se(ne({},e),{loading:!0})),ja(Gx,(e,{countries:t})=>Se(ne({},e),{loading:!1,countries:t,error:null})),ja(Yx,(e,{error:t})=>Se(ne({},e),{loading:!1,error:t})),ja(Bf,e=>Se(ne({},e),{loading:!0})),ja(Zx,(e,{companies:t})=>Se(ne({},e),{loading:!1,companies:t,error:null})),ja(Qx,(e,{error:t})=>Se(ne({},e),{loading:!1,error:t})),ja(cg,(e,{data:t})=>Se(ne({},e),{countrySelected:t})));var Uq=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=nn({type:t,bootstrap:[gP]}),t.\u0275inj=tn({providers:[Xx],imports:[L1,qA,HA,G1,Rq,CO,yI,S5.forRoot([jq]),w5.forRoot(Lq),w5.forFeature("voronoi",Bq),S5.forFeature([zq])]});let e=t;return e})();DI().bootstrapModule(Uq).catch(e=>console.error(e));
